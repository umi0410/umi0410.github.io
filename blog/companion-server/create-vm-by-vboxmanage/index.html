<!doctype html><html lang=ko-kr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="ì‹œì‘í•˜ë©° í™ˆì„œë²„ë¥¼ ì§ì ‘ êµ¬ì„±í•´ë³´ë©´ì„œ ì‹¤ì œ ê¸°ê¸° ê°œìˆ˜ê°€ ë§ì§€ ì•Šì•„ ì¢€ ì•„ì‰¬ì› ëŠ”ë° ìµœê·¼ì—ëŠ” ì´ë¥¼ VMìœ¼ë¡œ ì¶©ë‹¹í•´ë³¼ê¹Œ ì‹¶ì€ ìƒê°ì´ ë“¤ê¸°ë„ í–ˆë‹¤. ê°–ê³  ìˆëŠ” ë©íƒ‘ í•˜ë‚˜ì— ì—¬ëŸ¬ ëŒ€ì˜ VMì„ ë„ìš°ë©´ í™ˆì„œë²„ì—ì„œ ì¢€ ë” ë§ì€ ìˆ˜ì˜ ë…¸ë“œê°€ ìˆëŠ” ê²ƒì²˜ëŸ¼ ì´ìš©í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ ì‹¶ì–´ VMì„ ë„ì›Œë³´ê¸°ë¡œ í–ˆë‹¤. í•˜ì§€ë§Œ ì´ë²ˆì—ëŠ” ë‹¨ìˆœíˆ GUIë¡œ VMì„ ë„ìš°ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ CLIë¡œ VMì„ ë„ìš°ë©´ì„œ LV(Logical Volume)ì„ ì´ìš©í•´ë´¤ë‹¤. í•´ë‹¹ ë‚´ìš©ì„ ê¹Œë¨¹ì„ê¹Œë´ ì´ ê¸€ì„ í†µí•´ í•œ ë²ˆ ì •ë¦¬í•´ë³¸ë‹¤.
ì‹¤ìŠµ í™˜ê²½ í˜¸ìŠ¤íŠ¸ í™˜ê²½ì€ ì•„ë˜ì™€ ê°™ë‹¤."><title>VBoxManage(VirtualBox CLI)ë¡œ VM ìƒì„±í•˜ê¸°</title><link rel=canonical href=https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/><link rel=stylesheet href=/scss/style.min.css><meta property="og:title" content="VBoxManage(VirtualBox CLI)ë¡œ VM ìƒì„±í•˜ê¸°"><meta property="og:description" content="ì‹œì‘í•˜ë©° í™ˆì„œë²„ë¥¼ ì§ì ‘ êµ¬ì„±í•´ë³´ë©´ì„œ ì‹¤ì œ ê¸°ê¸° ê°œìˆ˜ê°€ ë§ì§€ ì•Šì•„ ì¢€ ì•„ì‰¬ì› ëŠ”ë° ìµœê·¼ì—ëŠ” ì´ë¥¼ VMìœ¼ë¡œ ì¶©ë‹¹í•´ë³¼ê¹Œ ì‹¶ì€ ìƒê°ì´ ë“¤ê¸°ë„ í–ˆë‹¤. ê°–ê³  ìˆëŠ” ë©íƒ‘ í•˜ë‚˜ì— ì—¬ëŸ¬ ëŒ€ì˜ VMì„ ë„ìš°ë©´ í™ˆì„œë²„ì—ì„œ ì¢€ ë” ë§ì€ ìˆ˜ì˜ ë…¸ë“œê°€ ìˆëŠ” ê²ƒì²˜ëŸ¼ ì´ìš©í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ ì‹¶ì–´ VMì„ ë„ì›Œë³´ê¸°ë¡œ í–ˆë‹¤. í•˜ì§€ë§Œ ì´ë²ˆì—ëŠ” ë‹¨ìˆœíˆ GUIë¡œ VMì„ ë„ìš°ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ CLIë¡œ VMì„ ë„ìš°ë©´ì„œ LV(Logical Volume)ì„ ì´ìš©í•´ë´¤ë‹¤. í•´ë‹¹ ë‚´ìš©ì„ ê¹Œë¨¹ì„ê¹Œë´ ì´ ê¸€ì„ í†µí•´ í•œ ë²ˆ ì •ë¦¬í•´ë³¸ë‹¤.
ì‹¤ìŠµ í™˜ê²½ í˜¸ìŠ¤íŠ¸ í™˜ê²½ì€ ì•„ë˜ì™€ ê°™ë‹¤."><meta property="og:url" content="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/"><meta property="og:site_name" content="Jinsu Playground"><meta property="og:type" content="article"><meta property="article:section" content="Blog"><meta property="article:published_time" content="2022-12-06T01:35:00+09:00"><meta property="article:modified_time" content="2022-12-06T01:35:00+09:00"><meta property="og:image" content="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/preview.png"><meta name=twitter:title content="VBoxManage(VirtualBox CLI)ë¡œ VM ìƒì„±í•˜ê¸°"><meta name=twitter:description content="ì‹œì‘í•˜ë©° í™ˆì„œë²„ë¥¼ ì§ì ‘ êµ¬ì„±í•´ë³´ë©´ì„œ ì‹¤ì œ ê¸°ê¸° ê°œìˆ˜ê°€ ë§ì§€ ì•Šì•„ ì¢€ ì•„ì‰¬ì› ëŠ”ë° ìµœê·¼ì—ëŠ” ì´ë¥¼ VMìœ¼ë¡œ ì¶©ë‹¹í•´ë³¼ê¹Œ ì‹¶ì€ ìƒê°ì´ ë“¤ê¸°ë„ í–ˆë‹¤. ê°–ê³  ìˆëŠ” ë©íƒ‘ í•˜ë‚˜ì— ì—¬ëŸ¬ ëŒ€ì˜ VMì„ ë„ìš°ë©´ í™ˆì„œë²„ì—ì„œ ì¢€ ë” ë§ì€ ìˆ˜ì˜ ë…¸ë“œê°€ ìˆëŠ” ê²ƒì²˜ëŸ¼ ì´ìš©í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ ì‹¶ì–´ VMì„ ë„ì›Œë³´ê¸°ë¡œ í–ˆë‹¤. í•˜ì§€ë§Œ ì´ë²ˆì—ëŠ” ë‹¨ìˆœíˆ GUIë¡œ VMì„ ë„ìš°ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ CLIë¡œ VMì„ ë„ìš°ë©´ì„œ LV(Logical Volume)ì„ ì´ìš©í•´ë´¤ë‹¤. í•´ë‹¹ ë‚´ìš©ì„ ê¹Œë¨¹ì„ê¹Œë´ ì´ ê¸€ì„ í†µí•´ í•œ ë²ˆ ì •ë¦¬í•´ë³¸ë‹¤.
ì‹¤ìŠµ í™˜ê²½ í˜¸ìŠ¤íŠ¸ í™˜ê²½ì€ ì•„ë˜ì™€ ê°™ë‹¤."><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/preview.png"><link rel="shortcut icon" href=https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/google/241/whale_1f40b.png><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-177403492-1","auto"),ga("send","pageview"))</script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=East+Sea+Dokdo&family=Noto+Sans+KR:wght@400&display=swap" rel=stylesheet><style>@import 'https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css';:root{--body-background:#fafeff;--base-font-family:Pretendard, 'Noto Sans KR', sans-serif}.site-name{--site-name-font-family:'East Sea Dokdo', cursive;font-family:var(--site-name-font-family);font-size:3.2rem!important}.left-sidebar{--sidebar-avatar-size:200px}figure.site-avatar{margin-left:auto!important;margin-right:auto!important}</style></head><body class="article-page has-toc"><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex
extended"><div id=article-toolbar><a href=https://umi0410.github.io class=back-home><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18"/></svg><span>Back</span></a></div><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/blog/companion-server/create-vm-by-vboxmanage/><img src=/blog/companion-server/create-vm-by-vboxmanage/preview_hu13430b402fc78d1a17ca63e4738b897a_1461489_800x0_resize_box_3.png srcset="/blog/companion-server/create-vm-by-vboxmanage/preview_hu13430b402fc78d1a17ca63e4738b897a_1461489_800x0_resize_box_3.png 800w, /blog/companion-server/create-vm-by-vboxmanage/preview_hu13430b402fc78d1a17ca63e4738b897a_1461489_1600x0_resize_box_3.png 1600w" width=800 height=579 loading=lazy alt="Featured image of post VBoxManage(VirtualBox CLI)ë¡œ VM ìƒì„±í•˜ê¸°"></a></div><div class=article-details><header class=article-category><a href=/categories/companion-server/>ë°˜ë ¤ ì„œë²„ í‚¤ìš°ê¸°</a></header><h2 class=article-title><a href=/blog/companion-server/create-vm-by-vboxmanage/>VBoxManage(VirtualBox CLI)ë¡œ VM ìƒì„±í•˜ê¸°</a></h2><footer class=article-time><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--published>Dec 06, 2022</time></footer></div></header><section class=article-content><h2 id=ì‹œì‘í•˜ë©°>ì‹œì‘í•˜ë©°</h2><p>í™ˆì„œë²„ë¥¼ ì§ì ‘ êµ¬ì„±í•´ë³´ë©´ì„œ ì‹¤ì œ ê¸°ê¸° ê°œìˆ˜ê°€ ë§ì§€ ì•Šì•„ ì¢€ ì•„ì‰¬ì› ëŠ”ë° ìµœê·¼ì—ëŠ” ì´ë¥¼ VMìœ¼ë¡œ ì¶©ë‹¹í•´ë³¼ê¹Œ ì‹¶ì€ ìƒê°ì´ ë“¤ê¸°ë„ í–ˆë‹¤. ê°–ê³  ìˆëŠ” ë©íƒ‘ í•˜ë‚˜ì— ì—¬ëŸ¬ ëŒ€ì˜ VMì„ ë„ìš°ë©´ í™ˆì„œë²„ì—ì„œ ì¢€ ë” ë§ì€ ìˆ˜ì˜ ë…¸ë“œê°€ ìˆëŠ” ê²ƒì²˜ëŸ¼ ì´ìš©í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ ì‹¶ì–´ VMì„ ë„ì›Œë³´ê¸°ë¡œ í–ˆë‹¤. í•˜ì§€ë§Œ ì´ë²ˆì—ëŠ” ë‹¨ìˆœíˆ GUIë¡œ VMì„ ë„ìš°ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ CLIë¡œ VMì„ ë„ìš°ë©´ì„œ LV(Logical Volume)ì„ ì´ìš©í•´ë´¤ë‹¤. í•´ë‹¹ ë‚´ìš©ì„ ê¹Œë¨¹ì„ê¹Œë´ ì´ ê¸€ì„ í†µí•´ í•œ ë²ˆ ì •ë¦¬í•´ë³¸ë‹¤.</p><h2 id=ì‹¤ìŠµ-í™˜ê²½>ì‹¤ìŠµ í™˜ê²½</h2><p>í˜¸ìŠ¤íŠ¸ í™˜ê²½ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p><table><thead><tr><th>CPU</th><th>amd64, 8 Core</th></tr></thead><tbody><tr><td>RAM</td><td>16GB</td></tr><tr><td>Disk</td><td>256GB</td></tr><tr><td>OS</td><td>Ubuntu server 22.04</td></tr></tbody></table><p>êµ¬ì„±í•˜ê³ ìí•˜ëŠ” VMì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><table><thead><tr><th>CPU</th><th>amd64, 2 Core</th></tr></thead><tbody><tr><td>RAM</td><td>4GB</td></tr><tr><td>Disk</td><td>16GB</td></tr><tr><td>OS</td><td>Ubuntu server 22.04</td></tr></tbody></table><p>ìš°ì„  ë‚´ ë©íƒ‘ì˜ OSëŠ” Ubuntu server 22.04ì´ê¸°ì— ê¸°ë³¸ì ìœ¼ë¡œ GUI í”„ë¡œê·¸ë¨ì€ ì•„ì˜ˆ ì‹¤í–‰ì´ ì•ˆëœë‹¤. ë”°ë¼ì„œ VirtualBox GUIëŠ” ì´ìš©í•  ìˆ˜ ì—†ì—ˆê³  VBoxManageë¼ëŠ” CLI í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í–ˆë‹¤.</p><p>ì´ë²ˆì— ë§Œë“¤ì–´ë³¼ ê²ƒì€ Host machineì˜ Linux LV(Logical Volume)ì„ ë³¸ì¸(VM)ì˜ ë””ìŠ¤í¬ ì¥ì¹˜ë¡œ ì´ìš©í•˜ëŠ” VMì´ë‹¤.</p><p>êµ³ì´ LVë¥¼ ì´ìš©í•˜ê³ ì í–ˆë˜ ì´ìœ ëŠ” í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì˜ OSë¥¼ ì™„ì „íˆ ë‹¤ì‹œ ì„¤ì¹˜í•˜ë”ë¼ë„ VMì˜ ë°ì´í„°ëŠ” ë³´ì¡´ë˜ê¸¸ ë°”ë¬ê¸° ë•Œë¬¸ì´ë‹¤. ì‚¬ì‹¤ ì´ë ‡ê²Œê¹Œì§€ í•  í•„ìš”ëŠ” ë”±íˆ ì—†ì—ˆëŠ”ë° ìš”ì¦˜ ë³¼ë¥¨ì´ë‚˜ ë§ˆìš´íŠ¸ìª½ì´ ê¶ê¸ˆí•´ì ¸ ì´ë ‡ê²Œ ì‘ì—…í•´ë´¤ë‹¤.</p><h2 id=lv-ìƒì„±í•˜ê¸°>LV ìƒì„±í•˜ê¸°</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ lsblk
</span></span><span class=line><span class=cl>NAME                      MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
</span></span><span class=line><span class=cl>...<span class=o>(</span>ìƒëµ<span class=o>)</span>
</span></span><span class=line><span class=cl>sda                         8:0    <span class=m>0</span> 238.5G  <span class=m>0</span> disk
</span></span><span class=line><span class=cl>â”œâ”€sda1                      8:1    <span class=m>0</span>     1G  <span class=m>0</span> part /boot/efi
</span></span><span class=line><span class=cl>â”œâ”€sda2                      8:2    <span class=m>0</span>     2G  <span class=m>0</span> part /boot
</span></span><span class=line><span class=cl>â””â”€sda3                      8:3    <span class=m>0</span> 235.4G  <span class=m>0</span> part
</span></span><span class=line><span class=cl>  â””â”€ubuntu--vg-ubuntu--lv 253:0    <span class=m>0</span>   100G  <span class=m>0</span> lvm  /
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ sudo pvs
</span></span><span class=line><span class=cl>  PV         VG        Fmt  Attr PSize   PFree
</span></span><span class=line><span class=cl>  /dev/sda3  ubuntu-vg lvm2 a--  235.42g 135.42g
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ sudo vgs
</span></span><span class=line><span class=cl>  VG        <span class=c1>#PV #LV #SN Attr   VSize   VFree</span>
</span></span><span class=line><span class=cl>  ubuntu-vg   <span class=m>1</span>   <span class=m>1</span>   <span class=m>0</span> wz--n- 235.42g 135.42g
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ sudo lvs
</span></span><span class=line><span class=cl>  LV        VG        Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span></span><span class=line><span class=cl>  ubuntu-lv ubuntu-vg -wi-ao---- 100.00g
</span></span></code></pre></div><ul><li>sdaë¼ëŠ” ë””ìŠ¤í¬ ì¥ì¹˜ì— sda1, sda2, sda3ë¼ëŠ” Physical Volumeì´ ì¡´ì¬í•¨.</li><li>ubuntu-vgë¼ëŠ” Volume Groupì€ sda3ë¼ëŠ” Physical Volumeìœ¼ë¡œ êµ¬ì„±ë¨.</li><li>ubuntu-vgë¼ëŠ” Volume Group ì•„ë˜ì—ëŠ” ubuntu-lvë¼ëŠ” Logical Volumeì´ ì¡´ì¬í•¨.</li></ul><p><code>lsblk</code> ë¡œ ë©íƒ‘ì˜ ë””ë°”ì´ìŠ¤ ì •ë³´ë¥¼ ì¶œë ¥í•´ë³¸ ë‚´ìš©ì€ ìœ„ì™€ ê°™ë‹¤.</p><p>ì•ìœ¼ë¡œ ë§Œë“¤ vm1ì´ë¼ëŠ” VMì—ê²Œ ubuntu-vg(sda3)ì— ë‚¨ëŠ” 135.4G ì¤‘ 16GBë¥¼ Logical Volumeìœ¼ë¡œ í• ë‹¹í•´ì¤„ ê²ƒì´ë‹¤. ë”°ë¼ì„œ LVë¥¼ ë§Œë“¤ì–´ì£¼ì.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo lvcreate -n vm1-disk -L 16G ubuntu-vg
</span></span><span class=line><span class=cl>  Logical volume <span class=s2>&#34;vm1-disk&#34;</span> created.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ sudo lvs
</span></span><span class=line><span class=cl>  LV        VG        Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span></span><span class=line><span class=cl>  ubuntu-lv ubuntu-vg -wi-ao---- 100.00g
</span></span><span class=line><span class=cl>  vm1-disk  ubuntu-vg -wi-a-----  16.00g
</span></span></code></pre></div><p>vm1ì´ Diskë¡œ ì‚¬ìš©í•  LVê°€ ì˜ ë§Œë“¤ì–´ì§„ ëª¨ìŠµì´ë‹¤. í¬ë§·í•˜ë©° íŒŒì¼ì‹œìŠ¤í…œì„ ì„¤ì •í•´ì¤˜ì•¼í•˜ë ¤ë‚˜ ì‹¶ì—ˆëŠ”ë° ë”±íˆ ê·¸ë ‡ì§€ëŠ” ì•Šê³  ê·¸ëƒ¥ ë°”ë¡œ VirtualBoxê°€ ì‚¬ìš©í•˜ë„ë¡ í•´ì¤„ ìˆ˜ ìˆëŠ” ë“¯í•˜ë‹¤.</p><h2 id=ì´ë¯¸ì§€-ì¤€ë¹„í•˜ê¸°>ì´ë¯¸ì§€ ì¤€ë¹„í•˜ê¸°</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install -y virtualbox virtualbox-ext-pack
</span></span></code></pre></div><p>ìš°ì„  ì´ì œ ìŠ¬ìŠ¬ virtualboxê°€ í•„ìš”í•  ê²ƒì´ê¸°ì— virtualboxë¥¼ ì„¤ì¹˜í•´ì¤€ë‹¤. ext-packì€ extensionì¸ë° í•™ìŠµí•  ë•Œì—ëŠ” ì›¬ë§Œí•˜ë©´ ìˆëŠ” ê²Œ ì¢‹ì„ ê²ƒì´ë‹¤. ì•„ë§ˆ ì ì‹œ í›„ RDP(Remote Desktop Protocol)ë¼ëŠ” í”„ë¡œí† ì½œì„ ì´ìš©í•  ë•Œì—ë„ ext-packì´ ìˆì–´ì•¼í•  ê²ƒì´ë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>sudo su
</span></span><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>vb</span><span class=o>=</span>VBoxManage
</span></span></code></pre></div><p>ì´ì œë¶€í„°ëŠ” ë§ì€ ëª…ë ¹ì–´ë“¤ì´ root ê¶Œí•œì„ í•„ìš”ë¡œ í•  ê²ƒì´ë‹¤. ë”°ë¼ì„œ ëŒ€ë¶€ë¶„ì˜ ì‘ì—…ì„ rootë¡œ ìˆ˜í–‰í•  ê²ƒì´ë‹¤.</p><p>ê·¸ë¦¬ê³  vboxmanageë¼ëŠ” ì»¤ë§¨ë“œê°€ ìƒë‹¹íˆ ë§ˆìŒì— ë“¤ì§€ ì•Šì•„ì„œ ë‚˜ëŠ” <code>vb</code> ë¼ëŠ” aliasë¥¼ ì´ìš©í–ˆë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># vb internalcommands createrawvmdk \</span>
</span></span><span class=line><span class=cl>    -filename vm1-disk.vmdk <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -rawdisk /dev/ubuntu-vg/vm1-disk
</span></span><span class=line><span class=cl>RAW host disk access VMDK file vm1-disk.vmdk created successfully.
</span></span></code></pre></div><p>internal commandë¥¼ ì´ìš©í•´ í˜¸ìŠ¤íŠ¸ì˜ ë””ìŠ¤í¬ ì „ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” VMDK ì´ë¯¸ì§€ë¥¼ <code>vm1-disk.vmdk</code> ìƒì„±í–ˆë‹¤. ìƒì„±ë˜ëŠ” <code>.vmdk</code> íŒŒì¼ì˜ í¬ê¸°ëŠ” ëª‡ ë°± ë°”ì´íŠ¸ ì •ë„ë¡œ ìƒë‹¹íˆ ì‘ì€ë°, ì´ íŒŒì¼ ìì²´ê°€ ë°ì´í„°ë¥¼ ë‹´ëŠ” ê²ƒì€ ì•„ë‹ˆê³  ê·¸ëƒ¥ ì–´ë–»ê²Œ í˜¸ìŠ¤íŠ¸ì˜ ë””ìŠ¤í¬(í˜„ì¬ì˜ ê²½ìš° vm1-disk)ë¥¼ ì´ìš©í•  ì§€ì— ëŒ€í•œ ì„¤ì •ë§Œ ì¡´ì¬í•  ë¿ì´ë¼ì„œ ê·¸ëŸ° ë“¯í•˜ë‹¤. ì°¸ê³ ë¡œ <code>cat</code> ì„ í†µí•´ ë‚´ìš©ì„ í™•ì¸í•´ë³¼ ìˆ˜ë„ ìˆë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>curl -LO https://mirror.kakao.com/ubuntu-releases/22.04/ubuntu-22.04.1-live-server-amd64.iso
</span></span></code></pre></div><p>ê·¸ë¦¬ê³  ì´ì œ Ubuntu Server 22.04ì— ëŒ€í•œ .iso ì´ë¯¸ì§€ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ í•´ì¤€ë‹¤. ì¹´ì¹´ì˜¤ì˜ ë¯¸ëŸ¬ë§ í˜ì´ì§€ë¥¼ ì´ìš©í•˜ë©´ ì™€ì´íŒŒì´ë¡œë„ ë¹ ë¥¸ ê²½ìš° ì•½ 30ì´ˆë§Œì— ë‹¤ìš´ë¡œë“œê°€ ê°€ëŠ¥í•˜ë‹¤. ì´ ì´ë¯¸ì§€ëŠ” ì„¤ì¹˜ìš© ì´ë¯¸ì§€ì´ë‹¤.</p><p>ì´ì œ ì´ë¯¸ì§€ ì¤€ë¹„ëŠ” ì™„ë£Œ ëë‹¤ ğŸ™‚</p><h2 id=vboxmanagevirtualbox-clië¥¼-í†µí•´-vm-ìƒì„±í•˜ê¸°>VBoxManage(VirtualBox CLI)ë¥¼ í†µí•´ VM ìƒì„±í•˜ê¸°</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>mkdir -p vbox
</span></span></code></pre></div><p>í˜„ì¬ì˜ ë¡œì»¬ ê²½ë¡œì— virtualbox vmì´ base folderë¡œ ì‚¬ìš©í•  ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤. ì‚¬ì‹¤ ê¸€ ì´ˆë°˜ì— ì ì€ ì·¨ì§€ì— ë§ì¶”ë ¤ë©´ ì´ ê²½ë¡œë„ ë³„ë„ì˜ ë³¼ë¥¨ìª½ì´ë©´ ì¢‹ì„ ë“¯í•˜ê¸´í•œë° ì¼ë‹¨ì€ ê·¸ëƒ¥ <code>/root/vbox</code> ë¡œ ì´ìš©í•˜ë ¤í•œë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># vb createvm --name vm1 \</span>
</span></span><span class=line><span class=cl>    --basefolder<span class=o>=</span>/root/vbox <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --ostype<span class=o>=</span>Ubuntu_64 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --register
</span></span><span class=line><span class=cl>Virtual machine <span class=s1>&#39;vm1&#39;</span> is created and registered.
</span></span><span class=line><span class=cl>UUID: 8ad1ab2c-1e7d-4e22-b65c-51ff7cacfc25
</span></span><span class=line><span class=cl>Settings file: <span class=s1>&#39;/root/vbox/vm1/vm1.vbox&#39;</span>
</span></span></code></pre></div><p>VMì´ ìƒì„±ëë‹¤ê³  í•œë‹¤! í•˜ì§€ë§Œ, VMì„ ì‹¤í–‰í•˜ê¸° ì „ì— ëª‡ ê°€ì§€ ì„¤ì •ì„ ë” í•´ì¤˜ì•¼í•œë‹¤.</p><p>ì•„ì§ ìš°ë¦¬ëŠ” ì•ì„œ ë§Œë“  imageë“¤ì„ mountí•˜ì§€ë„ ì•Šì•˜ê¸° ë•Œë¬¸ì´ë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># vb storagectl vm1 \</span>
</span></span><span class=line><span class=cl>    --name <span class=s2>&#34;SATA Controller&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --add sata --bootable on
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># vb storageattach vm1 \</span>
</span></span><span class=line><span class=cl>    --storagectl <span class=s2>&#34;SATA Controller&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --port <span class=m>0</span> --device <span class=m>0</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --type dvddrive <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --medium ubuntu-22.04.1-live-server-amd64.iso
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># vb storageattach vm1 \</span>
</span></span><span class=line><span class=cl>    --storagectl <span class=s2>&#34;SATA Controller&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --port <span class=m>1</span> --device <span class=m>0</span> --type hdd <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --medium /root/vm1-disk.vmdk
</span></span></code></pre></div><p>SATAë¼ëŠ” Hard Disk Controllerì„ ì¶”ê°€í•´ì¤€ ë’¤ ìƒì„±í•´ë’€ë˜ <code>vm1-disk.vmdk</code> (16GBì§œë¦¬ LV ê´€ë ¨) ì´ë¯¸ì§€ë¥¼ HDDë¡œì„œ ì¶”ê°€í•´ì¤€ë‹¤.</p><p>ê·¸ë¦¬ê³  bridge networkë¥¼ í†µí•´ hostì™€ ê°™ì€ ë„¤íŠ¸ì›Œí¬ë¥¼ ì´ìš©í•  ìˆ˜ ìˆê²Œë”í•  ê²ƒì´ë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># ip addr show wlp2s0</span>
</span></span><span class=line><span class=cl>2: wlp2s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class=m>1500</span> qdisc noqueue state UP group default qlen <span class=m>1000</span>
</span></span><span class=line><span class=cl>    link/ether 20:16:b9:9b:55:1e brd ff:ff:ff:ff:ff:ff
</span></span><span class=line><span class=cl>    inet 192.168.219.180/24 metric <span class=m>600</span> brd 192.168.219.255 scope global dynamic wlp2s0
</span></span><span class=line><span class=cl>       valid_lft 13790sec preferred_lft 13790sec
</span></span><span class=line><span class=cl>    inet6 fe80::2216:b9ff:fe9b:551e/64 scope link
</span></span><span class=line><span class=cl>       valid_lft forever preferred_lft forever
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># vb modifyvm vm1 --nic1 bridged --bridgeadapter1 wlp2s0</span>
</span></span></code></pre></div><p>ë‚´ ê²½ìš°ì—ëŠ” <code>wlp2s0</code> ë¼ëŠ” ì™€ì´íŒŒì´ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì— bridge í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í–ˆë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># vb modifyvm vm1 --memory 4092 \</span>
</span></span><span class=line><span class=cl>    --cpus <span class=m>2</span>
</span></span></code></pre></div><p>ì•ì„œ ì–¸ê¸‰í•œ ëŒ€ë¡œ MemoryëŠ” 4GB, CPUëŠ” 2 Coreë¡œ ì„¤ì •í–ˆë‹¤.</p><p>ì´ì œ ê±°ì˜ ë‹¤ ì™”ë‹¤.</p><p>í•˜ì§€ë§Œ ì¼ë°˜ì ì¸ GUIì—ì„œ VirtualBoxë¥¼ í†µí•´ VMì„ ì‹¤í–‰í–ˆì„ ë•Œì™€ ë‹¬ë¦¬ ë‚˜ì˜ í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì˜ OSëŠ” Ubuntu Serverì´ê¸° ë•Œë¬¸ì— ë‚˜ëŠ” ì„¤ì¹˜ ì´ë¯¸ì§€ë¡œ VMì„ ì‹œì‘í–ˆì„ ë•Œ VMì˜ í™”ë©´ì„ ë³¼ ìˆ˜ ì—†ë‹¤.</p><p>ë§Œì•½ Cloud imageë¥¼ ì´ìš©í•˜ê±°ë‚˜ Auto installation ì„¤ì •ì„ ì˜ í•´ë’€ë‹¤ë©´ í™”ë©´ ì—†ì´ ì–´ë–»ê²Œ ì–´ë–»ê²Œ ì•Œì•„ì„œ OSë¥¼ ì„¤ì¹˜í•˜ê³  ì„¤ì •í•œ Bridge adapterì„ ì´ìš©í•´ DHCPí•´ì„œ ë„¤íŠ¸ì›Œí¬ì— ì¡°ì¸í•˜ê³  SSH ì„œë²„ê°€ ì¼œì§ˆ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. ì´ë ‡ê²Œ ë˜ë©´ GUI ì—†ì´ Host machine ë° ê°™ì€ ë„¤íŠ¸ì›Œí¬ ì¥ë¹„ì—ì„œ SSHë¡œ ì ‘ì†í•  ìˆ˜ ìˆëŠ” ê²Œ ë§ê¸´í•˜ë‹¤.</p><p>í•˜ì§€ë§Œ ì§€ê¸ˆ ì´ìš© ì¤‘ì¸ Ubuntu server ì´ë¯¸ì§€ëŠ” Cloud imageë„ ì•„ë‹ˆê³  ìš°ë¦¬ëŠ” ë³„ë„ë¡œ Auto installation ì„¤ì •ì„ í•œ ê²ƒë„ ì•„ë‹ˆê¸°ì— Display ì¥ì¹˜ë¥¼ í†µí•´ í™”ë©´ì„ ë³´ë©´ì„œ í‚¤ë³´ë“œë¡œ ì„¤ì¹˜ë¥¼ ì§„í–‰í•´ì•¼í•  ê²ƒì´ë‹¤.</p><p>ì´ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì´ RDP(Remote Desktop Protocol)ì´ë¼ëŠ” ê¸°ìˆ ì´ë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ë”°ë¡œ ì°¾ì•„ë³´ëŠ” ê±¸ë¡œí•˜ê³  ì—¬ê¸°ì„  ê°„ë‹¨íˆ ì •ë¦¬í•˜ìë©´ ê·¸ëƒ¥ Remoteì—ì„œ VMì˜ í™”ë©´ì„ ë³´ë©´ì„œ ì…ì¶œë ¥ì„ í•  ìˆ˜ ìˆëŠ” ê¸°ìˆ ì„ ì˜ë¯¸í•œë‹¤. ë‚˜ì˜ ê²½ìš° ê°™ì€ ê³µìœ ê¸° ì•„ë˜ì˜ ë§¥ë¶ì—ì„œ RDP ì ‘ì†ì„ í†µí•´ Ubuntu Server í˜¸ìŠ¤íŠ¸ì˜ Ubuntu Server Guest(VM)ì˜ ì„¤ì¹˜ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆì—ˆë‹¤.</p><p><figure style=flex-grow:745;flex-basis:1790px><a href=/blog/companion-server/create-vm-by-vboxmanage/mermaid-connection-flow.png data-size=813x109><img src=/blog/companion-server/create-vm-by-vboxmanage/mermaid-connection-flow.png srcset="/blog/companion-server/create-vm-by-vboxmanage/mermaid-connection-flow_hu7749fb9e9bf25ce37e865f90ba2cc26c_14638_480x0_resize_box_3.png 480w, /blog/companion-server/create-vm-by-vboxmanage/mermaid-connection-flow_hu7749fb9e9bf25ce37e865f90ba2cc26c_14638_1024x0_resize_box_3.png 1024w" width=813 height=109 loading=lazy></a></figure></p><p>ìœ„ì˜ ê·¸ë¦¼ê³¼ ê°™ì´ ë§¥ë¶ì„ í†µí•´ í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì— RDPë¡œ ì ‘ì†í•˜ë©´ Gusetì— ì—°ê²°ë  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.</p><p><figure style=flex-grow:227;flex-basis:544px><a href=/blog/companion-server/create-vm-by-vboxmanage/microsoft-remote-desktop.png data-size=1912x842><img src=/blog/companion-server/create-vm-by-vboxmanage/microsoft-remote-desktop.png srcset="/blog/companion-server/create-vm-by-vboxmanage/microsoft-remote-desktop_hu2524cf3bdcb3adef8cf4101d9218953f_210336_480x0_resize_box_3.png 480w, /blog/companion-server/create-vm-by-vboxmanage/microsoft-remote-desktop_hu2524cf3bdcb3adef8cf4101d9218953f_210336_1024x0_resize_box_3.png 1024w" width=1912 height=842 loading=lazy></a></figure></p><p>RDPë¥¼ ì´ìš©í•˜ê¸° ìœ„í•´ì„  í´ë¼ì´ì–¸íŠ¸ í”„ë¡œê·¸ë¨ì´ í•„ìš”í•  ê²ƒì´ë‹¤.</p><p>OSXì—ì„œëŠ” remote desktop í´ë¼ì´ì–¸íŠ¸ë¡œ Microsoft Remote Desktopì´ ê°€ì¥ ì¢‹ì€ ë“¯í–ˆë‹¤. ë‚˜ë¨¸ì§€ëŠ” ìœ ë£Œê±°ë‚˜ ìê¸°ë“¤ì´ ê°œë°œí•œ ìì²´ í”„ë¡œí† ì½œ or http ë“±ì„ ì´ìš©í•˜ëŠ” ê²ƒ ê°™ì•˜ë‹¤.</p><p>RDP í”„ë¡œí† ì½œì—ì„œ ì¸ì¦ì´ í•„ìˆ˜ëŠ” ì•„ë‹ ê²ƒ ê°™ì€ë° ì•„ì‰½ê²Œë„ ì´ í›Œë¥­í•œ í´ë¼ì´ì–¸íŠ¸ì˜ ë‹¨ì ì´ í•˜ë‚˜ ìˆë‹¤ë©´ ì¸ì¦ì´ ê°•ì œë˜ëŠ” ê²ƒ ê°™ë‹¤ëŠ” ê²ƒì´ë‹¤.</p><p>ë”°ë¼ì„œ VMì— RDP ì„¤ì •ì„ ì¼œê³ , ì¸ì¦ì„ í™œì„±í™” í•´ì•¼í•œë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># export VRDE_USERNAME=foo</span>
</span></span><span class=line><span class=cl><span class=c1># export VRDE_PASSWORD=bar</span>
</span></span></code></pre></div><p>ìœ„ì™€ ê°™ì´ RDP ì¸ì¦ì— ì‚¬ìš©í•  username, passwordë¥¼ ì„¤ì •í•´ì¤€ë‹¤. ì´í›„ ì»¤ë§¨ë“œì—ì„œ ì‚¬ìš©í•˜ê²Œ ë  í™˜ê²½ë³€ìˆ˜ì´ë‹¤. ê·¸ëƒ¥ VRDEëŠ” VirtualBoxì—ì„œ RDPë¥¼ ë¶€ë¥´ëŠ” ë§ ì •ë„ë¡œë§Œ ì•Œê³  ë„˜ì–´ê°€ë„ ë  ë“¯í•˜ë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># vb setproperty vrdeauthlibrary VBoxAuthSimple</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># vb modifyvm vm1 --vrde on \</span>
</span></span><span class=line><span class=cl>    --vrdeport <span class=m>3389</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --vrdeauthtype external
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># export PASSWORD_HASHED=$(vb internalcommands passwordhash $VRDE_PASSWORD | \</span>
</span></span><span class=line><span class=cl>    sed <span class=s1>&#39;s/^Password hash: //&#39;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># vb setextradata vm1 \</span>
</span></span><span class=line><span class=cl>    VBoxAuthSimple/users/<span class=nv>$VRDE_USERNAME</span> <span class=nv>$PASSWORD_HASHED</span>
</span></span><span class=line><span class=cl><span class=c1># vb getextradata vm1 enumerate | \</span>
</span></span><span class=line><span class=cl>    grep <span class=s2>&#34;VBoxAuthSimple/users/</span><span class=nv>$VRDE_USERNAME</span><span class=s2>&#34;</span>
</span></span></code></pre></div><p>ì¢€ ë³µì¡í•˜ê¸´í•œë° ì‰½ê²Œ ìš”ì•½í•˜ë©´ ê·¸ëƒ¥ RDP ì¸ì¦ì„ VBoxAuthSimpleì´ë¼ëŠ” ë°©ì‹ì„ í†µí•´ ì§„í–‰í•˜ê² ë‹¤ëŠ” ê±°ê³  ê·¸ë¥¼ ìœ„í•œ username, passwordë¥¼ ì„¤ì •í•˜ëŠ” ì‘ì—…ì´ë‹¤.</p><p>ì¢€ ë” ìì„¸íˆ ì„¤ëª…í•˜ìë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># vb internalcommands passwordhash $VRDE_PASSWORD</span>
</span></span><span class=line><span class=cl>Password hash: fcde2b2edba56bf408601fb721fe9b5c338d10ee429ea04fae5511b68fbf8fb9
</span></span></code></pre></div><p>passwordë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•´ passwordë¥¼ í•´ì‹œí•˜ëŠ” ì»¤ë§¨ë“œì´ë‹¤. plain passwordë¥¼ ê·¸ëŒ€ë¡œ ì„¤ì •í•˜ì§€ ì•Šê³  í•œ ë²ˆ ë¯¸ë¦¬ í•´ì‹œí•œ ë’¤ì— ê·¸ ê°’ì„ ì „ë‹¬í•´ì¤˜ì•¼í•œë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># vb getextradata vm1 enumerate | \</span>
</span></span><span class=line><span class=cl>    grep <span class=s2>&#34;VBoxAuthSimple/users/</span><span class=nv>$VRDE_USERNAME</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>Key: VBoxAuthSimple/users/foo, Value: fcde2b2edba56bf408601fb721fe9b5c338d10ee429ea04fae5511b68fbf8fb9
</span></span></code></pre></div><p>extradataë¥¼ ì¡°íšŒí•´ë´„ìœ¼ë¡œì¨ <code>foo</code> ë¼ëŠ” ìœ ì €ì˜ í•´ì‰¬ëœ íŒ¨ìŠ¤ì›Œë“œ ê°’ì„ í™•ì¸í•´ë³¼ ìˆ˜ ìˆë‹¤.</p><p>ì´ ê°’ì´ ì¡°íšŒë˜ì§€ ì•Šìœ¼ë©´ ì¸ì¦ ì„¤ì •ì´ ì œëŒ€ë¡œ ì ìš©ë˜ì§€ ì•Šì€ ê²ƒì´ë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># vb startvm vm1 --type headless</span>
</span></span></code></pre></div><p>ë“œë””ì–´! vmì„ ì‹œì‘í•  ë•Œê°€ ëë‹¤. <code>--type headless</code> ì¸ìë¥¼ ì£¼ê²Œ ë˜ë©´ VMì˜ í™”ë©´ì„ ë°”ë¡œ GUIë¡œ ë„ìš°ì§€ ì•Šê³  headless modeë¡œ ì‹œì‘í•œë‹¤. GUIë¡œ ë„ìš°ê¸° ìœ„í•œ ë„êµ¬ë“¤ì´ í˜¸ìŠ¤íŠ¸ì— ì œëŒ€ë¡œ ì„¤ì¹˜ë˜ì–´ìˆì§€ ì•Šë‹¤ë©´ ì—ëŸ¬ê°€ ë‚  ê²ƒì´ê³  ë‚˜ì˜ ë©íƒ‘ ë˜í•œ ê±°ì˜ ìˆœì • ìƒíƒœì˜ Ubuntu serverì˜€ê¸° ë•Œë¬¸ì— headless modeë¡œ ì‹œì‘í•´ì•¼ë§Œ í–ˆë‹¤.</p><p><figure style=flex-grow:277;flex-basis:665px><a href=/blog/companion-server/create-vm-by-vboxmanage/microsoft-remote-desktop-connect.png data-size=1962x708><img src=/blog/companion-server/create-vm-by-vboxmanage/microsoft-remote-desktop-connect.png srcset="/blog/companion-server/create-vm-by-vboxmanage/microsoft-remote-desktop-connect_hu0135d8f9d5ad1022e5fa8dd0554fb333_367603_480x0_resize_box_3.png 480w, /blog/companion-server/create-vm-by-vboxmanage/microsoft-remote-desktop-connect_hu0135d8f9d5ad1022e5fa8dd0554fb333_367603_1024x0_resize_box_3.png 1024w" width=1962 height=708 loading=lazy></a></figure></p><p>RDP Client(e.g. Microsoft Remote Desktop)ì—ì„œ ìœ„ì™€ ê°™ì´ ì„¤ì •í•´ì£¼ë©´ ë  ê²ƒì´ë‹¤.</p><p><figure style=flex-grow:211;flex-basis:508px><a href=/blog/companion-server/create-vm-by-vboxmanage/installation-1.png data-size=1021x482><img src=/blog/companion-server/create-vm-by-vboxmanage/installation-1.png srcset="/blog/companion-server/create-vm-by-vboxmanage/installation-1_hu4618397b7581852c0b647ff44c653258_52041_480x0_resize_box_3.png 480w, /blog/companion-server/create-vm-by-vboxmanage/installation-1_hu4618397b7581852c0b647ff44c653258_52041_1024x0_resize_box_3.png 1024w" width=1021 height=482 loading=lazy></a></figure></p><p><figure style=flex-grow:384;flex-basis:922px><a href=/blog/companion-server/create-vm-by-vboxmanage/installation-2.png data-size=826x215><img src=/blog/companion-server/create-vm-by-vboxmanage/installation-2.png srcset="/blog/companion-server/create-vm-by-vboxmanage/installation-2_hu4d83c2a522737fa70c79baad2bc0090d_28789_480x0_resize_box_3.png 480w, /blog/companion-server/create-vm-by-vboxmanage/installation-2_hu4d83c2a522737fa70c79baad2bc0090d_28789_1024x0_resize_box_3.png 1024w" width=826 height=215 loading=lazy></a></figure></p><p>ğŸ‰Â RDPë¥¼ í†µí•´ ì„±ê³µì ìœ¼ë¡œ ì—°ê²°ë˜ë©´ ì´ë ‡ê²Œ ì„¤ì¹˜ í™”ë©´ì„ ë³¼ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤!</p><p>ì™€ìš°.. ë“œë””ì–´ VBoxManageë¡œ VMì„ ë„ìš°ëŠ” ë°ì— ì„±ê³µí–ˆë‹¤. í˜¸ìŠ¤íŠ¸ì˜ ê³µìœ ê¸°ì— ë¶™ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë¸Œë¦¿ì§€ ì–´ëŒ‘í„°ë¡œ ì„¤ì •í•˜ë‹ˆ í˜¸ìŠ¤íŠ¸ì™€ ê°™ì´ ê³µìœ ê¸°ì— DHCPë¡œ IPë¥¼ í• ë‹¹ë°›ëŠ” ê²ƒë„ ì„±ê³µí•œ ëª¨ìŠµì´ë‹¤.</p><p><figure style=flex-grow:211;flex-basis:508px><a href=/blog/companion-server/create-vm-by-vboxmanage/installation-1.png data-size=1021x482><img src=/blog/companion-server/create-vm-by-vboxmanage/installation-1.png srcset="/blog/companion-server/create-vm-by-vboxmanage/installation-1_hu4618397b7581852c0b647ff44c653258_52041_480x0_resize_box_3.png 480w, /blog/companion-server/create-vm-by-vboxmanage/installation-1_hu4618397b7581852c0b647ff44c653258_52041_1024x0_resize_box_3.png 1024w" width=1021 height=482 loading=lazy></a></figure></p><p>ì„¤ì¹˜ê°€ ì™„ë£Œëœ ë’¤ RDPë¡œ ì—°ê²°ëœ í™”ë©´ì—ì„œ ëª‡ ê°€ì§€ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ë´¤ë‹¤. ğŸ™‚Â ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´ ì´ì œ RDPëŠ” êµ³ì´ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ê°™ì€ ë„¤íŠ¸ì›Œí¬ì˜ ì–´ë–¤ ì¥ë¹„ì—ì„œë“  ì„¤ì¹˜ ì‹œì— ì…ë ¥í•œ username, passwordë¡œ SSH ì ‘ì†ì´ ê°€ëŠ¥í•  ê²ƒì´ë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë§ì´ë‹¤.</p><p><figure style=flex-grow:384;flex-basis:922px><a href=/blog/companion-server/create-vm-by-vboxmanage/installation-2.png data-size=826x215><img src=/blog/companion-server/create-vm-by-vboxmanage/installation-2.png srcset="/blog/companion-server/create-vm-by-vboxmanage/installation-2_hu4d83c2a522737fa70c79baad2bc0090d_28789_480x0_resize_box_3.png 480w, /blog/companion-server/create-vm-by-vboxmanage/installation-2_hu4d83c2a522737fa70c79baad2bc0090d_28789_1024x0_resize_box_3.png 1024w" width=826 height=215 loading=lazy></a></figure></p><p>ğŸ‘†Â ê°™ì€ ë„¤íŠ¸ì›Œí¬ì˜ ë§¥ë¶ì—ì„œ VMì— SSH ì ‘ì†ì„ í•´ì„œ ì•„ë¬´ ëª…ë ¹ì–´ë‚˜ ì‹¤í–‰í•´ë³¸ ì˜ˆì‹œ</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># vb controlvm vm1 poweroff</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># vb storageattach vm1 \</span>
</span></span><span class=line><span class=cl>    --storagectl <span class=s2>&#34;SATA Controller&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --port <span class=m>0</span> --device <span class=m>0</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --medium none
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># vb storageattach vm1 \</span>
</span></span><span class=line><span class=cl>    --storagectl <span class=s2>&#34;SATA Controller&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --port <span class=m>1</span> --device <span class=m>0</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --medium none
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># vb storageattach vm1 \</span>
</span></span><span class=line><span class=cl>    --storagectl <span class=s2>&#34;SATA Controller&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --port <span class=m>0</span> --device <span class=m>0</span> --type hdd <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --medium /root/vm1-disk.vmdk
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># vb startvm vm1 --type headless</span>
</span></span></code></pre></div><p>ê·¸ë¦¬ê³  ì´ì œ ì„¤ì¹˜ê°€ ì™„ë£Œëìœ¼ë‹ˆ ë” ì´ìƒ ì„¤ì¹˜ìš© ì´ë¯¸ì§€ì¸ <code>ubuntu-22.04.1-live-server-amd64.iso</code> ë¥¼ dvddriveë¡œ ë¶™ì—¬ì¤„ í•„ìš”ë„ ì—†ë‹¤. ê¼­ í•´ì•¼í•˜ëŠ” ì‘ì—…ì€ ì•„ë‹ˆê¸´í•˜ì§€ë§Œ <code>--medium none</code> ì„ í†µí•´ ì¥ì¹˜ë“¤ì„ ëª¨ë‘ ì—°ê²° í•´ì œí•œ ë’¤ ê·¸ëƒ¥ <code>.vmdk</code> ë¥¼ 0ë²ˆ í¬íŠ¸ì— ì—°ê²°í•´ì¤„ ìˆ˜ ìˆë‹¤.</p><h2 id=ë°°ìš´-ê²ƒ-ì–»ì€-ê²ƒ>ë°°ìš´ ê²ƒ, ì–»ì€ ê²ƒ</h2><ul><li>PV, VG, LV ë“± Linuxì˜ LVM(Logical Volume Manager)ì˜ ê°œë…ì„ ì ‘í•´ë³¼ ìˆ˜ ìˆì—ˆë‹¤.</li><li>â€˜VirtualBoxì˜ ëª¨ë“  ê¸°ëŠ¥ì„ VBoxManageë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆêµ¬ë‚˜â€™ì‹¶ì—ˆë‹¤.</li><li>RDP, VRDEë¼ëŠ” ê°œë…ì„ ì ‘í•´ë³¼ ìˆ˜ ìˆì—ˆë‹¤.</li><li>Bridge Adapter, NAT, NAT Network, Host only ë“± VirtualBoxì—ì„œ ì‚¬ìš©í•˜ëŠ” ë„¤íŠ¸ì›Œí¬ í˜•íƒœë¥¼ í•œ ë²ˆ ë” ê²½í—˜í•´ë³¼ ìˆ˜ ìˆì—ˆë‹¤.</li></ul><h2 id=ê¸€ì—ì„œ-ë‹¤ë£¬-ë‚´ìš©-ì™¸ì—-ë”-í•´ë³¼-ë§Œí•œ-ê²ƒ>ê¸€ì—ì„œ ë‹¤ë£¬ ë‚´ìš© ì™¸ì— ë” í•´ë³¼ ë§Œí•œ ê²ƒ</h2><ul><li>cloud-init ë³¼ë¥¨ì„ í†µí•œ auto installation - cloud-initì´ë¼ëŠ” ë°©ì‹ì„ ì´ìš©í•˜ë©´ ì§ì ‘ ì„¤ì¹˜ ê³¼ì •ì„ í•˜ë‚˜ í•˜ë‚˜ ì§„í–‰í•  í•„ìš” ì—†ì´ ì„¤ì¹˜ì™€ ì´ˆê¸° ì„¤ì •ì„ ìë™í™” í•  ìˆ˜ ìˆë‹¤.</li><li>Live ì´ë¯¸ì§€ê°€ ì•„ë‹Œ Cloud image ì´ìš©í•˜ê¸° - Cloud imageë¥¼ ì´ìš©í•˜ë©´ auto installí•˜ëŠ” ê²Œ ê¸°ë³¸ ì„¤ì •ì¸ë“¯ í•¨. ì¢€ ë” ì†ì‰½ê²Œ auto installí•  ìˆ˜ ìˆëŠ” ëŠë‚Œì´ë„ê¹Œ.</li><li>PXE ë„¤íŠ¸ì›Œí¬ ë¶€íŒ…</li><li>qemu, lima ë“± ë‹¤ë¥¸ ê°€ìƒí™” ë„êµ¬ë¥¼ í†µí•´ VMì„ ì´ìš©í•´ë³´ê¸°</li><li>ì›í•˜ëŠ” ë‹¤ì–‘í•œ ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€ êµ¬ì„±í•´ë³´ê¸°</li></ul><h2 id=ë§ˆì¹˜ë©°>ë§ˆì¹˜ë©°</h2><p>ë©°ì¹  ì „ì— VirtualBoxë¡œ VMì„ ë§Œë“¤ ë•Œ Ubuntu serverì—ì„œ CLIì¸ VBoxManageë¡œ ë§Œë“¤ì–´ë³´ê² ë‹¤ê³  ê½¤ë‚˜ ë§ì€ ì‚½ì§ˆì„ í–ˆì—ˆë‹¤. ë¿ë§Œ ì•„ë‹ˆë¼ ìš”ì¦˜ pxe, qemu, bridge interface, kubespray ë“±ë“±ìœ¼ë¡œ ì¸í•´ ë§ì€ ì‚½ì§ˆì´ ê³„ì†ë˜ê³  ìˆì—ˆë‹¤. ë³¸ì—…ì€ ë³¸ì—…ëŒ€ë¡œ í•˜ê³  í‡´ê·¼ í›„ì— ì·¨ë¯¸ë¡œ ê³µë¶€í•˜ë‹¤ë³´ë‹ˆ ì‹œê°„ì´ ë§ì§€ ì•Šë‹¤ë³´ë‹ˆ ê³„ì† ì‚½ì§ˆë§Œ í•˜ê³  ë°°ìš´ ë‚´ìš©ì„ ë³µìŠµ/ì •ë¦¬í•˜ì§€ ëª»í•œ ê²ƒ ê°™ì•„ì„œ í•œ ë²ˆ ì •ë¦¬í•´ë´¤ë‹¤.</p><p>LVM, IDEì™€ SATAì˜ ì°¨ì´, RDPë¼ëŠ” ìƒˆë¡œìš´ í”„ë¡œí† ì½œ, imgì™€ iso, ë“±ë“±â€¦ ë§ì€ ìƒˆë¡œìš´ ê°œë… í˜¹ì€ ë“¤ì–´ë§Œ ë´¤ë˜ ê°œë…ë“¤ì„ ì§ì ‘ ì´ìš©í•´ë³´ë ¤í•˜ë‹ˆ GUIì—ì„œëŠ” ì •ë§ ì‰¬ì› ë˜ ì‘ì—…ì„ ì§„í–‰í•˜ëŠ” ë°ì— ë§ì€ ì‚½ì§ˆì´ ìˆ˜ë°˜ëë‹¤.</p><p>ë‹¤ìŒì—ëŠ” qemuë¡œ VM ë„ìš°ëŠ” ë‚´ìš©ì„ ì‘ì„±í•´ë³¼ê¹Œí•˜ëŠ”ë° ì‹œê°„ì´ ë ì§€ëŠ” ëª¨ë¥´ê² ë‹¤ í™”ì´íŒ…..! ğŸ’ª</p></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-contents--wrapper><h2 class=section-title>ê´€ë ¨ ê¸€</h2><div class=related-contents><div class="flex article-list--tile"><article class=has-image><a href=/blog/companion-server/core-dns/><div class=article-image><img src=/blog/companion-server/core-dns/preview.06fa0a861baa356bcf9c11ca75ad3713_hudf745d9e6218ded522d0b9ff98b2db64_1519649_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy data-key data-hash="md5-BvoKhhuqNWvPnBHKda03Ew=="></div><div class=article-details><h2 class=article-title>[ë°˜ë ¤ ì„œë²„ í‚¤ìš°ê¸° ì‚¬ì „ ì‘ì—…] Core DNSë¥¼ í™ˆë©ì˜ ì»¤ìŠ¤í…€ DNS ì„œë²„ë¡œ ì´ìš©í•˜ê¸°</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//umi0410.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{DISQUS&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2022 Jinsu Playground</section><section class=powerby><a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a>ë¡œ ë§Œë“¦<br><a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a>ì˜ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=2.4.0>Stack</a></b> í…Œë§ˆ ì‚¬ìš© ì¤‘</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#ì‹œì‘í•˜ë©°>ì‹œì‘í•˜ë©°</a></li><li><a href=#ì‹¤ìŠµ-í™˜ê²½>ì‹¤ìŠµ í™˜ê²½</a></li><li><a href=#lv-ìƒì„±í•˜ê¸°>LV ìƒì„±í•˜ê¸°</a></li><li><a href=#ì´ë¯¸ì§€-ì¤€ë¹„í•˜ê¸°>ì´ë¯¸ì§€ ì¤€ë¹„í•˜ê¸°</a></li><li><a href=#vboxmanagevirtualbox-clië¥¼-í†µí•´-vm-ìƒì„±í•˜ê¸°>VBoxManage(VirtualBox CLI)ë¥¼ í†µí•´ VM ìƒì„±í•˜ê¸°</a></li><li><a href=#ë°°ìš´-ê²ƒ-ì–»ì€-ê²ƒ>ë°°ìš´ ê²ƒ, ì–»ì€ ê²ƒ</a></li><li><a href=#ê¸€ì—ì„œ-ë‹¤ë£¬-ë‚´ìš©-ì™¸ì—-ë”-í•´ë³¼-ë§Œí•œ-ê²ƒ>ê¸€ì—ì„œ ë‹¤ë£¬ ë‚´ìš© ì™¸ì— ë” í•´ë³¼ ë§Œí•œ ê²ƒ</a></li><li><a href=#ë§ˆì¹˜ë©°>ë§ˆì¹˜ë©°</a></li></ol></nav></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous defer></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>