<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Jinsu Playground</title><link>https://umi0410.github.io/</link><description>Recent content on Jinsu Playground</description><generator>Hugo -- gohugo.io</generator><language>ko-kr</language><lastBuildDate>Thu, 08 Dec 2022 01:31:00 +0900</lastBuildDate><atom:link href="https://umi0410.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>QEMUë¡œ Ubuntu Server VM ìƒì„±í•˜ê¸°</title><link>https://umi0410.github.io/blog/companion-server/create-vm-by-qemu/</link><pubDate>Thu, 08 Dec 2022 01:31:00 +0900</pubDate><guid>https://umi0410.github.io/blog/companion-server/create-vm-by-qemu/</guid><description>&lt;img src="https://umi0410.github.io/blog/companion-server/create-vm-by-qemu/preview.png" alt="Featured image of post QEMUë¡œ Ubuntu Server VM ìƒì„±í•˜ê¸°" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>ì§ì ‘ êµ¬ì¶•í•˜ëŠ” í™ˆì„œë²„ì— VMë„ ì¶”ê°€í•˜ê³  ì‹¶ì–´ì¡Œê³  ì´ì „ ê¸€&lt;a class="link" href="../create-vm-by-vboxmanage/" >[1]&lt;/a>ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ CLIë¡œ VMì„ ë„ì›Œë³´ê³  ì‹¶ì—ˆë‹¤.
ì´ì „ ê¸€ì—ì„œëŠ” VirtualBoxë¥¼ ì´ìš©í–ˆì§€ë§Œ ì´ë²ˆì—ëŠ” qemuë¼ëŠ” ë„êµ¬ë¥¼ ì´ìš©í•´ VMì„ ë§Œë“¤ì–´ë³´ê³ ìí•œë‹¤.&lt;/p>
&lt;p>qemuëŠ” VMì„ ë„ìš°ëŠ” ë„êµ¬ë“¤ ì¤‘ì—ì„œë„ ê½¤ë‚˜ ë¡œìš°í•œ ë ˆë²¨ì— ìˆìœ¼ë©´ì„œ ì†ì‰½ê²Œ ë‹¤ì–‘í•œ ì•„í‚¤í…ì³ë¥¼ ê°€ìƒí™”í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.
ë˜í•œ CLIë¡œ ì‹¤í–‰í•˜ëŠ” í”„ë¡œê·¸ë¨ì´ê¸°ì— VMì„ ì†ì‰½ê²Œ ë„ì›Œë³´ê³  ì‹¶ì€ ë‚˜ ê°™ì€ ê²½ìš°ì— ì í•©í•˜ë‹¤.&lt;/p>
&lt;h2 id="ì‹¤ìŠµ-í™˜ê²½">ì‹¤ìŠµ í™˜ê²½&lt;/h2>
&lt;p>í˜¸ìŠ¤íŠ¸ í™˜ê²½ì€ ì•„ë˜ì™€ ê°™ë‹¤.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>í•­ëª©&lt;/th>
&lt;th>ì •ë³´&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>CPU&lt;/td>
&lt;td>amd64, 8 Core&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>RAM&lt;/td>
&lt;td>16GB&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Disk&lt;/td>
&lt;td>256GB&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>OS&lt;/td>
&lt;td>Ubuntu server 22.04&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>êµ¬ì„±í•˜ê³ ìí•˜ëŠ” VMì€ ë‹¤ìŒê³¼ ê°™ë‹¤.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>í•­ëª©&lt;/th>
&lt;th>ì •ë³´&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>CPU&lt;/td>
&lt;td>amd64, 2 Core&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>RAM&lt;/td>
&lt;td>4GB&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Disk&lt;/td>
&lt;td>16GB&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>OS&lt;/td>
&lt;td>Ubuntu server 22.04&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>VMì„ ìƒì„±í•˜ëŠ” ì‘ì—…ì€ root ê¶Œí•œì„ ë§ì´ í•„ìš”ë¡œ í•  ìˆ˜ ìˆì–´ ì´ë²ˆ ê¸€ì—ì„œ ìˆ˜í–‰í•˜ëŠ” ì»¤ë§¨ë“œëŠ” ëŒ€ë¶€ë¶„ root ê¶Œí•œìœ¼ë¡œ ìˆ˜í–‰í•´ì•¼ ì˜¬ë°”ë¥´ê²Œ ë™ì‘í•  ê²ƒì´ë‹¤.
ì»¤ë§¨ë“œë¥¼ í‘œê¸°í•  ë•Œì—ëŠ” root ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰í•œë‹¤í•˜ë”ë¼ë„ í¸ì˜ìƒ &lt;code>#&lt;/code>ì´ ì•„ë‹Œ &lt;code>$&lt;/code> ë¬¸ìë¥¼ ì»¤ë§¨ë“œì˜ ë§¨ ì•ì— ì ì–´ë’€ë‹¤.&lt;/p>
&lt;h2 id="ì„¤ì¹˜í•˜ê¸°">ì„¤ì¹˜í•˜ê¸°&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># on linux&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo apt update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo apt-get install qemu-kvm qemu
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># on OSX&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ brew install qemu
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ìœ„ì™€ ê°™ì´ ê°„ë‹¨íˆ qemuë¥¼ ì„¤ì¹˜í•´ë³¼ ìˆ˜ ìˆë‹¤. ì„¤ì¹˜ê°€ ì˜ ëìœ¼ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ ì„¤ì¹˜ëœ ë²„ì „ì„ í™•ì¸í•´ë³¼ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.
x86_64 ì•„í‚¤í…ì³ì˜ VMì„ ì´ìš©í•  ê²ƒì´ê¸°ì— ì´ë²ˆ ê¸€ì—ì„œëŠ” &lt;code>qemu-system-x86_64&lt;/code>ë¼ëŠ” ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ê²ƒì´ë‹¤.
í¸ì˜ìƒ &lt;code>qemu-system-x86_64&lt;/code> ëª…ë ¹ì–´ì— ëŒ€í•´ &lt;code>qs&lt;/code>ë¼ëŠ” aliasë¥¼ ì„¤ì •í•˜ê³  ì§„í–‰í•˜ë„ë¡ í•˜ê² ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ &lt;span class="nb">alias&lt;/span> &lt;span class="nv">qs&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;qemu-system-x86_64&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ qs --version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">QEMU emulator version 6.2.0 &lt;span class="o">(&lt;/span>Debian 1:6.2+dfsg-2ubuntu6.5&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Copyright &lt;span class="o">(&lt;/span>c&lt;span class="o">)&lt;/span> 2003-2021 Fabrice Bellard and the QEMU Project developers
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ì´ë¯¸ì§€-ìƒì„±í•˜ê¸°">ì´ë¯¸ì§€ ìƒì„±í•˜ê¸°&lt;/h2>
&lt;p>ì´ë¯¸ì§€ëŠ” VMì˜ ì €ì¥ì¥ì¹˜ë¡œì„œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. ìš´ì˜ì²´ì œ ì„¤ì¹˜íŒŒì¼ì´ë‚˜ ë£¨íŠ¸ë¡œ ì‚¬ìš©í•  ì €ì¥ì¥ì¹˜ ë“±ì´ ì´ë¯¸ì§€ë¡œ ì •ì˜ëœë‹¤.&lt;/p>
&lt;p>qemuì™€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì´ë¯¸ì§€ íƒ€ì…ì€ &lt;code>raw&lt;/code>ì™€ &lt;code>qcow2&lt;/code> ì´ë ‡ê²Œ ë‘ ê°œê°€ ìˆë‹¤. ì²˜ìŒì—ëŠ” rawë¥¼ ì‚¬ìš©í• ê¹Œì‹¶ê¸´ í–ˆì§€ë§Œ
ìŠ¤ëƒ…ìƒ·ì´ë‚˜ ì•”í˜¸í™”, ìë™í™”, ì••ì¶•, ì €ì¥ê³µê°„ íš¨ìœ¨ ë“±ì˜ ì¸¡ë©´ì—ì„œ &lt;code>qcow2&lt;/code>ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²Œ ë” ì í•©í•  ê²ƒ ê°™ì•˜ë‹¤.
ì•„ë¬´ë˜ë„ &lt;code>raw&lt;/code> íƒ€ì…ì˜ ì¥ì ì€ ì‹¤ì œ ë¬¼ë¦¬ ì¥ë¹„ì— ê·¼ì ‘í•œ ì„±ëŠ¥ì¸ ë“¯í•œë° ìš”ì¦˜ì€ &lt;code>qcow2&lt;/code>ë„ ì„±ëŠ¥ì´ ì¢‹ë‹¤ëŠ” ê²ƒ ê°™ì•˜ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ mkdir -p vm1 &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">cd&lt;/span> vm1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ curl -LO https://cloud-images.ubuntu.com/releases/jammy/release-20221201/ubuntu-22.04-server-cloudimg-amd64.img
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì´ë²ˆ ê¸€ì—ì„œëŠ” Ubuntu Server 22.04 í´ë¼ìš°ë“œ ì´ë¯¸ì§€ë¥¼ í†µí•´ ìš´ì˜ì²´ì œë¥¼ ìë™ìœ¼ë¡œ ì„¤ì¹˜í•  ê²ƒì´ë‹¤.
vmì˜ ì´ë¦„ì€ vm1ì´ë¼ê³  í•˜ê³  vm1ì´ë¼ëŠ” ë””ë ‰í† ë¦¬ì—ì„œ ì‘ì—…í•´ë‚˜ê°ˆ ê²ƒì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ qemu-img info ubuntu-22.04-server-cloudimg-amd64.img
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">image: ubuntu-22.04-server-cloudimg-amd64.img
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">file format: qcow2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">virtual size: 2.2 GiB &lt;span class="o">(&lt;/span>&lt;span class="m">2361393152&lt;/span> bytes&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">disk size: &lt;span class="m">636&lt;/span> MiB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cluster_size: &lt;span class="m">65536&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Format specific information:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> compat: 0.10
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> compression type: zlib
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> refcount bits: &lt;span class="m">16&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>qemu-imgë¼ëŠ” í”„ë¡œê·¸ë¨ì„ í†µí•´ ë‹¤ìš´ë¡œë“œ ë°›ì€ ì´ë¯¸ì§€ë¥¼ ì‚´í´ë´¤ë‹¤. qemu-imgëŠ” qemuì˜ ë””ìŠ¤í¬ ì´ë¯¸ì§€ì™€ ê´€ë ¨ëœ í¸ì˜ ë„êµ¬ì´ë‹¤.
ì´ë¯¸ì§€ë¥¼ ì‚´í´ë³´ë‹ˆ ê°€ìƒ ì‚¬ì´ì¦ˆê°€ 2.2Gë¡œ ì¡í˜€ìˆë‹¤. VMì—ì„œëŠ” ìì‹ ì˜ ë””ìŠ¤í¬ì˜ í¬ê¸°ë¥¼ 2.2Gë¡œ ì¸ì‹í•  ë“¯í•˜ë‹¤.
ì´ë¥¼ ë„‰ë„‰í•˜ê²Œ 16Gë¡œ ëŠ˜ë ¤ì£¼ì.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ qemu-img resize ubuntu-22.04-server-cloudimg-amd64.img 16G
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Image resized.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ qemu-img info ubuntu-22.04-server-cloudimg-amd64.img
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">image: ubuntu-22.04-server-cloudimg-amd64.img
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">file format: qcow2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">virtual size: &lt;span class="m">16&lt;/span> GiB &lt;span class="o">(&lt;/span>&lt;span class="m">17179869184&lt;/span> bytes&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">disk size: &lt;span class="m">636&lt;/span> MiB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cluster_size: &lt;span class="m">65536&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Format specific information:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> compat: 0.10
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> compression type: zlib
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> refcount bits: &lt;span class="m">16&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì´ë¯¸ì§€ë¥¼ 16Gë¡œ resize í•´ì¤€ ë’¤ ë‹¤ì‹œ infoë¥¼ í†µí•´ ì •ë³´ë¥¼ ì¡°íšŒí•´ë³´ë©´ virtual sizeê°€ 16Gë¡œ ëŠ˜ì–´ë‚œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>ì´ì œ Auto install ì‹œì— ì‚¬ìš©í•  ì„¤ì • ì •ë³´ë¥¼ ì •ì˜í•˜ëŠ” ë””ìŠ¤í¬ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ ì°¨ë¡€ì´ë‹¤. ì´ì™€ ê´€ë ¨í•´ì„œëŠ” cloud-initì´ë‚˜ user-data ê°™ì€ í‚¤ì›Œë“œë“¤ì´ê°€ ì¡´ì¬í•˜ë‹ˆ
ìì„¸í•œ ì‚¬í•­ì´ í•„ìš”í•˜ë©´ ë³„ë„ë¡œ ì°¾ì•„ë³´ëŠ” ê²Œ ë‚˜ì„ ë“¯í•˜ë‹¤. ëŒ€ì¶© &lt;a class="link" href="https://cloudinit.readthedocs.io/en/latest/topics/examples.html" target="_blank" rel="noopener"
>ì´ê³³ì˜ ì˜ˆì‹œ&lt;/a>ì²˜ëŸ¼ ìƒê²¼ë‹¤.&lt;/p>
&lt;p>ê°„ëµíˆ ì„¤ëª…í•˜ë©´ ubuntuë¥¼ ìë™ ì„¤ì¹˜í•  ë•Œ &lt;code>user-data&lt;/code>ë‚˜ &lt;code>metadata&lt;/code>ë¼ëŠ” íŒŒì¼ì„ í†µí•´ ì´ˆê¸° ì„¤ì •ì„ ì •ì˜í•  ìˆ˜ ìˆë‹¤.
ì´ë¥¼ í†µí•´ ë‚˜ëŠ” ë‚˜ì˜ ssh ê³µê°œí‚¤ë‚˜ vmì˜ hostnameë“±ì„ ì •ì˜í•´ë³´ë ¤í•œë‹¤. ssh ê³µê°œí‚¤ë¥¼ ì •ì˜í•˜ëŠ” PCì—ì„œ VMì— SSH ì ‘ì† ì‹œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">#cloud-config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">ssh_authorized_keys&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- {{&lt;span class="w"> &lt;/span>&lt;span class="l">ë³¸ì¸ì´ SSH ì ‘ì† ì‹œ ì‚¬ìš©í•˜ëŠ” ë¹„ë°€í‚¤ì— ëŒ€í•œ ê³µê°œí‚¤ }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">password&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>user-data&lt;/code> íŒŒì¼ì„ ìœ„ì™€ ê°™ì´ ì‘ì„±í•´ì¤¬ë‹¤. SSH ê³µê°œí‚¤ëŠ” ë‚˜ì˜ ê²½ìš° &lt;code>ssh-ed25519 FooBar(ìƒëµ) Jinsu&lt;/code> ë­ ì´ëŸ° ì‹ìœ¼ë¡œ ìƒê²¼ë‹¤.
ì£¼ì˜í•  ì ì€ ì²« ë¬¸ì¥ì€ ì£¼ì„ì¼ì§€ë¼ë„ &lt;code>#cloud-config&lt;/code>ë¡œ ì ì–´ì¤˜ì•¼ ì¸ì‹ì´ ëœë‹¤ëŠ” ì ì´ë‹¤! ê·¸ëƒ¥ user-data, cloud-init ìŠ¤í™ì´ ê·¸ë ‡ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">local-hostname&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">vm1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì•ì„œ ì–¸ê¸‰í•œ ëŒ€ë¡œ VMì˜ ì´ë¦„ì€ vm1ì„ ì‚¬ìš©í•  ê²ƒì´ë¯€ë¡œ hostnameì„ vm1ìœ¼ë¡œ ë³€ê²½í•´ë´¤ë‹¤.&lt;/p>
&lt;p>ê·¸ëŸ¼ ì´ì œ &lt;code>user-data&lt;/code>ì™€ &lt;code>metadata&lt;/code>ë¼ëŠ” ë‘ íŒŒì¼ì„ ë³¼ë¥¨ìœ¼ë¡œì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ì–´ì¤˜ì•¼í•œë‹¤.
ì´ë•Œì—ëŠ” cloud-localdsë¼ëŠ” ë„êµ¬ë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì´ í¸ë¦¬í–ˆë‹¤. Cloud Init ì„¤ì •ìš© ë³¼ë¥¨ì´ë¼ëŠ” ê²ƒì„ ì¸ì‹í•˜ê¸° ìœ„í•´ì„œëŠ” í•´ë‹¹ ë³¼ë¥¨ì— CI ë“±ì˜ ë¼ë²¨ì´ ë‹¬ë ¤ìˆì–´ì•¼í•˜ë©° ëª‡ëª‡ì˜ íŠ¹ì • íŒŒì¼ ì‹œìŠ¤í…œì„ ì´ìš©í•´ì•¼í•œë‹¤ê³  í•œë‹¤.
cloud-localdsëŠ” ê·¸ëŸ° ì¡°ê±´ì„ ë§Œì¡±ì‹œí‚¤ëŠ” ë³¼ë¥¨ì˜ ì´ë¯¸ì§€ë¥¼ ì•Œì•„ì„œ ì˜ ë§Œë“¤ì–´ì¤€ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ apt install -y cloud-image-utils
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ cloud-localds seed.img user-data metadata
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>í•´ë‹¹ ì´ë¯¸ì§€ì˜ ì´ë¦„ì€ &lt;code>seed.img&lt;/code>ë¼ê³  ì§€ì–´ì¤¬ë‹¤. ì´ ì´ë¯¸ì§€ëŠ” &lt;code>user-data&lt;/code>ì™€ &lt;code>metadata&lt;/code> ë‘ íŒŒì¼ë§Œì„ í¬í•¨í•˜ëŠ” ë³¼ë¥¨ì„ ë‚˜íƒ€ë‚¼ ê²ƒì´ë‹¤.
ì¢€ ë” í™•ì¸í•´ë³´ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ í™•ì¸í•´ë³¼ ìˆ˜ ìˆì—ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ mkdir -p /mnt/vm1-seed
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ mount seed.img /mnt/vm1-seed
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ ls -al /mnt/vm1-seed
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">total &lt;span class="m">7&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dr-xr-xr-x &lt;span class="m">2&lt;/span> root root &lt;span class="m">2048&lt;/span> Dec &lt;span class="m">7&lt;/span> 14:43 .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxr-xr-x &lt;span class="m">7&lt;/span> root root &lt;span class="m">4096&lt;/span> Dec &lt;span class="m">7&lt;/span> 14:44 ..
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">20&lt;/span> Dec &lt;span class="m">7&lt;/span> 14:43 meta-data
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">144&lt;/span> Dec &lt;span class="m">7&lt;/span> 14:43 user-data
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ë‹¤ì‹œ umountí•˜ê³  /mnt/vm1-seed ë””ë ‰í† ë¦¬ ì‚­ì œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ umount seed.img
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ rm -r /mnt/vm1-seed
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ umount /mnt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ lsblk -f
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">root@whale-home:~/vm1# lsblk -f
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAME FSTYPE FSVER LABEL UUID FSAVAIL FSUSE% MOUNTPOINTS
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">loop0 iso9660 Joliet Extension cidata 2022-12-07-14-43-10-00 &lt;span class="m">0&lt;/span> 100% /mnt/seed
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">(&lt;/span>...ìƒëµ&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sda
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€sda1 vfat FAT32 B125-AD84 1G 0% /boot/efi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€sda2 ext4 1.0 a472b2ba-5b46-4495-8dc6-abe59a2e5153 1.5G 13% /boot
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€sda3 LVM2_member LVM2 &lt;span class="m">001&lt;/span> D94K0G-n2UY-sxNu-nw23-962h-ZVSa-njxMOk
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€ubuntu--vg-ubuntu--lv ext4 1.0 6f3fa5e0-59bb-4cea-97e0-aa86b7cb68c7 53.9G 40% /
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="1ì°¨ë¡œ-vm-ë„ì›Œë³´ê¸°">1ì°¨ë¡œ VM ë„ì›Œë³´ê¸°&lt;/h2>
&lt;p>ì´ì œ ë„¤íŠ¸ì›Œí¬ ì„¤ì •ë§Œ ë‚¨ê¸´í–ˆëŠ”ë° ì¼ë‹¨ ìš°ì„  í•œ ë²ˆ ì •ë„ëŠ” VMì„ ëœ¨ê¸°ëŠ” í•˜ëŠ”ì§€ë¥¼ í™•ì¸í•´ë³´ë ¤í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># qsëŠ” alias qs=qemu-system-x86_64 ë¡œ ì„¤ì •ëœ aliasì´ë‹¤.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ qs -machine &lt;span class="nv">accel&lt;/span>&lt;span class="o">=&lt;/span>kvm,type&lt;span class="o">=&lt;/span>q35 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -cpu host &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -smp &lt;span class="m">2&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -m 4G &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --nographic &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -drive &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>virtio,format&lt;span class="o">=&lt;/span>qcow2,file&lt;span class="o">=&lt;/span>ubuntu-22.04-server-cloudimg-amd64.img &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -drive &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>virtio,format&lt;span class="o">=&lt;/span>raw,file&lt;span class="o">=&lt;/span>seed.img
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">(&lt;/span>...ìƒëµ&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Ubuntu 22.04.1 LTS vm1 ttyS0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vm1 login: ubuntu
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">password:
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì¸ìê°€ ì˜ë¯¸í•˜ëŠ” ë°”ëŠ” ëŒ€ì¶© ì´ê³³ ë§í¬&lt;a class="link" href="https://www.arthurkoziel.com/qemu-ubuntu-20-04/" target="_blank" rel="noopener"
>[2]&lt;/a>ì— ì˜ ì •ë¦¬ë˜ì–´ìˆì—ˆë‹¤.
í˜¹ì€ ê·¸ëƒ¥ qemu-system-x86_64 &amp;ndash;help ì— ë‚˜ì˜¤ëŠ” ì¸ì ì„¤ëª…ì„ ë´ë„ ëŒ€ì¶©ì€ ì´í•´ëŠ” ëœë‹¤. ëª‡ëª‡ ì¸ìì— ëŒ€í•œ ì„¤ëª…ì€ ì¢€ ì´í•´ê°€ ì•ˆ ë¼ì„œ ë”°ë¡œ ì°¾ì•„ë´ì•¼í•˜ê¸´ í•˜ì§€ë§Œ..&lt;/p>
&lt;p>ëŒ€ì¶© ë¡œê·¸ì¸í•˜ê³  íŒ¨ìŠ¤ì›Œë“œë¥¼ ì´ˆê¸°í™”í•˜ê³  ë‚˜ë©´ ì‰˜ì— ì ‘ì†í•˜ê²Œ ëœë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">df -h /dev/vda1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Filesystem Size Used Avail Use% Mounted on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/dev/vda1 16G 1.5G 14G 10% /
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ë¡œê·¸ì¸í•´ì„œ ë£¨íŠ¸ íŒŒì¼ì‹œìŠ¤í…œì˜ í¬ê¸°ë¥¼ ì¡°íšŒí•´ë³´ë‹ˆ ìš°ë¦¬ê°€ &lt;code>.img&lt;/code> íŒŒì¼ì„ resizeí•œ ëŒ€ë¡œ 16Gë¡œ ì˜ ëŠ˜ì–´ë‚˜ì„œ ì„¤ì •ë˜ì–´ìˆëŠ” ëª¨ìŠµì´ë‹¤!&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">ubuntu@vm1:~$ ping google.com -c &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PING google.com &lt;span class="o">(&lt;/span>142.250.66.78&lt;span class="o">)&lt;/span> 56&lt;span class="o">(&lt;/span>84&lt;span class="o">)&lt;/span> bytes of data.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">64&lt;/span> bytes from hkg12s27-in-f14.1e100.net &lt;span class="o">(&lt;/span>142.250.66.78&lt;span class="o">)&lt;/span>: &lt;span class="nv">icmp_seq&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="nv">ttl&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">255&lt;/span> &lt;span class="nv">time&lt;/span>&lt;span class="o">=&lt;/span>44.9 ms
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- google.com ping statistics ---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">1&lt;/span> packets transmitted, &lt;span class="m">1&lt;/span> received, 0% packet loss, &lt;span class="nb">time&lt;/span> 0ms
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rtt min/avg/max/mdev &lt;span class="o">=&lt;/span> 44.868/44.868/44.868/0.000 ms
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Googleì— pingì„ ë•Œë ¤ë³´ë‹ˆ ì¸í„°ë„· í†µì‹ ì€ ê°€ëŠ¥í•œ ë“¯í•˜ê¸´í•˜ì§€ë§Œ í˜¸ìŠ¤íŠ¸ê°€ ì‚¬ìš© ì¤‘ì¸ ê³µìœ ê¸°ë¥¼ í†µí•´
ê°™ì€ ë„¤íŠ¸ì›Œí¬ë¥¼ ì´ìš©í•˜ê³  ìˆëŠ” ìƒíƒœëŠ” ì•„ë‹ˆë‹¤. ì¦‰, í˜¸ìŠ¤íŠ¸ -&amp;gt; VM í˜¹ì€ ê³µìœ ê¸° ë„¤íŠ¸ì›Œí¬ -&amp;gt; VMìœ¼ë¡œì˜ ì ‘ê·¼ì€ ë¶ˆê°€ëŠ¥í•œ ìƒíƒœì´ë‹¤.
ë”°ë¼ì„œ ì¶”ê°€ì ì¸ ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤.&lt;/p>
&lt;p>hostë¡œ ëŒì•„ê°€ë ¤ë©´ VMì„ ì¢…ë£Œì‹œí‚¤ë©´ ëœë‹¤. í”„ë¡œì„¸ìŠ¤ë¥¼ killí•´ë„ ë˜ê¸´ í•˜ì§€ë§Œ &lt;code>sudo shutdown -h now&lt;/code> ëª…ë ¹ì–´ë¥¼ í†µí•´ VM ë‚´ë¶€ì—ì„œ ì•ˆì „íˆ ì¢…ë£Œí•  ìˆ˜ë„ ìˆë‹¤.&lt;/p>
&lt;p>ì°¸ê³ ) ì°¸ê³ ë¡œ VMì—ì„œ ë„¤íŠ¸ì›Œí¬ í†µì‹ ì´ ì›í™œí•˜ì§€ ì•Šì€ ê²½ìš° &lt;code>sudo sysctl net.ipv4.ip_forward=1&lt;/code>ë¡œ packet forwardë¥¼ í™œì„±í™”ì‹œì¼œì¤˜ì•¼í•  ìˆ˜ ìˆë‹¤ê³ í•œë‹¤.
ë‚˜ì˜ ê²½ìš°ì—ëŠ” ì´ ê°’ê³¼ ë¬´ê´€í•˜ê²Œ ì˜ ë™ì‘í•˜ê¸´í–ˆë‹¤.&lt;/p>
&lt;h2 id="ë¸Œë¦¿ì§€-ë„¤íŠ¸ì›Œí¬-ì„¤ì •í•˜ê¸°">ë¸Œë¦¿ì§€ ë„¤íŠ¸ì›Œí¬ ì„¤ì •í•˜ê¸°&lt;/h2>
&lt;p>ì´ì œ ë„¤íŠ¸ì›Œí¬ ì„¤ì •ë§Œ í•´ì£¼ë©´ ëœë‹¤. ë‚˜ ê°™ì€ ê²½ìš°ì—ëŠ” VMì´ í˜¸ìŠ¤íŠ¸ì™€ ë™ì¼í•œ ê³µìœ ê¸° ë„¤íŠ¸ì›Œí¬ë¥¼ ì´ìš©í•˜ë„ë¡ í•˜ì—¬ VMì˜ ì¸í„°ë„· í†µì‹ , VM &amp;lt;-&amp;gt; í˜¸ìŠ¤íŠ¸ ë¨¸ì‹  ê°„ì˜ í†µì‹ , ê·¸ë¦¬ê³  VM &amp;lt;-&amp;gt; ê³µìœ ê¸° ë‚´ì˜ ë””ë°”ì´ìŠ¤ë“¤ ê°„ì˜ í†µì‹ ì´ ê°€ëŠ¥í•˜ë„ë¡ í•˜ê³  ì‹¶ë‹¤.
ë”°ë¼ì„œ í¼ë¸”ë¦­ ë¸Œë¦¿ì§€ ë°©ì‹ì„ ì´ìš©í•  ê²ƒì´ë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ì´ ë¶€ë¶„ì´ VirtualBoxë¥¼ ì¼ì„ ë•Œì™€ëŠ” ë‹¬ë¦¬ ì²˜ìŒ ê²½í—˜í•´ë³´ëŠ” ì‚¬ëŒì—ê²ŒëŠ” ì•½ê°„ ì§€ì˜¥ì¼ ìˆ˜ ìˆë‹¤. ë§ˆìŒì„ ì—´ê³  Tap network, Bridge ê°™ì€ ë‚´ìš©ì„ ê³µë¶€í•´ë´ì•¼ ì´í•´í•˜ê³  ì‘ì—…ì´ ê°€ëŠ¥í•˜ë‹¤.
VirtualBoxë¥¼ ì´ìš©í•˜ë“  qemuë¥¼ ì´ìš©í•˜ëŠ” ì›ë¦¬ëŠ” ê°™ê¸´í•˜ë‹¤. bridgeìš© interfaceë¥¼ ìƒì„±í•˜ê³  í˜¸ìŠ¤íŠ¸ê°€ ê³µìœ ê¸°ë‘ ì‚¬ìš©í•˜ë˜ ì¸í„°í˜ì´ìŠ¤ë¥¼
ë¸Œë¦¿ì§€ìš© ì¸í„°í˜ì´ìŠ¤ì— ë¬¶ì–´ì£¼ê³  VMì€ Tap ë„¤íŠ¸ì›Œí¬ì˜ ì¥ì¹˜ë¥¼ ì´ìš©í•´ ìì‹ ì˜ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ ì¹´ë“œë¥¼ ê°€ìƒí™”í•˜ëŠ” ë“¯í•˜ë‹¤. ì™„ì „ ì •í™•íˆ ê³µë¶€í•´ë³´ì§„ ì•Šì•˜ì§€ë§Œ ëŒ€ì¶© íë¦„ì€ ê·¸ë ‡ë‹¤.
VirtualBoxëŠ” ì´ëŸ° ê³¼ì •ì„ ì•Œì•„ì„œ ìˆ˜í–‰í•´ì£¼ëŠ” ë“¯í•˜ì§€ë§Œ qemuëŠ” ê·¸ë ‡ì§€ ì•Šìœ¼ë¯€ë¡œ ì§ì ‘ êµ¬ì„±í•´ì•¼í•œë‹¤.&lt;/p>
&lt;p>ë¸Œë¦¿ì§€ ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì€ í˜¸ìŠ¤íŠ¸ì˜ í™˜ê²½ë§ˆë‹¤ ìƒì´í•  ê²ƒì´ë‹¤. ë‚˜ê°™ì€ ê²½ìš°ì—ëŠ” í˜¸ìŠ¤íŠ¸ ë¨¸ì‹  ë˜í•œ Ubuntu Server 22.04ì´ë¯€ë¡œ
ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì ì–´ë³´ê² ë‹¤. ì˜ëª»ëœ ì‘ì—…ì€ í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì˜ ë„¤íŠ¸ì›Œí¬ì— ì¥ì• ë¥¼ ë‚³ì„ ìˆ˜ ìˆìœ¼ë‹ˆ ë°±ì—…ì„ ë– ë†“ê±°ë‚˜ ë„¤íŠ¸ì›Œí¬ ì—†ì´ë„ ì–¼ë§ˆë“ ì§€ ì ‘ì†ì´ ê°€ëŠ¥í•œ
ìƒí™©ì—ì„œ ì‘ì—…ì„ í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># /etc/netplan/00-installer-config-wifi.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ê¸°ì¡´ ì„¤ì •&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">network&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ethernets&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">eth0&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dhcp4&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dhcp6&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">macaddress&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">00&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="l">e0:4c:36:3f:c6&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">set-name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">eth0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">wifis&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">wlp2s0&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">access-points&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>{{&lt;span class="w"> &lt;/span>&lt;span class="nt">YOUR AP NAME }}&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">password&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>{{&lt;span class="w"> &lt;/span>&lt;span class="l">YOUR AP PASSWORD }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dhcp4&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dhcp6&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ ifconfig eth0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">eth0: &lt;span class="nv">flags&lt;/span>&lt;span class="o">=&lt;/span>4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt; mtu &lt;span class="m">1500&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> inet 192.168.219.183 netmask 255.255.255.0 broadcast 192.168.219.255
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">(&lt;/span>...ìƒëµ&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ê¸°ì¡´ì—ëŠ” ìœ„ì™€ ê°™ì´ ê³µìœ ê¸°ì™€ ì´ë”ë„·ìœ¼ë¡œ ì—°ê²°ëœ ì¸í„°í˜ì´ìŠ¤ê°€ IPë¥¼ ê°–ê³  ìˆëŠ” ëª¨ìŠµì´ë‹¤.
ì´ì œ ì´ ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•œ DHCPë¥¼ ë¹„í™œì„±í™” ì‹œí‚¤ê³  bridge ì¸í„°í˜ì´ìŠ¤ë¡œ ë¸Œë¦¿ì§€ë  ì¸í„°í˜ì´ìŠ¤ ëª©ë¡ì— ì´ ì¸í„°í˜ì´ìŠ¤(&lt;code>eth0&lt;/code>)ë¥¼ ì¶”ê°€í•´ì£¼ë©´
eth0ì˜ IPëŠ” ì‚¬ë¼ì§€ê³  ë¸Œë¦¿ì§€ ì¸í„°í˜ì´ìŠ¤ê°€ IPë¥¼ ë°œê¸‰ë°›ê²Œ ë  ê²ƒì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># /etc/netplan/00-installer-config-wifi.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ë³€ê²½í•œ ì„¤ì •&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">network&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ethernets&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">eth0&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dhcp4&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dhcp6&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">macaddress&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">00&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="l">e0:4c:36:3f:c6&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">set-name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">eth0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">wifis&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">wlp2s0&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">access-points&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>{{&lt;span class="w"> &lt;/span>&lt;span class="nt">YOUR AP NAME }}&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">password&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>{{&lt;span class="w"> &lt;/span>&lt;span class="l">YOUR AP PASSWORD }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dhcp4&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dhcp6&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">bridges&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">br0&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dhcp4&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dhcp6&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">interfaces&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">eth0]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ê·¸ë¥¼ ìœ„í•´ ìœ„ì™€ ê°™ì´ netplan ì„¤ì •ì„ ë³€ê²½í•´ì¤¬ë‹¤. eth0ì˜ DHCPë¥¼ ë„ê³  ë¸Œë¦¿ì§€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¶”ê°€í•´ì¤¬ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ sudo netplan apply
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo systemctl restart systemd-networkd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì„¤ì •ì„ ì ìš©í•´ì¤¬ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ ifconfig eth0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">eth0: &lt;span class="nv">flags&lt;/span>&lt;span class="o">=&lt;/span>4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt; mtu &lt;span class="m">1500&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ether 00:e0:4c:36:3f:c6 txqueuelen &lt;span class="m">1000&lt;/span> &lt;span class="o">(&lt;/span>Ethernet&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> RX packets &lt;span class="m">431&lt;/span> bytes &lt;span class="m">48373&lt;/span> &lt;span class="o">(&lt;/span>48.3 KB&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> RX errors &lt;span class="m">0&lt;/span> dropped &lt;span class="m">4&lt;/span> overruns &lt;span class="m">0&lt;/span> frame &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> TX packets &lt;span class="m">438&lt;/span> bytes &lt;span class="m">68498&lt;/span> &lt;span class="o">(&lt;/span>68.4 KB&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> TX errors &lt;span class="m">0&lt;/span> dropped &lt;span class="m">0&lt;/span> overruns &lt;span class="m">0&lt;/span> carrier &lt;span class="m">0&lt;/span> collisions &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ ifconfig br0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">br0: &lt;span class="nv">flags&lt;/span>&lt;span class="o">=&lt;/span>4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt; mtu &lt;span class="m">1500&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> inet 192.168.219.121 netmask 255.255.255.0 broadcast 192.168.219.255
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> inet6 fe80::a0e8:49ff:fe15:547c prefixlen &lt;span class="m">64&lt;/span> scopeid 0x20&amp;lt;link&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ether a2:e8:49:15:54:7c txqueuelen &lt;span class="m">1000&lt;/span> &lt;span class="o">(&lt;/span>Ethernet&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> RX packets &lt;span class="m">150&lt;/span> bytes &lt;span class="m">14431&lt;/span> &lt;span class="o">(&lt;/span>14.4 KB&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> RX errors &lt;span class="m">0&lt;/span> dropped &lt;span class="m">0&lt;/span> overruns &lt;span class="m">0&lt;/span> frame &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> TX packets &lt;span class="m">94&lt;/span> bytes &lt;span class="m">14486&lt;/span> &lt;span class="o">(&lt;/span>14.4 KB&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> TX errors &lt;span class="m">0&lt;/span> dropped &lt;span class="m">0&lt;/span> overruns &lt;span class="m">0&lt;/span> carrier &lt;span class="m">0&lt;/span> collisions &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ë¸Œë¦¿ì§€ê°€ ì˜ ì ìš©ëœ ëª¨ìŠµì´ë‹¤. &lt;code>brctl&lt;/code>ì´ë¼ëŠ” ë¸Œë¦¿ì§€ ê´€ë¦¬ ë„êµ¬ë¡œë„ ì •ë³´ë¥¼ í™•ì¸í•´ë³¼ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ sudo apt install -y bridge-utils
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ brctl show
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bridge name bridge id STP enabled interfaces
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">br0 8000.a2e84915547c no eth0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì´ì œ ë¸Œë¦¿ì§€ ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì´ ì˜ ëœ ë“¯í•˜ë‹¤. VMì„ ë‹¤ì‹œ ë„ì›Œë´¤ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ qs -machine &lt;span class="nv">accel&lt;/span>&lt;span class="o">=&lt;/span>kvm,type&lt;span class="o">=&lt;/span>q35 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -cpu host &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -smp &lt;span class="m">2&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -m 4G &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --nographic &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -drive &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>virtio,format&lt;span class="o">=&lt;/span>qcow2,file&lt;span class="o">=&lt;/span>ubuntu-22.04-server-cloudimg-amd64.img &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -drive &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>virtio,format&lt;span class="o">=&lt;/span>raw,file&lt;span class="o">=&lt;/span>seed.img &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -nic bridge,br&lt;span class="o">=&lt;/span>br0,model&lt;span class="o">=&lt;/span>virtio-net-pci
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>VMì„ ë„ìš°ë˜ bridge network ì„¤ì •ì„ ìœ„í•´ ì•ì„œ VMì„ ë„ì› ë˜ ëª…ë ¹ì–´ì—ì„œ &lt;code>-nic bridge,br=br0,model=virtio-net-pci&lt;/code> ì¸ìë§Œ ì¶”ê°€í•´ì¤¬ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">ubuntu@vm1:~$ ip addr show enp0s2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2: enp0s2: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu &lt;span class="m">1500&lt;/span> qdisc fq_codel state UP group default qlen &lt;span class="m">1000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> link/ether 52:54:00:12:34:56 brd ff:ff:ff:ff:ff:ff
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> inet 192.168.219.185/24 metric &lt;span class="m">100&lt;/span> brd 192.168.219.255 scope global dynamic enp0s2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> valid_lft 21557sec preferred_lft 21557sec
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> inet6 fe80::5054:ff:fe12:3456/64 scope link
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> valid_lft forever preferred_lft forever
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ubuntu@vm1:~$ ping 192.168.219.180 -c &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PING 192.168.219.180 &lt;span class="o">(&lt;/span>192.168.219.180&lt;span class="o">)&lt;/span> 56&lt;span class="o">(&lt;/span>84&lt;span class="o">)&lt;/span> bytes of data.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">64&lt;/span> bytes from 192.168.219.180: &lt;span class="nv">icmp_seq&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="nv">ttl&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">64&lt;/span> &lt;span class="nv">time&lt;/span>&lt;span class="o">=&lt;/span>2.89 ms
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- 192.168.219.180 ping statistics ---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">1&lt;/span> packets transmitted, &lt;span class="m">1&lt;/span> received, 0% packet loss, &lt;span class="nb">time&lt;/span> 0ms
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rtt min/avg/max/mdev &lt;span class="o">=&lt;/span> 2.887/2.887/2.887/0.000 ms
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>í˜¸ìŠ¤íŠ¸ê°€ ì´ìš© ì¤‘ì¸ &lt;code>192.168.219.0/24&lt;/code> ë„¤íŠ¸ì›Œí¬ì˜ IPë¥¼ ì´ìš©í•˜ê³  ìˆìœ¼ë©° í˜„ì¬ ë‚´ í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì˜ IPì¸ 192.168.219.180ë¡œ Pingë„ ê°€ëŠ¥í•˜ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ brctl show
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bridge name bridge id STP enabled interfaces
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">br0 8000.a2e84915547c no eth0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> tap0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ ifconfig tap0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tap0: &lt;span class="nv">flags&lt;/span>&lt;span class="o">=&lt;/span>4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt; mtu &lt;span class="m">1500&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> inet6 fe80::fc35:9dff:fe3f:86b0 prefixlen &lt;span class="m">64&lt;/span> scopeid 0x20&amp;lt;link&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ether fe:35:9d:3f:86:b0 txqueuelen &lt;span class="m">1000&lt;/span> &lt;span class="o">(&lt;/span>Ethernet&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">(&lt;/span>...ìƒëµ&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì°¸ê³ ) ì°¸ê³ ë¡œ vmì´ ì‹¤í–‰ë  ë•ŒëŠ” ìë™ìœ¼ë¡œ ì´ë ‡ê²Œ ì•„ê¹Œ ìƒì„±í•œ bridge interfaceì— tap network interfaceê°€ ë¬¶ì¸ë‹¤. ë”°ë¼ì„œ br0ì— eth0ë¥¼ ì¶”ê°€í•´ì¤¬ë˜ ê²ƒì²˜ëŸ¼ ìˆ˜ë™ìœ¼ë¡œ tap0 ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  ì¶”ê°€í•´ì£¼ì§€ëŠ” ì•Šì•„ë„ ëœë‹¤.&lt;/p>
&lt;h2 id="ìµœì¢…ì ìœ¼ë¡œ-vmì„-ë°±ê·¸ë¼ìš´ë“œì—ì„œ-ë„ìš°ê¸°">ìµœì¢…ì ìœ¼ë¡œ VMì„ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë„ìš°ê¸°&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ qs -machine &lt;span class="nv">accel&lt;/span>&lt;span class="o">=&lt;/span>kvm,type&lt;span class="o">=&lt;/span>q35 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -name vm1 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -cpu host &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -smp &lt;span class="m">2&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -m 4G &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -daemonize &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -display none &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -drive &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>virtio,format&lt;span class="o">=&lt;/span>qcow2,file&lt;span class="o">=&lt;/span>ubuntu-22.04-server-cloudimg-amd64.img &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -drive &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>virtio,format&lt;span class="o">=&lt;/span>raw,file&lt;span class="o">=&lt;/span>seed.img &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -nic bridge,br&lt;span class="o">=&lt;/span>br0,model&lt;span class="o">=&lt;/span>virtio-net-pci
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>-nograhic&lt;/code> -&amp;gt; &lt;code>-display none&lt;/code> ìœ¼ë¡œ ë³€ê²½í•˜ê³  &lt;code>-daemonize&lt;/code> ì¸ìë¥¼ í†µí•´ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ëŒ ìˆ˜ ìˆê²Œ í•´ì¤¬ë‹¤.&lt;/p>
&lt;p>ğŸ‰ ì´ë ‡ê²Œ QEMUë¡œ VM ë„ì›Œë³´ê¸° ì™„ë£Œ~!&lt;/p>
&lt;h2 id="ë°°ìš´-ê²ƒ-ì–»ì€-ê²ƒ">ë°°ìš´ ê²ƒ, ì–»ì€ ê²ƒ&lt;/h2>
&lt;ul>
&lt;li>QEMUê°€ ë­”ì§€, KVMì´ ë­”ì§€, ì–´ë–»ê²Œ ì“°ëŠ” ê±´ì§€&lt;/li>
&lt;li>ë¸Œë¦¿ì§€ ë„¤íŠ¸ì›Œí¬ ì„¤ì • ë°©ë²•&lt;/li>
&lt;li>TAP ë„¤íŠ¸ì›Œí¬ ê°œë…&lt;/li>
&lt;li>ê°€ìƒ ì´ë¯¸ì§€ íƒ€ì…(RAW, QCOW2)&lt;/li>
&lt;/ul>
&lt;h2 id="ê¸€ì—ì„œ-ë‹¤ë£¬-ë‚´ìš©-ì™¸ì—-ë”-í•´ë³¼-ë§Œí•œ-ê²ƒ">ê¸€ì—ì„œ ë‹¤ë£¬ ë‚´ìš© ì™¸ì— ë” í•´ë³¼ ë§Œí•œ ê²ƒ&lt;/h2>
&lt;ul>
&lt;li>&lt;code>-daemonize&lt;/code>ë¥¼ í†µí•´ ë°±ê·¸ë¼ìš´ë“œì—ì„œ VMì„ ëŒë¦¬ë„ë¡ í•˜ê¸´í–ˆì§€ë§Œ í˜¸ìŠ¤íŠ¸ê°€ ì¬ë¶€íŒ…ë˜ê±°ë‚˜
í•´ë‹¹ qemu-system-x86_64 í”„ë¡œì„¸ìŠ¤ê°€ ì£½ìœ¼ë©´ VMì´ ì¬ì‹œì‘ë˜ì§€ ëª»í•˜ëŠ” í˜•íƒœì¸ë° ì´ë¥¼ ê°œì„ í•´ë³¼ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.&lt;/li>
&lt;li>QEMUë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ í•œ ë²ˆ í•´ë´¤ìœ¼ë‹ˆ ì´ë¥¼ ì¢€ ë” í¸ë¦¬í•˜ê²Œ ì“¸ ìˆ˜ ìˆëŠ” proxmoxë‚˜ virtsh ê°™ì€ ë„êµ¬ë“¤ì´ ìˆëŠ” ê²ƒ ê°™ì€ë° ì‹¤ì œë¡œ
VMì„ í†µí•´ í™ˆë©ì„ êµ¬ì¶•í•˜ë ¤ë©´ êµ³ì´ ìˆ˜ì‘ì—…ìœ¼ë¡œ í•˜ê±°ë‚˜ ì§ì ‘ ë§Œë“¤ì§€ ì•Šê³  ì´ëŸ° ë„êµ¬ë“¤ì„ ë„ì…í•´ë³´ëŠ” ê²Œ ì¢‹ì„ ë“¯.&lt;/li>
&lt;/ul>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>VirtualBoxë¥¼ CLIë¡œ ì´ìš©í–ˆì„ ë•Œì—ëŠ” VirtualBoxê°€ CLI ì¹œí™”ì ì¸ ëŠë‚Œì€ ì•„ë‹ˆì—ˆë˜ ê²ƒë„ ìˆê³ , í´ë¼ìš°ë“œ ì´ë¯¸ì§€ê°€ ì•„ë‹Œ ë‹¨ìˆœ live ì´ë¯¸ì§€ë¡œ ì´ìš©í•˜ë‹¤ë³´ë‹ˆ
VM ë„ìš°ëŠ” ê²ƒ ìì²´ëŠ” ê·¸ë¦¬ ê°„ë‹¨í•˜ê²Œ ëŠê»´ì§€ì§€ ì•Šì•˜ë˜ ë°˜ë©´ ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì€ VirtualBoxê°€ ì•Œì•„ì„œ ì¡ì•„ì£¼ëŠ” ê²Œ ë§ìœ¼ë‹ˆ ë˜ê²Œ ê°„ë‹¨í•˜ë‹¤ê³  ëŠê»´ì¡Œë‹¤.&lt;/p>
&lt;p>ë°˜ë©´ QEMUëŠ” CLI ì¹œí™”ì ì¸ ë°ë‹¤ê°€ ì´ë²ˆì—ëŠ” í´ë¼ìš°ë“œ ì´ë¯¸ì§€ë¥¼ ì¨ë´¤ë”ë‹ˆ VMì„ ë„ìš°ëŠ” ê²ƒ ìì²´ëŠ” ì—„ì²­ë‚˜ê²Œ ê°„ë‹¨í–ˆë‹¤. ë°˜ë©´
ë¸Œë¦¿ì§€ ë„¤íŠ¸ì›Œí¬ë¥¼ ì„¤ì •í•˜ëŠ” ê²Œ ì²˜ìŒì´ë‹¤ë³´ë‹ˆ ì‰½ì§€ëŠ” ì•Šì•˜ë˜ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;h2 id="ì°¸ê³ -ìë£Œ">ì°¸ê³  ìë£Œ&lt;/h2>
&lt;p>&lt;em>&lt;a class="link" href="../create-vm-by-vboxmanage/" >[1] - VBoxManage(VirtualBox CLI)ë¡œ VM ìƒì„±í•˜ê¸°&lt;/a>&lt;/em>&lt;/p>
&lt;p>&lt;em>&lt;a class="link" href="https://www.arthurkoziel.com/qemu-ubuntu-20-04/" target="_blank" rel="noopener"
>[2] - Using QEMU to create a Ubuntu 20.04 Desktop VM on macOS&lt;/a>&lt;/em>&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://levelup.gitconnected.com/how-to-setup-bridge-networking-with-kvm-on-ubuntu-20-04-9c560b3e3991" target="_blank" rel="noopener"
>https://levelup.gitconnected.com/how-to-setup-bridge-networking-with-kvm-on-ubuntu-20-04-9c560b3e3991&lt;/a> - ë¸Œë¦¿ì§€ ì„¤ì •ë²•ì„ ì°¸ê³ í•¨&lt;/li>
&lt;li>&lt;a class="link" href="https://superuser.com/questions/1490188/what-is-the-difference-and-relationship-between-kvm-virt-manager-qemu-and-libv/1490196#1490196" target="_blank" rel="noopener"
>https://superuser.com/questions/1490188/what-is-the-difference-and-relationship-between-kvm-virt-manager-qemu-and-libv/1490196#1490196&lt;/a> - KVMê³¼ QEMUì˜ ì°¨ì´ë¥¼ ê°„ë‹¨íˆ ì•Œë ¤ì¤Œ.&lt;/li>
&lt;li>&lt;a class="link" href="https://www.vinchin.com/en/blog/raw-vs-qcow2.html" target="_blank" rel="noopener"
>https://www.vinchin.com/en/blog/raw-vs-qcow2.html&lt;/a> - RAW ì´ë¯¸ì§€ íƒ€ì…ê³¼ QCOW2 ì´ë¯¸ì§€ íƒ€ì…ì— ëŒ€í•œ ë‚´ìš©ì´ ì˜ ì •ë¦¬ë¨&lt;/li>
&lt;li>&lt;a class="link" href="https://www.joinc.co.kr/w/Site/cloud/Qemu/Network" target="_blank" rel="noopener"
>https://www.joinc.co.kr/w/Site/cloud/Qemu/Network&lt;/a> - qemu ì—ì„œ ë‹¤ì–‘í•œ ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì„ ì´ìš©í•˜ëŠ” ì˜ˆì‹œë¥¼ ë³´ì—¬ì¤Œ&lt;/li>
&lt;li>&lt;a class="link" href="https://www.qemu.org/2018/05/31/nic-parameter/" target="_blank" rel="noopener"
>https://www.qemu.org/2018/05/31/nic-parameter/&lt;/a> - net, netdev, device, nic ë“± í—·ê°ˆë¦¬ëŠ” qemu ì‹¤í–‰ ì¸ìë¥¼ ì •ë¦¬í•´ì¤Œ&lt;/li>
&lt;li>&lt;a class="link" href="https://skylit.tistory.com/215" target="_blank" rel="noopener"
>https://skylit.tistory.com/215&lt;/a> - êµ¬ë²„ì „ ìš°ë¶„íˆ¬ì— ëŒ€í•œ bridge ì„¤ì •ì¸ë“¯í•¨&lt;/li>
&lt;li>&lt;a class="link" href="https://ubuntu.com/server/docs/virtualization-libvirt" target="_blank" rel="noopener"
>https://ubuntu.com/server/docs/virtualization-libvirt&lt;/a> - libvirt, virsh ë“±ì˜ ë‚´ìš©ì„ í›‘ì–´ë´„&lt;/li>
&lt;li>&lt;a class="link" href="https://www.snel.com/support/nstall-qemu-guest-agent-for-debian-ubuntu/" target="_blank" rel="noopener"
>https://www.snel.com/support/nstall-qemu-guest-agent-for-debian-ubuntu/&lt;/a> - qemu-guest-agentì— ëŒ€í•œ ë‚´ìš©ì„ ì ê¹ ì‚´í´ë´„&lt;/li>
&lt;/ul></description></item><item><title>VBoxManage(VirtualBox CLI)ë¡œ VM ìƒì„±í•˜ê¸°</title><link>https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/</link><pubDate>Tue, 06 Dec 2022 01:35:00 +0900</pubDate><guid>https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/</guid><description>&lt;img src="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/preview.png" alt="Featured image of post VBoxManage(VirtualBox CLI)ë¡œ VM ìƒì„±í•˜ê¸°" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>í™ˆì„œë²„ë¥¼ ì§ì ‘ êµ¬ì„±í•´ë³´ë©´ì„œ ì‹¤ì œ ê¸°ê¸° ê°œìˆ˜ê°€ ë§ì§€ ì•Šì•„ ì¢€ ì•„ì‰¬ì› ëŠ”ë° ìµœê·¼ì—ëŠ” ì´ë¥¼ VMìœ¼ë¡œ ì¶©ë‹¹í•´ë³¼ê¹Œ ì‹¶ì€ ìƒê°ì´ ë“¤ê¸°ë„ í–ˆë‹¤. ê°–ê³  ìˆëŠ” ë©íƒ‘ í•˜ë‚˜ì— ì—¬ëŸ¬ ëŒ€ì˜ VMì„ ë„ìš°ë©´ í™ˆì„œë²„ì—ì„œ ì¢€ ë” ë§ì€ ìˆ˜ì˜ ë…¸ë“œê°€ ìˆëŠ” ê²ƒì²˜ëŸ¼ ì´ìš©í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ ì‹¶ì–´ VMì„ ë„ì›Œë³´ê¸°ë¡œ í–ˆë‹¤. í•˜ì§€ë§Œ ì´ë²ˆì—ëŠ” ë‹¨ìˆœíˆ GUIë¡œ VMì„ ë„ìš°ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ CLIë¡œ VMì„ ë„ìš°ë©´ì„œ LV(Logical Volume)ì„ ì´ìš©í•´ë´¤ë‹¤. í•´ë‹¹ ë‚´ìš©ì„ ê¹Œë¨¹ì„ê¹Œë´ ì´ ê¸€ì„ í†µí•´ í•œ ë²ˆ ì •ë¦¬í•´ë³¸ë‹¤.&lt;/p>
&lt;h2 id="ì‹¤ìŠµ-í™˜ê²½">ì‹¤ìŠµ í™˜ê²½&lt;/h2>
&lt;p>í˜¸ìŠ¤íŠ¸ í™˜ê²½ì€ ì•„ë˜ì™€ ê°™ë‹¤.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>í•­ëª©&lt;/th>
&lt;th>ì •ë³´&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>CPU&lt;/td>
&lt;td>amd64, 8 Core&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>RAM&lt;/td>
&lt;td>16GB&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Disk&lt;/td>
&lt;td>256GB&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>OS&lt;/td>
&lt;td>Ubuntu server 22.04&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>êµ¬ì„±í•˜ê³ ìí•˜ëŠ” VMì€ ë‹¤ìŒê³¼ ê°™ë‹¤.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>í•­ëª©&lt;/th>
&lt;th>ì •ë³´&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>CPU&lt;/td>
&lt;td>amd64, 2 Core&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>RAM&lt;/td>
&lt;td>4GB&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Disk&lt;/td>
&lt;td>16GB&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>OS&lt;/td>
&lt;td>Ubuntu server 22.04&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>ìš°ì„  ë‚´ ë©íƒ‘ì˜ OSëŠ” Ubuntu server 22.04ì´ê¸°ì— ê¸°ë³¸ì ìœ¼ë¡œ GUI í”„ë¡œê·¸ë¨ì€ ì•„ì˜ˆ ì‹¤í–‰ì´ ì•ˆëœë‹¤. ë”°ë¼ì„œ VirtualBox GUIëŠ” ì´ìš©í•  ìˆ˜ ì—†ì—ˆê³  VBoxManageë¼ëŠ” CLI í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í–ˆë‹¤.&lt;/p>
&lt;p>ì´ë²ˆì— ë§Œë“¤ì–´ë³¼ ê²ƒì€ Host machineì˜ Linux LV(Logical Volume)ì„ ë³¸ì¸(VM)ì˜ ë””ìŠ¤í¬ ì¥ì¹˜ë¡œ ì´ìš©í•˜ëŠ” VMì´ë‹¤.&lt;/p>
&lt;p>êµ³ì´ LVë¥¼ ì´ìš©í•˜ê³ ì í–ˆë˜ ì´ìœ ëŠ” í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì˜ OSë¥¼ ì™„ì „íˆ ë‹¤ì‹œ ì„¤ì¹˜í•˜ë”ë¼ë„ VMì˜ ë°ì´í„°ëŠ” ë³´ì¡´ë˜ê¸¸ ë°”ë¬ê¸° ë•Œë¬¸ì´ë‹¤. ì‚¬ì‹¤ ì´ë ‡ê²Œê¹Œì§€ í•  í•„ìš”ëŠ” ë”±íˆ ì—†ì—ˆëŠ”ë° ìš”ì¦˜ ë³¼ë¥¨ì´ë‚˜ ë§ˆìš´íŠ¸ìª½ì´ ê¶ê¸ˆí•´ì ¸ ì´ë ‡ê²Œ ì‘ì—…í•´ë´¤ë‹¤.&lt;/p>
&lt;h2 id="lv-ìƒì„±í•˜ê¸°">LV ìƒì„±í•˜ê¸°&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ lsblk
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...&lt;span class="o">(&lt;/span>ìƒëµ&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sda 8:0 &lt;span class="m">0&lt;/span> 238.5G &lt;span class="m">0&lt;/span> disk
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€sda1 8:1 &lt;span class="m">0&lt;/span> 1G &lt;span class="m">0&lt;/span> part /boot/efi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€sda2 8:2 &lt;span class="m">0&lt;/span> 2G &lt;span class="m">0&lt;/span> part /boot
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€sda3 8:3 &lt;span class="m">0&lt;/span> 235.4G &lt;span class="m">0&lt;/span> part
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€ubuntu--vg-ubuntu--lv 253:0 &lt;span class="m">0&lt;/span> 100G &lt;span class="m">0&lt;/span> lvm /
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo pvs
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> PV VG Fmt Attr PSize PFree
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> /dev/sda3 ubuntu-vg lvm2 a-- 235.42g 135.42g
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo vgs
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> VG &lt;span class="c1">#PV #LV #SN Attr VSize VFree&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ubuntu-vg &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">0&lt;/span> wz--n- 235.42g 135.42g
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo lvs
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> LV VG Attr LSize Pool Origin Data% Meta% Move Log Cpy%Sync Convert
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ubuntu-lv ubuntu-vg -wi-ao---- 100.00g
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>sdaë¼ëŠ” ë””ìŠ¤í¬ ì¥ì¹˜ì— sda1, sda2, sda3ë¼ëŠ” Physical Volumeì´ ì¡´ì¬í•¨.&lt;/li>
&lt;li>ubuntu-vgë¼ëŠ” Volume Groupì€ sda3ë¼ëŠ” Physical Volumeìœ¼ë¡œ êµ¬ì„±ë¨.&lt;/li>
&lt;li>ubuntu-vgë¼ëŠ” Volume Group ì•„ë˜ì—ëŠ” ubuntu-lvë¼ëŠ” Logical Volumeì´ ì¡´ì¬í•¨.&lt;/li>
&lt;/ul>
&lt;p>&lt;code>lsblk&lt;/code> ë¡œ ë©íƒ‘ì˜ ë””ë°”ì´ìŠ¤ ì •ë³´ë¥¼ ì¶œë ¥í•´ë³¸ ë‚´ìš©ì€ ìœ„ì™€ ê°™ë‹¤.&lt;/p>
&lt;p>ì•ìœ¼ë¡œ ë§Œë“¤ vm1ì´ë¼ëŠ” VMì—ê²Œ ubuntu-vg(sda3)ì— ë‚¨ëŠ” 135.4G ì¤‘ 16GBë¥¼ Logical Volumeìœ¼ë¡œ í• ë‹¹í•´ì¤„ ê²ƒì´ë‹¤. ë”°ë¼ì„œ LVë¥¼ ë§Œë“¤ì–´ì£¼ì.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ sudo lvcreate -n vm1-disk -L 16G ubuntu-vg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Logical volume &lt;span class="s2">&amp;#34;vm1-disk&amp;#34;&lt;/span> created.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo lvs
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> LV VG Attr LSize Pool Origin Data% Meta% Move Log Cpy%Sync Convert
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ubuntu-lv ubuntu-vg -wi-ao---- 100.00g
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> vm1-disk ubuntu-vg -wi-a----- 16.00g
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>vm1ì´ Diskë¡œ ì‚¬ìš©í•  LVê°€ ì˜ ë§Œë“¤ì–´ì§„ ëª¨ìŠµì´ë‹¤. í¬ë§·í•˜ë©° íŒŒì¼ì‹œìŠ¤í…œì„ ì„¤ì •í•´ì¤˜ì•¼í•˜ë ¤ë‚˜ ì‹¶ì—ˆëŠ”ë° ë”±íˆ ê·¸ë ‡ì§€ëŠ” ì•Šê³  ê·¸ëƒ¥ ë°”ë¡œ VirtualBoxê°€ ì‚¬ìš©í•˜ë„ë¡ í•´ì¤„ ìˆ˜ ìˆëŠ” ë“¯í•˜ë‹¤.&lt;/p>
&lt;h2 id="ì´ë¯¸ì§€-ì¤€ë¹„í•˜ê¸°">ì´ë¯¸ì§€ ì¤€ë¹„í•˜ê¸°&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo apt update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt install -y virtualbox virtualbox-ext-pack
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ìš°ì„  ì´ì œ ìŠ¬ìŠ¬ virtualboxê°€ í•„ìš”í•  ê²ƒì´ê¸°ì— virtualboxë¥¼ ì„¤ì¹˜í•´ì¤€ë‹¤. ext-packì€ extensionì¸ë° í•™ìŠµí•  ë•Œì—ëŠ” ì›¬ë§Œí•˜ë©´ ìˆëŠ” ê²Œ ì¢‹ì„ ê²ƒì´ë‹¤. ì•„ë§ˆ ì ì‹œ í›„ RDP(Remote Desktop Protocol)ë¼ëŠ” í”„ë¡œí† ì½œì„ ì´ìš©í•  ë•Œì—ë„ ext-packì´ ìˆì–´ì•¼í•  ê²ƒì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo su
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> &lt;span class="nv">vb&lt;/span>&lt;span class="o">=&lt;/span>VBoxManage
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì´ì œë¶€í„°ëŠ” ë§ì€ ëª…ë ¹ì–´ë“¤ì´ root ê¶Œí•œì„ í•„ìš”ë¡œ í•  ê²ƒì´ë‹¤. ë”°ë¼ì„œ ëŒ€ë¶€ë¶„ì˜ ì‘ì—…ì„ rootë¡œ ìˆ˜í–‰í•  ê²ƒì´ë‹¤.&lt;/p>
&lt;p>ê·¸ë¦¬ê³  vboxmanageë¼ëŠ” ì»¤ë§¨ë“œê°€ ìƒë‹¹íˆ ë§ˆìŒì— ë“¤ì§€ ì•Šì•„ì„œ ë‚˜ëŠ” &lt;code>vb&lt;/code> ë¼ëŠ” aliasë¥¼ ì´ìš©í–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vb internalcommands createrawvmdk \&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -filename vm1-disk.vmdk &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -rawdisk /dev/ubuntu-vg/vm1-disk
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">RAW host disk access VMDK file vm1-disk.vmdk created successfully.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>internal commandë¥¼ ì´ìš©í•´ í˜¸ìŠ¤íŠ¸ì˜ ë””ìŠ¤í¬ ì „ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” VMDK ì´ë¯¸ì§€ë¥¼ &lt;code>vm1-disk.vmdk&lt;/code> ìƒì„±í–ˆë‹¤. ìƒì„±ë˜ëŠ” &lt;code>.vmdk&lt;/code> íŒŒì¼ì˜ í¬ê¸°ëŠ” ëª‡ ë°± ë°”ì´íŠ¸ ì •ë„ë¡œ ìƒë‹¹íˆ ì‘ì€ë°, ì´ íŒŒì¼ ìì²´ê°€ ë°ì´í„°ë¥¼ ë‹´ëŠ” ê²ƒì€ ì•„ë‹ˆê³  ê·¸ëƒ¥ ì–´ë–»ê²Œ í˜¸ìŠ¤íŠ¸ì˜ ë””ìŠ¤í¬(í˜„ì¬ì˜ ê²½ìš° vm1-disk)ë¥¼ ì´ìš©í•  ì§€ì— ëŒ€í•œ ì„¤ì •ë§Œ ì¡´ì¬í•  ë¿ì´ë¼ì„œ ê·¸ëŸ° ë“¯í•˜ë‹¤. ì°¸ê³ ë¡œ &lt;code>cat&lt;/code> ì„ í†µí•´ ë‚´ìš©ì„ í™•ì¸í•´ë³¼ ìˆ˜ë„ ìˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">curl -LO https://mirror.kakao.com/ubuntu-releases/22.04/ubuntu-22.04.1-live-server-amd64.iso
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ê·¸ë¦¬ê³  ì´ì œ Ubuntu Server 22.04ì— ëŒ€í•œ .iso ì´ë¯¸ì§€ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ í•´ì¤€ë‹¤. ì¹´ì¹´ì˜¤ì˜ ë¯¸ëŸ¬ë§ í˜ì´ì§€ë¥¼ ì´ìš©í•˜ë©´ ì™€ì´íŒŒì´ë¡œë„ ë¹ ë¥¸ ê²½ìš° ì•½ 30ì´ˆë§Œì— ë‹¤ìš´ë¡œë“œê°€ ê°€ëŠ¥í•˜ë‹¤. ì´ ì´ë¯¸ì§€ëŠ” ì„¤ì¹˜ìš© ì´ë¯¸ì§€ì´ë‹¤.&lt;/p>
&lt;p>ì´ì œ ì´ë¯¸ì§€ ì¤€ë¹„ëŠ” ì™„ë£Œ ëë‹¤ ğŸ™‚&lt;/p>
&lt;h2 id="vboxmanagevirtualbox-clië¥¼-í†µí•´-vm-ìƒì„±í•˜ê¸°">VBoxManage(VirtualBox CLI)ë¥¼ í†µí•´ VM ìƒì„±í•˜ê¸°&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">mkdir -p vbox
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>í˜„ì¬ì˜ ë¡œì»¬ ê²½ë¡œì— virtualbox vmì´ base folderë¡œ ì‚¬ìš©í•  ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤. ì‚¬ì‹¤ ê¸€ ì´ˆë°˜ì— ì ì€ ì·¨ì§€ì— ë§ì¶”ë ¤ë©´ ì´ ê²½ë¡œë„ ë³„ë„ì˜ ë³¼ë¥¨ìª½ì´ë©´ ì¢‹ì„ ë“¯í•˜ê¸´í•œë° ì¼ë‹¨ì€ ê·¸ëƒ¥ &lt;code>/root/vbox&lt;/code> ë¡œ ì´ìš©í•˜ë ¤í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vb createvm --name vm1 \&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --basefolder&lt;span class="o">=&lt;/span>/root/vbox &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --ostype&lt;span class="o">=&lt;/span>Ubuntu_64 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --register
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Virtual machine &lt;span class="s1">&amp;#39;vm1&amp;#39;&lt;/span> is created and registered.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">UUID: 8ad1ab2c-1e7d-4e22-b65c-51ff7cacfc25
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Settings file: &lt;span class="s1">&amp;#39;/root/vbox/vm1/vm1.vbox&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>VMì´ ìƒì„±ëë‹¤ê³  í•œë‹¤! í•˜ì§€ë§Œ, VMì„ ì‹¤í–‰í•˜ê¸° ì „ì— ëª‡ ê°€ì§€ ì„¤ì •ì„ ë” í•´ì¤˜ì•¼í•œë‹¤.&lt;/p>
&lt;p>ì•„ì§ ìš°ë¦¬ëŠ” ì•ì„œ ë§Œë“  imageë“¤ì„ mountí•˜ì§€ë„ ì•Šì•˜ê¸° ë•Œë¬¸ì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vb storagectl vm1 \&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --name &lt;span class="s2">&amp;#34;SATA Controller&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --add sata --bootable on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vb storageattach vm1 \&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --storagectl &lt;span class="s2">&amp;#34;SATA Controller&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --port &lt;span class="m">0&lt;/span> --device &lt;span class="m">0&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --type dvddrive &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --medium ubuntu-22.04.1-live-server-amd64.iso
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vb storageattach vm1 \&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --storagectl &lt;span class="s2">&amp;#34;SATA Controller&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --port &lt;span class="m">1&lt;/span> --device &lt;span class="m">0&lt;/span> --type hdd &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --medium /root/vm1-disk.vmdk
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>SATAë¼ëŠ” Hard Disk Controllerì„ ì¶”ê°€í•´ì¤€ ë’¤ ìƒì„±í•´ë’€ë˜ &lt;code>vm1-disk.vmdk&lt;/code> (16GBì§œë¦¬ LV ê´€ë ¨) ì´ë¯¸ì§€ë¥¼ HDDë¡œì„œ ì¶”ê°€í•´ì¤€ë‹¤.&lt;/p>
&lt;p>ê·¸ë¦¬ê³  bridge networkë¥¼ í†µí•´ hostì™€ ê°™ì€ ë„¤íŠ¸ì›Œí¬ë¥¼ ì´ìš©í•  ìˆ˜ ìˆê²Œë”í•  ê²ƒì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ip addr show wlp2s0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2: wlp2s0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu &lt;span class="m">1500&lt;/span> qdisc noqueue state UP group default qlen &lt;span class="m">1000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> link/ether 20:16:b9:9b:55:1e brd ff:ff:ff:ff:ff:ff
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> inet 192.168.219.180/24 metric &lt;span class="m">600&lt;/span> brd 192.168.219.255 scope global dynamic wlp2s0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> valid_lft 13790sec preferred_lft 13790sec
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> inet6 fe80::2216:b9ff:fe9b:551e/64 scope link
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> valid_lft forever preferred_lft forever
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vb modifyvm vm1 --nic1 bridged --bridgeadapter1 wlp2s0&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ë‚´ ê²½ìš°ì—ëŠ” &lt;code>wlp2s0&lt;/code> ë¼ëŠ” ì™€ì´íŒŒì´ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì— bridge í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vb modifyvm vm1 --memory 4092 \&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --cpus &lt;span class="m">2&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì•ì„œ ì–¸ê¸‰í•œ ëŒ€ë¡œ MemoryëŠ” 4GB, CPUëŠ” 2 Coreë¡œ ì„¤ì •í–ˆë‹¤.&lt;/p>
&lt;p>ì´ì œ ê±°ì˜ ë‹¤ ì™”ë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ì¼ë°˜ì ì¸ GUIì—ì„œ VirtualBoxë¥¼ í†µí•´ VMì„ ì‹¤í–‰í–ˆì„ ë•Œì™€ ë‹¬ë¦¬ ë‚˜ì˜ í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì˜ OSëŠ” Ubuntu Serverì´ê¸° ë•Œë¬¸ì— ë‚˜ëŠ” ì„¤ì¹˜ ì´ë¯¸ì§€ë¡œ VMì„ ì‹œì‘í–ˆì„ ë•Œ VMì˜ í™”ë©´ì„ ë³¼ ìˆ˜ ì—†ë‹¤.&lt;/p>
&lt;p>ë§Œì•½ Cloud imageë¥¼ ì´ìš©í•˜ê±°ë‚˜ Auto installation ì„¤ì •ì„ ì˜ í•´ë’€ë‹¤ë©´ í™”ë©´ ì—†ì´ ì–´ë–»ê²Œ ì–´ë–»ê²Œ ì•Œì•„ì„œ OSë¥¼ ì„¤ì¹˜í•˜ê³  ì„¤ì •í•œ Bridge adapterì„ ì´ìš©í•´ DHCPí•´ì„œ ë„¤íŠ¸ì›Œí¬ì— ì¡°ì¸í•˜ê³  SSH ì„œë²„ê°€ ì¼œì§ˆ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. ì´ë ‡ê²Œ ë˜ë©´ GUI ì—†ì´ Host machine ë° ê°™ì€ ë„¤íŠ¸ì›Œí¬ ì¥ë¹„ì—ì„œ SSHë¡œ ì ‘ì†í•  ìˆ˜ ìˆëŠ” ê²Œ ë§ê¸´í•˜ë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ì§€ê¸ˆ ì´ìš© ì¤‘ì¸ Ubuntu server ì´ë¯¸ì§€ëŠ” Cloud imageë„ ì•„ë‹ˆê³  ìš°ë¦¬ëŠ” ë³„ë„ë¡œ Auto installation ì„¤ì •ì„ í•œ ê²ƒë„ ì•„ë‹ˆê¸°ì— Display ì¥ì¹˜ë¥¼ í†µí•´ í™”ë©´ì„ ë³´ë©´ì„œ í‚¤ë³´ë“œë¡œ ì„¤ì¹˜ë¥¼ ì§„í–‰í•´ì•¼í•  ê²ƒì´ë‹¤.&lt;/p>
&lt;p>ì´ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì´ RDP(Remote Desktop Protocol)ì´ë¼ëŠ” ê¸°ìˆ ì´ë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ë”°ë¡œ ì°¾ì•„ë³´ëŠ” ê±¸ë¡œí•˜ê³  ì—¬ê¸°ì„  ê°„ë‹¨íˆ ì •ë¦¬í•˜ìë©´ ê·¸ëƒ¥ Remoteì—ì„œ VMì˜ í™”ë©´ì„ ë³´ë©´ì„œ ì…ì¶œë ¥ì„ í•  ìˆ˜ ìˆëŠ” ê¸°ìˆ ì„ ì˜ë¯¸í•œë‹¤. ë‚˜ì˜ ê²½ìš° ê°™ì€ ê³µìœ ê¸° ì•„ë˜ì˜ ë§¥ë¶ì—ì„œ RDP ì ‘ì†ì„ í†µí•´ Ubuntu Server í˜¸ìŠ¤íŠ¸ì˜ Ubuntu Server Guest(VM)ì˜ ì„¤ì¹˜ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆì—ˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 745; flex-basis: 1790px">
&lt;a href="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/mermaid-connection-flow.png" data-size="813x109">&lt;img src="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/mermaid-connection-flow.png"
srcset="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/mermaid-connection-flow_hu7749fb9e9bf25ce37e865f90ba2cc26c_14638_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/mermaid-connection-flow_hu7749fb9e9bf25ce37e865f90ba2cc26c_14638_1024x0_resize_box_3.png 1024w"
width="813"
height="109"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ìœ„ì˜ ê·¸ë¦¼ê³¼ ê°™ì´ ë§¥ë¶ì„ í†µí•´ í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì— RDPë¡œ ì ‘ì†í•˜ë©´ Gusetì— ì—°ê²°ë  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 227; flex-basis: 544px">
&lt;a href="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/microsoft-remote-desktop.png" data-size="1912x842">&lt;img src="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/microsoft-remote-desktop.png"
srcset="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/microsoft-remote-desktop_hu2524cf3bdcb3adef8cf4101d9218953f_210336_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/microsoft-remote-desktop_hu2524cf3bdcb3adef8cf4101d9218953f_210336_1024x0_resize_box_3.png 1024w"
width="1912"
height="842"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>RDPë¥¼ ì´ìš©í•˜ê¸° ìœ„í•´ì„  í´ë¼ì´ì–¸íŠ¸ í”„ë¡œê·¸ë¨ì´ í•„ìš”í•  ê²ƒì´ë‹¤.&lt;/p>
&lt;p>OSXì—ì„œëŠ” remote desktop í´ë¼ì´ì–¸íŠ¸ë¡œ Microsoft Remote Desktopì´ ê°€ì¥ ì¢‹ì€ ë“¯í–ˆë‹¤. ë‚˜ë¨¸ì§€ëŠ” ìœ ë£Œê±°ë‚˜ ìê¸°ë“¤ì´ ê°œë°œí•œ ìì²´ í”„ë¡œí† ì½œ or http ë“±ì„ ì´ìš©í•˜ëŠ” ê²ƒ ê°™ì•˜ë‹¤.&lt;/p>
&lt;p>RDP í”„ë¡œí† ì½œì—ì„œ ì¸ì¦ì´ í•„ìˆ˜ëŠ” ì•„ë‹ ê²ƒ ê°™ì€ë° ì•„ì‰½ê²Œë„ ì´ í›Œë¥­í•œ í´ë¼ì´ì–¸íŠ¸ì˜ ë‹¨ì ì´ í•˜ë‚˜ ìˆë‹¤ë©´ ì¸ì¦ì´ ê°•ì œë˜ëŠ” ê²ƒ ê°™ë‹¤ëŠ” ê²ƒì´ë‹¤.&lt;/p>
&lt;p>ë”°ë¼ì„œ VMì— RDP ì„¤ì •ì„ ì¼œê³ , ì¸ì¦ì„ í™œì„±í™” í•´ì•¼í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># export VRDE_USERNAME=foo&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># export VRDE_PASSWORD=bar&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ìœ„ì™€ ê°™ì´ RDP ì¸ì¦ì— ì‚¬ìš©í•  username, passwordë¥¼ ì„¤ì •í•´ì¤€ë‹¤. ì´í›„ ì»¤ë§¨ë“œì—ì„œ ì‚¬ìš©í•˜ê²Œ ë  í™˜ê²½ë³€ìˆ˜ì´ë‹¤. ê·¸ëƒ¥ VRDEëŠ” VirtualBoxì—ì„œ RDPë¥¼ ë¶€ë¥´ëŠ” ë§ ì •ë„ë¡œë§Œ ì•Œê³  ë„˜ì–´ê°€ë„ ë  ë“¯í•˜ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vb setproperty vrdeauthlibrary VBoxAuthSimple&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vb modifyvm vm1 --vrde on \&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --vrdeport &lt;span class="m">3389&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --vrdeauthtype external
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># export PASSWORD_HASHED=$(vb internalcommands passwordhash $VRDE_PASSWORD | \&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sed &lt;span class="s1">&amp;#39;s/^Password hash: //&amp;#39;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vb setextradata vm1 \&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> VBoxAuthSimple/users/&lt;span class="nv">$VRDE_USERNAME&lt;/span> &lt;span class="nv">$PASSWORD_HASHED&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vb getextradata vm1 enumerate | \&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> grep &lt;span class="s2">&amp;#34;VBoxAuthSimple/users/&lt;/span>&lt;span class="nv">$VRDE_USERNAME&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì¢€ ë³µì¡í•˜ê¸´í•œë° ì‰½ê²Œ ìš”ì•½í•˜ë©´ ê·¸ëƒ¥ RDP ì¸ì¦ì„ VBoxAuthSimpleì´ë¼ëŠ” ë°©ì‹ì„ í†µí•´ ì§„í–‰í•˜ê² ë‹¤ëŠ” ê±°ê³  ê·¸ë¥¼ ìœ„í•œ username, passwordë¥¼ ì„¤ì •í•˜ëŠ” ì‘ì—…ì´ë‹¤.&lt;/p>
&lt;p>ì¢€ ë” ìì„¸íˆ ì„¤ëª…í•˜ìë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vb internalcommands passwordhash $VRDE_PASSWORD&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Password hash: fcde2b2edba56bf408601fb721fe9b5c338d10ee429ea04fae5511b68fbf8fb9
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>passwordë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•´ passwordë¥¼ í•´ì‹œí•˜ëŠ” ì»¤ë§¨ë“œì´ë‹¤. plain passwordë¥¼ ê·¸ëŒ€ë¡œ ì„¤ì •í•˜ì§€ ì•Šê³  í•œ ë²ˆ ë¯¸ë¦¬ í•´ì‹œí•œ ë’¤ì— ê·¸ ê°’ì„ ì „ë‹¬í•´ì¤˜ì•¼í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vb getextradata vm1 enumerate | \&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> grep &lt;span class="s2">&amp;#34;VBoxAuthSimple/users/&lt;/span>&lt;span class="nv">$VRDE_USERNAME&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Key: VBoxAuthSimple/users/foo, Value: fcde2b2edba56bf408601fb721fe9b5c338d10ee429ea04fae5511b68fbf8fb9
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>extradataë¥¼ ì¡°íšŒí•´ë´„ìœ¼ë¡œì¨ &lt;code>foo&lt;/code> ë¼ëŠ” ìœ ì €ì˜ í•´ì‰¬ëœ íŒ¨ìŠ¤ì›Œë“œ ê°’ì„ í™•ì¸í•´ë³¼ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>ì´ ê°’ì´ ì¡°íšŒë˜ì§€ ì•Šìœ¼ë©´ ì¸ì¦ ì„¤ì •ì´ ì œëŒ€ë¡œ ì ìš©ë˜ì§€ ì•Šì€ ê²ƒì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vb startvm vm1 --type headless&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ë“œë””ì–´! vmì„ ì‹œì‘í•  ë•Œê°€ ëë‹¤. &lt;code>--type headless&lt;/code> ì¸ìë¥¼ ì£¼ê²Œ ë˜ë©´ VMì˜ í™”ë©´ì„ ë°”ë¡œ GUIë¡œ ë„ìš°ì§€ ì•Šê³  headless modeë¡œ ì‹œì‘í•œë‹¤. GUIë¡œ ë„ìš°ê¸° ìœ„í•œ ë„êµ¬ë“¤ì´ í˜¸ìŠ¤íŠ¸ì— ì œëŒ€ë¡œ ì„¤ì¹˜ë˜ì–´ìˆì§€ ì•Šë‹¤ë©´ ì—ëŸ¬ê°€ ë‚  ê²ƒì´ê³  ë‚˜ì˜ ë©íƒ‘ ë˜í•œ ê±°ì˜ ìˆœì • ìƒíƒœì˜ Ubuntu serverì˜€ê¸° ë•Œë¬¸ì— headless modeë¡œ ì‹œì‘í•´ì•¼ë§Œ í–ˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 277; flex-basis: 665px">
&lt;a href="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/microsoft-remote-desktop-connect.png" data-size="1962x708">&lt;img src="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/microsoft-remote-desktop-connect.png"
srcset="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/microsoft-remote-desktop-connect_hu0135d8f9d5ad1022e5fa8dd0554fb333_367603_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/microsoft-remote-desktop-connect_hu0135d8f9d5ad1022e5fa8dd0554fb333_367603_1024x0_resize_box_3.png 1024w"
width="1962"
height="708"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>RDP Client(e.g. Microsoft Remote Desktop)ì—ì„œ ìœ„ì™€ ê°™ì´ ì„¤ì •í•´ì£¼ë©´ ë  ê²ƒì´ë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 211; flex-basis: 508px">
&lt;a href="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/installation-1.png" data-size="1021x482">&lt;img src="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/installation-1.png"
srcset="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/installation-1_hu4618397b7581852c0b647ff44c653258_52041_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/installation-1_hu4618397b7581852c0b647ff44c653258_52041_1024x0_resize_box_3.png 1024w"
width="1021"
height="482"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure style="flex-grow: 384; flex-basis: 922px">
&lt;a href="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/installation-2.png" data-size="826x215">&lt;img src="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/installation-2.png"
srcset="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/installation-2_hu4d83c2a522737fa70c79baad2bc0090d_28789_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/installation-2_hu4d83c2a522737fa70c79baad2bc0090d_28789_1024x0_resize_box_3.png 1024w"
width="826"
height="215"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ğŸ‰Â RDPë¥¼ í†µí•´ ì„±ê³µì ìœ¼ë¡œ ì—°ê²°ë˜ë©´ ì´ë ‡ê²Œ ì„¤ì¹˜ í™”ë©´ì„ ë³¼ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤!&lt;/p>
&lt;p>ì™€ìš°.. ë“œë””ì–´ VBoxManageë¡œ VMì„ ë„ìš°ëŠ” ë°ì— ì„±ê³µí–ˆë‹¤. í˜¸ìŠ¤íŠ¸ì˜ ê³µìœ ê¸°ì— ë¶™ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë¸Œë¦¿ì§€ ì–´ëŒ‘í„°ë¡œ ì„¤ì •í•˜ë‹ˆ í˜¸ìŠ¤íŠ¸ì™€ ê°™ì´ ê³µìœ ê¸°ì— DHCPë¡œ IPë¥¼ í• ë‹¹ë°›ëŠ” ê²ƒë„ ì„±ê³µí•œ ëª¨ìŠµì´ë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 211; flex-basis: 508px">
&lt;a href="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/installation-1.png" data-size="1021x482">&lt;img src="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/installation-1.png"
srcset="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/installation-1_hu4618397b7581852c0b647ff44c653258_52041_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/installation-1_hu4618397b7581852c0b647ff44c653258_52041_1024x0_resize_box_3.png 1024w"
width="1021"
height="482"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ì„¤ì¹˜ê°€ ì™„ë£Œëœ ë’¤ RDPë¡œ ì—°ê²°ëœ í™”ë©´ì—ì„œ ëª‡ ê°€ì§€ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ë´¤ë‹¤. ğŸ™‚Â ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´ ì´ì œ RDPëŠ” êµ³ì´ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ê°™ì€ ë„¤íŠ¸ì›Œí¬ì˜ ì–´ë–¤ ì¥ë¹„ì—ì„œë“  ì„¤ì¹˜ ì‹œì— ì…ë ¥í•œ username, passwordë¡œ SSH ì ‘ì†ì´ ê°€ëŠ¥í•  ê²ƒì´ë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë§ì´ë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 384; flex-basis: 922px">
&lt;a href="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/installation-2.png" data-size="826x215">&lt;img src="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/installation-2.png"
srcset="https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/installation-2_hu4d83c2a522737fa70c79baad2bc0090d_28789_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/companion-server/create-vm-by-vboxmanage/installation-2_hu4d83c2a522737fa70c79baad2bc0090d_28789_1024x0_resize_box_3.png 1024w"
width="826"
height="215"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ğŸ‘†Â ê°™ì€ ë„¤íŠ¸ì›Œí¬ì˜ ë§¥ë¶ì—ì„œ VMì— SSH ì ‘ì†ì„ í•´ì„œ ì•„ë¬´ ëª…ë ¹ì–´ë‚˜ ì‹¤í–‰í•´ë³¸ ì˜ˆì‹œ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vb controlvm vm1 poweroff&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vb storageattach vm1 \&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --storagectl &lt;span class="s2">&amp;#34;SATA Controller&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --port &lt;span class="m">0&lt;/span> --device &lt;span class="m">0&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --medium none
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vb storageattach vm1 \&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --storagectl &lt;span class="s2">&amp;#34;SATA Controller&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --port &lt;span class="m">1&lt;/span> --device &lt;span class="m">0&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --medium none
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vb storageattach vm1 \&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --storagectl &lt;span class="s2">&amp;#34;SATA Controller&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --port &lt;span class="m">0&lt;/span> --device &lt;span class="m">0&lt;/span> --type hdd &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --medium /root/vm1-disk.vmdk
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vb startvm vm1 --type headless&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ê·¸ë¦¬ê³  ì´ì œ ì„¤ì¹˜ê°€ ì™„ë£Œëìœ¼ë‹ˆ ë” ì´ìƒ ì„¤ì¹˜ìš© ì´ë¯¸ì§€ì¸ &lt;code>ubuntu-22.04.1-live-server-amd64.iso&lt;/code> ë¥¼ dvddriveë¡œ ë¶™ì—¬ì¤„ í•„ìš”ë„ ì—†ë‹¤. ê¼­ í•´ì•¼í•˜ëŠ” ì‘ì—…ì€ ì•„ë‹ˆê¸´í•˜ì§€ë§Œ &lt;code>--medium none&lt;/code> ì„ í†µí•´ ì¥ì¹˜ë“¤ì„ ëª¨ë‘ ì—°ê²° í•´ì œí•œ ë’¤ ê·¸ëƒ¥ &lt;code>.vmdk&lt;/code> ë¥¼ 0ë²ˆ í¬íŠ¸ì— ì—°ê²°í•´ì¤„ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;h2 id="ë°°ìš´-ê²ƒ-ì–»ì€-ê²ƒ">ë°°ìš´ ê²ƒ, ì–»ì€ ê²ƒ&lt;/h2>
&lt;ul>
&lt;li>PV, VG, LV ë“± Linuxì˜ LVM(Logical Volume Manager)ì˜ ê°œë…ì„ ì ‘í•´ë³¼ ìˆ˜ ìˆì—ˆë‹¤.&lt;/li>
&lt;li>â€˜VirtualBoxì˜ ëª¨ë“  ê¸°ëŠ¥ì„ VBoxManageë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆêµ¬ë‚˜â€™ì‹¶ì—ˆë‹¤.&lt;/li>
&lt;li>RDP, VRDEë¼ëŠ” ê°œë…ì„ ì ‘í•´ë³¼ ìˆ˜ ìˆì—ˆë‹¤.&lt;/li>
&lt;li>Bridge Adapter, NAT, NAT Network, Host only ë“± VirtualBoxì—ì„œ ì‚¬ìš©í•˜ëŠ” ë„¤íŠ¸ì›Œí¬ í˜•íƒœë¥¼ í•œ ë²ˆ ë” ê²½í—˜í•´ë³¼ ìˆ˜ ìˆì—ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;h2 id="ê¸€ì—ì„œ-ë‹¤ë£¬-ë‚´ìš©-ì™¸ì—-ë”-í•´ë³¼-ë§Œí•œ-ê²ƒ">ê¸€ì—ì„œ ë‹¤ë£¬ ë‚´ìš© ì™¸ì— ë” í•´ë³¼ ë§Œí•œ ê²ƒ&lt;/h2>
&lt;ul>
&lt;li>cloud-init ë³¼ë¥¨ì„ í†µí•œ auto installation - cloud-initì´ë¼ëŠ” ë°©ì‹ì„ ì´ìš©í•˜ë©´ ì§ì ‘ ì„¤ì¹˜ ê³¼ì •ì„ í•˜ë‚˜ í•˜ë‚˜ ì§„í–‰í•  í•„ìš” ì—†ì´ ì„¤ì¹˜ì™€ ì´ˆê¸° ì„¤ì •ì„ ìë™í™” í•  ìˆ˜ ìˆë‹¤.&lt;/li>
&lt;li>Live ì´ë¯¸ì§€ê°€ ì•„ë‹Œ Cloud image ì´ìš©í•˜ê¸° - Cloud imageë¥¼ ì´ìš©í•˜ë©´ auto installí•˜ëŠ” ê²Œ ê¸°ë³¸ ì„¤ì •ì¸ë“¯ í•¨. ì¢€ ë” ì†ì‰½ê²Œ auto installí•  ìˆ˜ ìˆëŠ” ëŠë‚Œì´ë„ê¹Œ.&lt;/li>
&lt;li>PXE ë„¤íŠ¸ì›Œí¬ ë¶€íŒ…&lt;/li>
&lt;li>qemu, lima ë“± ë‹¤ë¥¸ ê°€ìƒí™” ë„êµ¬ë¥¼ í†µí•´ VMì„ ì´ìš©í•´ë³´ê¸°&lt;/li>
&lt;li>ì›í•˜ëŠ” ë‹¤ì–‘í•œ ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€ êµ¬ì„±í•´ë³´ê¸°&lt;/li>
&lt;/ul>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>ë©°ì¹  ì „ì— VirtualBoxë¡œ VMì„ ë§Œë“¤ ë•Œ Ubuntu serverì—ì„œ CLIì¸ VBoxManageë¡œ ë§Œë“¤ì–´ë³´ê² ë‹¤ê³  ê½¤ë‚˜ ë§ì€ ì‚½ì§ˆì„ í–ˆì—ˆë‹¤. ë¿ë§Œ ì•„ë‹ˆë¼ ìš”ì¦˜ pxe, qemu, bridge interface, kubespray ë“±ë“±ìœ¼ë¡œ ì¸í•´ ë§ì€ ì‚½ì§ˆì´ ê³„ì†ë˜ê³  ìˆì—ˆë‹¤. ë³¸ì—…ì€ ë³¸ì—…ëŒ€ë¡œ í•˜ê³  í‡´ê·¼ í›„ì— ì·¨ë¯¸ë¡œ ê³µë¶€í•˜ë‹¤ë³´ë‹ˆ ì‹œê°„ì´ ë§ì§€ ì•Šë‹¤ë³´ë‹ˆ ê³„ì† ì‚½ì§ˆë§Œ í•˜ê³  ë°°ìš´ ë‚´ìš©ì„ ë³µìŠµ/ì •ë¦¬í•˜ì§€ ëª»í•œ ê²ƒ ê°™ì•„ì„œ í•œ ë²ˆ ì •ë¦¬í•´ë´¤ë‹¤.&lt;/p>
&lt;p>LVM, IDEì™€ SATAì˜ ì°¨ì´, RDPë¼ëŠ” ìƒˆë¡œìš´ í”„ë¡œí† ì½œ, imgì™€ iso, ë“±ë“±â€¦ ë§ì€ ìƒˆë¡œìš´ ê°œë… í˜¹ì€ ë“¤ì–´ë§Œ ë´¤ë˜ ê°œë…ë“¤ì„ ì§ì ‘ ì´ìš©í•´ë³´ë ¤í•˜ë‹ˆ GUIì—ì„œëŠ” ì •ë§ ì‰¬ì› ë˜ ì‘ì—…ì„ ì§„í–‰í•˜ëŠ” ë°ì— ë§ì€ ì‚½ì§ˆì´ ìˆ˜ë°˜ëë‹¤.&lt;/p>
&lt;p>ë‹¤ìŒì—ëŠ” qemuë¡œ VM ë„ìš°ëŠ” ë‚´ìš©ì„ ì‘ì„±í•´ë³¼ê¹Œí•˜ëŠ”ë° ì‹œê°„ì´ ë ì§€ëŠ” ëª¨ë¥´ê² ë‹¤ í™”ì´íŒ…..! ğŸ’ª&lt;/p>
&lt;h2 id="ì°¸ê³ -ìë£Œ">ì°¸ê³  ìë£Œ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.manualfactory.net/14379" target="_blank" rel="noopener"
>https://www.manualfactory.net/14379&lt;/a> - LV ë§Œë“œëŠ” ë²•, LVM ê°œë… ì°¸ê³ í•¨&lt;/li>
&lt;li>&lt;a class="link" href="https://virtualbox.org/manual/UserManual.html" target="_blank" rel="noopener"
>https://virtualbox.org/manual/UserManual.html&lt;/a> - VBoxManageì˜ ê°ì¢… ì»¤ë§¨ë“œë¥¼ ì°¸ê³ í•¨&lt;/li>
&lt;li>&lt;a class="link" href="https://docs.oracle.com/en/virtualization/virtualbox/6.0/user/vboxmanage-modifyvm.html" target="_blank" rel="noopener"
>https://docs.oracle.com/en/virtualization/virtualbox/6.0/user/vboxmanage-modifyvm.html&lt;/a> - VBoxManageì˜ ê°ì¢… ì»¤ë§¨ë“œë¥¼ ì°¸ê³ í•¨&lt;/li>
&lt;li>&lt;a class="link" href="https://unix.stackexchange.com/a/16317" target="_blank" rel="noopener"
>https://unix.stackexchange.com/a/16317&lt;/a> - VBoxManageì—ì„œ LVMì„ ì§ì ‘ ì´ìš©í•˜ëŠ” ë°©ë²•&lt;/li>
&lt;li>&lt;a class="link" href="https://www.arthurkoziel.com/vboxmanage-cli-ubuntu-20-04/" target="_blank" rel="noopener"
>https://www.arthurkoziel.com/vboxmanage-cli-ubuntu-20-04/&lt;/a> - VBoxManageì—ì„œ Storage ì„¤ì •í•˜ëŠ” ë°©ë²• ì°¸ê³ í•¨&lt;/li>
&lt;li>&lt;a class="link" href="https://stackoverflow.com/a/71745701/8768651" target="_blank" rel="noopener"
>https://stackoverflow.com/a/71745701/8768651&lt;/a> - GUIê°€ ë¶ˆê°€ëŠ¥í•œ í™˜ê²½ì—ì„œ &lt;code>--headless&lt;/code>ë¡œ ì—ëŸ¬ë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•&lt;/li>
&lt;li>&lt;a class="link" href="https://takudaddy.tistory.com/352" target="_blank" rel="noopener"
>https://takudaddy.tistory.com/352&lt;/a> - VirtualBox ë„¤íŠ¸ì›Œí¬ ì¢…ë¥˜ë³„ ì •ë¦¬&lt;/li>
&lt;li>&lt;a class="link" href="https://serverfault.com/questions/819466/how-to-achieve-virtualbox-like-bridging-under-kvm" target="_blank" rel="noopener"
>https://serverfault.com/questions/819466/how-to-achieve-virtualbox-like-bridging-under-kvm&lt;/a> - virtualboxì˜ ë¸Œë¦¿ì§€ ë„¤íŠ¸ì›Œí¬ ì›ë¦¬&lt;/li>
&lt;li>&lt;a class="link" href="https://gist.github.com/leogallego/a614c61457ed22cb1d960b32de4a1b01" target="_blank" rel="noopener"
>https://gist.github.com/leogallego/a614c61457ed22cb1d960b32de4a1b01&lt;/a> - cloud-localdsë¥¼ ì´ìš©í•´ cloud-init ì´ë¯¸ì§€ ë§Œë“¤ê¸°&lt;/li>
&lt;/ul></description></item><item><title>[ë°˜ë ¤ ì„œë²„ í‚¤ìš°ê¸° ì‚¬ì „ ì‘ì—…] Core DNSë¥¼ í™ˆë©ì˜ ì»¤ìŠ¤í…€ DNS ì„œë²„ë¡œ ì´ìš©í•˜ê¸°</title><link>https://umi0410.github.io/blog/companion-server/core-dns/</link><pubDate>Wed, 30 Nov 2022 01:35:00 +0900</pubDate><guid>https://umi0410.github.io/blog/companion-server/core-dns/</guid><description>&lt;img src="https://umi0410.github.io/blog/companion-server/core-dns/preview.png" alt="Featured image of post [ë°˜ë ¤ ì„œë²„ í‚¤ìš°ê¸° ì‚¬ì „ ì‘ì—…] Core DNSë¥¼ í™ˆë©ì˜ ì»¤ìŠ¤í…€ DNS ì„œë²„ë¡œ ì´ìš©í•˜ê¸°" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>â€œë°˜ë ¤ ì„œë²„ í‚¤ìš°ê¸°â€ë¼ëŠ” ê±´ì „í•œ ì·¨ë¯¸ ìƒí™œì„ ë³¸ê²©ì ìœ¼ë¡œ ì‹œì‘í•˜ê¸° ì „ì— ê·¸ ì‚¬ì „ ì‘ì—… ì¤‘ í•˜ë‚˜ë¡œ Core DNSë¥¼ ì°ë¨¹í•´ë³´ë ¤í•œë‹¤.&lt;/p>
&lt;p>í˜„ì¬ ë‚˜ì˜ í™ˆë© ìƒí™©ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.&lt;/p>
&lt;ul>
&lt;li>(ì„œë²„ ë° ì¥ë‚œê°) ë¼ì¦ˆë² ë¦¬íŒŒì´ 4ëŒ€&lt;/li>
&lt;li>(ì„œë²„ ë° ì¥ë‚œê°) ë©íƒ‘ 1ëŒ€ + ê·¸ ìœ„ì˜ VM 3ëŒ€&lt;/li>
&lt;li>(ì„œë²„ ê´€ë¦¬ìš©) PC 2ëŒ€&lt;/li>
&lt;li>í•¸ë“œí° 2ê°œ&lt;/li>
&lt;/ul>
&lt;p>ì¦‰ ë‚˜ì˜ ë°˜ë ¤ ì„œë²„ëŠ” 8ëŒ€, ë°˜ë ¤ ì„œë²„ì— ì ‘ì†í•˜ëŠ” ì¥ë¹„ëŠ” 4ëŒ€(PC + í•¸ë“œí°) ì •ë„ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>ê¸°ì¡´ì—ëŠ” ë§¤ë²ˆ ì‚¬ìš©í•˜ëŠ” PCì˜ &lt;code>/etc/hosts&lt;/code> ë¥¼ í¸ì§‘í•´ì„œ ë„ë©”ì¸ ë„¤ì„ì„ ì´ìš©í•˜ê³¤ í–ˆëŠ”ë° í•œ ëŒ€ì˜ PCë¡œë§Œ ì ‘ì†í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼ ì—¬ëŸ¬ ì¥ë¹„ë¡œ ì„œë²„ì— ì ‘ì†í•˜ê²Œ ë  ìˆ˜ ìˆë‹¤ë³´ë‹ˆ ë§¤ë²ˆ /etc/hostsë¥¼ í¸ì§‘í•˜ëŠ” ê²ƒì´ ê·¸ë‹¥ ìœ ì¾Œí•˜ì§„ ì•Šì•˜ê³ , ì‹¬ì§€ì–´ ëª¨ë°”ì¼ì—ì„œëŠ” &lt;code>/etc/hosts&lt;/code> ë¥¼ ì œì–´í•  ìˆ˜ ì—†ì–´ IPë¡œ ì§ì ‘ ì ‘ê·¼í•´ì•¼í–ˆë‹¤.&lt;/p>
&lt;p>ì´ì— ëŒ€í•´ ê³ ë¯¼í•˜ë˜ ì°¨ì— ì§€ì¸ìœ¼ë¡œë¶€í„° Core DNSê°€ ê·¸ë ‡ê²Œ ì‚¬ìš©í•˜ê¸° í¸í•˜ë‹¤ëŠ” ì–˜ê¸°ë¥¼ ë“£ê³  í•œ ë²ˆ Core DNSë¥¼ í†µí•´ í™ˆë©ì—ì„œ ì‚¬ìš©í•  í”„ë¼ì´ë¹—í•œ DNS ì„œë²„ë¥¼ êµ¬ì¶•í•´ë³´ë ¤í•œë‹¤.&lt;/p>
&lt;h2 id="core-dnsê°€-ê·¸ë ‡ê²Œ-í¸í•œì§€-getting-started">Core DNSê°€ ê·¸ë ‡ê²Œ í¸í•œì§€ Getting Started&lt;/h2>
&lt;p>Core DNSëŠ” ê°„ë‹¨íˆ ì»¨í…Œì´ë„ˆë¡œ ë„ìš¸ ìˆ˜ ìˆì—ˆë‹¤.&lt;/p>
&lt;p>ì•„ë¬´ëŸ° Corefile ì„¤ì •ì„ ì •ì˜í•˜ì§€ ì•ŠëŠ” ê²½ìš° ê¸°ë³¸ì ìœ¼ë¡œëŠ” &lt;a class="link" href="https://coredns.io/plugins/whoami/" target="_blank" rel="noopener"
>whoami&lt;/a> í”ŒëŸ¬ê·¸ì¸ì„ í†µí•´ ì•„ì£¼ ê°„ë‹¨í•œ fake dns serverì²˜ëŸ¼ ë™ì‘í•˜ëŠ” ë“¯í•˜ë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ì •ë§ ê°„ë‹¨í•˜ê²Œ corednsë¥¼ ë„ìš¸ ìˆ˜ ìˆê³ , digë¥¼ í†µí•´ ì§ì ‘ ë„ìš´ core dnsê°€ fake dns serverë¡œë¼ë„ ë™ì‘ì€ í•˜ëŠ”ì§€ í™•ì¸í•´ë³¼ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>fake dns serverëŠ” DNS ì§ˆì˜ì— ëŒ€í•´ ë‹¨ìˆœíˆ ìê¸° IPë¡œë§Œ ì‘ë‹µí•˜ëŠ” ê·¸ëŸ° dns serverë¼ëŠ” ì˜ë¯¸ë¡œ ì‚¬ìš©í•œ ëª…ì¹­ì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">docker run --rm --name coredns -p 53:53/udp coredns/coredns
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ dig @127.0.0.1 -p &lt;span class="m">53&lt;/span> jinsu.com &lt;span class="p">|&lt;/span> grep -C &lt;span class="m">2&lt;/span> &lt;span class="s1">&amp;#39;jinsu\.com&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;&lt;/span> &amp;lt;&amp;lt;&amp;gt;&amp;gt; DiG 9.18.1-1ubuntu1.2-Ubuntu &amp;lt;&amp;lt;&amp;gt;&amp;gt; @127.0.0.1 -p &lt;span class="m">53&lt;/span> jinsu.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="m">1&lt;/span> server found&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;;&lt;/span> global options: +cmd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;&lt;/span> COOKIE: c79167ab937cb4d2 &lt;span class="o">(&lt;/span>echoed&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;;&lt;/span> QUESTION SECTION:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;&lt;/span>jinsu.com. IN A
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;;&lt;/span> ADDITIONAL SECTION:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jinsu.com. 0 IN A 172.17.0.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">_udp.jinsu.com. 0 IN SRV &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="m">46738&lt;/span> .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;;&lt;/span> Query time: &lt;span class="m">4&lt;/span> msec
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>dockerì„ í†µí•´ ê¸°ë³¸ ì˜µì…˜ìœ¼ë¡œ core-dns ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ë©´ ì–´ë–¤ hostname(e.g. &lt;a class="link" href="http://jinsu.com" target="_blank" rel="noopener"
>jinsu.com&lt;/a>)ìœ¼ë¡œ ì¿¼ë¦¬í•˜ë“  ìœ„ì™€ ê°™ì´ &lt;code>172.17.0.1&lt;/code> ì´ ì¡°íšŒëœë‹¤. &lt;code>jinsu.com&lt;/code> ì„ ì¡°íšŒí•˜ë“  &lt;code>jinsu.me&lt;/code>ë¥¼ ì¡°íšŒí•˜ë“  &lt;code>foo.bar&lt;/code>ì„ ì¡°íšŒí•˜ë“  ê²°ê³¼ëŠ” ë˜‘ê°™ë‹¤. whoami pluginë§Œ í™œì„±í™”ëœ fake dns serverì´ê¸° ë•Œë¬¸ì´ë‹¤.&lt;/p>
&lt;p>&lt;em>(ì°¸ê³ ) &lt;code>172.17.0.1&lt;/code> ë¼ëŠ” IPê°€ ë‚¯ìµì„ ìˆ˜ ìˆë‹¤. ì´ëŠ” Dockerì˜ bridge network interfaceì˜ IPì´ë‹¤.&lt;/em>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ ifconfig docker0 &lt;span class="p">|&lt;/span> grep inet
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> inet 172.17.0.1 netmask 255.255.0.0 broadcast 172.17.255.255
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> inet6 fe80::42:b9ff:feb4:d995 prefixlen &lt;span class="m">64&lt;/span> scopeid 0x20&amp;lt;link&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ docker inspect coredns &lt;span class="p">|&lt;/span> jq &lt;span class="s1">&amp;#39;.[0][&amp;#34;NetworkSettings&amp;#34;][&amp;#34;Networks&amp;#34;]&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;bridge&amp;#34;&lt;/span>: &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Gateway&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;172.17.0.1&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;IPAddress&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;172.17.0.3&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ...&lt;span class="o">(&lt;/span>ìƒëµ&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ìœ„ì™€ ê°™ì´ &lt;code>172.17.0.1&lt;/code> ì€ dockerì˜ brige network interfaceì˜ IPì„ì„ í™•ì¸í•´ë³¼ ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  &lt;code>$ docker run&lt;/code> ëª…ë ¹ì–´ì— &lt;code>--net host&lt;/code> ì¸ìë¥¼ ì „ë‹¬í•´ bridge networkê°€ ì•„ë‹Œ host networkì„ ì´ìš©í•˜ë©´ DNS ì§ˆì˜ ì‹œ &lt;code>172.17.0.1&lt;/code> ì´ ì•„ë‹Œ &lt;code>127.0.0.1&lt;/code> ë¥¼ ì‘ë‹µìœ¼ë¡œ ë°›ì„ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. (OSXì—ì„œëŠ” ë™ì¼í•˜ê²Œ ë¸Œë¦¿ì§€ IPì¸ë“¯ í•¨.)&lt;/p>
&lt;h2 id="configurationì„-ì •ì˜í•˜ê¸°">Configurationì„ ì •ì˜í•˜ê¸°&lt;/h2>
&lt;p>ìš°ì„  ë‚˜ì˜ í™ˆë© ìƒí™©ê³¼ ëª©í‘œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.&lt;/p>
&lt;ul>
&lt;li>ë³´ìœ í•œ ê³µìœ ê¸°: LG U+ì—ì„œ ì„ëŒ€í•´ì¤€ í‰ë²”í•œ ê³µìœ ê¸°. &lt;code>192.168.219.0/24&lt;/code> ë„¤íŠ¸ì›Œí¬ë¥¼ ì´ìš©.&lt;/li>
&lt;li>&lt;code>lab.&lt;/code> Zoneì— Raspberry Pi 4ëŒ€, DNS ì„œë²„ë¡œ ì‚¬ìš©í•  Laptop 1ëŒ€ì— ëŒ€í•œ A ë ˆì½”ë“œë¥¼ ìƒì„±í•  ê²ƒì„.
&lt;ul>
&lt;li>ê³µìœ ê¸°ì— ì—°ê²°ëœ ì¥ë¹„ë¡œ &lt;code>laptop.lab&lt;/code> í˜¹ì€ &lt;code>vm[19[0-3]\.lab&lt;/code>, &lt;code>pi20[0-3]\.lab&lt;/code>ì— ì ‘ì†í–ˆì„ ë•Œ ì˜¬ë°”ë¥´ê²Œ í•´ë‹¹í•˜ëŠ” ì¥ë¹„ì— ì ‘ì†.
&lt;ul>
&lt;li>laptop.lab - 192.168.219.180&lt;/li>
&lt;li>vm190.lab - 1902.168.219.190&lt;/li>
&lt;li>â€¦&lt;/li>
&lt;li>pi203.lab - 192.168.219.203&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ì½”ë“œë¥¼ í†µí•´ ì§ê´€ì ì´ê³  ìˆ˜ì›”í•˜ê³  ë©±ë“±ì ì´ê²Œ ì‘ì—…í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸°.
&lt;ul>
&lt;li>ì¶”í›„ì— ì¥ë¹„ê°€ ì¶”ê°€ë  ë•Œì—ë„ ì†ì‰½ê²Œ ë ˆì½”ë“œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆê¸°ë¥¼ ë°”ëŒ.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ê·¸ëŸ¼. Core DNS ì„¤ì •ì„ í•œ ë²ˆ ì‹œì‘í•´ë³´ê² ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">mkdir -p &lt;span class="si">${&lt;/span>&lt;span class="nv">HOME&lt;/span>&lt;span class="si">}&lt;/span>/coredns-config
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>${HOME}/coredns-config&lt;/code> ì— core dnsì— ëŒ€í•œ ì„¤ì •ì„ ë‹´ì„ directoryë¥¼ ìƒì„±í•´ì¤€ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">cat &lt;span class="s">&amp;lt;&amp;lt; EOF &amp;gt; ${HOME}/coredns-config/Corefile
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">.:53 {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> hosts /etc/coredns/config/lab lab. {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> fallthrough
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> forward . 8.8.8.8
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> log
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Core DNSì€ ìœ„ì™€ ê°™ì´ &lt;code>Corefile&lt;/code> íŒŒì¼ì„ í†µí•´ ì„¤ì •í•´ì¤„ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>&lt;code>lab.&lt;/code> Zoneì´ ì•„ë‹Œ ë‹¤ë¥¸ Zoneì— ëŒ€í•œ ì§ˆì˜ëŠ” ëª¨ë‘ ê¸°ë³¸ì ìœ¼ë¡œ 8.8.8.8ë¡œ forwardí•˜ë„ë¡í–ˆë‹¤. ì´ì œ &lt;code>lab.&lt;/code> Zoneì— ëŒ€í•´
ì¢€ ë” ìì„¸íˆ ì„¤ì •í•´ë³´ê² ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">cat &lt;span class="s">&amp;lt;&amp;lt;EOF &amp;gt; ${HOME}/coredns-config/lab
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">192.168.219.180 laptop.lab
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ìœ„ì™€ ê°™ì´ &lt;code>${HOME}/coredns-config/lab&lt;/code> íŒŒì¼ì— &lt;code>lab.&lt;/code> Zoneì— ëŒ€í•œ ë ˆì½”ë“œ ì •ë³´ë¥¼ ì •ì˜í•´ì¤¬ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">lab_zone_file&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">HOME&lt;/span>&lt;span class="si">}&lt;/span>/coredns-config/lab
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> name in vm&lt;span class="o">{&lt;/span>190..192&lt;span class="o">}&lt;/span> pi&lt;span class="o">{&lt;/span>200..203&lt;span class="o">}&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># e.g. If name is &amp;#34;vm190&amp;#34;, id should be &amp;#34;190&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">name&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="p">|&lt;/span> sed &lt;span class="s1">&amp;#39;s/[a-z]*//g&amp;#39;&lt;/span>&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> cat &lt;span class="si">${&lt;/span>&lt;span class="nv">lab_zone_file&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="p">|&lt;/span> grep &lt;span class="s2">&amp;#34;192.168.219.&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">id&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[[&lt;/span> &lt;span class="nv">$?&lt;/span> -eq &lt;span class="m">0&lt;/span> &lt;span class="o">]]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Record about &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">name&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2"> has already exists.&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;192.168.219.&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">id&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2"> &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">name&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">.lab # Generated by a script&amp;#34;&lt;/span> &amp;gt;&amp;gt; &lt;span class="si">${&lt;/span>&lt;span class="nv">lab_zone_file&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Added a record about &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">name&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">.&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">done&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>200~203ë²ˆ raspberry Piì— ëŒ€í•œ ë ˆì½”ë“œë„ zone fileì— ì¶”ê°€í•´ì¤¬ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">docker run --rm --name coredns -p 53:53/udp &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v &lt;span class="si">${&lt;/span>&lt;span class="nv">HOME&lt;/span>&lt;span class="si">}&lt;/span>/coredns-config:/etc/coredns/config coredns/coredns &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -conf /etc/coredns/config/Corefile
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ìœ„ì—ì„œ ì‘ì„±í•œ ì„¤ì •ë“¤ì„ bind mount í•´ì„œ corednsë¥¼ ì‹¤í–‰ì‹œì¼œë³´ì.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> -n &lt;span class="s2">&amp;#34;laptop.lab: &amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dig +short @127.0.0.1 -p &lt;span class="m">53&lt;/span> laptop.lab
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> name in vm&lt;span class="o">{&lt;/span>190..192&lt;span class="o">}&lt;/span> pi&lt;span class="o">{&lt;/span>200..203&lt;span class="o">}&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">name&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">.lab: &amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> dig +short @127.0.0.1 -p &lt;span class="m">53&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">name&lt;/span>&lt;span class="si">}&lt;/span>.lab
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">done&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Expected output:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">laptop.lab: 192.168.219.180
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vm190.lab: 192.168.219.190
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vm191.lab: 192.168.219.191
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vm192.lab: 192.168.219.192
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pi200.lab: 192.168.219.200
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pi201.lab: 192.168.219.201
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pi202.lab: 192.168.219.202
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pi203.lab: 192.168.219.203
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>digë¥¼ í†µí•´ ì¡°íšŒí–ˆì„ ë•Œ ì˜ ì¡°íšŒë˜ëŠ”ì§€ í™•ì¸í•´ë´¤ë‹¤.&lt;/p>
&lt;p>ìœ„ì™€ ê°™ì´ ì‘ë‹µì´ ì˜¨ë‹¤ë©´ ê²°ê³¼ì ìœ¼ë¡œ coredns ì„œë²„ê°€ ì œëŒ€ë¡œ ëœ¬ ê²ƒì´ë‹¤!&lt;/p>
&lt;p>ì˜¤í˜¸ë¼. ë…€ì„ ì“¸ë§Œí•˜ë‹¤~ í¸í•˜ë‹¤~!&lt;/p>
&lt;p>ê·¸ëŸ¼ ì´ì œ ìš°ë¦¬ ê³µìœ ê¸°ë¥¼ ì´ìš©í•˜ëŠ” ê²½ìš° ê¸°ë³¸ì ìœ¼ë¡œ ë©íƒ‘ì— ë„ìš´ DNS ì„œë²„ë¥¼ ì´ìš©í•˜ë„ë¡ ì„¤ì •í•´ë³´ë„ë¡ í•˜ê² ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">docker run --name coredns -p 53:53/udp &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --restart always -d &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v &lt;span class="si">${&lt;/span>&lt;span class="nv">HOME&lt;/span>&lt;span class="si">}&lt;/span>/coredns-config:/etc/coredns/config coredns/coredns &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -conf /etc/coredns/config/Corefile
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì´ì œëŠ” ê³„ì† ì´ ì»¨í…Œì´ë„ˆë¥¼ í™ˆë©ì˜ DNS ì„œë²„ë¡œ ì´ìš©í•  ê²ƒì´ë¯€ë¡œ &lt;code>--rm&lt;/code> ì¸ìë¥¼ ì§€ìš°ê³  &lt;code>--restart always -d&lt;/code> ì¸ìë¥¼ ì¶”ê°€ì ìœ¼ë¡œ ì „ë‹¬í•´ì¤¬ë‹¤.&lt;/p>
&lt;p>ì´ì œ ê³µìœ ê¸°ì˜ ì„¤ì •ì—ì„œ DNS ì„œë²„ë¥¼ ì„¤ì •í•´ì£¼ì. ì£¼ DNS ì„œë²„ëŠ” ë©íƒ‘ì˜ core dns ì„œë²„ë¡œ, ë¶€ DNS ì„œë²„ëŠ” ê¸°ì¡´ì— í†µì‹ ì‚¬ê°€ ì œê³µí•´ì£¼ë˜ DNS ì„œë²„ë¥¼ ì´ìš©í•˜ë ¤í•œë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 91; flex-basis: 218px">
&lt;a href="https://umi0410.github.io/blog/companion-server/core-dns/ap-admin.png" data-size="455x499">&lt;img src="https://umi0410.github.io/blog/companion-server/core-dns/ap-admin.png"
srcset="https://umi0410.github.io/blog/companion-server/core-dns/ap-admin_huce3e4a2dbcb62bd70edcbb808e684355_19375_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/companion-server/core-dns/ap-admin_huce3e4a2dbcb62bd70edcbb808e684355_19375_1024x0_resize_box_3.png 1024w"
width="455"
height="499"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ë‚˜ëŠ” LG U+ê°€ ì œê³µí•´ì¤€ ê³µìœ ê¸°ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©ì¤‘ì´ê¸° ë•Œë¬¸ì— ê³µìœ ê¸°ì˜ ê´€ë¦¬ì í˜ì´ì§€ì¸ &lt;a class="link" href="http://192.168.219.1" target="_blank" rel="noopener"
>http://192.168.219.1&lt;/a> ì— ë“¤ì–´ê°€ì„œ ì„¤ì •ì„ í•´ì¤˜ì•¼í•œë‹¤. ì•ì„œ ë§í•œëŒ€ë¡œ ë©íƒ‘ì˜ ì£¼ì†Œì¸ &lt;code>192.168.219.180&lt;/code> ê³¼ U+ì˜ ë³´ì¡° DNS ì£¼ì†Œì¸ &lt;code>164.124.101.2&lt;/code> ë¥¼ ì ì–´ì¤¬ë‹¤. ì´ìƒí•˜ê²Œë„ â€œìœ ì„  ë„¤íŠ¸ì›Œí¬ ì„¤ì •â€ íƒ­ì—ë§Œ DNS ì„¤ì •ì´ ìˆë˜ë° ì´ ì„¤ì •ì´ ë¬´ì„  ë„¤íŠ¸ì›Œí¬ì—ë„ ë™ì¼í•˜ê²Œ ì ìš©ë˜ëŠ” ë“¯í•˜ë‹¤. (ë‹¤í–‰..)&lt;/p>
&lt;p>&lt;figure style="flex-grow: 232; flex-basis: 557px">
&lt;a href="https://umi0410.github.io/blog/companion-server/core-dns/osx-dns-server-setting.png" data-size="669x288">&lt;img src="https://umi0410.github.io/blog/companion-server/core-dns/osx-dns-server-setting.png"
srcset="https://umi0410.github.io/blog/companion-server/core-dns/osx-dns-server-setting_hu3ef7940623515bd1a20a6a54c24759a8_24390_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/companion-server/core-dns/osx-dns-server-setting_hu3ef7940623515bd1a20a6a54c24759a8_24390_1024x0_resize_box_3.png 1024w"
width="669"
height="288"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ëìœ¼ë¡œ PCì—ì„œëŠ” ìì‹ ì˜ DNS ì„¤ì •ì´ ê³µìœ ê¸°ê°€ ì „ë‹¬í•´ì£¼ëŠ” ê°’ìœ¼ë¡œ ì˜ ì‚¬ìš© ì¤‘ì¸ì§€ í™•ì¸í•´ë³¸ë‹¤. ì´ì „ì— ë‚´ê°€ ë‚´ ë§¥ë¶ì—ê²Œ &lt;code>8.8.8.8&lt;/code> ì„ ê°•ì œí•œ ì ì´ ìˆì—ˆëŠ”ì§€ 8.8.8.8ìœ¼ë¡œ ì„¤ì •ì´ ê³ ì •ë˜ì–´ìˆì—ˆê³  &lt;code>/etc/hosts&lt;/code> ì—ì„œ ë ˆì½”ë“œ ì„¤ì •ì„ ì§€ì› ì„ ë•Œ ë„ë©”ì¸ ë„¤ì„ì„ ì›í™œíˆ ì´ìš©í•  ìˆ˜ ì—†ì—ˆë‹¤. ìœ„ì™€ ê°™ì´ ê³ ì •ê°’ì„ ì œê±°í•´ì£¼ë‹ˆ ë„ë©”ì¸ ë„¤ì„ì„ ì˜ ì´ìš©í•  ìˆ˜ ìˆì—ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> domain in &lt;span class="s2">&amp;#34;laptop.lab&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;pi&amp;#34;&lt;/span>&lt;span class="o">{&lt;/span>200..204&lt;span class="o">}&lt;/span>&lt;span class="s2">&amp;#34;.lab&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ping &lt;span class="nv">$domain&lt;/span> -c &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">done&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Expected output:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PING laptop.lab &lt;span class="o">(&lt;/span>192.168.219.180&lt;span class="o">)&lt;/span>: &lt;span class="m">56&lt;/span> data bytes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">64&lt;/span> bytes from 192.168.219.180: &lt;span class="nv">icmp_seq&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span> &lt;span class="nv">ttl&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">64&lt;/span> &lt;span class="nv">time&lt;/span>&lt;span class="o">=&lt;/span>6.245 ms
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- laptop.lab ping statistics ---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">1&lt;/span> packets transmitted, &lt;span class="m">1&lt;/span> packets received, 0.0% packet loss
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">round-trip min/avg/max/stddev &lt;span class="o">=&lt;/span> 6.245/6.245/6.245/0.000 ms
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PING pi200.lab &lt;span class="o">(&lt;/span>192.168.219.200&lt;span class="o">)&lt;/span>: &lt;span class="m">56&lt;/span> data bytes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">64&lt;/span> bytes from 192.168.219.200: &lt;span class="nv">icmp_seq&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span> &lt;span class="nv">ttl&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">64&lt;/span> &lt;span class="nv">time&lt;/span>&lt;span class="o">=&lt;/span>5.037 ms
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- pi200.lab ping statistics ---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">1&lt;/span> packets transmitted, &lt;span class="m">1&lt;/span> packets received, 0.0% packet loss
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">round-trip min/avg/max/stddev &lt;span class="o">=&lt;/span> 5.037/5.037/5.037/0.000 ms
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...&lt;span class="o">(&lt;/span>ìƒëµ&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PING pi203.lab &lt;span class="o">(&lt;/span>192.168.219.203&lt;span class="o">)&lt;/span>: &lt;span class="m">56&lt;/span> data bytes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">64&lt;/span> bytes from 192.168.219.203: &lt;span class="nv">icmp_seq&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span> &lt;span class="nv">ttl&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">64&lt;/span> &lt;span class="nv">time&lt;/span>&lt;span class="o">=&lt;/span>4.532 ms
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- pi203.lab ping statistics ---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">1&lt;/span> packets transmitted, &lt;span class="m">1&lt;/span> packets received, 0.0% packet loss
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">round-trip min/avg/max/stddev &lt;span class="o">=&lt;/span> 4.532/4.532/4.236/0.000 ms
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ëìœ¼ë¡œ ì‹¤ì œë¡œ ì ‘ì†ì´ ê°€ëŠ¥í•œì§€ë„ pingì„ í†µí•´ í™•ì¸í•´ë´¤ë‹¤.ì˜ ë˜ëŠ” ë“¯í•˜ë‹¤. &lt;em>(vm19[0-2]ëŠ” í¸ì˜ìƒ ìƒëµí•¨.)&lt;/em>&lt;/p>
&lt;p>í˜¹ì‹œ ë‹¤ë¥¸ dns serverì—ê²Œ ì§ˆì˜í•˜ê³ ì„œ ë‹¤ë¥¸ ì—”ë“œí¬ì¸íŠ¸ì—ê²Œ pingì„ ë‚ ë¦° ê²ƒì€ ì•„ë‹ê¹Œ ê±±ì •ëë‹¤. ê·¸ëŸ´ ë• ë¡œê·¸ë¥¼ í™•ì¸í•˜ë©´ ëœë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ docker logs coredns --tail &lt;span class="m">100&lt;/span> -f
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Exptected output&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...&lt;span class="o">(&lt;/span>ìƒëµ&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>INFO&lt;span class="o">]&lt;/span> 192.168.219.103:60949 - &lt;span class="m">45524&lt;/span> &lt;span class="s2">&amp;#34;A IN laptop.lab. udp 27 false 512&amp;#34;&lt;/span> NOERROR qr,aa,rd &lt;span class="m">52&lt;/span> 0.000251775s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>INFO&lt;span class="o">]&lt;/span> 192.168.219.103:63828 - &lt;span class="m">32218&lt;/span> &lt;span class="s2">&amp;#34;A IN pi200.lab. udp 26 false 512&amp;#34;&lt;/span> NOERROR qr,aa,rd &lt;span class="m">50&lt;/span> 0.000233695s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>INFO&lt;span class="o">]&lt;/span> 192.168.219.103:52154 - &lt;span class="m">19774&lt;/span> &lt;span class="s2">&amp;#34;A IN pi201.lab. udp 26 false 512&amp;#34;&lt;/span> NOERROR qr,aa,rd &lt;span class="m">50&lt;/span> 0.000224735s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>INFO&lt;span class="o">]&lt;/span> 192.168.219.103:49555 - &lt;span class="m">29706&lt;/span> &lt;span class="s2">&amp;#34;A IN pi202.lab. udp 26 false 512&amp;#34;&lt;/span> NOERROR qr,aa,rd &lt;span class="m">50&lt;/span> 0.000230596s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>INFO&lt;span class="o">]&lt;/span> 192.168.219.103:53338 - &lt;span class="m">47975&lt;/span> &lt;span class="s2">&amp;#34;A IN pi203.lab. udp 26 false 512&amp;#34;&lt;/span> NOERROR qr,aa,rd &lt;span class="m">50&lt;/span> 0.000225897s
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ë¡œê·¸ë„ ë‚˜ì˜ dns serverê°€ ì˜ ë™ì‘í•œë‹¤ëŠ” ê²ƒì„ ë³´ì—¬ì¤€ë‹¤. ğŸ™‚ ì–í˜¸~!&lt;/p>
&lt;h2 id="todo">TODO&lt;/h2>
&lt;p>ì•ìœ¼ë¡œ ë°˜ë ¤ ì„œë²„ í‚¤ìš°ê¸°ë¥¼ ì§„í–‰í•˜ê²Œ ë˜ë©´ ëª‡ ê°€ì§€ ìˆ˜ì •ì‚¬í•­ë“¤ì´ ìˆì„ ìˆ˜ ìˆì„ ê²ƒ ê°™ê³ , ê·¸ì— ë§ì¶° ì´ ê¸€ì—ë„ ìˆ˜ì •ì‚¬í•­ë“¤ì´ ë°˜ì˜ë  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤. ì˜ˆìƒë˜ëŠ” TODOëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.&lt;/p>
&lt;ul>
&lt;li>Record ê´€ë¦¬ ê°œì„  - í˜„ì¬ëŠ” bash scriptë¡œ ë ˆì½”ë“œë¥¼ ê´€ë¦¬í•˜ëŠ” ì…ˆì¸ë° Gitì„ ì´ìš©í•˜ê³  ìë™ìœ¼ë¡œ syncë¥¼ ë§ì¶”ë“  ë‹¤ë¥¸ ë°©ì•ˆì„ ì°¾ì•„ë³´ë“  í•˜ë©´ ì¢‹ê² ë‹¤.&lt;/li>
&lt;li>ê³µìœ ê¸° êµ¬ë¹„ - U+ì˜ ê¸°ë³¸ ì œê³µ ê³µìœ ê¸°ë¡œëŠ” ê¸°ëŠ¥ì´ ì¢€ ë¶€ì¡±í•œ ë©´ì´ ìˆë‹¤. DNS ì„œë²„ ë¿ë§Œ ì•„ë‹ˆë¼ ê³µìœ ê¸° ìì²´ë„ ì½”ë”©ì´ ê°€ëŠ¥í•œ ë‚˜ë§Œì˜ ì¥ë¹„ë¥¼ ì“°ë©´ ì¢‹ì„ ë“¯í•œë° ê·¸ ì´ìœ ëŠ” ê° ì¥ì¹˜ì—ê²Œ DHCP static leaseë¥¼ ì¢€ ë” ì˜ í•´ì£¼ê³ ì‹¶ê¸° ë•Œë¬¸ì´ë‹¤. í˜„ì¬ëŠ” ê³µìœ ê¸° ê´€ë¦¬ í˜ì´ì§€ì—ì„œ ì¥ì¹˜ë³„ë¡œ MAC addressì— ë”°ë¼ static leaseí•´ì£¼ê³  ìˆë‹¤. ê·¸ë¦¬ê³  ê³µìœ ê¸° ì„¤ì • ë­ë§Œ ë°”ê¾¸ë©´ ëª‡ ì‹­ì´ˆ ë™ì•ˆ ì¤‘ë‹¨ë˜ì–´ë²„ë¦¼â€¦&lt;/li>
&lt;li>DNS ì„œë²„ìš© ì¥ì¹˜ êµ¬ë¹„ - í˜„ì¬ CoreDNSê°€ laptopì— ë– ìˆëŠ”ë° laptopì´ ë»—ëŠ”ë‹¤ê±°ë‚˜í•˜ë©´ U+ì˜ ë³´ì¡° DNS ì„œë²„ë¥¼ ì´ìš©í•˜ê²Œ ëœë‹¤. ë”°ë¼ì„œ ì´ê±´ ì €ë ´í•œ ì¥ì¹˜(e.g. Raspberry Pi 3)ë¥¼ DNS server dedicatedë¡œ ì‚¬ìš©í•˜ë©´ ì–´ë–¨ê¹Œì‹¶ë‹¤.&lt;/li>
&lt;/ul>
&lt;h2 id="change-log">Change log&lt;/h2>
&lt;ul>
&lt;li>[rev 3] 2022-12-11
&lt;ul>
&lt;li>OSXì—ì„œëŠ” ìê¾¸ë§Œ DNSê°€ ìºì‹œë˜ì–´ë²„ë ¤ì„œ publicí•œ TLDì¸ &lt;code>.me&lt;/code>ê°€ ì•„ë‹Œ privateí•œ TLDì¸ &lt;code>.lab&lt;/code>ìœ¼ë¡œ TLDë¥¼ ë³€ê²½í•¨&lt;/li>
&lt;li>laptopê³¼ pië¿ë§Œ ì•„ë‹ˆë¼ vmë„ ì¶”ê°€í•¨&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>[rev 2] 2022-11-29 - file pluginì´ ì•„ë‹Œ hosts pluginì„ ì´ìš©í•˜ë„ë¡ ê°œì„ í•¨
&lt;ul>
&lt;li>file pluginì—ëŠ” fallthrough ê¸°ëŠ¥ì´ ì—†ì—ˆìŒ. ë”°ë¼ì„œ CoreDNSì„ ì—ì„œ NXDOMAINì´ ë°œìƒí•˜ëŠ” ê²½ìš° ë‹¤ìŒ pluginì¸ forwardë¡œ 8.8.8.8ì— ì§ˆì˜í•  ìˆ˜ ì—†ì—ˆë‹¤. ì´ë¥¼ ë°”ë¡œ ê¹¨ë‹«ì§€ëŠ” ëª»í–ˆëŠ”ë° ê·¸ ì´ìœ ëŠ” ì´ˆë°˜ì—ëŠ” OSì™€ ë¸Œë¼ìš°ì €ì˜ ìºì‹œ ë•Œë¬¸ì— ì˜ ë™ì‘í–ˆì—ˆê¸° ë•Œë¬¸ì´ë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>[rev 1] 2022-11-29 - file pluginìœ¼ë¡œ &lt;code>me.&lt;/code> Zoneì— ëŒ€í•œ ë ˆì½”ë“œ ì •ë³´ ì œê³µ&lt;/li>
&lt;/ul>
&lt;h2 id="ì°¸ê³ ">ì°¸ê³ &lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://kimmj.github.io/coredns/configure-dns-server/" target="_blank" rel="noopener"
>https://kimmj.github.io/coredns/configure-dns-server/&lt;/a> - ì™„ì „ ì²˜ìŒì— coredns ë„ìš°ëŠ” ê²Œ ì–¼ë§ˆë‚˜ ì‰¬ìš´ì§€ ë§›ë³´ê¸°ìš©&lt;/li>
&lt;li>&lt;a class="link" href="https://coredns.io/manual/toc/#configuration" target="_blank" rel="noopener"
>https://coredns.io/manual/toc/#configuration&lt;/a> - core dns ê³µì‹ ë¬¸ì„œ&lt;/li>
&lt;li>&lt;a class="link" href="https://coredns.io/plugins/file/" target="_blank" rel="noopener"
>https://coredns.io/plugins/file/&lt;/a> - corednsì˜ file plugin&lt;/li>
&lt;li>&lt;a class="link" href="https://coredns.io/2017/03/01/how-to-add-plugins-to-coredns/" target="_blank" rel="noopener"
>https://coredns.io/2017/03/01/how-to-add-plugins-to-coredns/&lt;/a> - whoami í”ŒëŸ¬ê·¸ì¸ ê°œë°œ ê´€ë ¨&lt;/li>
&lt;li>&lt;a class="link" href="https://easydmarc.com/blog/what-is-soa-record-in-dns/" target="_blank" rel="noopener"
>https://easydmarc.com/blog/what-is-soa-record-in-dns/&lt;/a> - SOA ë¥¼ ì–´ë–»ê²Œ ì„¤ì •í•´ì•¼í• ì§€&lt;/li>
&lt;li>&lt;a class="link" href="https://blog.naver.com/techtrip/222154620404" target="_blank" rel="noopener"
>https://blog.naver.com/techtrip/222154620404&lt;/a> - zone ì„¤ì •ì—ì„œ &lt;code>IN&lt;/code> ì´ ìˆì–´ì•¼í•˜ëŠ”ì§€ ì—†ì–´ë„ ë˜ëŠ”ì§€&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/carlpett/tfz53/issues/2" target="_blank" rel="noopener"
>https://github.com/carlpett/tfz53/issues/2&lt;/a> - zone fileì—ì„œ ì£¼ì„ ì“°ëŠ” ë°©ë²•&lt;/li>
&lt;/ul></description></item><item><title>[ì±…] ì‹¤ìŠµê³¼ ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” ë¦¬ëˆ…ìŠ¤ êµ¬ì¡° ë¦¬ë·°</title><link>https://umi0410.github.io/blog/computer-science/linux-architecture-with-practice-and-images-review/</link><pubDate>Sun, 09 Oct 2022 19:00:00 +0900</pubDate><guid>https://umi0410.github.io/blog/computer-science/linux-architecture-with-practice-and-images-review/</guid><description>&lt;img src="https://umi0410.github.io/blog/computer-science/linux-architecture-with-practice-and-images-review/preview.png" alt="Featured image of post [ì±…] ì‹¤ìŠµê³¼ ê·¸ë¦¼ìœ¼ë¡œ ë°°ìš°ëŠ” ë¦¬ëˆ…ìŠ¤ êµ¬ì¡° ë¦¬ë·°" />&lt;p>&lt;figure style="flex-grow: 211; flex-basis: 507px">
&lt;a href="https://umi0410.github.io/blog/computer-science/linux-architecture-with-practice-and-images-review/book.png" data-size="4032x1908">&lt;img src="https://umi0410.github.io/blog/computer-science/linux-architecture-with-practice-and-images-review/book.png"
srcset="https://umi0410.github.io/blog/computer-science/linux-architecture-with-practice-and-images-review/book_hu3b1ae75399002663bdce7b6d2fbad988_10544322_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/computer-science/linux-architecture-with-practice-and-images-review/book_hu3b1ae75399002663bdce7b6d2fbad988_10544322_1024x0_resize_box_3.png 1024w"
width="4032"
height="1908"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>Istio in Actionì„ ì½ê³ ë‚œ ë’¤ì— ë¦¬ëˆ…ìŠ¤ë‚˜ ì»¤ë„ì— ëŒ€í•œ ì±…ì„ ì½ì–´ë³´ê² ë‹¤ëŠ” ê³„íšì„ ê°–ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì •í™•íˆëŠ” &lt;a class="link" href="https://product.kyobobook.co.kr/detail/S000001033135" target="_blank" rel="noopener"
>DevOpsì™€ SEë¥¼ ìœ„í•œ ë¦¬ëˆ…ìŠ¤ ì»¤ë„ ì´ì•¼ê¸°&lt;/a>ë¼ëŠ” ì±…ì„ ì½ê³ ì‹¶ì—ˆìŠµë‹ˆë‹¤.
ê¸°ì¡´ì—ëŠ” ê·¸ ì±…ì´ ì‚¬ë¬´ì‹¤ì— ë¹„ì¹˜ë˜ì–´ìˆì—ˆì§€ë§Œ ì´ë²ˆì— ì‚¬ë¬´ì‹¤ì„ ì´ì‚¬í•˜ë©´ì„œ ê·¸ ì±…ì´ ì–´ë””ê°”ëŠ”ì§€ ë³´ì´ì§€ê°€ ì•Šë”ë¼êµ¬ìš”. ê·¸ë˜ì„œ ê·¸ëƒ¥ ë‹¤ë¥¸ ì±…ì¥ì— ë¹„ì¹˜ë˜ì–´ìˆë˜ ì´ ì±…ì„ ì½ì–´ë´¤ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë‹¤ë£¨ê³  ìˆëŠ” ë‚´ìš©ì€ ì£¼ë¡œ ë¦¬ëˆ…ìŠ¤ êµ¬ì¡°ë¼ê¸°ë³´ë‹¤ëŠ” ì „ë°˜ì ì¸ ì»´í“¨í„° êµ¬ì¡°, ìš´ì˜ì²´ì œ ê°™ì•˜ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì±…ì—-ë‹´ê¸´-ë‚´ìš©-ê°„ë‹¨íˆ-ì •ë¦¬">ì±…ì— ë‹´ê¸´ ë‚´ìš© ê°„ë‹¨íˆ ì •ë¦¬&lt;/h2>
&lt;ul>
&lt;li>ì»¤ë„ì˜ ì—­í• , ìš´ì˜ì²´ì œì˜ ì—­í• ì´ ë¬´ì—‡ì¸ì§€. ì»¤ë„ê³¼ ìš´ì˜ì²´ì œ ë° ë“œë¼ì´ë²„ë“¤ì´ ì—†ë‹¤ë©´ ì–´ë–¤ ë¶ˆí¸ì´ ìˆì„ì§€ ì„¤ëª…í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>syscall, interruptì— ëŒ€í•´ ì´í•´í•˜ê¸° ì‰½ê²Œ ì„¤ëª…í•˜ê³  ì–´ë–¤ í”Œë¡œìš°ë¡œ ë™ì‘í•˜ëŠ”ì§€ ì„¤ëª…í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>CPU, ì½”ì–´, í•˜ì´í¼ ìŠ¤ë ˆë“œì— ëŒ€í•´ ì„¤ëª…í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>ë©”ëª¨ë¦¬ì™€ Virtual Memory, Cache, HDD, SSDì˜ íŠ¹ì§•ê³¼ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>fork &amp;amp; execveê°€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ì™€ ê³„ì¸µì ì¸ ë¦¬ëˆ…ìŠ¤ì˜ í”„ë¡œì„¸ìŠ¤ ê´€ê³„ì— ëŒ€í•´ ì„¤ëª…í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>íŒŒì¼ ì‹œìŠ¤í…œì´ ë¬´ì—‡ì¸ì§€, íŒŒì¼ ì‹œìŠ¤í…œì´ ì—†ë‹¤ë©´ ì–´ë– í•œ ë¶ˆí¸ì´ ìˆëŠ”ì§€ ì„¤ëª…í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;h2 id="ì¥ë‹¨ì ">ì¥ë‹¨ì &lt;/h2>
&lt;h3 id="ì¥ì ">ì¥ì &lt;/h3>
&lt;ul>
&lt;li>ì‹¤ì œ ì½”ë“œì™€ ê·¸ê²ƒì— ëŒ€í•œ ìˆ˜í–‰ ê²°ê³¼, ê°œë…ì„ ë‚˜íƒ€ë‚¸ ê·¸ë¦¼ ë“±ì„ í†µí•´ ì´í•´ë¥¼ ë•ìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>ë‹¨ìˆœíˆ &amp;ldquo;ì´ëŸ° ì—­í• ì„ í•˜ëŠ” ë…€ì„ì…ë‹ˆë‹¤.&amp;ldquo;ë¡œ ì„¤ëª…ì´ ëë‚˜ëŠ” ê²Œ ì•„ë‹ˆë¼ ê·¸ ë…€ì„ì´ ì—†ìœ¼ë©´ ì–´ë–¤ ë¶ˆí¸ì´ ìˆëŠ”ì§€ ì˜ˆì‹œë¥¼ ë“¤ì–´ì¤ë‹ˆë‹¤.
&lt;ul>
&lt;li>e.g. ë””ë°”ì´ìŠ¤ ë“œë¼ì´ë²„ê°€ ì—†ë‹¤ë©´ ìœ ì €ë“¤ì€ ì‘ì„±í•˜ëŠ” ëª¨ë“  í”„ë¡œê·¸ë¨ì—ì„œ ë””ë°”ì´ìŠ¤ë¥¼ ì–´ë–»ê²Œ ì œì–´í• ì§€ë¥¼ êµ¬í˜„í•´ì•¼í•  ê²ƒì´ê³ , ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ê°™ì€ ë””ë°”ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë ¤ëŠ” ê²½ìš° ì–´ë–»ê²Œ í•´ì•¼í•  ì§€ì— ëŒ€í•œ ë¬¸ì œê°€ ìƒê¸¸ ê²ƒì´ë‹¤.&lt;/li>
&lt;li>e.g. ê°€ìƒ ë©”ëª¨ë¦¬ë¼ëŠ” ê°œë… ì—†ì´ ë¬¼ë¦¬ ë©”ëª¨ë¦¬ë¥¼ ì§ì ‘ ì´ìš©í•œë‹¤ë©´ í”„ë¡œì„¸ìŠ¤ë“¤ì´ ì‹¤ì œë¡œ ìì‹ ì˜ ë¬¼ë¦¬ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ê´€ë¦¬í•´ì•¼í•˜ëŠ”ë° ì´ëŸ° ê²½ìš° ë‹¤ì–‘í•œ ì–´ë ¤ì›€ì´ ì¡´ì¬í•  ê²ƒì´ë‹¤. (ë„ˆë¬´ ë‹¤ì–‘í•´ì„œ ì´ ê¸€ì—ì„  ìƒëµ.)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>í‰ì†Œì— ê¶ê¸ˆí–ˆë˜ ê°œë…ë“¤, ë‚´ê°€ ì˜ ì•Œê³  ìˆëŠ” ê±´ì§€ ì˜ë¬¸ì´ ë“¤ì—ˆë˜ ê°œë…ë“¤, ì´ê²ƒê¹Œì§€ ì•Œì•„ì•¼í•˜ë‚˜ì‹¶ì€ ê°œë…ë“¤ì— ëŒ€í•´ í•œ ë²ˆ ê°€ë³ê²Œ ì •ë¦¬í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
&lt;ul>
&lt;li>ì˜ˆë¥¼ ë“¤ë©´ Page cache, Hyper thread ì´ëŸ° ê°œë…ë“¤ì€ ë“¤ì–´ë³´ê¸°ë§Œ ë§ì´ ë“¤ì–´ë³´ê³  ê°€ë³ê²Œ ì•Œì•„ë³¼ ê¸°íšŒê°€ ì—†ì—ˆëŠ”ë° ì´ë²ˆì— ê°€ë³ê²Œ &amp;lsquo;ì•„~ ì´ëŸ° ê±°êµ¬ë‚˜~&amp;rsquo; í•´ë³¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>êµìˆ˜ë‹˜ê»˜ ë°°ì› ë˜ Virtual Memory ì—­í• ê³¼ í”íˆ ì¸í„°ë„·ì—ì„œ Virtual memoryë¥¼ ì„¤ëª…í•˜ë˜ ë‚´ìš©ì´ ì¡°ê¸ˆ ë‹¬ë¼ì„œ ë‚´ê°€ ì˜ ì•Œê³ ìˆëŠ” ê±´ì§€ ì˜ë¬¸ì´ ë“¤ì—ˆëŠ”ë° ì´ëŸ° ì˜ë¬¸ë„ í•´ì†Œê°€ ëìŠµë‹ˆë‹¤.
&lt;ul>
&lt;li>í”íˆ ì¸í„°ë„·ì—ì„œ ë´¤ë˜ Virtual memoryì˜ ì—­í• ì€ Pageë¼ëŠ” ê°œë…ì„ ë°”íƒ•ìœ¼ë¡œ ë¬¼ë¦¬ ë©”ëª¨ë¦¬ë¥¼ í”„ë¡œì„¸ìŠ¤ê°€ ì•ˆì „í•˜ê³  í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>êµìˆ˜ë‹˜ê»˜ ë°°ì› ë˜ Virtual memoryëŠ” ì´ë¿ë§Œ ì•„ë‹ˆë¼ ë©”ëª¨ë¦¬ë¥¼ demading page, swap ê°™ì€ ì‘ìš©ëœ ë‚´ìš©ë„ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>ê·¸ë˜ì„œ ì œê°€ ì¸í„°ë„·ì—ì„œ ë´¤ë˜ ë‚´ìš©ë“¤ì´ ë§ëŠ” ê±´ì§€ êµìˆ˜ë‹˜ê»˜ ë°°ì› ë˜ ë‚´ìš©ì´ ë§ëŠ” ê±´ì§€ ê¶ê¸ˆí–ˆëŠ”ë° ì´ ì±… ë•ë¶„ì— &amp;lsquo;ë­ ëª¨ë‘ ë§ëŠ” ë‚´ìš© ê°™ë‹¤.&amp;lsquo;ëŠ” ê²°ë¡ ì„ ë‚¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="ë‹¨ì ">ë‹¨ì &lt;/h3>
&lt;ul>
&lt;li>ê¹Šì´ê°€ ê¹Šì§„ ì•ŠìŠµë‹ˆë‹¤. ê¹Šì´ë§Œ ë†“ê³  ë³´ë©´ í•™ë¶€ìƒ ìˆ˜ì¤€ì˜ ì»´í“¨í„°êµ¬ì¡°, ìš´ì˜ì²´ì œ ì •ë„ì¸ ë“¯í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>ë²ˆì—­ì´ ì¡°ê¸ˆ ì–´ìƒ‰í•œ ë¶€ë¶„ë“¤ì´ ì¢…ì¢… ë³´ì˜€ìŠµë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>&lt;figure style="flex-grow: 157; flex-basis: 377px">
&lt;a href="https://umi0410.github.io/blog/computer-science/linux-architecture-with-practice-and-images-review/bookbooke.png" data-size="1080x686">&lt;img src="https://umi0410.github.io/blog/computer-science/linux-architecture-with-practice-and-images-review/bookbooke.png"
srcset="https://umi0410.github.io/blog/computer-science/linux-architecture-with-practice-and-images-review/bookbooke_hu8f782b13d162da26e298aa87a902a883_197267_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/computer-science/linux-architecture-with-practice-and-images-review/bookbooke_hu8f782b13d162da26e298aa87a902a883_197267_1024x0_resize_box_3.png 1024w"
width="1080"
height="686"
loading="lazy"
alt="2022ë…„ ë…ì„œ í˜„í™©">
&lt;/a>
&lt;figcaption>2022ë…„ ë…ì„œ í˜„í™©&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&amp;ldquo;ë¶ì ë¶ì &amp;quot;ì´ë¼ëŠ” ì•±ì„ í†µí•´ ìº¡ì³í•œ ì €ì˜ 2022ë…„ ë…ì„œ ìƒíƒœì…ë‹ˆë‹¤. ì˜¬í•´ì— 3ê¶Œì„ ì½ëŠ” ê²Œ ëª©í‘œì˜€ëŠ”ë° ì•„ë¬´ë˜ë„ ì˜¬í•´ê°€ ê°€ê¸°ì „ì— í•œ ê¶Œ ì •ë„ëŠ” ë” ì½ì–´ë³¼ ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤!
ì±…ì˜ ê¶Œìˆ˜ë³´ë‹¤ëŠ” ì œê°€ ì–´ë–¤ ë‚´ìš©ì„ ì–´ë–¤ ê¹Šì´ë¡œ ë°°ì›Œë‚˜ê°€ê³  ìˆëŠ”ì§€ê°€ ë” ì¤‘ìš”í•˜ê² ì§€ë§Œ ì¼ë‹¨ì€ ë¿Œë“¯í•˜ë„¤ìš”! ã…ã…
í•œêµ­ì–´ë¡œ ëœ ì±…ì¸ë°ë‹¤ê°€ ì¹œìˆ™í•œ ë‚´ìš©, ê¹Šì§€ ì•Šì€ ê¹Šì´ì˜€ë˜ í„°ë¼ ì œ ê¸°ì¤€ì—ì„  ê½¤ë‚˜ ë¹¨ë¦¬ ì½ì„ ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë‹¤ìŒì— ê¸°íšŒê°€ ëœë‹¤ë©´ ì´ ì±…ì²˜ëŸ¼ ì»´í“¨í„° êµ¬ì¡°, ìš´ì˜ì²´ì œì˜ ë‚´ìš©ì„ ì£¼ë¡œ ë‹¤ë£¨ëŠ” ì±…ë³´ë‹¤ëŠ” ì»¤ë„ì— ëŒ€í•´ ë‹¤ë£¨ëŠ” ì±…ì„ ì½ì–´ë³´ê³  ì‹¶ìŠµë‹ˆë‹¤.&lt;/p></description></item><item><title>[ì±…] Istio in Action ë¦¬ë·°</title><link>https://umi0410.github.io/blog/devops/istio-in-action-review/</link><pubDate>Fri, 30 Sep 2022 22:00:00 +0900</pubDate><guid>https://umi0410.github.io/blog/devops/istio-in-action-review/</guid><description>&lt;img src="https://umi0410.github.io/blog/devops/istio-in-action-review/preview.png" alt="Featured image of post [ì±…] Istio in Action ë¦¬ë·°" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>ì €ëŠ” ë°ë¸Œì˜µìŠ¤ ì—”ì§€ë‹ˆì–´ë¡œ í˜„ì¬(2022ë…„ 9ì›”)ì˜ íšŒì‚¬ì— ì…ì‚¬í•œ í›„, ê¸°ì¡´ì— ë§‰ì—°í•˜ê²Œ ê¶ê¸ˆì¦ì„ ê°€ì ¸ì™”ë˜ Istioë¼ëŠ” ì œí’ˆì„ ì£¼ë¡œ ë‹´ë‹¹í•˜ê²Œ ëìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê³µì‹ ë¬¸ì„œì™€ ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ ìœ„ì£¼ë¡œ Istioë¥¼ ê³µë¶€í•˜ë˜ ì¤‘ íŒ€ì›ë¶„ê»˜ &lt;strong>Istio in Action&lt;/strong>ì´ë¼ëŠ” ì±…ì„ ì¶”ì²œë°›ê²Œ ëê³ , ì´ ì±…ì„ í†µí•´ ì¡°ê¸ˆ
ë‘ë£¨ë­‰ì‹¤í–ˆë˜ ì´í•´ì™€ ì‚½ì§ˆì„ ë°”íƒ•ìœ¼ë¡œ í–ˆë˜ íŒë‹¨ë“¤ì´ ì¢€ ë” ë¶„ëª…í•´ì§ˆ ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ ë™ì•ˆì€ ì§€ë£¨í•¨ìœ¼ë¡œ ì¸í•´ ì±…ì„ ë‹¤ì†Œ ë©€ë¦¬ í•˜ê³  ì§§ì€ ì•„í‹°í´ë“¤ì„ ìœ„ì£¼ë¡œ í•™ìŠµì„ í•´ì˜¨ ë°˜ë©´ ì˜¬í•´ ì œ ëª©í‘œ ì¤‘ í•˜ë‚˜ëŠ” &lt;strong>ì±…&lt;/strong>ì„ í†µí•´ ì¢€ ë” ê°œë…ì„ ì˜ ì •ë¦¬í•˜ê³  ê¹Šì´ ìˆê²Œ ê³µë¶€ë¥¼ í•´ë‚˜ê°€ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.
ì´ ì±…ì€ ê·¸ëŸ° ì €ì˜ ëª©í‘œì— ë‹¤í–‰íˆ ì˜ ë¶€í•©í•´ì¤¬ë˜ ê²ƒ ê°™ê³  ì •ë§ ê°„ë‹¨íˆ ë¦¬ë·°ë¥¼ í•´ë³´ë ¤í•©ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì±…ì—-ë‹´ê¸´-ë‚´ìš©-ê°„ë‹¨íˆ-ì •ë¦¬">ì±…ì— ë‹´ê¸´ ë‚´ìš© ê°„ë‹¨íˆ ì •ë¦¬&lt;/h2>
&lt;p>ì±…ì— ë‹´ê²¨ìˆë˜ ë‚´ìš©ë“¤ê³¼ í•¨ê»˜ ì œ ê°œì¸ì ì¸ ê²¬í•´, ì„ í˜¸ë¥¼ ë‹´ì•„ ê°„ë‹¨íˆ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤ :)&lt;/p>
&lt;ul>
&lt;li>&lt;code>ì„œë¹„ìŠ¤ ë©”ì‰¬&lt;/code>ë€ ë¬´ì—‡ì¸ì§€ &lt;code>Istio&lt;/code>ëŠ” ë¬´ì—‡ì¸ì§€ì— ëŒ€í•œ ì´í•´ë¥¼ ë•ìŠµë‹ˆë‹¤.
&lt;ul>
&lt;li>ì‚¬ì‹¤ Istio ê´€ë ¨ ì‘ì—…ì„ ì§„í–‰í•´ì˜¤ë©´ì„œë„ ì„œë¹„ìŠ¤ ë©”ì‰¬ë¼ëŠ” ê°œë…ì´ ë„ëŒ€ì²´ ë¬´ì—‡ì¸ê°€ ì˜ë¬¸ì´ì—ˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>ì´ ì±…ì— ì„œë¹„ìŠ¤ ë©”ì‰¬ë¼ëŠ” ì´ë¦„ì˜ ìœ ë˜ë‚˜ ê·¸ ì •ì˜ê°€ ì˜ ì†Œê°œë˜ì–´ìˆëŠ”ì§€ëŠ” ëª¨ë¥´ê² ëŠ”ë° &lt;code>Istio&lt;/code>ê°€ ë­˜ í•´ì£¼ëŠ” ë…€ì„ì¸ì§€ëŠ” ìƒì„¸íˆ ì„¤ëª…ëœ ë“¯ í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>ê¶ê¸ˆí–ˆë˜ &lt;code>ì„œë¹„ìŠ¤ ë©”ì‰¬&lt;/code>ì— ëŒ€í•´ ë”°ë¡œ ì•Œì•„ë³¸ ë‚´ìš©ì„ ì •ë¦¬í•´ë³´ìë©´
&lt;ul>
&lt;li>ìš°ì„  ê·¸ ì´ë¦„ì˜ ìœ ë˜ê°€ ê¶ê¸ˆí–ˆëŠ”ë° ë„¤íŠ¸ì›Œí¬ í˜•íƒœê°€ ê·¸ë¬¼ë§ì¸ ë©”ì‰¬ ë„¤íŠ¸ì›Œí¬ì—ì„œ ìœ ë˜ë˜ì–´ ì„œë¹„ìŠ¤ ê°„ì˜ í†µì‹ ì´ ë©”ì‰¬ ë„¤íŠ¸ì›Œí¬ í˜•íƒœë¥¼ ë„ê¸° ë–„ë¬¸ì— ì„œë¹„ìŠ¤ ë©”ì‰¬ë¼ê³  ì´ë¦„ì´ ë¶™ì€ ë“¯ í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>ë„¤íŠ¸ì›Œí¬ê°€ ê·¸ë¬¼ë§ í˜•íƒœë¥¼ ê°–ëŠ”ë‹¤ëŠ” ì´ìœ ëŠ” í”„ë¡ì‹œì™€ ê°™ì€ ì• ë“¤ì—ê²Œ ê° ì„œë¹„ìŠ¤ë“¤ì˜ ìš”ì²­, ì‘ë‹µì´ ë‹¤ ì „ë‹¬ë˜ëŠ”ë° ì´ë–„ í•˜ë‚˜ì˜ Gatewayì—
ì˜ì¡´í•˜ê¸°ë³´ë‹¤ëŠ” ê·¸ë¬¼ë§ì²˜ëŸ¼ í”„ë¡ì‹œë“¤ ìŠ¤ìŠ¤ë¡œê°€ ìì‹ ì´ ì–´ë–¤ ë¡œì§ì„ ìˆ˜í–‰í•œ í›„ ì–´ë””ë¡œ ìš”ì²­ì„ ì „ë‹¬í•´ì•¼í•˜ëŠ”ì§€ë¥¼ ì¸ì§€í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/li>
&lt;li>í”„ë¡ì‹œê°€ ëª¨ë“  ì„œë¹„ìŠ¤ë“¤ì—ê²Œ ë¶™ë‹¤ë³´ë‹ˆ ê³µí†µëœ ê¸°ëŠ¥ì„ ì¸í”„ë¼ ë ˆë²¨ì—ì„œ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ì„œë¹„ìŠ¤ë§ˆë‹¤ ê³µí†µì ìœ¼ë¡œ í•„ìš”í•œ ê¸°ëŠ¥ì´ë©´ì„œ ê° ì„œë¹„ìŠ¤ë“¤ì´ í•´ë‹¹ ê¸°ëŠ¥ì„ ê°œë³„ì ìœ¼ë¡œ ê°œë°œí•  í•„ìš” ì—†ì´ ì¸í”„ë¼ ë ˆë²¨ì—ì„œ ê³µí†µìœ¼ë¡œ ì§€ì›í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì€ ë¬´ì—‡ì´ ìˆëŠ”ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤.
&lt;ul>
&lt;li>ì¸ì¦, ì¸ê°€, timeout, retry, circuit breaker, rate limiting ë“±ì´ ìˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>í•´ë‹¹ ê¸°ëŠ¥ë“¤ì„ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ë¶€ì—ì„œ ê°ê° êµ¬í˜„í•˜ë©´ ì–´ë–¤ ë‹¨ì ë“¤ì´ ìˆëŠ”ì§€, ì¸í”„ë¼ ë ˆë²¨ì—ì„œ ì§€ì›í•˜ë©´ ì–´ë–¤ ì¥ì ë“¤ì´ ìˆëŠ”ì§€ ì˜ ì†Œê°œë˜ì–´ ìˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>(ê°œì¸ì  ì˜ê²¬) ê·¸ë ‡ë‹¤ê³ í•´ì„œ Istioë¡œ ê·¸ëŸ° ê²ƒì„ ì§€ì›í•˜ëŠ” ê²ƒë§Œì´ ì˜³ì€ ì„ íƒì§€ë‹¤ë¼ê³ ëŠ” ìƒê°í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤&amp;hellip; í˜„ì‹¤ì ìœ¼ë¡œ ê°œë°œ ë‹¨ê³„ì—ì„œ í•´ë‹¹ ê¸°ëŠ¥ë“¤ì„ êµ¬í˜„í•˜ëŠ” ê²Œ ë” ê°„ë‹¨í•  ìˆ˜ë„ ìˆê³ ,
ì‚¬ì†Œí•˜ê±°ë‚˜ ê°„ë‹¨í•œ ê¸°ëŠ¥ì¼ ìˆ˜ë„ ìˆëŠ” ë¶€ë¶„ë“¤ì„ ë¦´ë¦¬ì¦ˆê°€ ë¹ ë¥¸ Istioì—ê²Œ ë§¡ê¸°ëŠ” ê²ƒì´ ì˜³ì„ì§€ëŠ” ê°¸ìš°ëš±ì…ë‹ˆë‹¤.
Devì™€ Opsê°€ ì–´ìš°ëŸ¬ì§ˆ ìˆ˜ ìˆëŠ” ì‹œëŒ€ë¼ê³ ëŠ”í•˜ë‚˜ Istioì˜ ê¸°ëŠ¥ì— ê¸°ëŒ€ê²Œ ë˜ëŠ” ìˆœê°„ ê·¸ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•´ë³´ê¸° ìœ„í•´ì„œëŠ” Istioê°€ ì§€ì›ë˜ëŠ” í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ë´ì•¼í•  ê²ƒì´ê³ ,
ì´ ê²½ìš° ë³´í†µì˜ ê°œë°œìë“¤ì—ê²ŒëŠ” ë²ˆê±°ë¡œì›€ì´ ë  ìˆ˜ ìˆë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Ingressë‚˜ k8sì˜ ê¸°ë³¸ Service ë¦¬ì†ŒìŠ¤ë§Œìœ¼ë¡œëŠ” ì™œ ë¶€ì¡±í•œì§€, ì™œ Istioì˜ Gateway, VirtualService, DestinationRule ë“±ì˜ ë¦¬ì†ŒìŠ¤ê°€ í•„ìš”í•œì§€ ì„¤ëª…í•´ì¤ë‹ˆë‹¤.
&lt;ul>
&lt;li>VirtualServiceì™€ DestinationRuleì„ ì´ìš©í•˜ ì¹´ë‚˜ë¦¬ ë°°í¬ë¥¼ ì† ì‰½ê²Œ ì´ìš©í•  ìˆ˜ë„ ìˆê³ , ì•ì„œ ì–¸ê¸‰í•œ timeout, retry, circuit breakerì˜ ê¸°ëŠ¥ë„ ì¸í”„ë¼ ë ˆë²¨ì—ì„œ ì§€ì›ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Envoyì˜ ì—­í• ê³¼ xDS APIì— ëŒ€í•´ ì„¤ëª…í•´ì¤ë‹ˆë‹¤.
&lt;ul>
&lt;li>ì‚¬ì‹¤ IstioëŠ” Envoyë¥¼ ì¶”ìƒì ì´ê³  ì„ ì–¸ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê²Œ í•´ì£¼ëŠ” ë„êµ¬ì¼ ë¿ì´ì§€ ì•Šë‚˜ ì‹¶ìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>ê·¸ë˜ì„œ Envoyë¼ëŠ” ì• ë¥¼ ì˜ ì´í•´í•´ì•¼í•˜ëŠ”ë° Envoyê°€ ë­˜ í•˜ëŠ” ì• ì¸ì§€, ì–´ë–»ê²Œ ì„¤ì •í•  ìˆ˜ ìˆê³  ì–´ë–»ê²Œ ì„¤ì •ì„ í™•ì¸í•  ìˆ˜ ìˆëŠ”ì§€ ì˜ ì„¤ëª…í•´ì¤ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>íŠ¸ëŸ¬ë¸” ìŠˆíŒ… íŒë“¤ì„ ì•Œë ¤ì¤ë‹ˆë‹¤!
&lt;ul>
&lt;li>ì´ ë¶€ë¶„ì€ ì •ë§ ì–´ë””ì„œë„ ì°¾ì•„ë³´ê¸° í˜ë“  ë‚´ìš©ì´ì—ˆë˜ ê²ƒ ê°™ê³  ì‹¤ì œ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ì‹œì— í•„ìš”í•œ ê°œë…ì„ ì¡ëŠ” ë°ì— ë„ì›€ì´ ë§ì´ ëë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>ë””ë²„ê¹… ë¡œê·¸ë¥¼ ì¼œëŠ” ë²•, ê·¸ê²ƒì„ í•´ì„í•˜ëŠ” ë²•, SNI ì´ë¦„ì„ í•´ì„í•˜ëŠ” ë²•, ê³¼ë¶€í•˜ì˜ ì›ì¸ì´ ë  ìˆ˜ ìˆëŠ” ì , ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì´ ë™ì‘í•˜ì§€ ëª»í•  ë•Œ ë°œìƒí•  ìˆ˜ ìˆëŠ” í˜„ìƒ ë“±ì„ ì•Œë ¤ì¤ë‹ˆë‹¤.&lt;/li>
&lt;li>(ì œê°€ ê°œì¸ì ìœ¼ë¡œ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…ì„ ì¢‹ì•„í•˜ê¸°ë„ í•©ë‹ˆë‹¤.)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>VMì„ ìš°ë¦¬ Service Registryì— í¬í•¨ì‹œì¼œ Istioë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ë²•, ë‹¤ì–‘í•œ ëª¨ë¸ì˜ Multi Clusterì„ ì´ìš©í•˜ëŠ” ë²• ë“±ì„ ì„¤ëª…í•´ì¤ë‹ˆë‹¤.
&lt;ul>
&lt;li>VM ê´€ë ¨ëœ ë‚´ìš©ì€ ê·¸ë‹¥ í•´ë‹¹ ì‚¬í•­ì´ ì—†ì„ ë“¯í•˜ì—¬ ìŠ¥ìŠ¥ ë„˜ê²¼ê³ , ì¶”í›„ì— ì œê°€ Istio Multi Clusterì„ ì´ìš©í•˜ê²Œ ë  ìˆ˜ë„ ìˆì–´ í¥ë¯¸ë¡œì› ìŠµë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Istioë¥¼ ì„¤ì¹˜í•˜ëŠ” ë‹¤ì–‘í•œ ë°©ë²•ì— ëŒ€í•´ ì†Œê°œí•˜ê³ , ì£¼ê´€ì ì´ë©´ì„œë„ í˜„ì‹¤ì ì¸ ì¶”ì²œì•ˆì„ ì œì‹œí•´ì¤ë‹ˆë‹¤.
&lt;ul>
&lt;li>Helmìœ¼ë¡œ Istioë¥¼ ì„¤ì¹˜í•˜ëŠ” ê²½ìš°ëŠ” ì–´ë– í•œì§€, ì•„ì˜ˆ ìˆ˜ë™ìœ¼ë¡œ ë”°ë¡œ ì„¤ì¹˜í•˜ëŠ” ê²ƒì€ ì–´ë–¤ì§€, Istioctlì„ ì´ìš©í•˜ë©´ ì–´ë–¤ì§€, control planeê³¼ data planeì„ ë”°ë¡œ ê´€ë¦¬í•˜ëŠ” ë°©ì‹ì€ ì–´ë–¤ì§€ ë“±ì„ ì„¤ëª…í•´ì¤ë‹ˆë‹¤.
ì´ëŸ° ë‚´ìš©ì„ ì˜ ì •ë¦¬í•´ì„œ ì„¤ëª…í•˜ëŠ” ìë£ŒëŠ” ê±°ì˜ ì°¾ì•„ë³´ê¸° í˜ë“¤ì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ê¸°ë³¸ì ìœ¼ë¡œ Istioê°€ ì œê³µí•˜ëŠ” ì„ ì–¸ì ì¸ APIë“¤ ì™¸ì— Lua Scriptë‚˜ Wasmì„ í†µí•´ Envoyì˜ ê¸°ëŠ¥ì„ í™•ì¥í•˜ëŠ” ë°©ë²•ì„ ì•Œë ¤ì¤ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>&lt;figure style="flex-grow: 271; flex-basis: 651px">
&lt;a href="https://umi0410.github.io/blog/devops/istio-in-action-review/bookbooke.png" data-size="1673x616">&lt;img src="https://umi0410.github.io/blog/devops/istio-in-action-review/bookbooke.png"
srcset="https://umi0410.github.io/blog/devops/istio-in-action-review/bookbooke_hu6f3fc95dbdc4b20cb23f363260c46387_165316_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/istio-in-action-review/bookbooke_hu6f3fc95dbdc4b20cb23f363260c46387_165316_1024x0_resize_box_3.png 1024w"
width="1673"
height="616"
loading="lazy"
alt="2022ë…„ ë…ì„œ í˜„í™©">
&lt;/a>
&lt;figcaption>2022ë…„ ë…ì„œ í˜„í™©&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&amp;ldquo;ë¶ì ë¶ì &amp;quot;ì´ë¼ëŠ” ì•±ì„ í†µí•´ ìº¡ì³í•œ ì €ì˜ 2022ë…„ ë…ì„œ ìƒíƒœì…ë‹ˆë‹¤. ì•ìœ¼ë¡œ ì•½ 2ë‹¬ì´ ë‚¨ì•˜ëŠ”ë° ë‚¨ì€ 2ë‹¬ ë™ì•ˆ í•œ ê¶Œì„ ë˜ ë…íŒŒí•´ ì˜¬í•´ì— ì´ 3ê¶Œì„ ì½ì–´ë³´ëŠ” ê²Œ ì†Œë°•í•œ ëª©í‘œì…ë‹ˆë‹¤.
ì†Œë°•í•˜ì§€ë§Œ ì´ë ‡ê²Œ ì ì°¨ ëŠ˜ë ¤ê°€ë‹¤ë³´ë©´ ë‚˜ì¤‘ì—” ì†ë„ë„ ë¹¨ë¼ì§€ê³  ì§€ì‹ì˜ ì–‘ë„ ë³µë¦¬ì²˜ëŸ¼ ëŠ˜ì–´ë‚˜ìˆê¸°ë¥¼ ê¸°ëŒ€í•´ë´…ë‹ˆë‹¤.&lt;/p>
&lt;p>ë¯¸ë˜ì— ëˆ„êµ°ê°€ ì œê²Œ &amp;ldquo;ì‹ ì… ì—”ì§€ë‹ˆì–´ ì‹œì ˆì— ì£¼ë¡œ ë­ í–ˆëƒ&amp;rdquo; ë¬»ëŠ”ë‹¤ë©´ ì´ì œëŠ” Istioë¥¼ ë¹¼ë†“ì„ ìˆ˜ ì—†ì„ ë“¯í•©ë‹ˆë‹¤. ğŸ˜Š&lt;/p>
&lt;p>Istioì˜ ê°œë…ì´ ê¶ê¸ˆì€ í•˜ì§€ë§Œ ì§ì ‘ ë‹¤ë¤„ë³´ê¸´ ë¶€ë‹´ìŠ¤ëŸ¬ìš´ ë¶„ë“¤ê»˜ì„œëŠ” í•œ ë²ˆ ì§„ë“íˆ ì½ì–´ë³´ì‹œë©´ ì¢‹ì„ ë“¯í•˜ê³ ,
Istioë¥¼ ì‚´ì§ ì‚¬ìš©ì€ í•´ë³´ê³ ìˆëŠ”ë° ê°œë…ì´ ì˜ ì •ë¦¬ë˜ì–´ìˆì§€ ì•Šì•„ í•œ ë²ˆ ì •ë¦¬ë¥¼ ì›í•˜ì‹œëŠ” ë¶„ë“¤ì€ ìŠ¥ìŠ¥ ì½ì–´ë³´ì‹œë©´ ì¢‹ì„ ë“¯í•©ë‹ˆë‹¤. ê·¸ëŸ¼ ì´ë¡œì„œ Istio in Actionì˜ ë¦¬ë·°ë¥¼ ë§ˆì¹˜ê² ìŠµë‹ˆë‹¤.&lt;/p></description></item><item><title>2022ë…„ 9ì›”ì— ì ì–´ë³´ëŠ” ì¡°ê¸ˆì€ ëœ¬ê¸ˆì—†ëŠ” 9ê°œì›”ê°„ì˜ 2022ë…„ íšŒê³ </title><link>https://umi0410.github.io/blog/thought/2022-09-review/</link><pubDate>Sat, 10 Sep 2022 15:46:54 +0900</pubDate><guid>https://umi0410.github.io/blog/thought/2022-09-review/</guid><description>&lt;img src="https://umi0410.github.io/blog/thought/2022-09-review/preview.png" alt="Featured image of post 2022ë…„ 9ì›”ì— ì ì–´ë³´ëŠ” ì¡°ê¸ˆì€ ëœ¬ê¸ˆì—†ëŠ” 9ê°œì›”ê°„ì˜ 2022ë…„ íšŒê³ " />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>ì‹œê°„ì€ ì •ë§ ë‚˜ì´ë¥¼ ë¨¹ì„ ìˆ˜ë¡ ë¹ ë¥´ê²Œ ì§€ë‚˜ê°€ëŠ” ê²ƒì¼ê¹Œ? ë§¤ë²ˆ ì§€ë‚œ íšŒê³ ë¥¼ ëŒì´ì¼œë³´ë©´ ì‹œê°„ì´ ë¹ ë¥´ê²Œ ì§€ë‚˜ê°”ë‹¤ëŠ” ì–˜ê¸°ë¡œ ì‹œì‘í•˜ê²Œ ëœ ê²ƒ ê°™ë‹¤. ì˜¬í•´ì—ë„ ì—­ì‹œë‚˜ë‹¤. ì‹œê°„ì´ ì°¸ ë¹ ë¥¸ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>ì´ì „ íšŒê³ ê¸€ê³¼ ê°™ì´ ê¸°ìˆ ì ìœ¼ë¡œ ë§¤ë ¥ì ì¸ ì‹ ì…ì´ ë˜ê³ ìí•˜ëŠ” íšŒê³ ë¼ê¸°ë³´ë‹¤ëŠ” ì´ë²ˆ ê¸€ì€ íšŒê³ ë¼ê³  ì ê¸°ëŠ” í–ˆìœ¼ë‚˜ ì·¨ì¤€ ê³¼ì • ê·¸ë¦¬ê³  ì…ì‚¬ ì´í›„ì— ëŒ€í•œ ì¼ê¸°ë¼ê³  ë³¼ ìˆ˜ë„ ìˆì„ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;h2 id="ë˜ëŒì•„ë³¸-2022">ë˜ëŒì•„ë³¸ 2022&lt;/h2>
&lt;p>í¬ê²Œ ì˜¬ í•œí•´ë¥¼ ì •ë¦¬í•´ë³´ìë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.&lt;/p>
&lt;ul>
&lt;li>2022.01~2022.02 | ë‹¹ê·¼ë§ˆì¼“ í”Œë«í¼ ì„œë²„ Golang ê°œë°œì ì¸í„´ìœ¼ë¡œ ê·¼ë¬´í–ˆë‹¤.&lt;/li>
&lt;li>2022.03~2022.04 | ì§§ë‹¤ë©´ ì§§ì€ ì‹œê°„ì´ê² ì§€ë§Œ ì·¨ì¤€ìƒìœ¼ë¡œì„œ ë…¸ë ¥í–ˆë‹¤.&lt;/li>
&lt;li>2022.03 | ê³ ë…í•œ ì·¨ì¤€ ì‹œê¸°ì´ê³  ì´í›„ì—ë„ ê³ ë…í•œ ì§ì¥ì¸ì´ ë˜ê² ì§€ë§Œ ê·¸ë¥¼ ìœ„í•´ ì·¨ë¯¸ í•˜ë‚˜ì¯¤ì€ ê°–ê³ ì ê¸°íƒ€ ë ˆìŠ¨ì„ ì‹œì‘í–ˆë‹¤.&lt;/li>
&lt;li>2022.04 | ì·¨ì¤€ì„ ë§ˆì¹˜ê³  í™€ë¡œ ğŸ‡ºğŸ‡¸ë¯¸êµ­ì—¬í–‰ì„ ë‹¤ë…€ì™”ë‹¤. í–¥í›„ Në…„ê°„ì€ ê²ªì–´ë³´ì§€ ëª»í•  ê²ƒ ê°™ë‹¤.&lt;/li>
&lt;li>2022.05 | í–‰ìš´ì´ê²Œë„ ê³ ë§™ê³  ì¢‹ì€ ì‚¬ëŒì„ ë§Œë‚¬ë‹¤.&lt;/li>
&lt;li>2022.05 | ë°ë¸Œì‹œìŠ¤í„°ì¦ˆì— ë°ë¸Œì˜µìŠ¤ ì—”ì§€ë‹ˆì–´ë¡œ ì…ì‚¬í–ˆë‹¤. ë˜ ì¸ìƒ ì²« ìì·¨ë¥¼ ì‹œì‘í–ˆë‹¤.&lt;/li>
&lt;li>2022.07 | íšŒì‚¬ì— ì ì‘ í›„ ê´€ì‹¬ìˆë˜ istio ê´€ë ¨ ì—…ë¬´ë¥¼ ì£¼ë¡œ ë³´ê³  ìˆë‹¤.&lt;/li>
&lt;li>2022.09 | ìƒˆë¡œìš´ k8sì™€ í´ë¼ìš°ë“œ ì¸í”„ë¼ ê´€ë¦¬ì— ëŒ€í•œ í° ê·¸ë¦¼ì„ ê·¸ë ¤ë‚˜ê°€ì•¼í•  ë•Œì´ë‹¤.&lt;/li>
&lt;/ul>
&lt;p>ë™ë£Œë“¤ê³¼ ì¢…ì¢… â€œì§„ìˆ˜ë‹˜ì€ ìš”ì¦˜ì€ ì˜ ì§€ë‚´ê³  ê³„ì‹ ê°€ìš”?â€ ì´ëŸ° ì–˜ê¸°ë¥¼ ë‚˜ëˆ„ê²Œ ë  ë•Œê°€ ìˆë‹¤. ì˜¬í•´ì˜ ë‚˜ëŠ” í•­ìƒ ì´ë ‡ê²Œ ëŒ€ë‹µí•˜ê³  ìˆë‹¤. â€œ26ë…„ ì¸ìƒ ì¤‘ ê°€ì¥ í–‰ë³µí•œ í•œí•´ë¥¼ ë³´ë‚´ê³ ìˆë‹¤&amp;quot;ê³ .&lt;/p>
&lt;p>ê·¸ë ‡ê²Œ ì‹«ì–´í–ˆë˜ ëŒ€í•™ ì¡¸ì—…ë°˜ì´ ë˜ë©° ì•”ê¸°í˜•, ì¡±ë³´í˜• ëŒ€í•™ ì‹œí—˜ë“¤ë¡œ ë¶€í„° í•´ë°©ë  ìˆ˜ ìˆì—ˆê³ , ëŒ€í•™ ì‹œí—˜ê³¼ ë‹¬ë¦¬ ì±„ìš© ì ˆì°¨ì—ì„œëŠ” ë‚´ í¥ë¯¸ì™€ ê°œì„±ì„ ì‚´ë ¤ í•´ì™”ë˜ ê³µë¶€ì™€ ì‘ì—…ë“¤, ë‚´ê°€ ê°€ì§„ íƒœë„ê°€ ìƒê°ë³´ë‹¤ ë§¤ë ¥ì ìœ¼ë¡œ í‰ê°€ë°›ì•˜ìŒì— ê°ì‚¬í•˜ê³  ë¿Œë“¯í–ˆë‹¤.&lt;/p>
&lt;p>ì…ì‚¬ í›„ì—ë„ ë§ˆìŒ í•œ ì¼ ì— ì¸ê°„ì ì¸ ì™¸ë¡œì›€ì´ í¬ê²Œ ìë¦¬ ì¡ì„ ìˆ˜ ìˆì—ˆì„í…ë° ìš´ ì¢‹ê²Œë„ ê³ ë§™ê³  ì¢‹ì€ ì‚¬ëŒì„ ë§Œë‚  ìˆ˜ ìˆì—ˆë‹¤.&lt;/p>
&lt;p>ì§€ê¸ˆì˜ íšŒì‚¬ì— ì…ì‚¬í•˜ê¸°ê¹Œì§€ì˜ ê³¼ì •ë“¤ì´ ìˆœíƒ„í•˜ì§€ë§Œì€ ì•Šì•˜ì„ ìˆ˜ ìˆì§€ë§Œ ê·¸ëŸ° ì¡°ê¸ˆì€ ì•„í”„ê³  í˜ë“¤ì—ˆë˜ ê³¼ì •ë“¤ì´ ê°ì‚¬íˆë„ ë‚˜ë¥¼ ë” ì¢‹ì€ ì‚¬ëŒìœ¼ë¡œ ë§Œë“¤ì–´ì¤„ ìˆ˜ ìˆì—ˆë˜ ê²ƒì€ ì•„ë‹ê¹Œ ì‹¶ê¸°ë„í•œë‹¤.&lt;/p>
&lt;p>ìš”ì¦˜ì€ ë°ë¸Œì˜µìŠ¤ ì—”ì§€ë‹ˆì–´ë¡œì„œ ê´€ì‹¬ìˆë˜ istioë¥¼ ì£¼ë¡œ ë‹´ë‹¹í•´ë‚˜ê°€ë©° ì±…ì„ê°ì´ ì»¤ì ¸ê°€ê³  ìˆë‹¤.&lt;/p>
&lt;h2 id="2022ë…„ì—-ëª©í‘œí–ˆë˜-ê²ƒ">2022ë…„ì— ëª©í‘œí–ˆë˜ ê²ƒ&lt;/h2>
&lt;p>ì´ì „ì— ì‘ì„±í–ˆë˜ &lt;a class="link" href="https://umi0410.github.io/blog/thought/2021-review/" target="_blank" rel="noopener"
>â€œ2021ë…„ íšŒê³ â€&lt;/a>ë¥¼ ë³´ë©´ ì˜¬í•´ 2022ë…„ì—ëŠ” ì´ëŸ° 3ê°€ì§€ ê³„íšì„ ì„¸ì› ì—ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>&lt;strong>ì§€ì‹ì˜ ê¹Šì´ë¥¼ ë” ê¹Šê²Œ í•´ì•¼ê² ë‹¤&lt;/strong>
&lt;ul>
&lt;li>ë¶„ì•¼ë³„ ì±… ì½ê¸°&lt;/li>
&lt;li>ë™ì˜ìƒ ê°•ì˜ ê¾¸ì¤€íˆ ì‹œì²­í•˜ê¸°&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>ì„ íƒê³¼ ì§‘ì¤‘ì„ í•˜ì&lt;/strong>
&lt;ul>
&lt;li>ë„ˆë¬´ ë‹¤ì–‘í•œ ë¶„ì•¼ë³´ë‹¤ëŠ” ë‚´ê°€ ìš°ì„ ìˆœìœ„ì— ë‘” ê¸°ìˆ ë“¤ì„ ìœ„ì£¼ë¡œ ê°œìˆ˜ëŠ” ì ë”ë¼ë„ ê¹Šì´ìˆê²Œ ê³µë¶€í•´ë‚˜ê°€ì&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>ìš´ë™ì„ ì†Œí™€íˆ í•˜ì§€ë§ì&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>ë¨¼ì € 1ë²ˆì— ëŒ€í•´ í”¼ë“œë°± í•´ë³´ì.&lt;/p>
&lt;p>ì‘ë…„ì—ëŠ” MSAë‚˜ CQRS, Springë“¤ì„ ì£¼ë¡œ ê³µë¶€í–ˆì—ˆê³ , ì›¹ì— ë‚˜ì™€ìˆëŠ” ì•„í‹°í´ë“¤ì„ ë³µë¶™í•´ê°€ë©° ë‹¨ìˆœí•œ ê°œë°œì„ í•´ë‚˜ê°€ëŠ” ë°ì— ë§ì€ ì‹œê°„ì„ í• ì• í–ˆë˜ ê²ƒ ê°™ë‹¤. ë‹¹ì‹œì— ì´ëŸ° ì‹ìœ¼ë¡œ ì‘ì—…í•´ë‚˜ê°”ë˜ ê²ƒì´ ì˜ëª»ëë‹¤ê³  í›„íšŒí•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ë‹¹ì‹œëŠ” ê·¸ëŸ° ë‹¤ì–‘í•œ ê°œë°œ ê²½í—˜ì´ í•„ìš”í–ˆê³  ê·¸ë¥¼ í†µí•´ ë‹¤ì–‘í•œ ì§€ì‹ë„ ìŠµë“í•  ìˆ˜ ìˆì—ˆë˜ ê²ƒë„ ì‚¬ì‹¤ì´ì—ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ë„ˆë¬´ ë‘ì„œ ì—†ì´ ì´ ê¸€ ì € ê¸€ ì§¬ë½•í•´ì„œ ì ìš©í•˜ê³  ë. ì´ëŸ¬ë‹¤ë³´ë‹ˆ ì‹¤ì œë¡œ ë¨¸ë¦¿ ì†ì—ì„œ ì²´ê³„ê°€ ì˜ ì¡íˆì§„ ì•ŠëŠ” ëŠë‚Œì´ì—ˆë‹¤. ë”°ë¼ì„œ ì¢€ ë” ê¹Šì´ë¥¼ ê¹Šê²Œ í•˜ê³ ì í–ˆë‹¤.&lt;/p>
&lt;p>ì˜¬í•´ ì´ˆì—ëŠ” NoSQLê³¼ ê´€ë ¨ëœ &lt;a class="link" href="http://www.yes24.com/Product/Goods/23512673" target="_blank" rel="noopener"
>â€œNoSQL ì² ì € ì…ë¬¸â€&lt;/a>ì´ë¼ëŠ” ì±…ì„ ì½ì—ˆë‹¤. ë‹¹ê·¼ë§ˆì¼“ì—ì„œ ì¸í„´ì„ í•˜ë©´ì„œ DynamoDBë‚˜ Redisì™€ ê°™ì€ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì ê·¹ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆì—ˆê³ , í•­ìƒ ê¶ê¸ˆí–ˆë˜ NoSQLì— ëŒ€í•´ ì¢€ ë” ì•Œì•„ë³´ê³  ì‹¶ì–´ ì´ ì±…ì„ ì½ê²Œ ëì—ˆë‹¤. ì‚¬ì‹¤ ì§€ê¸ˆì€ ì´ ì±…ì„ ì™„ë…í•œ ì§€ ë°˜ë…„ì´ ì§€ë‚˜ì ê·¸ë‹¥ ë‚´ìš©ì´ ì˜ ê¸°ì–µë‚˜ì§€ëŠ” ì•Šì§€ë§Œ í•„ìš”í•  ë•Œ ë‹¤ì‹œ ì°¾ì•„ë³´ë©´ ë¹ ë¥¸ ì‹œê°„ì— ìŠ¥ìŠ¥ ìŠµë“í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤. ê·¸ë¦¬ê³  ì´ë ‡ê²Œ ì±…ì„ ì™„ë…í•œ ê²ƒì´ ì–¸ì œì¸ì§€ ëª¨ë¥´ê² ëŠ”ë° ì˜¤ëœë§Œì— ì™„ë…ì„ í–ˆë‹¤ëŠ” ê²ƒ ë˜í•œ ê½¤ë‚˜ ë¿Œë“¯í–ˆë‹¤.&lt;/p>
&lt;p>ì…ì‚¬ í›„ì—ëŠ” ë„¤íŠ¸ì›Œí¬ì— ê´€ë ¨ëœ ë‚´ìš©ë“¤ì„ ë§ì´ ë‹¤ë£¨ê³  ìˆê³ , ê·¸ ì¤‘ì—ì„œë„ istioë¥¼ ì£¼ë¡œ ë‹¤ë£¨ê³  ìˆë‹¤. í”„ë¡œë•ì…˜ì˜ istioë¥¼ ë‹´ë‹¹í•˜ê¸° ìœ„í•´ì„œëŠ” ê½¤ë‚˜ ì•Œì•„ì•¼í•˜ëŠ” ë‚´ìš©ë“¤ì´ ë§ê³  istioëŠ” ì„¬ì„¸í•˜ê³  ì‹ ì¤‘í•˜ê²Œ ë‹¤ë¤„ì ¸ì•¼í•˜ëŠ” ë…€ì„ì´ë‹¤. ê²Œë‹¤ê°€ ì´ ë…€ì„ì€ í•œêµ­ì–´ë¡œ ëœ ìë£Œê°€ ë§ì§€ë„ ì•Šìœ¼ë©° ë²„ì „ë³„ ë³€ê²½ì‚¬í•­ì´ ë§ì•„ ë¸”ë¡œê·¸ ê¸€ ì§œê¹ê¸° ë°©ì‹ìœ¼ë¡œëŠ” ê³µë¶€ë¥¼ í•˜ê¸°ê°€ ì–´ë µë‹¤.&lt;/p>
&lt;p>ë”°ë¼ì„œ ë‹¤ìŒ ì„¸ ê°€ì§€ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê³µë¶€í•˜ê³  ìˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>Istioì˜ ê³µì‹ ë¬¸ì„œ&lt;/li>
&lt;li>ë„ì„œ - &lt;a class="link" href="http://www.yes24.com/Product/Goods/103712494" target="_blank" rel="noopener"
>Istio in Action&lt;/a>&lt;/li>
&lt;li>Istio release notes&lt;/li>
&lt;/ol>
&lt;p>istioë¥¼ ê³µë¶€í•˜ê³  ì±…ì„ì§€ê³  ì—…ë¬´ë¥¼ ì§„í–‰í•˜ë©´ì„œ ì°¸ ë§ì€ ê±¸ ë°°ìš¸ ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ë‹¤. ë˜í•œ istio ë¿ë§Œ ì•„ë‹ˆë¼ kafka, zookeeperë“±ê³¼ë„ ê´€ë ¨ëœ ë‚´ìš©ì´ê¸°ë„ í•˜ë‹¤.&lt;/p>
&lt;ul>
&lt;li>ë²„ì „ì„ ì™œ ì£¼ì˜í•˜ë©° ì‘ì—…í•´ì•¼í•˜ëŠ”ì§€&lt;/li>
&lt;li>ì„œë¡œ ë‹¤ë¥¸ ë²„ì „ê°„ì˜ ë³€ê²½ ë™ì•ˆ ì„œë¹„ìŠ¤ì˜ ë¬´ì¤‘ë‹¨ì„ ìœ„í•´ ì–´ë–¤ ê²ƒì„ ì‹ ê²½ì¨ì•¼í• ì§€&lt;/li>
&lt;li>ê²½ìš°ì— ë”°ë¼ ì½”ë“œ ë‹¨ê¹Œì§€ íŒŒí—¤ì³ì„œ ì›ì¸ì„ íŒŒí—¤ì¹˜ëŠ” ê²ƒ&lt;/li>
&lt;li>ë›°ì–´ë‚œ ë™ë£Œê°€ ê³ì— ìˆë‹¤ëŠ” ê²ƒì´ ì–¼ë§ˆë‚˜ ë“ ë“ í•œì§€&lt;/li>
&lt;li>ëŒ€ë¶€ë¶„ì˜ ì œí’ˆë“¤ì—ëŠ” log levelì„ ì¡°ì ˆí•  ìˆ˜ ìˆê³  ë­”ê°€ ì•ˆëœë‹¤ì‹¶ìœ¼ë©´ log levelì„ ë‚®ì¶°ë³´ë©´ í° ë„ì›€ì´ ë  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒ&lt;/li>
&lt;li>envoy proxyê°€ ì–‘ì¸¡ì— ì¡´ì¬í•˜ëŠ” ê²½ìš°, ì„œë²„ìª½ì—ë§Œ ì¡´ì¬í•˜ëŠ” ê²½ìš°, í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ë§Œ ì¡´ì¬í•˜ëŠ” ê²½ìš° ê°ê° ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€. â† ì´ ë¶€ë¶„ì€ ì£¼ë¡œ ê³µì‹ ë¬¸ì„œì—ì„œëŠ” ì œëŒ€ë¡œ ì†Œê°œëœ ê¸€ì´ ì—†ëŠ” ê²ƒì´ ë³´í†µì€ envoy proxyê°€ ì–‘ìª½ì— ì¡´ì¬í•˜ëŠ” ê²½ìš°ì— ëŒ€í•´ì„œë§Œ ë‹¤ë£¨ê¸° ë•Œë¬¸ì´ë‹¤.&lt;/li>
&lt;li>replicaê°€ ê°œìˆ˜ì— ë”°ë¼ ë™ì‘ì´ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤ëŠ” ì . ë”°ë¼ì„œ ì—¬ìœ ê°€ ëœë‹¤ë©´ ê°€ëŠ¥í•œ ê²½ìš°ë¥¼ ëª¨ë‘ ì‚¬ì „ì— í…ŒìŠ¤íŠ¸í•´ë´ì•¼í•  ìˆ˜ ìˆë‹¤.
&lt;ul>
&lt;li>replicaê°€ stand aloneìœ¼ë¡œ í•œ ëŒ€ë§Œ ì¡´ì¬í•˜ëŠ” ê²½ìš°&lt;/li>
&lt;li>replicaê°€ 2ëŒ€ê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš°&lt;/li>
&lt;li>replicaê°€ 3ëŒ€ê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš°&lt;/li>
&lt;li>replicaê°€ 4ëŒ€(ì§ìˆ˜)ê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš°&lt;/li>
&lt;li>â€¦&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ì–´ì¨Œë“  ëª©í‘œëŒ€ë¡œ &lt;a class="link" href="http://www.yes24.com/Product/Goods/103712494" target="_blank" rel="noopener"
>Istio in Action&lt;/a> ì´ë¼ëŠ” ì±…ë„ ì—´ì‹¬íˆ ì½ê³  ìˆê³  ì ì  ì±… ì½ëŠ” ê²ƒì— ìµìˆ™í•´ì ¸ ê°€ê³  ìˆëŠ” ê²ƒ ê°™ì•„ì„œ ë¿Œë“¯í•˜ë‹¤. ë‹¤ìŒì—ëŠ” ì•„ë§ˆ Linux ì»¤ë„ ê´€ë ¨í•œ ì±…ì„ í•œ ê¶Œ ë” ì½ì–´ë³´ì§€ ì•Šì„ê¹Œì‹¶ë‹¤. í˜„ì‹¤ì ìœ¼ë¡œ 2022ë…„ì˜ ë‚¨ì€ 3ê°œì›” ë™ì•ˆ í•œ ê¶Œë§Œ ë” ì œëŒ€ë¡œ ì½ì–´ë„ ë‚˜ëŠ” ë§Œì¡±í•œë‹¤.&lt;/p>
&lt;p>ë”°ë¼ì„œ &lt;strong>&amp;ldquo;1. ì§€ì‹ì˜ ê¹Šì´ë¥¼ ë” ê¹Šê²Œ í•´ì•¼ê² ë‹¤&lt;/strong>&amp;ldquo;ëŠ” ì˜ ì§€ì¼œì§„ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>2ë²ˆ &lt;strong>&amp;ldquo;ì„ íƒê³¼ ì§‘ì¤‘&amp;rdquo;&lt;/strong> ê´€ë ¨í•´ì„œëŠ” ì˜ê¹Œì§„ ì•„ë‹ˆì–´ë„ ì¤€ìˆ˜í•˜ê²ŒëŠ” ì§€ì¼œì§€ê³  ìˆëŠ” ë“¯í•˜ë‹¤.&lt;/p>
&lt;p>ì†”ì§íˆ ì•Œì•„ì•¼í•˜ëŠ”ê²Œ ë„ˆë¬´ ë„ˆë¬´ ë§ì€ë°â€¦ ë‚˜ë¦„ ë‚´ í˜ì´ìŠ¤ëŒ€ë¡œ ì¼ìƒë„ ì±™ê¸°ë©´ì„œ ì§‘ì¤‘í•˜ê¸°ë¡œ ì„ íƒí•œ ë¶„ì•¼ë¶€í„° ì³ë‚´ê°€ë‹¤ë³´ë©´ ì‹œê°„ì´ í˜ë €ì„ ë•Œ ë„“ìœ¼ë©´ì„œë„ ê¹Šì€ ì‚¬ëŒì´ ë  ìˆ˜ìˆìœ¼ë¦¬ë¼ ìƒê°í•œë‹¤.&lt;/p>
&lt;p>ë”°ë¼ì„œ ì˜¬í•´ì— ì„ íƒí•œ ë¶„ì•¼ëŠ” &lt;code>Linux&lt;/code>ì™€ &lt;code>Istio&lt;/code> ë° &lt;code>ë„¤íŠ¸ì›Œí¬&lt;/code>ì´ë‹¤. ì™œ ì´ ë¶„ì•¼ë¥¼ ì„ íƒí•˜ê²Œ ë˜ì—ˆëŠ”ê°€ëŠ” ì•„ë¬´ë˜ë„ íŒ€ì›ë“¤ì˜ ì˜í–¥ì´ ì¢€ ìˆì—ˆëŠ”ë° íŒ€ì— Linuxì™€ ë„¤íŠ¸ì›Œí¬ ê³ ìˆ˜ë“¤ì´ ì •ë§ ë§ê¸° ë•Œë¬¸ì´ë‹¤. ë‚˜ë„ Linuxë¥¼ ì¢‹ì•„í–ˆê³  Networkë„ ì‹ ê¸°í•´í–ˆë˜ ë¶„ì•¼ì˜€ëŠ”ë° ìš°ë¦¬ íŒ€ì›ë¶„ë“¤ê³¼ í•¨ê»˜ë¼ë©´ ì¢€ ë” ìˆ˜ì›”í•˜ê²Œ ê³µë¶€í•´ë‚˜ê°ˆ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤. ì£¼ì›Œ ë“£ëŠ” í‚¤ì›Œë“œë“¤ë§Œìœ¼ë¡œë„ ë§ì€ ë„ì›€ì´ ë˜ëŠ” ë“¯í•˜ë‹¤.&lt;/p>
&lt;p>IstioëŠ” ë‚´ê°€ ì…ì‚¬ ì „ë¶€í„° ê´€ì‹¬ì€ ìˆì§€ë§Œ ê²½í—˜í•´ë³¼ ì¼ì€ ì—†ë˜ ì œí’ˆì´ì—ˆëŠ”ë° ìš°ì—°íˆ íŒ€ì›ë¶„ì˜ Istio ì‘ì—…ì„ ì°¸ê´€í•˜ê²Œ ëì—ˆê³  í¥ë¯¸ê°€ ê°€ê²Œ ë˜ì—ˆë‹¤. ë”ë¶ˆì–´ ì•„ì´ëŸ¬ë‹ˆí•˜ê²Œë„ íŒ€ë‚´ì˜ Linuxì™€ ë„¤íŠ¸ì›Œí¬ ê³ ìˆ˜ëŠ” ë§ì•˜ì§€ë§Œ ì´ ë¶„ë“¤ì´ Istioì— ëŒ€í•´ì„œëŠ” ì•„ì§ í° ê´€ì‹¬ì„ ì•ˆ ê°–ê³  ê³„ì‹  ìƒíƒœì¸ ê²½í–¥ì´ ìˆì–´ ê·¸ë‚˜ë§ˆ ë¶€ì¡±í•œ ë‚´ê°€ ë¹ ë¥´ê²Œ í•™ìŠµí•´ì„œ ê¸°ì—¬í•´ë³¼ ìˆ˜ ìˆì„ë§Œí•œ ë¶„ì•¼ë¼ëŠ” ìƒê°ì´ ë“¤ì–´ ì´ ë¶€ë¶„ì„ ì—´ì‹¬íˆ ê³µë¶€í•´ë‚˜ê°€ê³  ìˆë‹¤.&lt;/p>
&lt;p>ì„ íƒí•˜ì§€ ì•Šì€ ê²ƒë“¤ì— ëŒ€í•´ ë‚˜ì—´í•´ë³´ìë©´ ì •ë§ ë§ì€ë° ë‹¤ìŒê³¼ ê°™ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤â€¦ ì´ë ‡ê²Œ ë§ì€ ê²ƒë“¤ ì¤‘ì—ì„œ Linuxì™€ Istio ë‘ ê°œë§Œ ì„ íƒí•´ ì§‘ì¤‘í•´ë³´ê³ ìˆë‹¤! (ì‚¬ì‹¤ Linuxë„ ê±°ì˜ ëª» ë³´ê³  ìˆê¸´í•˜ë‹¤.)&lt;/p>
&lt;ul>
&lt;li>&lt;strong>k8sì˜ ê¸°ë°˜ì§€ì‹ë“¤&lt;/strong> - k8së¥¼ ì°¸ ì˜ ì“°ê³  ìˆì§€ë§Œ ê·¸ ê¸°ë°˜ì§€ì‹ì€ ì¢€ ì•½í•œ í¸ì´ë‹¤. ì´ëŸ° ê²ƒë“¤ë„ ì•Œì•„ê°€ë©´ ì¢‹ê¸´í•˜ê² ì§€ë§Œ ì•„ì§ ì–˜ë„¤ë¥¼ ì±™ê¸¸ ì—¬ìœ ê°€ ì—†ë‹¤ ã…œã…œ&lt;/li>
&lt;li>&lt;strong>Kafka, Zookeeper, í•©ì˜ ì•Œê³ ë¦¬ì¦˜&lt;/strong> - kafkaë¥¼ ìš´ì˜í•˜ê³  ìˆê³ , ëŒ€ëµì ì¸ ê°œë…ì€ ì•Œì§€ë§Œ ë‚´ê°€ ì§ì ‘ ì¨ë³¸ ì ì€ ì—†ëŠ” ê²Œ ì•„ì‰½ë‹¤. ë˜í•œ kafkaë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì—ë„ zookeeperì„ ì¨ë³¼ ìˆ˜ ìˆëŠ” ê³³ì´ ë§ì„ ê²ƒ ê°™ì€ë°ì•„ì§ ì˜ì€ ëª¨ë¥´ëŠ” ìƒíƒœì´ë‹¤.&lt;/li>
&lt;li>&lt;strong>datadog, prometheus, grafana&lt;/strong>, â€¦ ì™€ ê°™ì€ ëª¨ë‹ˆí„°ë§, ì‹œê³„ì—´ DBë“¤ - ì˜ ëŒê³ ëŠ” ìˆëŠ”ë° ë‹¤ë¥¸ ë¶„ë“¤ì´ ì£¼ë¡œ ë§¡ì•„ì£¼ì‹œê³  ê³„ì‹ ë‹¤â€¦&lt;/li>
&lt;li>&lt;strong>CouchBase, CockroachDB&lt;/strong> - ìœ„ì™€ ë§ˆì°¬ê°€ì§€.&lt;/li>
&lt;li>&lt;strong>Spring, Golangì„ ë¹„ë¡¯í•œ ê°œë°œ&lt;/strong> - ìœ ì˜ë¯¸í•œ ê°œë°œì„ í•´ë³¼ ê¸°íšŒê°€ ì—†ë‹¤. ì •ë§ ì¢‹ì•„í•˜ëŠ” ê±¸ ê°œì¸ì ìœ¼ë¡œ ì‚¬ìš©í•´ë³´ë ¤ê³  ë§Œë“œëŠ” ê²Œ ì•„ë‹ˆë©´ ë”±íˆ ì‹œê°„ì„ ë‚´ê¸°ê°€ ì‰½ì§€ ì•Šë‹¤.&lt;/li>
&lt;li>&lt;strong>ì•Œê³ ë¦¬ì¦˜ ê³µë¶€&lt;/strong> - ë”±íˆ ì—…ë¬´ì— í•„ìš” ì—†ëŠ” ê²ƒ ê°™ê³ , ì´ì§ ìƒê°ë„ ì—†ì–´ì„œ ì•ˆ í•˜ê³  ìˆë‹¤.&lt;/li>
&lt;li>â€¦&lt;/li>
&lt;/ul>
&lt;p>ëìœ¼ë¡œ ì„¸ ë²ˆì§¸, &lt;strong>&amp;ldquo;ìš´ë™ì„ ì†Œí™€íˆ í•˜ì§€ ë§ì.&amp;rdquo;&lt;/strong>&lt;/p>
&lt;p>ì†”ì§íˆ ìš”ì¦˜ì€ ì·¨ë¯¸ ìƒí™œì´ ìš´ë™ â†’ ê¸°íƒ€ë¡œ ì¡°ê¸ˆ ê°€ì¤‘ì¹˜ê°€ ì´ë™ëœ ìƒíƒœë¼ ìš´ë™ì„ ê¾¸ì¤€íˆ í•˜ëŠ” ê²Œ ì‰½ì§€ê°€ ì•Šì€ ë“¯í•˜ë‹¤. íšŒì‚¬ ë‹¤ë‹ˆê¸° ì „ì—ëŠ” ì¼ì£¼ì¼ì— 5ë²ˆì •ë„ í–ˆë˜ ê²ƒ ê°™ì€ë° ì†”ì§íˆ ê·¸ê±´ ë¬´ë¦¬ì¸ë“¯í•˜ê³  3~4ë²ˆì´ë¼ë„ í•˜ë ¤í–ˆëŠ”ë° ì•„ë¬´ë˜ë„ 1~2íšŒë¡œ ì¤„ì—¬ì„œë¼ë„ ê¾¸ì¤€íˆ í•´ë‚˜ê°€ì•¼ê² ë‹¤. ê¸°íƒ€ë¥¼ ê±°ì˜ ì£¼ 5ì¼ ì¹˜ë‹¤ë³´ë‹ˆ ê¸°íƒ€ê¹Œì§€ ì¹˜ê³  ìš´ë™ê¹Œì§€ í•˜ê¸´ ë¬´ë¦¬ê°€ ìˆë‹¤. ê·¸ë˜ë„ ê¸°íƒ€ ì‹¤ë ¥ì´ ë§ì´ ëŠ˜ì—ˆìœ¼ë‹ˆ ë§Œì¡±~ ğŸ™‚&lt;/p>
&lt;h2 id="ìš”ì¦˜-ë‚˜ëŠ”-ì–´ë–¤ê°€">ìš”ì¦˜ ë‚˜ëŠ” ì–´ë–¤ê°€..&lt;/h2>
&lt;p>ì‚¬ì‹¤ ìš”ì¦˜ì€ ë§ˆëƒ¥ í–‰ë³µí•˜ì§€ë§Œì€ ì•Šë‹¤. (&lt;em>í–‰ë³µí•˜ê¸´ í•©ë‹ˆë‹¤. ã…ã…&lt;/em>) íŒ€ì›ì´ ë§˜ì— ì•ˆë“ ë‹¤ê±°ë‚˜ ì²  ì—†ëŠ” ìƒìƒê³¼ ë‹¤ë¥¸ ì‚¬íšŒ ìƒí™œì— ë‚™ë‹´ì„ í–ˆë‹¤ê±°ë‚˜ ê·¸ëŸ° ê²ƒì€ ì•„ë‹ˆë‹¤. ë‹¨ì§€ ìƒê°ë³´ë‹¤ ë‚´ ì–´ê¹¨ê°€ ë¬´ê²ê³  ì•ìœ¼ë¡œì˜ ì¼ë“¤ì„ ì˜ í—¤ì³ë‚˜ê°ˆ ìˆ˜ ìˆì„ì§€ ì¡°ê¸ˆì€ ìì‹ ì´ ì—†ê³  ë§‰ë§‰í•˜ê¸°ë„ í•´ì„œ ì´ë ‡ê²Œ ê¸€ì„ ì ì–´ë³´ê²Œ ëë‹¤â€¦&lt;/p>
&lt;p>ì…ì‚¬ ì´ˆê¸°ì—ëŠ” â€œì € ì´ê±° í–ˆì–´ìš”! ê´œì°®ì€ì§€ ë´ì£¼ì‹œê³  approveí•´ì£¼ì‹œë©´ ì ìš©í•˜ê² ìŠµë‹ˆë‹¤!â€ ì´ëŸ° ê°€ë²¼ìš´ ìì„¸ë¡œ ì—…ë¬´ë¥¼ í–ˆë˜ ê²ƒ ê°™ê³  ê·¸ë‹¥ í¬ë¦¬í‹°ì»¬í•˜ì§€ ì•Šì€ ë¶€ë¶„ë“¤ì„ ì‘ì—…í–ˆìœ¼ë©° ë¦¬ë·°ì–´ë¶„ê»˜ì„œ ë§ì€ ë¶€ë¶„ì„ ë°”ë¡œ ì¡ì•„ì£¼ì‹¤ ìˆ˜ ìˆì—ˆê¸°ì— ë¶€ë‹´ì´ ì ì—ˆê³  ë”°ë¼ì„œ ë§ˆëƒ¥ ì¬ë¯¸ìˆì—ˆë˜ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ê·¸ í›„ë¡œ ëª‡ ë‹¬ì´ ì±„ ë˜ì§€ ì•Šì•˜ìŒì—ë„ ë•Œë¡œëŠ” ë‚˜ë„ ë¦¬ë·°ì–´ê°€ ë˜ì–´ ëˆ„êµ°ê°€ì˜ ì‘ì—…ì„ ë©´ë°€íˆ ê²€í† í•´ì•¼í•˜ê¸°ë„í•˜ê³  íŒ€ì„ ëŒ€í‘œí•´ ë©´ì ‘ì— ë“¤ì–´ê°€ ë©´ì ‘ìë¶„ì˜ í•©ë¶ˆ ì—¬ë¶€ë¥¼ íŒë‹¨í•´ì•¼í•˜ê¸°ë„ í•˜ê³  í¬ë¦¬í‹°ì»¬í•œ ì‘ì—…ì„ ë‹´ë‹¹í•˜ê²Œ ë˜ê¸°ë„ í•˜ê³  ë‚´ íŒë‹¨ì„ ëª¨ë“  íŒ€ì›ë“¤ì´ ë¯¿ì–´ì£¼ê³  í•¨ê»˜ í•œ ë°°ë¥¼ íƒ€ê³  ê°€ê²Œ ë˜ê¸°ë„í•œë‹¤.&lt;/p>
&lt;p>ìƒê°ë³´ë‹¤ ì–´ê¹¨ì˜ ë¬´ê²Œê°ì´ ë¹ ë¥´ê²Œ ë¬´ê±°ì›Œì§„ ê°ì€ ìˆì§€ë§Œ ê·¸ë˜ë„ ë­ ëˆ„ë¦¬ê³  ìˆëŠ” ê²ƒì— ë¹„í•˜ë©´ ê°ì‚¬í•œ ë§ˆìŒìœ¼ë¡œ ì´ê³  ê°€ì•¼í•˜ì§€ ì•Šì„ê¹Œ ì‹¶ë‹¤. ë˜í•œ ì–´ë””ê°€ì„œëŠ” ì‹ ì…ì´ ëª»í•´ë³¼ ê°’ì§„ ê²½í—˜ì´ê¸°ë„ í•  ê²ƒì´ë‹¤. ì‹¤ì œë¡œ ë‚˜ì˜ ì´ëŸ° ì—…ë¬´ë¥¼ ë¶€ëŸ¬ì›Œí•˜ëŠ” ì§€ì¸ë“¤ì´ ë¶„ì•¼ë¥¼ ë§‰ë¡ í•˜ê³  ë§ì´ ì¡´ì¬í•˜ê¸°ë„ í•œë‹¤! ã…ã… ì´ ê¸€ì„ ê³„ê¸°ë¡œ ì¢€ ë” í˜ë‚´ê³  ê³„ì†í•´ì„œ ê¾¸ì¤€í•˜ê³  ì„±ì‹¤í•œ ëŠ¥ë ¥ìˆëŠ” íŒ€ì›ì´ ë˜ì–´ì•¼ê² ë‹¤. ğŸ˜†&lt;/p>
&lt;h2 id="ë‚¨ì€-2022ë…„ì—-ëŒ€í•œ-ê³„íš">ë‚¨ì€ 2022ë…„ì— ëŒ€í•œ ê³„íš&lt;/h2>
&lt;p>ì¼ë‹¨ ìŠ¬ë¡œê±´ì€ â€œì—´ì •ì„ ìƒì§€ ì•Šê³  ì—´ì‹¬íˆ ì¦ê¸°ë©´ì„œ ê³µë¶€í•˜ëŠ” ì—”ì§€ë‹ˆì–´ê°€ ë˜ê¸°â€ë¡œ í•´ì•¼ê² ë‹¤. ì†”ì§íˆ ê²Œì„íšŒì‚¬ì— ë‹¤ë‹ˆë‹¤ë³´ë‹ˆ ë” ê²Œì„ì´ í•˜ê³ ì‹¶ê¸°ëŠ” í•œë°â€¦ ì—¬ìœ ê°€ ë§ì§€ ì•Šë‹¤ë³´ë‹ˆ ê²Œì„ì€ ì´ë²ˆ ì¶”ì„ ì—°íœ´ê¹Œì§€ë§Œ í•˜ê³  ë‚¨ì€ í•œí•´ ë™ì•ˆì€ ê²Œì„ì€ ëŠê³  ê³µë¶€ë¥¼ ì¢€ ì—´ì‹¬íˆ í•´ì•¼í•  ì‹œê¸°ì¸ë“¯ í•˜ë‹¤.&lt;/p>
&lt;ol>
&lt;li>&lt;strong>ê¸°ìˆ  ê´€ë ¨ ì „ë¬¸ ì„œì  ì½ê¸°&lt;/strong>
&lt;ol>
&lt;li>Istio in Action ì±… ì™„ë…í•˜ê¸°&lt;/li>
&lt;li>ì„ ë°°ë‹˜ì´ ì¶”ì²œí•´ì£¼ì‹  ìš´ì˜ì²´ì œ ì±… ì™„ë…í•˜ê¸°&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>&lt;strong>ì·¨ë¯¸ ìƒí™œ ê¾¸ì¤€íˆ ìœ ì§€í•˜ê¸°&lt;/strong>. ê²Œì„ì€ ì¤„ì´ë”ë¼ë„ ì·¨ë¯¸ ìƒí™œì€ ê¾¸ì¤€íˆ ìœ ì§€í•´ì•¼ê² ë‹¤. í‰ìƒê°€ëŠ” êµì–‘ì´ì ìì‹ ë§Œì˜ ìŠ¤íŠ¸ë ˆìŠ¤ í•´ì†Œ ë°©ë²• ë° ì²´ë ¥ì´ë¼ê³  ìƒê°í•œë‹¤.
&lt;ol>
&lt;li>ê¸°íƒ€&lt;/li>
&lt;li>ìš´ë™&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>&lt;strong>ì»¨í¼ëŸ°ìŠ¤ ì˜ìƒ ë³´ê³  í›„ê¸° ë‚¨ê¸°ê¸°&lt;/strong>
&lt;ol>
&lt;li>
&lt;p>ì´ì œëŠ” ë‹¨ìˆœíˆ ê¸°ìˆ  ìì²´ë¥¼ ì„¤ëª…í•˜ëŠ” ì˜ìƒë³´ë‹¤ëŠ” ë°œí‘œìê°€ ê²ªì€ ë¬¸ì œ ìƒí™©, ê³ ë¯¼, ì‹œë„, í•´ê²°ì±…, ëŠë‚€ ì  ë“±ì´ ì˜ ë“¤ì–´ë‚œ ì»¨í¼ëŸ°ìŠ¤ ì˜ìƒì„ ë³´ê³  í›„ê¸°ë¥¼ ë‚¨ê²¨ë³¼ê¹Œí•œë‹¤.&lt;/p>
&lt;p>ë‚´í›„ë…„ì¯¤ì—” ë‚˜ë„ ì—°ì‚¬ìë¡œì„œ ì»¨í¼ëŸ°ìŠ¤ì— ì°¸ì—¬í•´ë³¼ ìˆ˜ ìˆìœ¼ë©´ ì¢‹ì„í…ë°.. ê·¸ ë°‘ê±°ë¦„ì´ ë˜ì–´ì£¼ì§€ ì•Šì„ì§€..!&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>ì›ë˜ëŠ” ì¹­ì°¬ë§Œ í•˜ëŠ” íšŒê³ ë³´ë‹¤ëŠ” ì˜ ëª»í•œ ì ì„ ì§šê³  ë„˜ì–´ê°€ê³  ë‹¤ìŒì—” ì˜í•´ë³´ì ì‹ì˜ íšŒê³ ë¥¼ ì ì–´ë³´ë ¤ ë…¸ë ¥í•˜ëŠ” í¸ì¸ë° ì´ë²ˆ í•´ëŠ” ë„ˆë¬´ë‚˜ í–‰ë³µí•œ í•´ì˜€ì–´ì„œì¸ì§€ ì˜í–ˆë‹¤ ì˜í–ˆë‹¤!ë§Œ í•˜ë‹¤ê°€ ëë‚œ íšŒê³ ê°€ ì•„ë‹Œê°€ ì‹¶ê¸°ë„í•˜ë‹¤.&lt;/p>
&lt;p>ì·¨ì¤€í•˜ë©´ì„œ ë§ì€ íšŒì‚¬ë¥¼ ë„£ì—ˆì—ˆê³  ë§ì€ íšŒì‚¬ ë©´ì ‘ì„ ë³´ë©´ì„œ ë‚´ê°€ í–‰ë³µí•˜ê²Œ ì¼í•  ìˆ˜ ìˆëŠ” íšŒì‚¬ëŠ” ì–´ë””ì¼ì§€ ê½¤ë‚˜ ê³ ë¯¼í–ˆê³  ì—´ì‹¬íˆ ì•Œì•„ë´¤ë˜ ê²ƒ ê°™ë‹¤. ê²°ê³¼ì ìœ¼ë¡œëŠ” í˜„ì¬ì˜ íšŒì‚¬ì— ì˜¤ê²Œ ëê³  í›Œë¥­í•œ ë¦¬ë”ë“¤ê³¼ í›Œë¥­í•œ ë™ë£Œë“¤ì´ ìˆì–´ ë“ ë“ í•˜ê³  ëŠ˜ ê³ì—ì„œ ë§ì´ ë°°ìš°ê³  ìˆë‹¤. ì¢‹ì€ ë³´ìƒê³¼ ëŒ€ìš°ë¡œ ì¸í•´ ì—…ë¬´ì— ëª°ë‘í•˜ê¸°ë„ ì¢‹ì€ í™˜ê²½ì´ë©° ë§¡ê³  ìˆëŠ” ì—…ë¬´ë„ ì¬ë¯¸ìˆê³  ë„ì „ì ì´ì–´ì„œ ì˜¬í•´ëŠ” ì°¸ í–‰ë³µí•œ ë‚˜ë‚ ì„ ë³´ë‚´ê³  ìˆëŠ” ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>ì¤‘ê°„ì— ì¡°ê¸ˆì€ í˜ë“¤ë‹¤ ì±…ì„ê°ì´ í¬ë‹¤ ë­ ê·¸ëŸ° ë‚´ìš©ì„ ì ê¸°ëŠ” í–ˆì§€ë§Œ ì•„ì£¼ í–‰ë³µí•œ ì™€ì¤‘ì— ê·¸ëŸ° ë¶€ë¶„ë„ ìˆë‹¤ëŠ” ê²ƒì¼ ë¿ì´ê³ , ì¡°ê¸ˆì€ ë‚´ê°€ ì˜¤ë°”í•œ ê±¸ ìˆ˜ë„ ìˆì–´ì„œ í˜¹ì—¬ ìš°ë¦¬ íŒ€ì›ë¶„ì´ ì´ ê¸€ì„ ì½ìœ¼ì‹ ë‹¤ë©´ ìš°ë¦¬ê°€ ì§„ìˆ˜ë‹˜í•œí…Œ ê·¸ë ‡ê²Œ ì±…ì„ì„ ë„˜ê²¨ë“œë ¸ë‚˜ ì‹¶ì–´ ê±±ì •í•  ìˆ˜ë„ ìˆì„í…ë° ê·¸ëƒ¥ ì˜ í•´ë‚´ê³  ì‹¶ì–´ì„œ ê´œíˆ ë‚˜ í˜¼ì ì±…ì„ì„ ëŠë¼ê³  ìˆë‹¤ê³  ë³´ëŠ” ê²Œ ë§ì„ ê²ƒ ê°™ë‹¤. ã…ã…&lt;/p>
&lt;p>7ì›”ì€ Istioì™€ ì”¨ë¦„í•œë‹¤ê³ , 8ì›”ì€ OAuth 2.0, OIDCì™€ ì”¨ë¦„í•œë‹¤ê³ , 9ì›”ì€ ì¥ì—¼ ì´ìŠˆ + ìƒˆë¡œìš´ ì•„í‚¤í…ì³ ì„¤ê³„ë¡œ ì¸í•´ ì¡°ê¸ˆ ê³„ì†í•´ì„œ ë‹¤ë‹¤ë‹¤ ë‹¬ë ¤ì˜¨ ëŠë‚Œì¸ë° ì§€ì¹˜ì§€ ì•Šê³  ë½œì´íŒ…í•˜ê¸°!!!&lt;/p></description></item><item><title>Virtual Serviceì™€ Destination Ruleì„ ì´ìš©í•´ mesh ë‚´ë¶€ íŠ¸ë˜í”½ì„ ì›í•˜ëŠ” ëŒ€ë¡œ ë¼ìš°íŒ…í•´ë³´ê¸°</title><link>https://umi0410.github.io/blog/devops/virtual-service-destination-rule-mesh-internal-traffic/</link><pubDate>Thu, 11 Aug 2022 03:20:00 +0900</pubDate><guid>https://umi0410.github.io/blog/devops/virtual-service-destination-rule-mesh-internal-traffic/</guid><description>&lt;img src="https://umi0410.github.io/blog/devops/virtual-service-destination-rule-mesh-internal-traffic/preview.png" alt="Featured image of post Virtual Serviceì™€ Destination Ruleì„ ì´ìš©í•´ mesh ë‚´ë¶€ íŠ¸ë˜í”½ì„ ì›í•˜ëŠ” ëŒ€ë¡œ ë¼ìš°íŒ…í•´ë³´ê¸°" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>ë°ë¸Œì˜µìŠ¤ ì—”ì§€ë‹ˆì–´ë¡œ ì…ì‚¬í•œ ë’¤ ì£¼ë¡œ ë§¡ê³  ìˆëŠ” ì‘ì—…ì€ &lt;code>Istio&lt;/code> ê´€ë ¨ ì‘ì—…ì´ë‹¤. í‰ì†Œ ì°¸ ê´€ì‹¬ ìˆì—ˆë˜ ë¶„ì•¼ì´ê¸°ë„ í•˜ê³  istio ë¿ë§Œ ì•„ë‹ˆë¼ ë„¤íŠ¸ì›Œí¬ì— ëŒ€í•´ ê°œì¸ì ìœ¼ë¡œ ì •ë§ ê³µë¶€í•´ë³´ê³ ì‹¶ì—ˆëŠ”ë° ë•ë¶„ì— ì¬ë¯¸ìˆê²Œ ê³µë¶€í•˜ê³  ì„±ì¥í•˜ë©° ê·¼ë¬´í•˜ê³  ìˆëŠ” ê²ƒ ê°™ë‹¤. ğŸ˜Š&lt;/p>
&lt;p>ê·¼ë° ìš”ì¦˜ ë“¤ì–´ ì ì  ë‹¨ìˆœíˆ â€˜ì–´ë–»ê²Œ ì €ë–»ê²Œ í•˜ë‹ˆê¹Œ ëŒì•„ëŠ”ê°€ë„¤~ ì˜¤.. ë‚˜ istio ì¢€ íŒŒì•…í•œë“¯?ã…‹ã…‹â€™ ìˆ˜ì¤€ì˜ ìì„¸ë¡œëŠ” íŠ¸ëŸ¬ë¸”ìŠˆíŒ…ì„ í•˜ê±°ë‚˜ ì˜¬ë°”ë¥´ê²Œ ì„¤ê³„í•˜ê¸°ê°€ ì‰½ì§€ ì•Šì€ ê²½ìš°ë“¤ì´ ì¦ì•„ì¡Œë‹¤.&lt;/p>
&lt;p>ë”°ë¼ì„œ í‰ì†Œ ê¶ê¸ˆí–ˆë˜ ë‚´ìš© ì¤‘ í•˜ë‚˜ë¥¼ ì‚´ì§ íŒŒí—¤ì³ë³¼ê¹Œí•œë‹¤.&lt;/p>
&lt;p>ë‚˜ëŠ” ì£¼ë¡œ istio &lt;code>ingress gateway&lt;/code>ì™€ ê´€ë ¨ëœ ì‘ì—…ì„ ë§ì´ í–ˆì—ˆê³  ì´ ê²½ìš° Virtual ServiceëŠ” í•­ìƒ ingress gatewayë¥¼ ì°¸ì¡°í•˜ë„ë¡ ì„¤ì •í•´ì™”ë‹¤. ê·¼ë° istioë¥¼ ì²˜ìŒ ë°°ìš¸ ë•ŒëŠ” ë¶„ëª… â€˜client ì¸¡ì—ì„œ outbound handler ì—­í• ì„ í•˜ëŠ” Envoy ì‚¬ì´ë“œì¹´ì„ í†µí•´ ì•Œì•„ì„œ ìš°ë¦¬ê°€ ì˜ë„í•˜ëŠ” ëª©ì ì§€ë¥¼ ì°¾ì•„ì„œ ìš”ì²­ì„ ë³´ë‚¸ë‹¤.â€™ ì´ëŸ° ì‹ìœ¼ë¡œ ë°°ì› ë˜ ê²ƒ ê°™ì€ë° â€˜ì™œ ë‚˜ëŠ” Virtual Serviceë¥¼ ì´ìš©í•  ë•Œ í•­ìƒ Gatewayë¥¼ ì„¤ì •í•´ì¤˜ì•¼í•˜ëŠ” ê²ƒì´ì—ˆì„ê¹Œ?â€™í•˜ëŠ” ê¶ê¸ˆì¦ì´ ìƒê²¼ë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Virtual ServiceëŠ” Gatewayì— ingress gatewayë¥¼ ì„¤ì •í•´ì£¼ì§€ ì•Šì•„ë„ ë˜ëŠ” ê²ƒì¼ê¹Œ?&lt;/strong>&lt;/li>
&lt;li>&lt;strong>Virtual Serviceì— ì„¤ì •í•œ ë‚´ìš©ì€ ingress gatewayë¡œ ë“¤ì–´ì˜¨ ìš”ì²­ë¿ë§Œ ì•„ë‹ˆë¼ mesh ë‚´ë¶€ì—ì„œì˜ ìš”ì²­ì—ë„ ì ìš©ë  ìˆ˜ ìˆëŠ” ê²ƒì¸ê°€?&lt;/strong>&lt;/li>
&lt;li>&lt;strong>Destination Ruleì€ ë­í•˜ëŠ” ë…€ì„ì¼ê¹Œ? ì£¼ë¡œ ì–˜ëŠ” Virtual Serviceì™€ í•¨ê»˜ ì“°ëŠ” ì˜ˆì‹œê°€ ë§ì´ ë³´ì´ë˜ë° ê¼­ Virtual Serviceì™€ í•¨ê»˜ ì¨ì•¼í•˜ëŠ” ê±¸ê¹Œ?&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>ë”°ë¼ì„œ ì´ë²ˆ ê¸€ì—ì„œëŠ” ìœ„ì™€ ê°™ì€ ê¶ê¸ˆì¦ë“¤ì— ëŒ€í•´ ì‚½ì§ˆí•´ë³¸ ë‚´ìš©ì„ ì •ë¦¬í•´ë³´ë ¤í•œë‹¤. ì‘ì—…í•´ë³¸ ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ë‹¤.&lt;/p>
&lt;ol>
&lt;li>&lt;strong>ingress gatewayë¥¼ í†µí•´ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì´ ì•„ë‹ˆë¼ mesh ë‚´ë¶€ì—ì„œ ë³´ë‚´ëŠ” ìš”ì²­ì— ëŒ€í•´ ì ìš©ë  ìˆ˜ ìˆë„ë¡ Virtual Serviceë¥¼ ì •ì˜í•œ ë’¤ mesh ë‚´ë¶€ì—ì„œ ìš”ì²­ì„ ë³´ë‚´ë³´ê¸°&lt;/strong>&lt;/li>
&lt;li>&lt;strong>Virtual Service ì—†ì´ Destination ì´ìš©í•´ë³´ê¸°&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>(&lt;em>2022.09.30 - ì§€ê¸ˆ ì™€ì„œ ëŒì´ì¼œë³´ë‹ˆ ì´ë•Œ í–ˆë˜ ë‚´ìš©ë“¤ì€ ì‚¬ì‹¤ Istioì˜ ë™ì‘ ë°©ì‹ì´ë‚˜ ì›ë¦¬ë¥¼ ì•Œë©´ ë‹¹ì—°í•œ ë‚´ìš©ì¼ ìˆ˜ ìˆì—ˆì„ ê²ƒ ê°™ë‹¤.&lt;/em>)&lt;/p>
&lt;h2 id="virtual-serviceì™€-destination-ruleì—-ëŒ€í•´-ì§šê³ -ë„˜ì–´ê°€ë³´ì">Virtual Serviceì™€ Destination Ruleì— ëŒ€í•´ ì§šê³  ë„˜ì–´ê°€ë³´ì.&lt;/h2>
&lt;blockquote>
&lt;p>virtual services as how you route your trafficÂ toÂ a given destination, and then you use destination rules to configure what happens to trafficÂ forÂ that destination. Destination rules are applied after virtual service routing rules are evaluated, so they apply to the trafficâ€™s â€œrealâ€ destination.&lt;/p>
&lt;/blockquote>
&lt;p>&lt;a class="link" href="https://istio.io/latest/docs/concepts/traffic-management/#destination-rules" target="_blank" rel="noopener"
>https://istio.io/latest/docs/concepts/traffic-management/#destination-rules&lt;/a>&lt;/p>
&lt;blockquote>
&lt;/blockquote>
&lt;p>istioë¥¼ ì²˜ìŒ ë°°ìš¸ ë•Œì—ëŠ” (ë¬¼ë¡  ì´ ê¸€ì„ ì“°ê¸° ì „ê¹Œì§€ë„.. ã…ã…;;) Virtual Serviceì™€ Destination Ruleì´ ì°¸ í—·ê°ˆë ¸ë‹¤.&lt;/p>
&lt;p>Virtual ServiceëŠ” Gatewayë¥¼ í†µí•´ &lt;code>hosts&lt;/code> ì„¤ì •í•œ í˜¸ìŠ¤íŠ¸ë¥¼ ì´ìš©í•´ ë“¤ì–´ì˜¨ ìš”ì²­ì„ ì–´ë–¤ ê¸°ì¤€ìœ¼ë¡œ ì–´ë–¤ (ì•½ê°„ì€ ê°€ìƒì¸) ëª©ì ì§€ë¡œ ë³´ë‚´ì¤„ ê²ƒì¸ê°€ë¥¼ ì˜ë¯¸í•œë‹¤. ì´ ë§ë„ ì¢€ í—·ê°ˆë¦´ ìˆ˜ ìˆëŠ”ë° ì˜ˆë¥¼ ë“¤ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.&lt;/p>
&lt;ul>
&lt;li>ingress gateway ë¥¼ í†µí•´&lt;/li>
&lt;li>Virtual Serviceì˜ hostsì¸ [â€&lt;a class="link" href="http://foo.jinsu.me/" target="_blank" rel="noopener"
>foo.jinsu.me&lt;/a>â€] ì¤‘ í•˜ë‚˜ì¸ foo.jinsu.meë¥¼ ì´ìš©í•´ ë“¤ì–´ì˜¨ ìš”ì²­ì„&lt;/li>
&lt;li>subsetì´ë‚˜ weightì— ë”°ë¼ foo v1 ì´ë‚˜ foo v2 ë¡œ ë³´ë‚¸ë‹¤.&lt;/li>
&lt;/ul>
&lt;p>ìœ„ì™€ ê°™ì€ ì„¤ì •ì„ í•´ì£¼ëŠ” ê²ƒì´ Virtual Serviceì´ë‹¤.&lt;/p>
&lt;p>ê·¸ëŸ¼ foo v1ê³¼ foo v2ëŠ” ëˆ„ê°€ ì •ì˜í•´ì¤„ê¹Œ? ê·€ì‹  ê°™ì´ ì•Œì•„ì„œ v1ì— ëŒ€í•œ endpointì™€ v2ì— ëŒ€í•œ endpointë¥¼ ë¶„ë¥˜í•  ìˆ˜ëŠ” ì—†ì„í…ë° ë§ì´ë‹¤. ë°”ë¡œ ì´ë•Œ Destination Ruleì´ ë“±ì¥í•œë‹¤.&lt;/p>
&lt;p>Destination Ruleì€ ì–´ë–¤ ê¸°ì¤€ìœ¼ë¡œ íŠ¹ì • Service(ì¿ ë²„ì˜ ê¸°ë³¸ ë¦¬ì†ŒìŠ¤ íƒ€ì…)ì— ëŒ€í•œ subsetì„ ë‚˜ëˆŒì§€ ì •ì˜í•  ìˆ˜ ìˆë‹¤. í˜¹ì€ ê·¸ ì™¸ì—ë„ ê¸°ë³¸ì ìœ¼ë¡œ Serviceê°€ ì œê³µí•˜ì§€ ì•ŠëŠ” ìœ ìš©í•œ ë°©ì‹ë“¤ì„ í†µí•´ Endpointê°€ ê´€ë¦¬ë  ìˆ˜ ìˆë„ë¡ í•´ì¤€ë‹¤. ì´ë•Œ ë§í•˜ëŠ” EndpointëŠ” ì¿ ë²„ì˜ ê¸°ë³¸ ë¦¬ì†ŒìŠ¤ íƒ€ì… ì¤‘ í•˜ë‚˜ì¸ Endpointê°€ ì•„ë‹ˆë¼ Destination Ruleì„ í†µí•´ ì‹¤ì œë¡œ íŠ¸ë˜í”½ì´ í˜ë ¤ë³´ë‚´ì§„ë‹¤ëŠ” ì˜ë¯¸ì˜ Endpointë¥¼ ì˜ë¯¸í•œë‹¤.&lt;/p>
&lt;p>ê·¼ë° ë­,,, ë‚˜ë¦„ëŒ€ë¡œ ë‘ ê°œë…ì„ ì •ë¦¬í•´ë³´ë ¤í–ˆëŠ”ë° ì‹œì›í•œ ì •ë¦¬ëŠ” ì•„ë‹Œ ê²ƒ ê°™ë‹¤â€¦ ì“°ë‹¤ë³´ë©´ ê°ì´ì˜¤ëŠ”ë° ì•„ì§ ë”± ê¹”ë”í•˜ê²Œ ì •ë¦¬í•  ìˆ˜ ìˆëŠ” ìˆ˜ì¤€ì˜ ì´í•´ëŠ” ì•„ë‹Œê°€ë³´ë‹¤.&lt;/p>
&lt;h2 id="mesh-ë‚´ë¶€ì˜-í†µì‹ ì—ì„œë„-virtual-serviceë‚˜-destination-ruleì´-ë™ì‘í•˜ëŠ”ê°€">mesh ë‚´ë¶€ì˜ í†µì‹ ì—ì„œë„ virtual serviceë‚˜ destination ruleì´ ë™ì‘í•˜ëŠ”ê°€?&lt;/h2>
&lt;p>ì•ì„œ Virtual Serviceì— ëŒ€í•´ ì„¤ëª…í•  ë•Œ â€œGatewayë¥¼ í†µí•´ ë“¤ì–´ì˜¨ ìš”ì²­ì´ â€¦(ìƒëµ)â€ ì´ë¼ë©° ì„¤ëª…ì„ í–ˆëŠ”ë° ê·¸ë ‡ë‹¤ë©´ &lt;strong>Virtual ServiceëŠ” ingress gatewayë¥¼ í†µí•´ ë“¤ì–´ì˜¨ ìš”ì²­ì— ëŒ€í•œ ì„¤ì •ë§Œ ì •ì˜ê°€ ê°€ëŠ¥í•˜ëƒë¼ê³ í•˜ë©´ ê·¸ê±´ ë‹¹ì—°íˆ ì•„ë‹ˆë‹¤.&lt;/strong> ì• ì´ˆì— istioë¥¼ í†µí•´ ìš°ë¦¬ê°€ ì–»ê³  ì‹¶ì€ ê²ƒì€ ingressì— ëŒ€í•œ ê¸°ëŠ¥ë¿ë§Œ ì•„ë‹ˆë¼ mesh ë‚´ë¶€ í†µì‹ ì— ëŒ€í•œ ê¸°ëŠ¥ë„ í° ë¶€ë¶„ì¼ ê²ƒì´ë‹ˆ ë§ì´ë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>The reserved word mesh is used to imply all the sidecars in the mesh. When this field is omitted, the default gateway (mesh) will be used, which would apply the rule to all sidecars in the mesh.&lt;/p>
&lt;/blockquote>
&lt;p>&lt;a class="link" href="https://istio.io/latest/docs/reference/config/networking/virtual-service/#VirtualService" target="_blank" rel="noopener"
>https://istio.io/latest/docs/reference/config/networking/virtual-service/#VirtualService&lt;/a>&lt;/p>
&lt;blockquote>
&lt;/blockquote>
&lt;p>&lt;strong>Virtual Serviceê°€ &lt;code>mesh&lt;/code> ë¼ëŠ” ì˜ˆì•½ëœ gateway ì´ë¦„ì„ ì´ìš©í•˜ë©´ ê·¸ê²ƒì€ mesh ë‚´ì˜ sidecarë“¤ì—ê²Œ ëª¨ë‘ ì ìš©ë˜ëŠ” ruleì´ ëœë‹¤.&lt;/strong> Virtual Serviceì˜ gatewaymesh ë‚´ë¶€ í†µì‹ ì— ìˆì–´ Virtual Serviceì˜ ì—­í• ì´ í¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ì•„ì´ëŸ¬ë‹ˆí•˜ê²Œë„ ìœ„ì™€ ê°™ì€ ë‚´ìš©ì„ ì°¾ì•„ë³¼ ìˆ˜ ìˆëŠ” ë¬¸ì„œê°€ ë§ì§€ëŠ” ì•Šì•˜ë‹¤.&lt;/p>
&lt;p>ì •ë¦¬í•˜ìë©´ â€œmesh ë‚´ë¶€ì˜ í†µì‹ ì—ì„œë„ virtual serviceë‚˜ destination ruleì´ ë™ì‘í•˜ëŠ”ê°€?â€ì— ëŒ€í•œ ëŒ€ë‹µì€ ì•„ë˜ì™€ ê°™ë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Virtual Serviceì˜ gatewaysì— &lt;code>mesh&lt;/code> ê°€ í¬í•¨ë˜ì–´ìˆê±°ë‚˜ &lt;code>gateways&lt;/code> ê°€ ìƒëµë˜ì—ˆê³ , client ì¸¡ envoy sidecarê°€ outbound handler ì—­í• ì„ ìˆ˜í–‰í•œë‹¤ë©´ â†’ YES&lt;/strong>&lt;/li>
&lt;li>Virtual Serviceì˜ gatewaysë¥¼ ì •ì˜í–ˆëŠ”ë° &lt;code>mesh&lt;/code> ê°€ í¬í•¨ë˜ì–´ìˆì§€ ì•Šë‹¤ë©´ â†’ NO&lt;/li>
&lt;li>client ì¸¡ envoy sidecarê°€ ì¡´ì¬í•˜ì§€ ì•Šê±°ë‚˜ outbound handler ì—­í• ì„ ì œëŒ€ë¡œ ìˆ˜í–‰í•˜ì§€ ëª»í•œë‹¤ë©´ â†’ NO&lt;/li>
&lt;/ul>
&lt;p>ê·¸ëŸ¼ í•œ ë²ˆ ì‹¤ìŠµì„ í†µí•´ í™•ì¸í•´ë³´ì.&lt;/p>
&lt;h2 id="mesh-ë‚´ë¶€-í†µì‹ ì—ì„œ-virtual-service--destination-ruleì„-í†µí•´-service-subsetê³¼-weight-ì´ìš©í•´ë³´ê¸°">mesh ë‚´ë¶€ í†µì‹ ì—ì„œ Virtual Service + Destination Ruleì„ í†µí•´ Service subsetê³¼ weight ì´ìš©í•´ë³´ê¸°&lt;/h2>
&lt;p>&lt;code>httpping-without-sidecar&lt;/code>ë¼ëŠ” ì´ë¦„ì˜ ì„œë¹„ìŠ¤ë¥¼ ë°°í¬í•´ë‘ì—ˆê³ , ì´ëŠ” golangìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ìš”ì²­ì´ ë“¤ì–´ì˜¬ ë•Œ â€œpongâ€ ë¡œê·¸ë¥¼ ë‚¨ê¸°ëŠ” ë‹¨ìˆœí•œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë‹¤. ì´ ì„œë¹„ìŠ¤ì˜ Podë“¤ì€ Envoy ì‚¬ì´ë“œì¹´ë¥¼ ì£¼ì…ë°›ì§€ ì•ŠëŠ”ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ kubectl get pod -l &lt;span class="nv">app&lt;/span>&lt;span class="o">=&lt;/span>httpping-without-sidecar
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAME READY STATUS RESTARTS AGE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">httpping-without-sidecar-v1-7fd6bfdb57-bcpdh 1/1 Running &lt;span class="m">0&lt;/span> 2m54s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">httpping-without-sidecar-v1-7fd6bfdb57-s4smn 1/1 Running &lt;span class="m">0&lt;/span> 2m54s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">httpping-without-sidecar-v1-7fd6bfdb57-zg8td 1/1 Running &lt;span class="m">0&lt;/span> 2m54s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">httpping-without-sidecar-v2-5df8b7f656-n4cvh 1/1 Running &lt;span class="m">0&lt;/span> 2m53s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">httpping-without-sidecar-v2-5df8b7f656-nfm6q 1/1 Running &lt;span class="m">0&lt;/span> 2m53s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">httpping-without-sidecar-v2-5df8b7f656-vbgpr 1/1 Running &lt;span class="m">0&lt;/span> 2m53s
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>v1 ê³¼ v2ì— ëŒ€í•œ Deployment ê°ê° ë°°í¬í•´ë‘ì—ˆë‹¤.&lt;/p>
&lt;p>ê° ë²„ì „ë³„ë¡œ 3ê°œì˜ Podê°€ ë°°í¬ë˜ì–´ìˆë‹¤.&lt;/p>
&lt;p>ë²„ì „ ë³„ë¡œ Podë“¤ì€ ë‹¤ìŒê³¼ ê°™ì´ ë¼ë²¨ì´ ë¶™ì–´ìˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># v1 Podì˜ ê²½ìš°&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">httpping-without-sidecar&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># v2 Podì˜ ê²½ìš°&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">httpping-without-sidecar&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Service, Destination Rule, Virtual ServiceëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">infra-jinsu-lab&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">httpping-without-sidecar&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">httpping-without-sidecar&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">protocol&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TCP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ServiceëŠ” versionì„ ëª…ì‹œí•˜ì§€ ì•Šì€ ì±„ appë§Œì„ ëª…ì‹œí•˜ëŠ” ìˆ˜í¼ì…‹ìœ¼ë¡œì„œ ì •ì˜í–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">networking.istio.io/v1alpha3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">DestinationRule&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">infra-jinsu-lab&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">httpping-without-sidecar-destination&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">host&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">httpping-without-sidecar&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">subsets&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">httpping-without-sidecar&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">httpping-without-sidecar&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Destination Ruleì€ Serviceì— í•´ë‹¹í•˜ëŠ” Endpointë“¤ì˜ Subsetì²˜ëŸ¼ ì •ì˜ëœë‹¤.&lt;/p>
&lt;p>version ë¼ë²¨ì´ ì¶”ê°€ë˜ì—ˆë‹¤.&lt;/p>
&lt;p>hostëŠ” Serviceë¥¼ ê°€ë¦¬í‚¬ ìˆ˜ ìˆëŠ” ì´ë¦„ì´ì–´ì•¼í•œë‹¤. ê°™ì€ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì¼ ê²½ìš° Short nameìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ë„ ìˆê³ , ì–¸ì œëŠ” FQDN(e.g. httpping-with-sidecar.infra-jinsu.lab.svc.cluster.local)ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ë„ ìˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">networking.istio.io/v1alpha3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">VirtualService&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">infra-jinsu-lab&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">httpping-without-sidecar&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hosts&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;httpping-without-sidecar&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">gateways&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">mesh&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">http&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uri&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">prefix&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">route&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">host&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">httpping-without-sidecar&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">subset&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">number&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">weight&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">10&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">host&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">httpping-without-sidecar&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">subset&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">number&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">weight&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">90&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì•ì„œ ë§í•œëŒ€ë¡œ í´ëŸ¬ìŠ¤í„° ë‚´ë¶€ í†µì‹ ì— ëŒ€í•´ Virtual Serviceë¥¼ ì ìš©í•˜ë ¤ë©´ &lt;code>gateways&lt;/code> ë¥¼ ìƒëµí•˜ê±°ë‚˜ &lt;code>mesh&lt;/code> ë¼ëŠ” ì˜ˆì•½ëœ ì´ë¦„ì˜ ê²Œì´íŠ¸ì›¨ì´ë¥¼ í¬í•¨ì‹œì¼œì¤€ë‹¤. ë˜í•œ mesh ë‚´ë¶€ í†µì‹ ì— ëŒ€í•´ì„œëŠ” hostsì— Destination Ruleì²˜ëŸ¼ Serviceë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” ì´ë¦„ì„ ì ì–´ì¤€ë‹¤.&lt;/p>
&lt;p>ê·¸ë¦¬ê³ ì„œëŠ” Destination Ruleì—ì„œ ì •ì˜í•œ v1 subsetì€ weightë¥¼ 10ìœ¼ë¡œ, v2 subsetì€ weightë¥¼ 90ìœ¼ë¡œ ì„¤ì •í•´ì¤¬ë‹¤. ì´ë ‡ê²Œ ë˜ë©´ &lt;strong>ëˆ„êµ°ê°€ê°€ ì„œë¹„ìŠ¤ë¥¼ í–¥í•´ ìš”ì²­ì„ ë³´ëƒˆì„ ë•Œ v1ê³¼ v2ê°€ 1ëŒ€9ì˜ ë¹„ìœ¨ë¡œ ë¡œë“œë°¸ëŸ°ìŠ¤ê°€ ë  ê²ƒì´ë‹¤&lt;/strong> ğŸ™‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl -H &lt;span class="s1">&amp;#39;foo: bar&amp;#39;&lt;/span> http://httpping-without-sidecar.infra-jinsu-lab:8080/ping
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;figure style="flex-grow: 181; flex-basis: 435px">
&lt;a href="https://umi0410.github.io/blog/devops/virtual-service-destination-rule-mesh-internal-traffic/weight.png" data-size="2558x1409">&lt;img src="https://umi0410.github.io/blog/devops/virtual-service-destination-rule-mesh-internal-traffic/weight.png"
srcset="https://umi0410.github.io/blog/devops/virtual-service-destination-rule-mesh-internal-traffic/weight_hu479968be15567657f18e71d11f31e69a_283588_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/virtual-service-destination-rule-mesh-internal-traffic/weight_hu479968be15567657f18e71d11f31e69a_283588_1024x0_resize_box_3.png 1024w"
width="2558"
height="1409"
loading="lazy"
alt="ì¢Œì¸¡ì€ weightê°€ 10ì¸ v1 Pod 3ê°œ | ìš°ì¸¡ì€ weightê°€ 90ì¸ v2 Pod 3ê°œ">
&lt;/a>
&lt;figcaption>ì¢Œì¸¡ì€ weightê°€ 10ì¸ v1 Pod 3ê°œ | ìš°ì¸¡ì€ weightê°€ 90ì¸ v2 Pod 3ê°œ&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>Envoy ì‚¬ì´ë“œì¹´ê°€ ì‚½ì…ëœ ì–´ë–¤ Podì—ì„œ ìœ„ì˜ ì»¤ë§¨ë“œë¥¼ í†µí•´ &lt;code>httpping-without-sidecar&lt;/code> ì„œë¹„ìŠ¤ë¡œ ìš”ì²­ì„ ë³´ë‚¸ ê²½ìš°ì˜ ëª¨ìŠµì´ë‹¤. ì¢Œì¸¡ ë¡œê·¸ëŠ” v1 Pod 3ê°œì˜ ë¡œê·¸ì´ê³ , ìš°ì¸¡ ë¡œê·¸ëŠ” v2 Pod 3ê°œì˜ ë¡œê·¸ì´ë‹¤.&lt;/p>
&lt;p>&lt;strong>Virtual Serviceì—ì„œ ì •ì˜í•œëŒ€ë¡œ ëŒ€ë¶€ë¶„ì˜ íŠ¸ë˜í”½ì€ v2ë¡œ í˜ëŸ¬ê°”ê³  Destination Ruleì—ì„œ ì •ì˜í•œ ëŒ€ë¡œ v1, v2ì— ëŒ€í•œ subsetì´ ì˜ ë¶„ë¥˜ëœ ë“¯í•˜ë‹¤!&lt;/strong>&lt;/p>
&lt;p>ì°¸ê³ ë¡œ ë‹¹ì—°íˆë„ í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ Enovyê°€ outbound handlingì„ í•´ì£¼ì§€ ëª»í•œë‹¤ë©´(í˜¹ì€ sidecarê°€ ì‚½ì…ë˜ì§€ ì•Šì•˜ë‹¤ë©´) weight ì¡°ì ˆë„ ë˜ì§€ ì•Šê³  ê·¸ëƒ¥ ë¼ìš´ë“œë¡œë¹ˆìœ¼ë¡œ ë¶€í•˜ê°€ ë¶„ì‚°ë  ê²ƒì´ë‹¤.&lt;/p>
&lt;h2 id="virtual-service-ì—†ì´-destination-ruleë§Œìœ¼ë¡œ-ì›í•˜ëŠ”-ë°©ì‹ì„-í†µí•´-ë¶€í•˜-ë¶„ì‚°ì‹œí‚¤ê¸°">Virtual Service ì—†ì´ Destination Ruleë§Œìœ¼ë¡œ ì›í•˜ëŠ” ë°©ì‹ì„ í†µí•´ ë¶€í•˜ ë¶„ì‚°ì‹œí‚¤ê¸°&lt;/h2>
&lt;p>ì´ë²ˆì—ëŠ” &lt;strong>Virtual Service ì—†ì´ Destination Ruleì˜ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ì¸ consistentHashë¥¼ í†µí•œ ë¡œë“œë°¸ëŸ°ìŠ¤ë¥¼ í•´ë³¼ ê²ƒì´ë‹¤. ì´ë¥¼ ì´ìš©í•˜ë©´ íŠ¹ì • í‚¤ì— ëŒ€í•œ ê°’ì„ í•´ì‹±í•´ì„œ í•´ë‹¹ í•´ì‹œ ê°’ì„ ë‹´ë‹¹í•˜ëŠ” Podì—ê²Œ ìš”ì²­ì„ ë³´ë‚¼ ê²ƒì´ë‹¤!&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ kubectl delete virtualservice httpping-without-sidecar
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">virtualservice.networking.istio.io &lt;span class="s2">&amp;#34;httpping-without-sidecar&amp;#34;&lt;/span> deleted
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Virtual Service ì—†ì´ ë™ì‘í•¨ì„ ë¶„ëª…íˆ í•˜ê¸° ìœ„í•´ ì‚­ì œí•´ì¤€ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">networking.istio.io/v1alpha3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">DestinationRule&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">infra-jinsu-lab&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">httpping-without-sidecar-destination&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">host&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">httpping-without-sidecar&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">trafficPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">loadBalancer&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">consistentHash&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">httpHeaderName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">foo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì´ë²ˆì—ëŠ” Destinationì„ ìœ„ì™€ ê°™ì´ ì‘ì„±í•´ì¤Œìœ¼ë¡œì¨ í—¤ë” ì¤‘ fooë¼ëŠ” í‚¤ì— ëŒ€í•œ ê°’ì— ë”°ë¼ ë¶€í•˜ê°€ ë¶„ì‚°ë˜ë„ë¡ í•  ê²ƒì´ë‹¤. &lt;strong>ê°™ì€ ê°’ìœ¼ë¡œ ìš”ì²­ì„ ë³´ë‚´ë©´ ë‹´ë‹¹í•˜ëŠ” í•´ì‹œ ê°’ì´ ë³€ê²½ë˜ì§€ ì•ŠëŠ” í•œ ê°™ì€ Podë¡œë§Œ ìš”ì²­&lt;/strong>ì´ ê°ˆ ê²ƒì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl -H &lt;span class="s1">&amp;#39;foo: bar&amp;#39;&lt;/span> http://httpping-with-sidecar.infra-jinsu-lab:8080/ping
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Envoy ì‚¬ì´ë“œì¹´ê°€ ì‚½ì…ë˜ì–´ outbound handlerê°€ ì˜ ë™ì‘ ì¤‘ì¸ ë‹¤ë¥¸ Podì—ì„œ ìœ„ì™€ ê°™ì´ ìš”ì²­ì„ ì—¬ëŸ¬ ì°¨ë¡€ ë³´ë‚´ë´¤ë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 183; flex-basis: 440px">
&lt;a href="https://umi0410.github.io/blog/devops/virtual-service-destination-rule-mesh-internal-traffic/consistent-hash.png" data-size="2560x1395">&lt;img src="https://umi0410.github.io/blog/devops/virtual-service-destination-rule-mesh-internal-traffic/consistent-hash.png"
srcset="https://umi0410.github.io/blog/devops/virtual-service-destination-rule-mesh-internal-traffic/consistent-hash_huec96e079d93944483a2dbb05770995ea_198415_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/virtual-service-destination-rule-mesh-internal-traffic/consistent-hash_huec96e079d93944483a2dbb05770995ea_198415_1024x0_resize_box_3.png 1024w"
width="2560"
height="1395"
loading="lazy"
alt="Consistent Hash ì„¤ì • í›„ foo: barë¼ëŠ” ë™ì¼í•œ í—¤ë”ë¡œ ìš”ì²­ì„ ë³´ë‚¸ ê²½ìš°ì˜ ë¡œê·¸">
&lt;/a>
&lt;figcaption>Consistent Hash ì„¤ì • í›„ foo: barë¼ëŠ” ë™ì¼í•œ í—¤ë”ë¡œ ìš”ì²­ì„ ë³´ë‚¸ ê²½ìš°ì˜ ë¡œê·¸&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ìœ„ì™€ ê°™ì´ í•˜ë‚˜ì˜ Podë¡œë§Œ ìš”ì²­ì´ ê°„ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤!&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>ì´ë²ˆ ì£¼ì— ì—…ë¬´ê°€ ì •ë§ ë§ì•˜ëŠ”ë° ì´ë˜ ì €ë˜ ì˜¤ê°”ë˜ ëŒ€í™” ì¤‘ì— í—·ê°ˆë¦¬ëŠ” ë¶€ë¶„ì´ ìˆì–´ì„œ ê°‘ìê¸° ì•¼ë°¤ì— ì´ë ‡ê²Œ ë‚´ìš©ì„ ì •ë¦¬í•´ë´¤ë‹¤. ê³µì‹ ë¬¸ì„œë¥¼ ë‹¤ì‹œ í•œ ë²ˆ ì •ë…í•œ ë’¤ â€˜ì•„~ ì–˜ì˜ ì—­í• ì€ ì´ê±°ë‹ˆê¹Œ ì´ë ‡ê²Œ í•˜ë©´ ì´ë ‡ê²Œ ë˜ê² êµ°!â€™ì´ë¼ë©° ì‚´ì§ì¿µ ì´í•´ë¥¼ í•œ ë’¤ì— ì‹¤ìŠµì„ í•´ë´¤ê³  ê²°ê³¼ê°€ ì˜ ë‚˜ì™€ì„œ ë¿Œë“¯í•˜ë‹¤. ë§˜ í¸íˆ ì˜ ìˆ˜ ìˆì„ ë“¯.&lt;/p>
&lt;p>ë‹¤ë§Œ ë¬¸ì„œ ë‚´ìš©ê³¼ ì»¨ì…‰ë“¤ì˜ â€œì—­í• &amp;quot;ì´ë‚˜ â€œì˜ë¯¸&amp;quot;ì— ëŒ€í•œ ì´í•´ ë¿ë§Œ ì•„ë‹ˆë¼ ì‹¤ì œ ë™ì‘ í”Œë¡œìš°ê¹Œì§€ë„ ì•Œê³  ì‹¶ì€ ë§ˆìŒì€ ìˆëŠ”ë° ë„ˆë¬´ ì¡°ê¸‰í•´í•˜ëŠ” ê²ƒë³´ë‹¤ëŠ” ë¹ ë¥´ì§„ ì•Šë”ë¼ë„ ê¾¸ì¤€í•˜ê²Œ ì´ë ‡ê²Œ í•˜ë‚˜ í•˜ë‚˜ ê³µë¶€í•´ë‚˜ê°€ë©´ ë  ê²ƒì´ë¼ê³  ë¯¿ëŠ”ë‹¤!&lt;/p>
&lt;h2 id="ì°¸ê³ ">ì°¸ê³ &lt;/h2>
&lt;ul>
&lt;li>ê°ì¢… istio ë¬¸ì„œë“¤
&lt;ul>
&lt;li>Traffic Management ì»¨ì…‰ &lt;a class="link" href="https://istio.io/latest/docs/concepts/traffic-management/" target="_blank" rel="noopener"
>https://istio.io/latest/docs/concepts/traffic-management/&lt;/a>&lt;/li>
&lt;li>Traffic Management, Networking config ê´€ë ¨ ë¬¸ì„œ &lt;a class="link" href="https://istio.io/latest/docs/reference/config/networking/" target="_blank" rel="noopener"
>https://istio.io/latest/docs/reference/config/networking/&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Using Istio VirtualService from inside of the cluster - &lt;a class="link" href="https://stackoverflow.com/questions/65626962/using-istio-virtualservice-from-inside-of-the-cluster" target="_blank" rel="noopener"
>https://stackoverflow.com/questions/65626962/using-istio-virtualservice-from-inside-of-the-cluster&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>istioì™€ envoy proxyë¥¼ í†µí•´ ê²½í—˜í•´ë³´ëŠ” ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ (istio 1.10)</title><link>https://umi0410.github.io/blog/devops/istio-1-10-network-interface/</link><pubDate>Sun, 17 Jul 2022 22:00:00 +0900</pubDate><guid>https://umi0410.github.io/blog/devops/istio-1-10-network-interface/</guid><description>&lt;img src="https://umi0410.github.io/blog/devops/istio-1-10-network-interface/preview.png" alt="Featured image of post istioì™€ envoy proxyë¥¼ í†µí•´ ê²½í—˜í•´ë³´ëŠ” ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ (istio 1.10)" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>ìš”ì¦˜ istioë¥¼ ê³µë¶€í•˜ë˜ ì¤‘ istioê°€ ë³€í™”í•´ì˜¨ ê³¼ì •ì— ëŒ€í•´ì„œë„ í¥ë¯¸ê°€ ìƒê²¨ ì§€ë‚œ ë²„ì „ë“¤ì˜ ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ë“¤ë„ ì½ì–´ë³´ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë˜ ì¤‘ í˜„ ì‹œì (2022ë…„ 7ì›”)ì—ëŠ” ì´ë¯¸ ê³µì‹ì ì¸ End of Lifeê°€ ì§€ë‚œ &lt;strong>2021ë…„ 3ì›” ì²˜ìŒ ë¦´ë¦¬ì¦ˆëœ istio 1.10ì˜ ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ë¥¼ ë³´ë‹¤ê°€ ì¬ë¯¸ìˆëŠ” ì ì„ í•˜ë‚˜ ë°œê²¬&lt;/strong>í•  ìˆ˜ ìˆì—ˆëŠ”ë°ìš”.&lt;/p>
&lt;p>ë°”ë¡œ &lt;strong>envoy proxyê°€ &lt;code>eth0&lt;/code>ì— ëŒ€í•œ ìš”ì²­ì„ ë„˜ê²¨ì£¼ëŠ” containerì˜ network interfaceê°€ &lt;code>lo&lt;/code> ì—ì„œ &lt;code>eth0&lt;/code> ë¡œ ë³€ê²½ë˜ì—ˆë‹¤&lt;/strong>ëŠ” ì ì…ë‹ˆë‹¤. ë„¤íŠ¸ì›Œí¬ì— ëŒ€í•´, ê·¸ ì¤‘ì—ì„œë„ íŠ¹íˆ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•´ ì˜ ëª°ëë˜ ë•Œì—ëŠ” ì´ ë³€ê²½ì‚¬í•­ì— ê·¸ë‹¥ ê´€ì‹¬ì´ ì•ˆ ê°”ì„ ê²ƒ ê°™ì€ë° ìµœê·¼ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•´ ê³µë¶€ë¥¼ í•´ì„œì¸ì§€ ì´ ë³€ê²½ì‚¬í•­ì— ê´€ì‹¬ì´ ê°”ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ë˜ì„œ ì´ë²ˆ ê¸€ì—ì„œëŠ” ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì™€ ê´€ë ¨ëœ &lt;code>istio&lt;/code> &lt;code>1.9&lt;/code> â†’ &lt;code>1.10&lt;/code>ì˜ ë³€ê²½ì‚¬í•­ì„ ì‹¤ì œ ì‘ì—…ì„ í†µí•´ í™•ì¸í•´ë³´ë ¤í•©ë‹ˆë‹¤. ì‹¤ì œ ì‘ì—…ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>istio 1.9&lt;/strong> - ì„œë²„ë¥¼ &lt;code>lo&lt;/code> (ë£¨í”„ë°± ì¸í„°í˜ì´ìŠ¤)ì˜ IP(127.0.0.1)ë¡œ ë„ìš´ ê²½ìš° Serviceì— ìš”ì²­ì„ ë³´ë‚´ ì„±ê³µì ì¸ ì‘ë‹µì„ ë°›ì„ ìˆ˜ ìˆìŒì„ í™•ì¸&lt;/li>
&lt;li>&lt;strong>istio 1.9&lt;/strong> - ì„œë²„ë¥¼ &lt;code>eth0&lt;/code> ì˜ IPë¡œ ë„ìš´ ê²½ìš° Serviceì— ìš”ì²­ì„ ë³´ë‚´ë„ ìš”ì²­ì´ ì œëŒ€ë¡œ ì „ë‹¬ë˜ì§€ ì•ŠìŒì„ í™•ì¸&lt;/li>
&lt;li>&lt;strong>istio 1.10&lt;/strong> - ì„œë²„ë¥¼ &lt;code>lo&lt;/code> (ë£¨í”„ë°± ì¸í„°í˜ì´ìŠ¤)ì˜ IP(127.0.0.1)ë¡œ ë„ìš´ ê²½ìš° Serviceì— ìš”ì²­ì„ ë³´ë‚´ë„ ìš”ì²­ì´ ì œëŒ€ë¡œ ì „ë‹¬ë˜ì§€ ì•ŠìŒì„ í™•ì¸&lt;/li>
&lt;li>&lt;strong>istio 1.10&lt;/strong> - ì„œë²„ë¥¼ &lt;code>eth0&lt;/code> ì˜ IPë¡œ ë„ìš´ ê²½ìš° Serviceì— ìš”ì²­ì„ ë³´ë‚´ ì„±ê³µì ì¸ ì‘ë‹µì„ ë°›ì„ ìˆ˜ ìˆìŒì„ í™•ì¸&lt;/li>
&lt;/ul>
&lt;p>&lt;figure style="flex-grow: 366; flex-basis: 879px">
&lt;a href="https://umi0410.github.io/blog/devops/istio-1-10-network-interface/version-compatibility.png" data-size="2602x710">&lt;img src="https://umi0410.github.io/blog/devops/istio-1-10-network-interface/version-compatibility.png"
srcset="https://umi0410.github.io/blog/devops/istio-1-10-network-interface/version-compatibility_hu9ee91d2674eb5146d2a8fafcbb1eff3a_90034_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/istio-1-10-network-interface/version-compatibility_hu9ee91d2674eb5146d2a8fafcbb1eff3a_90034_1024x0_resize_box_3.png 1024w"
width="2602"
height="710"
loading="lazy"
alt="istio &amp;lt;-&amp;gt; k8s ë²„ì „ í˜¸í™˜ì„±">
&lt;/a>
&lt;figcaption>istio &amp;lt;-&amp;gt; k8s ë²„ì „ í˜¸í™˜ì„±&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;code>k8s&lt;/code> ë²„ì „ì€ istio 1.9ì™€ istio 1.10 ëª¨ë‘ì™€ í˜¸í™˜ë˜ëŠ” k8s &lt;code>1.20&lt;/code> ì„ ì´ìš©í•  ê²ƒì´ê³  k8sëŠ” &lt;code>minikube&lt;/code>ë¥¼ í†µí•´ ë¡œì»¬ì—ì„œ êµ¬ì„±í•  ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>âš ï¸ ì°¸ê³ ë¡œ M1 ë§¥ë¶ì˜ minikubeì—ì„  envoy proxyê°€ ë™ì‘í•˜ì§€ ì•Šì•„ì„œì¸ì§€ istioë¥¼ ì œëŒ€ë¡œ ì´ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì €ëŠ” ubuntuì—ì„œ minikubeë¥¼ í†µí•´ ì‘ì—…í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="istio-19--110-ë³€ê²½ì‚¬í•­-ì¤‘-ì¬ë¯¸ìˆëŠ”-ì ">istio 1.9 â†’ 1.10 ë³€ê²½ì‚¬í•­ ì¤‘ ì¬ë¯¸ìˆëŠ” ì &lt;/h2>
&lt;p>&lt;figure style="flex-grow: 235; flex-basis: 564px">
&lt;a href="https://umi0410.github.io/blog/devops/istio-1-10-network-interface/networking-change.png" data-size="2280x970">&lt;img src="https://umi0410.github.io/blog/devops/istio-1-10-network-interface/networking-change.png"
srcset="https://umi0410.github.io/blog/devops/istio-1-10-network-interface/networking-change_hu6fe6d6382b53ebbea105f054157c1f5e_208679_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/istio-1-10-network-interface/networking-change_hu6fe6d6382b53ebbea105f054157c1f5e_208679_1024x0_resize_box_3.png 1024w"
width="2280"
height="970"
loading="lazy"
alt="1.10 ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸">
&lt;/a>
&lt;figcaption>1.10 ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>(ì°¸ê³ : &lt;a class="link" href="https://istio.io/latest/news/releases/1.10.x/announcing-1.10/" target="_blank" rel="noopener"
>https://istio.io/latest/news/releases/1.10.x/announcing-1.10/&lt;/a>)&lt;/p>
&lt;p>1.10 ë²„ì „ì˜ ë³€ê²½ì‚¬í•­ì— ëŒ€í•´ ì¢€ ë” ìì„¸íˆ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. ì´ì „ ë²„ì „ì—ì„œëŠ” Sidecar Envoy Proxyê°€ &lt;code>eth0&lt;/code>ìœ¼ë¡œ ë“¤ì–´ì˜¨ ìš”ì²­ì„ &lt;code>lo&lt;/code>ë¡œ ë„˜ê²¨ì¤˜ì™”ëŠ”ë° ì´ë²ˆ ë²„ì „(1.10)ì—ì„œë¶€í„°ëŠ” &lt;code>eth0&lt;/code>ë¡œ ë“¤ì–´ì˜¨ ìš”ì²­ì„ eth0ë¡œ ë„˜ê²¨ì¤€ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ëŒ€ë¶€ë¶„ ì„œë²„ë¥¼ ë„ìš¸ ë•Œ &lt;code>0.0.0.0&lt;/code>ì„ í†µí•´ loopback interfaceì™€ ethernet interface ëª¨ë‘ì— ì„œë²„ë¥¼ ë„ìš°ëŠ” ê²½ìš°ê°€ ë§ì•„ í•´ë‹¹ ë‚´ìš©ì´ í° ë³€í™”ë¥¼ ê°€ì ¸ì˜¤ì§„ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ë§Œì•½ ê¸°ì¡´ì— íŠ¹ì • interfaceì˜ IPë§Œì„ ì§€ì •í•´ì„œ ì„œë²„ë¥¼ ë„ìš°ëŠ” ê²½ìš°ê°€ ìˆì—ˆë‹¤ë©´ ì´ ë³€ê²½ì‚¬í•­ìœ¼ë¡œ ì¸í•´ í†µì‹  ì¥ì• ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>loopback interfaceì˜ IPë¡œë§Œ ì„œë²„ë¥¼ ë„ìš´ ê²½ìš° â†’ &lt;code>eth0&lt;/code>ë¡œ ë³´ë‚¸ ìš”ì²­ì„ sidecarë¥¼ ê±°ì³ &lt;code>lo&lt;/code>ê°€ ë°›ì„ ìˆ˜ ìˆë˜ ì»¨í…Œì´ë„ˆê°€ ìš”ì²­ì„ ë°›ì„ ìˆ˜ ì—†ì–´ì§.&lt;/li>
&lt;li>eth0 interfaceì˜ IPë¡œë§Œ ì„œë²„ë¥¼ ë ìš´ ê²½ìš° â†’ &lt;code>eth0&lt;/code>ë¡œ ë³´ë‚¸ ìš”ì²­ì„ sidecarë¥¼ ê±°ì³ ì—¬ì „íˆ &lt;code>eth0&lt;/code>ê°€ ìš”ì²­ì„ ë°›ì„ ìˆ˜ ìˆì–´ì§.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ì´ëŸ¬í•œ ë³€ê²½ ì‚¬í•­ì´ ì¶”ê°€ëœ ì´ìœ ëŠ”?&lt;/strong>&lt;/p>
&lt;p>On-premiseë‚˜ non-k8s í™˜ê²½ì—ì„œëŠ” ë³´í†µ &lt;code>lo&lt;/code> ì— ì„œë²„ë¥¼ ë„ìš°ëŠ” ê²½ìš°ëŠ” ì™¸ë¶€ì—ì„œì˜ ì ‘ì†ì„ ë§‰ìœ¼ë ¤ëŠ” ê²½ìš°ì¼ ê²ƒì…ë‹ˆë‹¤. ë°˜ë©´ &lt;code>eth0&lt;/code> ì— ì„œë²„ë¥¼ ë„ìš°ëŠ” ê²½ìš°ëŠ” ì™¸ë¶€ì—ì„œì˜ ì ‘ì†ì„ í—ˆìš©í•˜ë ¤ëŠ” ê²½ìš°ì¼ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ì´ì „ì—ëŠ” ì´ëŸ¬í•œ ê¸°ì¡´ í™˜ê²½ì—ì„œ istioë¥¼ ë„ì…í•˜ê²Œ ë˜ë©´ ê¸°ì¡´ì˜ ì˜ë„ì™€ ë°˜ëŒ€ë˜ê²Œ ì˜¤íˆë ¤ &lt;code>lo&lt;/code> ì— ì„œë²„ë¥¼ ë„ìš´ ê²½ìš° ì˜¤íˆë ¤ envoy sidecarì—ê²Œ ìš”ì²­ì„ ì „ë‹¬ë°›ì„ ìˆ˜ ìˆì–´ì§€ê³ , &lt;code>eth0&lt;/code> ì— ì„œë²„ë¥¼ ë„ìš´ ê²½ìš°ëŠ” ì˜¤íˆë ¤ enovy sidecarì—ê²Œ ìš”ì²­ì„ ì „ë‹¬ë°›ì„ ìˆ˜ ì—†ì—ˆë˜ ëª¨ìˆœëœ ìƒí™©ì´ ë°œìƒí–ˆë‹¤ê³  í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ë”°ë¼ì„œ ì´ëŸ¬í•œ ëª¨ìˆœëœ ìƒí™©ë“¤ì„ ë°©ì§€í•˜ê³ ì ì´ëŸ¬í•œ ë³€ê²½ì‚¬í•­ì´ ì¶”ê°€ë˜ì—ˆë‹¤ê³  í•©ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="minikubeë¥¼-í†µí•´-k8s-12015-í™˜ê²½-êµ¬ì¶•í•˜ê¸°">minikubeë¥¼ í†µí•´ k8s 1.20.15 í™˜ê²½ êµ¬ì¶•í•˜ê¸°&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ minikube start --profile k8s-1-20 --kubernetes-version 1.20.15
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ìœ„ì˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ íŠ¹ì • k8s ë²„ì „(1.20.15)ì˜ í™˜ê²½ì„ ë¡œì»¬ì— êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="k8sì—-istio-19ì™€-110-ì„¤ì¹˜í•˜ê¸°">k8sì— istio 1.9ì™€ 1.10 ì„¤ì¹˜í•˜ê¸°&lt;/h2>
&lt;p>istioctlì„ í†µí•´ ë‘ ë²„ì „ì˜ istioë¥¼ k8s clusterì— ë°°í¬í•´ì¤„ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>istioctlì˜ ë²„ì „ì— ë§ê²Œ istioê°€ ì„¤ì¹˜ë˜ê¸° ë•Œë¬¸ì— ê·¸ë•Œ ê·¸ë•Œ í¸ë¦¬í•˜ê²Œ istioctlì˜ ë²„ì „ì„ ë³€ê²½í•´ì•¼í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ì €ëŠ” &lt;a class="link" href="https://github.com/asdf-vm/asdf" target="_blank" rel="noopener"
>asdf&lt;/a>ë¼ëŠ” ë„êµ¬ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ìŠ¤íƒ€ ìˆ˜ëŠ” ì ì§€ë§Œ &lt;a class="link" href="https://github.com/virtualstaticvoid/asdf-istioctl" target="_blank" rel="noopener"
>asdfì˜ istioctl plugin&lt;/a>ì„ ì´ìš©í•˜ê¸°ë„ í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 546; flex-basis: 1312px">
&lt;a href="https://umi0410.github.io/blog/devops/istio-1-10-network-interface/istioctl-profiles.png" data-size="3182x582">&lt;img src="https://umi0410.github.io/blog/devops/istio-1-10-network-interface/istioctl-profiles.png"
srcset="https://umi0410.github.io/blog/devops/istio-1-10-network-interface/istioctl-profiles_huc2f3f759952870d04254f07cdea3bebc_60119_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/istio-1-10-network-interface/istioctl-profiles_huc2f3f759952870d04254f07cdea3bebc_60119_1024x0_resize_box_3.png 1024w"
width="3182"
height="582"
loading="lazy"
alt="ë¯¸ë¦¬ ì •ì˜ë˜ì–´ ìˆëŠ” Profile ëª©ë¡">
&lt;/a>
&lt;figcaption>ë¯¸ë¦¬ ì •ì˜ë˜ì–´ ìˆëŠ” Profile ëª©ë¡&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ì°¸ê³ : &lt;a class="link" href="https://istio.io/latest/docs/setup/additional-setup/config-profiles/" target="_blank" rel="noopener"
>https://istio.io/latest/docs/setup/additional-setup/config-profiles/&lt;/a>&lt;/p>
&lt;p>istioctlì„ í†µí•´ istioë¥¼ í´ëŸ¬ìŠ¤í„°ì— ë°°í¬í•  ë•Œì—ëŠ” ë¯¸ë¦¬ ì •ì˜ë˜ì–´ìˆëŠ” profileì´ë¼ëŠ” ê²ƒì„ ì´ìš©í•´ ì¢€ ë” í¸ë¦¬í•˜ê²Œ ì„¤ì •ì„ í•´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë²ˆ ì‘ì—…ì—ì„œ gatewayë“¤ì€ í•„ìš” ì—†ê¸° ë•Œë¬¸ì— ì €ëŠ” minimal profileì„ í†µí•´ ì„¤ì¹˜í•´ì£¼ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">asdf plugin-add istioctl https://github.com/virtualstaticvoid/asdf-istioctl.git &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>asdf install istioctl 1.9.9 &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>asdf install istioctl 1.10.6
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ìœ„ì˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ istioctl 1.9.9ì™€ 1.10.6 ë‘ ë²„ì „ì„ ëª¨ë‘ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ asdf global istioctl 1.9.9 &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> istioctl version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">no running Istio pods in &lt;span class="s2">&amp;#34;istio-system&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1.9.9
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>istioctl 1.9.9ë¥¼ ì´ìš©í•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">istioctl install --set &lt;span class="nv">profile&lt;/span>&lt;span class="o">=&lt;/span>minimal --set &lt;span class="nv">revision&lt;/span>&lt;span class="o">=&lt;/span>1-9 --set values.global.proxy.holdApplicationUntilProxyStarts&lt;span class="o">=&lt;/span>&lt;span class="nb">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">! values.global.proxy.holdApplicationUntilProxyStarts is deprecated&lt;span class="p">;&lt;/span> use meshConfig.defaultConfig.holdApplicationUntilProxyStarts instead
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">! Istio is being downgraded from 1.9.0 -&amp;gt; 1.9.9.This will install the Istio 1.9.9 minimal profile with &lt;span class="o">[&lt;/span>&lt;span class="s2">&amp;#34;Istio core&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;Istiod&amp;#34;&lt;/span>&lt;span class="o">]&lt;/span> components into the cluster. Proceed? &lt;span class="o">(&lt;/span>y/N&lt;span class="o">)&lt;/span> y
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">âœ” Istio core installed
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">âœ” Istiod installed
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">âœ” Installation &lt;span class="nb">complete&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>istio 1.9.9ë¥¼ &lt;code>1-9&lt;/code>ë¼ëŠ” revisionìœ¼ë¡œ ê¹”ì•„ì¤ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;code>values.global.proxy.holdApplicationUntilProxyStarts&lt;/code>ì™€ &lt;code>meshConfig.defaultConfig.holdApplicationUntilProxyStarts&lt;/code>ëŠ” envoy proxyê°€ ì¤€ë¹„ëœ ë’¤ì—
ìš°ë¦¬ê°€ ì •ì˜í•œ ì‹¤ì œ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤. ì „ìëŠ” Deprecated ë˜ì—ˆë‹¤ê³  ê²½ê³ ê°€ ëœ¨ì§€ë§Œ ì ìš©í•´ë³¸ ê²°ê³¼ 1.9 ë²„ì „ ëŒ€ì—ì„œëŠ” ì—¬ì „íˆ ì „ìë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ ê°™ë”ë¼êµ¬ìš”.
ë”°ë¼ì„œ ì €ëŠ” 1.9.9 ë²„ì „ì—ì„œëŠ” ì „ìì˜ ì¸ìë¥¼, 1.10.6 ë²„ì „ì—ì„œëŠ” í›„ìì˜ ì¸ìë¥¼ ì ìš©í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë§Œì•½ envoy proxyê°€ ì™„ì „íˆ ì¤€ë¹„ë˜ê¸° ì „ì— ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì—ì„œ ë„¤íŠ¸ì›Œí¬ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©´ í•´ë‹¹ ì‘ì—…ì€ ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰ë˜ì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ asdf global istioctl 1.10.6 &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> istioctl version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">client version: 1.10.6
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">control plane version: 1.9.9
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">data plane version: none
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>istioctl 1.10.6ì„ ì´ìš©í•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ istioctl install --set &lt;span class="nv">profile&lt;/span>&lt;span class="o">=&lt;/span>minimal --set &lt;span class="nv">revision&lt;/span>&lt;span class="o">=&lt;/span>1-10 --set meshConfig.defaultConfig.holdApplicationUntilProxyStarts&lt;span class="o">=&lt;/span>&lt;span class="nb">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">WARNING: Istio is being upgraded from 1.9.9 -&amp;gt; 1.10.6.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">WARNING: Before upgrading, you may wish to use &lt;span class="s1">&amp;#39;istioctl analyze&amp;#39;&lt;/span> to check forIST0002 and IST0135 deprecation warnings.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">This will install the Istio 1.10.6 minimal profile with &lt;span class="o">[&lt;/span>&lt;span class="s2">&amp;#34;Istio core&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;Istiod&amp;#34;&lt;/span>&lt;span class="o">]&lt;/span> components into the cluster. Proceed? &lt;span class="o">(&lt;/span>y/N&lt;span class="o">)&lt;/span> y
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">âœ” Istio core installed
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">âœ” Istiod installed
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">âœ” Installation &lt;span class="nb">complete&lt;/span> Thank you &lt;span class="k">for&lt;/span> installing Istio 1.10. Please take a few minutes to tell us about your install/upgrade experience! https://forms.gle/KjkrDnMPByq7akrYA
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>istio 1.10.6ì„ &lt;code>1-10&lt;/code>ì´ë¼ëŠ” revisionìœ¼ë¡œ ê¹”ì•„ì¤ë‹ˆë‹¤.&lt;/p>
&lt;p>ì›Œë‹ì´ ë– ìˆê¸´ í•˜ì§€ë§Œ ê·¸ë‹¥ ìƒê´€ì€ ì—†ìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ kubectl get pod -n istio-system
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAME READY STATUS RESTARTS AGE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">istiod-1-10-5cd4d5b44d-b98xm 1/1 Running &lt;span class="m">0&lt;/span> 84s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">istiod-1-9-6b549b9d87-9f76b 1/1 Running &lt;span class="m">0&lt;/span> 2m56s
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì˜ ê¹”ë ¸ë‹¤ë©´ ìœ„ì™€ ê°™ì´ Podë“¤ì´ ì„±ê³µì ìœ¼ë¡œ ë–´ì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="istio-sidecarê°€-injectedëœ-netcat-server--client-pod-ë°°í¬í•˜ê¸°">istio sidecarê°€ injectedëœ netcat server &amp;amp; client Pod ë°°í¬í•˜ê¸°&lt;/h2>
&lt;p>ì´ì œ netcat serverì´ì clientê°€ ë  Pod ë“¤ì„ ë°°í¬í•´ì¤„ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ë°°í¬í•  ë¦¬ì†ŒìŠ¤ë“¤ì€ ëª¨ë‘ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Namespace rev-1-9&lt;/strong> - Istio 1.9ì˜ sidecar injectë¥¼ ë°›ì„ Namespace&lt;/li>
&lt;li>&lt;strong>Namespace rev-1-10&lt;/strong> - Istio 1.10ì˜ sidecar injectë¥¼ ë°›ì„ Namespace&lt;/li>
&lt;li>&lt;strong>Pod netcat-client&lt;/strong> - &lt;code>default&lt;/code> Namespaceì—ì„œ ê° Serviceë¥¼ í†µí•´ netcat ìš”ì²­ì„ ë‚ ë ¤ì¤„ client&lt;/li>
&lt;li>&lt;strong>Pod netcat-lo&lt;/strong> - &lt;code>lo&lt;/code> ì¸í„°í˜ì´ìŠ¤ì˜ IP ì— netcat ì„œë²„ë¥¼ ë„ìš°ëŠ” Pod.&lt;/li>
&lt;li>&lt;strong>Pod netcat-eth0&lt;/strong> - &lt;code>eth0&lt;/code> ì¸í„°í˜ì´ìŠ¤ì˜ IPì— netcat ì„œë²„ë¥¼ ë„ìš°ëŠ” Pod.&lt;/li>
&lt;li>&lt;strong>Service lo&lt;/strong> - &lt;code>lo&lt;/code> ì¸í„°í˜ì´ìŠ¤ì˜ IPì— netcat ì„œë²„ë¥¼ ë„ìš´ Podë¥¼ ë…¸ì¶œì‹œì¼œì¤„ Service&lt;/li>
&lt;li>&lt;strong>Service eth0&lt;/strong> - &lt;code>eth0&lt;/code> ì¸í„°í˜ì´ìŠ¤ì˜ IPì— netcat ì„œë²„ë¥¼ ë„ìš´ Podë¥¼ ë…¸ì¶œì‹œì¼œì¤„ Service&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>(netcat ì„œë²„ PodëŠ” 8080 í¬íŠ¸ì— ìš”ì²­ì´ TCP ì»¤ë„¥ì…˜ì´ í˜•ì„±ë˜ë©´ â€œpongâ€ìœ¼ë¡œ ì‘ë‹µí•˜ëŠ” Podì…ë‹ˆë‹¤.)&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Namespace&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">istio.io/rev&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1-9&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">rev-1-9&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Namespace&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">istio.io/rev&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1-10&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">rev-1-10&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Pod&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">netcat-client&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu:22.04&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">command&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/bin/bash&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;-c&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> apt update &amp;amp;&amp;amp; apt install -y ncat
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> while true;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> do sleep 60;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> done;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">imagePullPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IfNotPresent&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">netcat-client&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restartPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Always&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Pod&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">rev-1-9&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">netcat-lo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">rev-1-9-lo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu:22.04&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">command&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/bin/bash&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;-c&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> apt update &amp;amp;&amp;amp; apt install -y net-tools ncat
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> ifconfig eth0 | grep &amp;#39;inet &amp;#39; | awk &amp;#39;{print $2}&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> while true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> do echo &amp;#39;pong&amp;#39; | nc -l 127.0.0.1 8080
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> sleep 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> done&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">imagePullPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IfNotPresent&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">containerPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restartPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Always&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Pod&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">rev-1-10&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">netcat-lo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">istio.io/rev&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1-10&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">rev-1-10-lo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu:22.04&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">command&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/bin/bash&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;-c&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> apt update &amp;amp;&amp;amp; apt install -y net-tools ncat
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> while true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> do echo &amp;#39;pong&amp;#39; | nc -l 127.0.0.1 8080
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> sleep 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> done&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">imagePullPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IfNotPresent&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">containerPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restartPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Always&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Pod&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">rev-1-9&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">netcat-eth0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">istio.io/rev&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1-9&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">rev-1-9-eth0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu:22.04&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">command&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/bin/bash&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;-c&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> apt update &amp;amp;&amp;amp; apt install -y net-tools ncat
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> ifconfig eth0 | grep &amp;#39;inet &amp;#39; | awk &amp;#39;{print $2}&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> while true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> do echo &amp;#39;pong&amp;#39; | nc -l $(ifconfig eth0 | grep &amp;#39;inet &amp;#39; | awk &amp;#39;{print $2}&amp;#39;) 8080
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> sleep 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> done&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">imagePullPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IfNotPresent&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">containerPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restartPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Always&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Pod&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">rev-1-10&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">netcat-eth0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">istio.io/rev&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1-10&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">rev-1-10-eth0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu:22.04&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">command&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;/bin/bash&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;-c&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> apt update &amp;amp;&amp;amp; apt install -y net-tools ncat
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> ifconfig eth0 | grep &amp;#39;inet &amp;#39; | awk &amp;#39;{print $2}&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> while true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> do echo &amp;#39;pong&amp;#39; | nc -l $(ifconfig eth0 | grep &amp;#39;inet &amp;#39; | awk &amp;#39;{print $2}&amp;#39;) 8080
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> done&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">imagePullPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IfNotPresent&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">containerPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restartPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Always&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">rev-1-9&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">lo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">protocol&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TCP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">rev-1-9-lo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">rev-1-9&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">eth0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">protocol&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TCP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">rev-1-9-eth0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">rev-1-10&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">lo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">protocol&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TCP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">rev-1-10-lo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">rev-1-10&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">eth0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">protocol&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TCP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">rev-1-10-eth0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ kubectl apply -f tmp.yaml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">namespace/rev-1-9 created
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">namespace/rev-1-10 created
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pod/netcat-client created
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pod/netcat-lo created
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pod/netcat-lo created
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pod/netcat-eth0 created
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pod/netcat-eth0 created
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">service/lo created
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">service/eth0 created
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">service/lo created
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">service/eth0 created
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ìœ„ì˜ ëª…ë ¹ì–´ë“¤ì„ ì´ìš©í•´ sidecarê°€ injectedë  netcat ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ Podë¥¼ ë°°í¬í•´ì¤ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ kubectl get pod -A
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAMESPACE NAME READY STATUS RESTARTS AGE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">default netcat-client 1/1 Running &lt;span class="m">0&lt;/span> 15m
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">istio-system istiod-1-10-5cd4d5b44d-8lv2h 1/1 Running &lt;span class="m">0&lt;/span> 145m
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">istio-system istiod-1-9-5ccbd888d8-scdzz 1/1 Running &lt;span class="m">0&lt;/span> 107m
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rev-1-10 netcat-eth0 2/2 Running &lt;span class="m">0&lt;/span> 18m
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rev-1-10 netcat-lo 2/2 Running &lt;span class="m">0&lt;/span> 18m
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rev-1-9 netcat-eth0 2/2 Running &lt;span class="m">1&lt;/span> 17m
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rev-1-9 netcat-lo 2/2 Running &lt;span class="m">1&lt;/span> 17m
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ kubectl get svc -A
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAMESPACE NAME TYPE CLUSTER-IP EXTERNAL-IP PORT&lt;span class="o">(&lt;/span>S&lt;span class="o">)&lt;/span> AGE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">default kubernetes ClusterIP 10.96.0.1 &amp;lt;none&amp;gt; 443/TCP 3h10m
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">istio-system istiod-1-10 ClusterIP 10.110.227.112 &amp;lt;none&amp;gt; 15010/TCP,15012/TCP,443/TCP,15014/TCP 3h3m
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">istio-system istiod-1-9 ClusterIP 10.107.205.100 &amp;lt;none&amp;gt; 15010/TCP,15012/TCP,443/TCP,15014/TCP 145m
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kube-system kube-dns ClusterIP 10.96.0.10 &amp;lt;none&amp;gt; 53/UDP,53/TCP,9153/TCP 3h10m
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rev-1-10 eth0 ClusterIP 10.111.38.103 &amp;lt;none&amp;gt; 8080/TCP 35m
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rev-1-10 lo ClusterIP 10.106.100.209 &amp;lt;none&amp;gt; 8080/TCP 35m
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rev-1-9 eth0 ClusterIP 10.105.29.177 &amp;lt;none&amp;gt; 8080/TCP 35m
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rev-1-9 lo ClusterIP 10.100.228.64 &amp;lt;none&amp;gt; 8080/TCP 35m
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì„±ê³µì ìœ¼ë¡œ ë°°í¬í–ˆë‹¤ë©´ ìœ„ì™€ ê°™ì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="netcat-ì„œë²„ë“¤ì—ê²Œ-ìš”ì²­-ë³´ë‚´ë³´ê¸°">netcat ì„œë²„ë“¤ì—ê²Œ ìš”ì²­ ë³´ë‚´ë³´ê¸°&lt;/h2>
&lt;p>kubectl execì™€ netcat ëª…ë ¹ì–´ë¥¼ í†µí•´ &lt;code>netcat-client&lt;/code> ì˜ ì´ë¦„ìœ¼ë¡œ ë°°í¬í•œ Podë¡œ ê° Serviceë“¤ì„ ê±°ì³ ê° Podì—ê²Œ ìš”ì²­ì„ ë³´ë‚´ë³¼ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ kubectl &lt;span class="nb">exec&lt;/span> -n default netcat-client -- bash -c &lt;span class="s2">&amp;#34;echo &amp;#39;ping&amp;#39; | nc lo.rev-1-9 8080&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pong
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ kubectl &lt;span class="nb">exec&lt;/span> -n default netcat-client -- bash -c &lt;span class="s2">&amp;#34;echo &amp;#39;ping&amp;#39; | nc eth0.rev-1-9 8080&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Ncat: Connection reset by peer.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">command&lt;/span> terminated with &lt;span class="nb">exit&lt;/span> code &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ê° Podì˜ netcat serverê°€ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©´ ìœ„ì™€ ê°™ì´ &lt;code>netcat-client&lt;/code> Podë¥¼ ì´ìš©í•´ ëª…ë ¹ì„ ë‚ ë ¤ ì‘ë‹µì„ ë°›ì•„ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>(&lt;strong>ì´ˆê¸° ì„œë²„ê°€ êµ¬ë™ë˜ê¸°ê¹Œì§€ ë‹¤ì†Œ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/strong> ì´ ê²½ìš° ì„œë²„ì˜ ë¡œê·¸ë¥¼ í†µí•´ ì„œë²„ê°€ êµ¬ë™ëëŠ”ì§€ë¥¼ í™•ì¸í•´ë³´ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.)&lt;/p>
&lt;p>&lt;code>eth0&lt;/code>ì˜ IPì— ì„œë²„ë¥¼ ë„ìš´ Podë¥¼ ëª©ì ì§€ë¡œ í•˜ëŠ” Serviceì—ê²Œ ìš”ì²­ì„ ë³´ë‚¼ ê²½ìš° í•´ë‹¹ ëª©ì ì§€ Podê°€ istio 1.9ì— ì˜í•´ sidecar injection ë˜ì—ˆë‹¤ë©´ Pod ë‚´ì˜ ì„œë²„ëŠ” ì˜¬ë°”ë¥´ê²Œ ìš”ì²­ì„ ì „ë‹¬ë°›ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ kubectl &lt;span class="nb">exec&lt;/span> -n default netcat-client -- bash -c &lt;span class="s2">&amp;#34;echo &amp;#39;ping&amp;#39; | nc lo.rev-1-10 8080&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Ncat: Connection reset by peer.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">command&lt;/span> terminated with &lt;span class="nb">exit&lt;/span> code &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ kubectl &lt;span class="nb">exec&lt;/span> -n default netcat-client -- bash -c &lt;span class="s2">&amp;#34;echo &amp;#39;ping&amp;#39; | nc eth0.rev-1-10 8080&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pong
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>istio 1.10ì„ ì´ìš©í•œ ê²½ìš° ê²°ê³¼ëŠ” ì˜ˆìƒëŒ€ë¡œ istio 1.9ì™€ ë°˜ëŒ€ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;code>lo&lt;/code> ì˜ IPì— ì„œë²„ë¥¼ ë„ìš´ Podë¥¼ ëª©ì ì§€ë¡œ í•˜ëŠ” Serviceì—ê²Œ ìš”ì²­ì„ ë³´ë‚¼ ê²½ìš° í•´ë‹¹ ëª©ì ì§€ Podê°€ istio 1.10ì— ì˜í•´ sidecar injection ë˜ì—ˆë‹¤ë©´ Pod ë‚´ì˜ ì„œë²„ëŠ” ì˜¬ë°”ë¥´ê²Œ ìš”ì²­ì„ ì „ë‹¬ë°›ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>ìš”ì¦˜ ë²„ì „ì´ ì°¸ ì¤‘ìš”í•˜ë‹¤ëŠ” ìƒê°ì´ ë“­ë‹ˆë‹¤. ì‹¤ì œë¡œ &lt;strong>ì´ë ‡ê²Œ ë²„ì „ì— ë”°ë¼ í†µì‹ ì´ ë˜ê³  ì•ˆ ë˜ê³ ê°€ ê²°ì •ë  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ í™•ì¸í•´ë³´ë‹ˆ í•œì¸µ ë” ë²„ì „ì´ ì¤‘ìš”í•˜ê²Œ ëŠê»´ì§‘ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>ë”°ë¡œ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ì œì‘í•˜ê³  imagePullSecretì„ ê¸°ì…í•˜ê¸° ê·€ì°®ì•„ì„œ ê¸°ì¡´ì— ì¡´ì¬í•˜ëŠ” Ubuntu ì´ë¯¸ì§€ë¥¼ í™œìš©í•˜ë ¤ë‹¤ ë³´ë‹ˆ ê°„ë‹¨í•˜ê²Œ ë„¤íŠ¸ì›Œí¬ í†µì‹ ì„ í•˜ê¸° ìœ„í•´ netcatì„ ì ê·¹ í™œìš©í•´ë´¤ìŠµë‹ˆë‹¤. ì˜¤íˆë ¤ ë„ˆë¬´ ì½”ë“œê°€ ê¸¸ì–´ì¡Œë‚˜ ì‹¶ê¸°ë„í•˜ë„¤ìš”.&lt;/p>
&lt;p>ì´ ì‘ì—…ì„ í•˜ë©´ì„œ ì™„ì „íˆ ì´í•´í•˜ì§€ ëª»í•œ ë¶€ë¶„ì´ í•œ ê°€ì§€ ì¡´ì¬í•˜ê¸´ í•©ë‹ˆë‹¤. ì‘ì—…í•˜ë©° ê²½í—˜í•œ ë°”ë¡œëŠ” Podì˜ IPë¡œ ìš”ì²­ì„ ë³´ë‚´ëŠ” ê²½ìš°ì—ëŠ” istio ë²„ì „ì— ë¬´ê´€í•˜ê²Œ eth0ì˜ IPë¡œ ì„œë²„ë¥¼ ë„ì›Œì•¼ë§Œ ì™¸ë¶€(ë™ë£Œ Podë“¤)ì—ì„œëŠ” ì ‘ì†ì´ ê°€ëŠ¥í•˜ê³ , loì˜ IPë¡œ ì„œë²„ë¥¼ ë„ìš°ëŠ” ê²½ìš° Podì˜ IPë¡œ ì ‘ì†ì´ ë¶ˆê°€ëŠ¥í–ˆëŠ”ë°ìš”. ì‚¬ì‹¤ ì´ë¡œ ì¸í•´ ë§ì€ ì‚½ì§ˆì„ í–ˆìŠµë‹ˆë‹¤â€¦ ì™œ ì„œë¹„ìŠ¤ë¡œ ì ‘ì†í•  ë•Œì—ëŠ” ì˜ˆìƒëŒ€ë¡œ ë²„ì „ì— ë§ëŠ” ë™ì‘ì„ í•˜ëŠ”ë°, Podì˜ IPë¡œ ì§ì ‘ ì ‘ì†í•  ë•Œì—ëŠ” ë¬´ì¡°ê±´ eth0ì˜ IPë¡œ ì„œë²„ë¥¼ ë„ìš´ ê²½ìš°ì—ë§Œ ì™¸ë¶€ì—ì„œ ì ‘ê·¼ì´ ê°€ëŠ¥í•œì§€ëŠ” ì˜ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ê³¼ê±° ë²„ì „ì˜ istioë¥¼ í†µí•´ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì˜ ë™ì‘ì„ í™•ì¸í•´ë³´ëŠ” ê²ƒì€ ì´ ì •ë„ë¡œ ì¶©ë¶„í•  ê²ƒ ê°™ë‹¤ê³  ìƒê°ì´ ë“¤ì–´ ì´ë²ˆ ê¸€ì€ ì—¬ê¸°ì„œ ë§ˆë¬´ë¦¬ ì§€ìœ¼ë ¤í•©ë‹ˆë‹¤. ğŸ™‚&lt;/p></description></item><item><title>ì¿ ë²„ë„¤í‹°ìŠ¤ë¡œ Clova AI Custom Extension ë°°í¬í•˜ê¸° (feat. Istio, Cert Manager)</title><link>https://umi0410.github.io/blog/clova-ai-on-k8s/</link><pubDate>Wed, 13 Jul 2022 23:00:00 +0900</pubDate><guid>https://umi0410.github.io/blog/clova-ai-on-k8s/</guid><description>&lt;img src="https://umi0410.github.io/blog/clova-ai-on-k8s/preview.png" alt="Featured image of post ì¿ ë²„ë„¤í‹°ìŠ¤ë¡œ Clova AI Custom Extension ë°°í¬í•˜ê¸° (feat. Istio, Cert Manager)" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>&lt;figure style="flex-grow: 149; flex-basis: 357px">
&lt;a href="https://umi0410.github.io/blog/clova-ai-on-k8s/preview.png" data-size="827x555">&lt;img src="https://umi0410.github.io/blog/clova-ai-on-k8s/preview.png"
srcset="https://umi0410.github.io/blog/clova-ai-on-k8s/preview_hu0de35698344aa28c3f5141b2d5dcaef6_812038_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/clova-ai-on-k8s/preview_hu0de35698344aa28c3f5141b2d5dcaef6_812038_1024x0_resize_box_3.png 1024w"
width="827"
height="555"
loading="lazy"
alt="Clova AI ìŠ¤í”¼ì»¤">
&lt;/a>
&lt;figcaption>Clova AI ìŠ¤í”¼ì»¤&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;strong>ì˜¬í•´ì—ëŠ” ë§ì€ ë³€í™”ê°€ ìˆì—ˆë‹¤!&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ğŸ’¼ &lt;strong>ë°ë¸Œì˜µìŠ¤ ì—”ì§€ë‹ˆì–´&lt;/strong>ë¡œ íšŒì‚¬ë¥¼ ê°€ê²Œ ëê³  ì•„ì£¼ ë§Œì¡± ì¤‘ì´ë‹¤!&lt;/li>
&lt;li>ğŸ  íšŒì‚¬ì˜ ì¢‹ì€ ë³´ìƒ, ë³µì§€ì— í˜ì…ì–´ ìƒì•  ì²« &lt;strong>ìì·¨&lt;/strong>ë¥¼ í•˜ê²Œ ëë‹¤.&lt;/li>
&lt;li>ğŸ’» &lt;strong>ë„¤íŠ¸ì›Œí¬&lt;/strong>ë‚˜ &lt;strong>ë¦¬ëˆ…ìŠ¤&lt;/strong>, &lt;strong>ë³´ì•ˆ&lt;/strong> ë“± ë”¥í•œ ì˜ì—­ì— ì¢€ ë” ê´€ì‹¬ì„ ê°–ê²Œ ëë‹¤.&lt;/li>
&lt;li>ğŸ¸ &lt;strong>ê¸°íƒ€&lt;/strong>ë¥¼ ê¾¸ì¤€íˆ ë‹¤ë‹ˆê³  ìˆë‹¤.&lt;/li>
&lt;/ul>
&lt;p>ê·¸ëŸ° ë³€í™”ë“¤ ì†ì—ì„œ ìì·¨ë°©ì— ì¸í„°ë„· ì„¤ì¹˜ë¥¼ í•˜ê²Œ ëëŠ”ë° &lt;strong>í´ë¡œë°” AI ìŠ¤í”¼ì»¤&lt;/strong>ë¥¼ ê³µì§œë¡œ ì£¼ë”ë¼.&lt;/p>
&lt;p>ë³¸ê°€ì— ìˆì„ ë•Œë„ ì“°ê¸´ í–ˆëŠ”ë° ë”±íˆ ê´€ì‹¬ ì—†ë‹¤ê°€ ì§ì ‘ í´ë¡œë°” ì•±ì„ ê¹”ì•„ì„œ ì´ê²ƒì €ê²ƒ ì¨ë³´ë‹ˆ &amp;lsquo;ì „ë³´ë‹¤ ì¬ë°Œë„¤..? ã…ã…&amp;rsquo; ì‹¶ì—ˆê³ , &amp;lsquo;ì•„ë‹ˆ ì´ê±° ì§ì ‘ ë§Œë“¤ì§€ëŠ” ëª»í•˜ë‚˜&amp;rsquo;í•˜ëŠ” ìƒê°ì´ ë“¤ë˜ ì°¸ì— &amp;ldquo;ìŠ¤í‚¬ ìŠ¤í† ì–´â€ë¼ëŠ” ê²Œ ëˆˆì— ë„ì—ˆë‹¤. ìŠ¤í‚¬ ìŠ¤í† ì–´ì—ëŠ” ê°œë³„ ê°œë°œì‚¬ë“¤ì´ ê°œë°œí•œ ìê¸°ë„¤ ê¸°ëŠ¥ë“¤ì´ ì†Œê°œë˜ì–´ìˆì—ˆë‹¤.&lt;/p>
&lt;p>ìš”ì¦˜ ì¬ë¯¸ìˆê²Œ ë”¥í•œ ì˜ì—­ì„ ê³µë¶€í•´ë‚˜ê°€ê³  ìˆê¸´ í•˜ì§€ë§Œ ë„ˆë¬´ ë”¥í•œ ê²ƒë§Œ í•˜ë‹¤ë³´ë‹ˆ ì‹¬ì‹¬í’€ì´ ì‘ì—… ì¢€ ì¦ê¸°ê³  ì‹¶ì€ ë§ˆìŒì— ë‚˜ë„ í•˜ë‚˜ ìŠ¤í‚¬ì„ ë§Œë“¤ì–´ë³´ê³ ì í–ˆë‹¤. ë§ˆì¹¨ ìš”ì¦˜ &lt;code>istio&lt;/code>ì—ë„ ê´€ì‹¬ì´ ë§ì´ ê°”ê³  ì ìš©í•´ë³´ê³  ì‹¶ì—ˆëŠ”ë° ê°–ê³  ìˆë˜ k8s í´ëŸ¬ìŠ¤í„°ì— istioëŠ” ë°°í¬í•´ë†“ì€ ìƒíƒœì˜€ê³ , &lt;code>Gateway&lt;/code>, &lt;code>VirtualService&lt;/code> ë“±ì˜ &lt;code>CRD&lt;/code>ì™€ &lt;code>ì¸ì¦ì„œ&lt;/code>ë§Œ ì˜ ë§Œì ¸ì£¼ë©´ ìŠ¤í‚¬ì„ ê³µê°œí•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì•˜ë‹¤.&lt;/p>
&lt;p>ê·¸ë¦¬í•˜ì—¬ &amp;ldquo;&lt;strong>ìš°ë¯¸, ë¯¸ìŠ¤í„° ë””ë²„ê±°&lt;/strong>&amp;ldquo;ë¼ëŠ” ìŠ¤í‚¬ì„ ê°œë°œí•˜ê³ ì í–ˆê³  ì´ ë…€ì„ì˜ ê¸°ëŠ¥ì€ ì‚¬ìš©ìê°€ &amp;ldquo;ë””ë²„ê±°, ë””ë²„ê¹… íŒ ì¢€ ì•Œë ¤ì¤˜&amp;quot;ë¼ëŠ” ì‹ìœ¼ë¡œ ìš”ì²­í•˜ë©´ ë¯¸ë¦¬ ì •ì˜í•´ë†“ì€ ë””ë²„ê¹… íŒ(e.g. &amp;ldquo;í™˜ê²½ë³€ìˆ˜ê°€ ì˜ ì„¤ì •ë˜ì–´ìˆë‚˜ìš”?&amp;rdquo;) ì¤‘ì—ì„œ ëœë¤ìœ¼ë¡œ íŒì„ ì•Œë ¤ì£¼ëŠ” ê²ƒì´ë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>&lt;em>ì´ë²ˆ ê¸€ì€ ê·¸ëƒ¥ ì¼ê¸°ì¥ ê°™ì€ ëŠë‚Œìœ¼ë¡œ CS ì§€ì‹ì€ ì¼ë¶€ ì œì™¸í•˜ê³  ì ì–´ë³´ë ¤í•©ë‹ˆë‹¤.&lt;/em>&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;em>ì´ë²ˆ ê¸€ì—ì„œ ì‚¬ìš©í•œ ì†ŒìŠ¤ì½”ë“œëŠ” Github &lt;a class="link" href="https://github.com/umi0410/umi-mrdebugger" target="_blank" rel="noopener"
>umi0410/umi-mrdebugger&lt;/a>ì—ì„œ ì°¾ì•„ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/em>&lt;/p>
&lt;/blockquote>
&lt;h2 id="í™˜ê²½-ë°-ë²„ì „-ì •ë³´">í™˜ê²½ ë° ë²„ì „ ì •ë³´&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>ì´ë¦„&lt;/th>
&lt;th>ë²„ì „&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>k8s cluster&lt;/td>
&lt;td>1.22&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Istio&lt;/td>
&lt;td>1.11.8&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>cert-manager&lt;/td>
&lt;td>1.8.2&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>ì‹¤ì œë¡œ ì‹¤ë¬´ë¥¼ ë‹¤ë£¨ê³  ìµœì‹  ê¸°ìˆ ë“¤ì„ ì´ìš©í•˜ë‹¤ë³´ë‹ˆ &lt;strong>ìµœê·¼ ë²„ì „ìœ¼ë¡œ ì¸í•œ ì‚½ì§ˆì´ ì¦ì•˜ë‹¤&lt;/strong>. ë”°ë¼ì„œ í˜¹ì‹œ ì°¸ê³ í•˜ì‹¤ ë¶„ì´ ê³„ì‹¤ê¹Œ ì‹¶ì–´ ë‚´ í´ëŸ¬ìŠ¤í„°ì˜ í™˜ê²½ ë° ë²„ì „ ì •ë³´ë¥¼ ì •ë¦¬í•´ë´¤ë‹¤. &lt;strong>ë²„ì „ì€ ì°¸ ì¤‘ìš”í•˜ë‹¤&lt;/strong>. ê° ë„êµ¬ë“¤ì˜ í˜¸í™˜ì„±ì„ ì˜ í™•ì¸í•´ë´ì•¼í•œë‹¤.&lt;/p>
&lt;p>ë‚˜ëŠ” í´ëŸ¬ìŠ¤í„°ë¥¼ í•œë™ì•ˆ ì—…ê·¸ë ˆì´ë“œ í•´ì£¼ì§€ ì•Šì•„ 2022ë…„ 7ì›” ê¸°ì¤€ìœ¼ë¡œ ê·¸ëƒ¥ ì €ëƒ¥ ìµœì‹ ì€ ì•„ë‹Œ &lt;a class="link" href="https://kubernetes.io/releases/patch-releases/#1-22" target="_blank" rel="noopener"
>1.22 ë²„ì „&lt;/a>ì˜ k8s í´ëŸ¬ìŠ¤í„°ë¥¼ ê°–ê³  ìˆì—ˆê³  istioëŠ” k8s 1.22ì™€ í˜¸í™˜ë˜ëŠ” ë²„ì „ ì¤‘ ê°€ì¥ ì˜¤ë˜ëœ minor ë²„ì „ì˜ &lt;a class="link" href="https://istio.io/latest/docs/releases/supported-releases/" target="_blank" rel="noopener"
>1.11.8&lt;/a>ì„ ì‚¬ìš©í–ˆë‹¤. istioë¥¼ ìµœëŒ€í•œ êµ¬ë²„ì „ìœ¼ë¡œ ì´ìš©í•´ë³¸ ì´ìœ ëŠ” istioë¥¼ ì—…ê·¸ë ˆì´ë“œí•´ë‚˜ê°€ë©´ì„œ istioì˜ ë³€ê²½ì‚¬í•­, ì—­ì‚¬ë“±ì„ ê³µë¶€í•˜ë©´ ì¢‹ì„ ê²ƒ ê°™ê¸° ë•Œë¬¸ì´ì—ˆë‹¤. ë•Œë¡œëŠ” ì—…ê·¸ë ˆì´ë“œ ì‘ì—…ì„ ì‹¤ì œë¡œ ì§„í–‰í•´ì•¼í•  ìˆ˜ë„ ìˆê³  ë§ì´ë‹¤.&lt;/p>
&lt;p>&lt;code>cert-manager&lt;/code>ëŠ” ê°€ë” CRD api versionì´ ë³€ê²½ë˜ëŠ” ê²½ìš°ê°€ ìˆì–´ì„œ ê·¸ëƒ¥ ê¸°ë¡í•´ë†¨ë‹¤.&lt;/p>
&lt;p>&lt;code>k8s&lt;/code>ëŠ” &lt;code>GKE&lt;/code>ë¥¼ ì´ìš© ì¤‘ì´ê³  &lt;code>istio&lt;/code>ëŠ” &lt;code>istioct&lt;/code>lë¡œ, &lt;code>cert-manager&lt;/code>ëŠ” &lt;code>Helm3&lt;/code>ë¡œ ê´€ë¦¬ ì¤‘ì´ë‹¤.&lt;/p>
&lt;h2 id="ì„œë²„-ê°œë°œí•˜ê¸°">ì„œë²„ ê°œë°œí•˜ê¸°&lt;/h2>
&lt;p>ì„œë²„ ê°œë°œì€ ë³„ê±° ì—†ë‹¤. ê·¸ëƒ¥ HTTP Post ìš”ì²­ ë¶„ì„ í›„ ì‘ë‹µì„ ì£¼ë©´ ëœë‹¤. ì‹¤ì œë¡œ ì •ë§ ê·¸ ì •ë„ ìˆ˜ì¤€ì´ë¼ í‡´ê·¼ í›„ ëª‡ ì‹œê°„ ë§Œì— ê°œë°œ â†’ ë°°í¬ê¹Œì§€ ì™„ë£Œí•  ìˆ˜ ìˆì—ˆë‹¤. ìƒê°ë³´ë‹¤ ê¸ˆë°©ì´ì—ˆë‹¤.&lt;/p>
&lt;p>ì§ìƒëœ ì§€ ëª‡ ë…„ì€ ëœ ë“¯í•˜ë©´ì„œ &lt;a class="link" href="https://developers.naver.com/docs/clova/custom_ext/Develop/Guides/Build_Custom_Extension.md" target="_blank" rel="noopener"
>ê·¸ë‹¥ ì¹œì ˆí•˜ì§„ ì•Šì€ ê³µì‹ ë¬¸ì„œ&lt;/a>ì™€ &lt;a class="link" href="https://developers.naver.com/docs/clova/custom_ext/Develop/Examples/Extension_Examples.md#CoinHelper" target="_blank" rel="noopener"
>ì˜ˆì‹œ í”„ë¡œì íŠ¸(ì½”ì¸í—¬í¼)&lt;/a>ë¥¼ ì°¸ê³ í•˜ë©´ ì‰½ê²Œ ë§Œë“¤ì–´ë³¼ ìˆ˜ ìˆë‹¤. ë‚˜ëŠ” ì˜ˆì‹œ í”„ë¡œì íŠ¸ì¸ ì½”ì¸í—¬í¼ ë ˆí¬ì§€í† ë¦¬ë¥¼ í¬í¬ ë– ì„œ ê°œë°œí–ˆë‹¤.&lt;/p>
&lt;p>&amp;ldquo;ìš°ë¯¸, ë¯¸ìŠ¤í„° ë””ë²„ê±°&amp;rdquo; ë ˆí¬ì§€í† ë¦¬: &lt;a class="link" href="https://github.com/umi0410/umi-mrdebugger" target="_blank" rel="noopener"
>https://github.com/umi0410/umi-mrdebugger&lt;/a>&lt;/p>
&lt;p>(&lt;em>ì¼ê¸°ì¥ìŠ¤ëŸ¬ìš´ ê¸€ì´ë¯€ë¡œ ì½”ë“œë¥¼ í•´ì„í•˜ì§„ ì•Šê² ìŠµë‹ˆë‹¤.&lt;/em>)&lt;/p>
&lt;p>ë§ì€ ì˜ˆì‹œ í”„ë¡œì íŠ¸ ì¤‘ ì½”ì¸í—¬í¼ë¥¼ ê³¨ë¼ ê°œë°œí•´ë‚˜ê°„ ì´ìœ ëŠ” ìœ ì¼í•˜ê²Œ Goì–¸ì–´ë¡œ ê°œë°œëœ ì˜ˆì‹œ í”„ë¡œì íŠ¸ì˜€ê¸° ë•Œë¬¸ì¼ ë¿ì´ì—ˆë‹¤. ì‹¤ì œë¡œëŠ” ê·¸ëƒ¥ íƒ€ì… ì„ ì–¸ì´ë‘ ìœ í‹¸ í•¨ìˆ˜ ì •ë„ë§Œ ê°€ì ¸ì˜¤ê³  ë‚˜ë¨¸ì§„ ë‹¤ ì¬êµ¬í˜„í•˜ê²Œ ë˜ê¸´ í–ˆë‹¤. ê¸°ì¡´ì—” ë‚´ì¥ &lt;code>http&lt;/code> packageë¥¼ ì‚¬ìš©í–ˆëŠ”ë° &lt;code>fiber&lt;/code>ë¼ëŠ” ì›¹í”„ë ˆì„ì›Œí¬ ì´ìš©í•˜ë„ë¡ ë³€ê²½í•˜ëŠ” ë“±..&lt;/p>
&lt;h2 id="ì¿ ë²„ë„¤í‹°ìŠ¤ì—-ë°°í¬í•˜ê¸°">ì¿ ë²„ë„¤í‹°ìŠ¤ì— ë°°í¬í•˜ê¸°&lt;/h2>
&lt;p>ì¿ ë²„ë„¤í‹°ìŠ¤ì— ë°°í¬ëœ istioë¥¼ í†µí•´ ì™¸ë¶€ì—ì„œ ì„œë²„ Podë¡œ ì ‘ì† ê°€ëŠ¥í•˜ê²Œë” í•´ì¤„ ê²ƒì´ê³ , cert-managerë¥¼ í†µí•´ ì¸ì¦ì„œ ë°œê¸‰ í›„ í•´ë‹¹ ì¸ì¦ì„œì™€ ê´€ë ¨ëœ ì‹œí¬ë¦¿ì„ istioê°€ ê°€ì ¸ê°€ì„œ tlsë¥¼ ì œê³µí•œë‹¤.&lt;/p>
&lt;p>&lt;em>(k8s manifest file ë˜í•œ ì•ì„œ ì–¸ê¸‰í–ˆë“¯ &lt;a class="link" href="https://github.com/umi0410/umi-mrdebugger" target="_blank" rel="noopener"
>https://github.com/umi0410/umi-mrdebugger&lt;/a> ì—ì„œ ì°¾ì•„ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.)&lt;/em>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">umi-mrdebugger/k8s $ tree 4s 00:38:42
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ certificate.yaml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ cluster-issuer.yaml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ deployment.yaml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ gateway.yaml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ svc.yaml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ virtual-svc.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>í•„ìš”í•œ í•­ëª©ë“¤ì€ k8s ë¦¬ì†ŒìŠ¤ë“¤ì€ ìœ„ì™€ ê°™ë‹¤&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># cluster-issuer.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cert-manager.io/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ClusterIssuer&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">clova-issuer&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cert-manager&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">acme&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># The ACME server URL&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://acme-v02.api.letsencrypt.org/directory&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">email&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">dev.umijs@gmail.com&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Name of a secret used to store the ACME account private key&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">privateKeySecretRef&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">clova-issuer-secret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">solvers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">http01&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ingress&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">class&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">istio&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>cert-managerê°€ Let&amp;rsquo;s Encryptë¡œ ì¸ì¦ì„œë¥¼ ë°œê¸‰ë°›ì„ ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ClusterIssuerë¥¼ ì‘ì„±í•œë‹¤. ì•„ë§ˆ Certificateì™€ ë™ì¼ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì´ìš©í•œë‹¤ë©´ ClusterIssuerê°€ ì•„ë‹Œ Issuerì—¬ë„ ê´œì°®ì„ ê²ƒì´ë‹¤.&lt;/p>
&lt;p>ê·¸ë¦¬ê³  ê¸°ì¡´ì—ëŠ” Challenge ë°©ì‹ì„ DNS01ë¡œ í–ˆì—ˆëŠ”ë° DNS01 ë°©ì‹ì´ ì•½ê°„ ê°€ë¬¼ ê°€ë¬¼í•´ì ¸ì„œ ìš°ì„ ì€ HTTP01 ë°©ì‹ìœ¼ë¡œ ë„ë©”ì¸ì„ ì¸ì¦í•˜ê¸°ë¡œ í–ˆë‹¤.&lt;/p>
&lt;p>ì°¸ê³ ë¡œ HTTP01 ë°©ì‹ì„ ì´ìš©í•˜ëŠ” ê²½ìš° ì¸ì¦ì„œë¥¼ ë°œê¸‰ë°›ê¸° ì „ë¶€í„° ë¯¸ë¦¬ HTTP â†’ HTTPS ë¥¼ ì„¤ì •í•´ë‘ë©´ Challengeê°€ ì„±ê³µì ìœ¼ë¡œ ì´ë£¨ì–´ì§€ì§€ ì•ŠëŠ” ë“¯í•˜ë‹¤. ì•„ë§ˆ HTTPSë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ ë˜ëŠ”ë° ì¸ì¦ì„œê°€ ì—†ë‹¤ë³´ë‹ˆ HTTPS í†µì‹ ì´ ì›í™œí•˜ì§€ ì•Šì•„ì„œê² ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># certificate.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cert-manager.io/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Certificate&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mrdebugger-cert&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">istio-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secretName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mrdebugger-cert-secret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">commonName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mrdebugger.clova.jinsu.me&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">issuerRef&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">clova-issuer&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ClusterIssuer&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">group&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cert-manager.io&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dnsNames&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;mrdebugger.clova.jinsu.me&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>HTTP01 ë°©ì‹ìœ¼ë¡œ Challengeë¥¼ ì§„í–‰í•˜ê¸° ë•Œë¬¸ì— ì™€ì¼ë“œì¹´ë“œ(*, asterisk)ëŠ” ì‚¬ìš©í•˜ì§€ ëª»í•´ ê·¸ëƒ¥ ì‚¬ìš©í•  ë„ë©”ì¸ ë„¤ì„ì¸ &lt;a class="link" href="http://mrdebugger.clova.jinsu.me" target="_blank" rel="noopener"
>mrdebugger.clova.jinsu.me&lt;/a> ë¥¼ ì ì–´ì£¼ì—ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># deployment.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">apps/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deployment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mrdebugger&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mrdebugger&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">replicas&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">revisionHistoryLimit&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matchLabels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mrdebugger&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mrdebugger&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">terminationGracePeriodSeconds&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mrdebugger&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">umi0410/mrdebugger&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">imagePullPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Always&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containerPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">readinessProbe&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">httpGet&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/health&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">initialDelaySeconds&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">timeoutSeconds&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">successThreshold&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">failureThreshold&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">periodSeconds&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">10&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># svc.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mrdebugger&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mrdebugger&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mrdebugger&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mrdebugger&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mrdebugger&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">protocol&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TCP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ClusterIP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì´ë²ˆì—” ê·¸ì € ê·¸ëŸ° í‰ë²”í•œ ì„œë²„ Podë¥¼ ë°°í¬í•´ì¤„ Deploymentì™€ ê·¸ê²ƒì„ ë…¸ì¶œì‹œì¼œì£¼ëŠ” Serviceë¥¼ ì‘ì„±í•´ì¤¬ë‹¤. ì´ê±´ ë­ ì„¤ëª…í•  ê±´ ì—†ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># gateway.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">networking.istio.io/v1alpha3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Gateway&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mrdebugger&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">istio&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ingressgateway&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">servers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">number&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">protocol&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">HTTP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hosts&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;mrdebugger.clova.jinsu.me&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">#tls:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># httpsRedirect: true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">number&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">443&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">protocol&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">HTTPS&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hosts&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;mrdebugger.clova.jinsu.me&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tls&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">mode&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">SIMPLE&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">credentialName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mrdebugger-cert-secret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>istioì˜ Gateway CRDë¥¼ ì •ì˜í•˜ì. ë°°í¬ë˜ì–´ìˆëŠ” istio ingress gatewayë¥¼ selectorë¡œ ì„ íƒí•´ì£¼ê³  ì•„ê¹Œ ì •ì˜í•œ ì¸ì¦ì„œê°€ ë‹´ê¸¸ secretì„ TLSì—ì„œ ì‚¬ìš©í•˜ë„ë¡ í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># virtual-svc.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">networking.istio.io/v1alpha3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">VirtualService&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mrdebugger&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mrdebugger&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hosts&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;*&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">gateways&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">mrdebugger&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">http&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uri&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">prefix&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">route&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">host&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mrdebugger&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">number&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ë§ˆì§€ë§‰ìœ¼ë¡œ istioì˜ VirtualService CRDë¥¼ ì •ì˜í•´ì£¼ë©´ ëœë‹¤. ê·¸ëƒ¥ ëª¨ë“  ìš”ì²­ì„ mrdebugger ì„œë¹„ìŠ¤ë¡œ ë„˜ê²¨ì¤€ë‹¤ê³  ë³´ë©´ ëœë‹¤.&lt;/p>
&lt;p>ğŸ’¡ ëª‡ ê°€ì§€ istio CRDì— ëŒ€í•´ í—·ê°ˆë¦¬ëŠ” ë¶€ë¶„ë“¤ì„ ì •ì˜í•´ë³´ìë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.&lt;/p>
&lt;ul>
&lt;li>GatewayëŠ” istio ingress gatewayì™€ ë‹¤ë¥´ë‹¤.
&lt;ul>
&lt;li>GatewayëŠ” CRDì´ê³ , ingress gatewayëŠ” ìì‹ ì„ selectorë¡œ ì„¤ì •í•œ Gatewayë¥¼ ë³´ê³  í•´ë‹¹ ì„¤ì •ì„ ì ìš©í•œë‹¤.&lt;/li>
&lt;li>ë§ˆì¹˜ Ingressì™€ Nginx Ingress Controller ê°™ì€ ëŠë‚Œì´ë„ê¹Œ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Istio ingress gatewayëŠ” ë³´í†µ istio-system ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— ì¡´ì¬í•œë‹¤.&lt;/li>
&lt;li>GatewayëŠ” ì•„ë¬´ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— ë§Œë“¤ì–´ë„ ëœë‹¤.&lt;/li>
&lt;li>VirtualSevice ë˜í•œ ì•„ë¬´ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— ë§Œë“¤ì–´ë„ ëœë‹¤.
&lt;ul>
&lt;li>ë‹¨, VirtualServiceì˜ destinationì€ ì ‘ê·¼ ê°€ëŠ¥í•œ mesh ë‚´ì˜ í˜¸ìŠ¤íŠ¸ì—¬ì•¼í•˜ê³  ë„¤ì„ìŠ¤í˜ì´ìŠ¤ê°€ ë‹¤ë¥¸ ê²½ìš° ì ì ˆí•œ ë„ë©”ì¸ ë„¤ì„ì„ ì¨ì•¼í•  ìˆ˜ ìˆë‹¤.&lt;/li>
&lt;li>ê°™ì€ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ ê²½ìš° service nameë§Œìœ¼ë¡œ ì´ìš© ê°€ëŠ¥í•˜ë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Service, Deployment, Pod, â€¦ ë˜í•œ ì•„ë¬´ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— ë§Œë“¤ì–´ë„ ëœë‹¤.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">umi-mrdebugger $ kubectl create ns mrdebugger
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">namespace/mrdebugger created
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">umi-mrdebugger $ kubectl label namespace mrdebugger istio-injection&lt;span class="o">=&lt;/span>enabled
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">namespace/mrdebugger labeled
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">umi-mrdebugger $ kubectl apply -n mrdebugger -f k8s/!&lt;span class="o">[&lt;/span>clova-extension.png&lt;span class="o">](&lt;/span>clova-extension.png&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">certificate.cert-manager.io/mrdebugger-cert created
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">clusterissuer.cert-manager.io/clova-issuer created
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">deployment.apps/mrdebugger created
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gateway.networking.istio.io/mrdebugger created
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">service/mrdebugger created
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">virtualservice.networking.istio.io/mrdebugger created
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>í•œ ë²ˆì— ë¦¬ì†ŒìŠ¤ê°€ ë¹µ ë– ì„œ ì˜ ì—°ê²°ë˜ë©´ ì¢‹ê² ì§€ë§Œ,,, ë‹¹ì—°íˆë„ í˜„ì‹¤ì‹¤ì€ ê·¸ë ‡ì§„ ì•Šë‹¤. ğŸ¥²&lt;/p>
&lt;p>ìì˜í•œ ì´ìŠˆë“¤ì„ í•´ê²°í•´ì£¼ê³  ë‚˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì„œë²„ì—ê²Œ ì„±ê³µì ìœ¼ë¡œ ì‘ë‹µì„ ë°›ì„ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ì¸ì¦ì„œê°€ READY ë˜ì—ˆë‹¤!&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ kubectl get cert -n istio-system mrdebugger-cert
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAME READY SECRET AGE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mrdebugger-cert True mrdebugger-cert-secret 28m
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ curl https://mrdebugger.clova.jinsu.me/health
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">OK
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ğŸ‰ êµ¿. ì¢‹ë‹¹!&lt;/p>
&lt;h2 id="clova-ai-consoleì—ì„œ-custom-extension-ë“±ë¡í•˜ê¸°">Clova AI Consoleì—ì„œ Custom Extension ë“±ë¡í•˜ê¸°&lt;/h2>
&lt;p>&lt;figure style="flex-grow: 226; flex-basis: 543px">
&lt;a href="https://umi0410.github.io/blog/clova-ai-on-k8s/clova-extension.png" data-size="2644x1168">&lt;img src="https://umi0410.github.io/blog/clova-ai-on-k8s/clova-extension.png"
srcset="https://umi0410.github.io/blog/clova-ai-on-k8s/clova-extension_hu30a22d310386de55f6d8e7b01bdb85ec_145585_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/clova-ai-on-k8s/clova-extension_hu30a22d310386de55f6d8e7b01bdb85ec_145585_1024x0_resize_box_3.png 1024w"
width="2644"
height="1168"
loading="lazy"
alt="Clova AI Console">
&lt;/a>
&lt;figcaption>Clova AI Console&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;a class="link" href="https://developers.naver.com/console/clova/cek/#/list" target="_blank" rel="noopener"
>Clova AI Console&lt;/a>ì— ê°€ì„œ ìì‹ ì˜ Extensionì„ ìƒì„±í•˜ë©´ ëœë‹¤. ë§Œë“œëŠ” ê³¼ì •ì€ ë³„ê±´ ì—†ë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 254; flex-basis: 611px">
&lt;a href="https://umi0410.github.io/blog/clova-ai-on-k8s/invoke-name.png" data-size="988x388">&lt;img src="https://umi0410.github.io/blog/clova-ai-on-k8s/invoke-name.png"
srcset="https://umi0410.github.io/blog/clova-ai-on-k8s/invoke-name_huecd3aea919113a87c5572f6224b5da9d_24552_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/clova-ai-on-k8s/invoke-name_huecd3aea919113a87c5572f6224b5da9d_24552_1024x0_resize_box_3.png 1024w"
width="988"
height="388"
loading="lazy"
alt="í˜¸ì¶œ ì´ë¦„ ì„¤ì •">
&lt;/a>
&lt;figcaption>í˜¸ì¶œ ì´ë¦„ ì„¤ì •&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ì´ê²ƒë§Œ ì˜ ì„¤ì •í•´ì£¼ë©´ ë˜ëŠ”ë° ë³´í†µ &amp;ldquo;{{í˜¸ì¶œ ì´ë¦„}} ì‹œì‘í•´ì¤˜&amp;quot;ë¡œ ìŠ¤í‚¬ì´ ì‹œì‘ë˜ëŠ” ê²ƒ ê°™ë‹¤. ê·¸ ì´í›„ëŠ” ì„¸ì…˜ì´ ëŠì–´ì§€ì§€ ì•Šìœ¼ë©´ ì„¸ì…˜ì˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì‚´ë ¤ ëŒ€í™”í•  ìˆ˜ëŠ” ìˆëŠ”ë“¯ í•˜ë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 141; flex-basis: 338px">
&lt;a href="https://umi0410.github.io/blog/clova-ai-on-k8s/build-interaction.png" data-size="1822x1292">&lt;img src="https://umi0410.github.io/blog/clova-ai-on-k8s/build-interaction.png"
srcset="https://umi0410.github.io/blog/clova-ai-on-k8s/build-interaction_hu5f82ae87db59611aea885b4d853686af_141265_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/clova-ai-on-k8s/build-interaction_hu5f82ae87db59611aea885b4d853686af_141265_1024x0_resize_box_3.png 1024w"
width="1822"
height="1292"
loading="lazy"
alt="Interaction ëª¨ë¸ ë¹Œë“œ">
&lt;/a>
&lt;figcaption>Interaction ëª¨ë¸ ë¹Œë“œ&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ê·¸ë¦¬ê³  ë‚˜ì„  Interaction ëª¨ë¸ ì„¤ì •ì— ë“¤ì–´ê°€ ë¹Œë“œë¥¼ í•´ì¤˜ì•¼í•œë‹¤. ìì‹ ì´ Custom Intentë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤í•´ë„ ë¬´ì¡°ê±´ í•œ ë²ˆì€ ë¹Œë“œë¥¼ í•´ì¤˜ì•¼í•œë‹¤. ë¬¸ì„œ ìƒìœ¼ë¡œëŠ” 3~5ë¶„ ì •ë„ ì†Œìš”ëœë‹¤ê³  í•˜ëŠ”ë° ì²´ê°ìƒ í•œ 10ë¶„ì€ ê±¸ë¦°ë“¯í•˜ë‹¤â€¦ ìµœì´ˆ 1ë²ˆì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ê²ƒ ê°™ê³  ê·¸ ì´í›„ë¡œëŠ” ê¸ˆë°© ë˜ëŠ” ë“¯? (ì‚¬ì´íŠ¸ UIê°€ ê·¸ë‹¥ ì¹œì ˆí•˜ì§„ ì•Šë‹¤. ì•½ê°„ì€ ë²„ë ¤ì§„ ëŠë‚Œâ€¦?)&lt;/p>
&lt;p>ê·¸ëŸ¬ê³  ë‚˜ë©´ í…ŒìŠ¤í„° IDë¥¼ ë“±ë¡í•´ì¤˜ì•¼í•œë‹¤. ë³´í†µì€ ì‹¬ì‚¬, ì‹¤ì œ í¼ë¸”ë¦¬ì‹œê¹Œì§€ëŠ” ê·€ì°®ê¸° ë•Œë¬¸ì—â€¦ í˜¼ìë§Œ ì“¸ ê±°ë¼ë˜ê°€ ê·¸ëƒ¥ ì¬ë¯¸ì‚¼ì•„ ë§Œë“¤ì–´ë³¸ ê²½ìš°ì—ëŠ” ë­ í…ŒìŠ¤í„°ë§Œìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ì¶©ë¶„í•  ê²ƒ ê°™ë‹¤. ë„¤ì´ë²„ API ë“±ë“±ì€ ì£¼ë¡œ ì´ë ‡ê²Œ ì¶œì‹œ ì‹¬ì‚¬ ì „ê¹Œì§€ í…ŒìŠ¤íŠ¸ IDë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ë”ë¼.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 47; flex-basis: 113px">
&lt;a href="https://umi0410.github.io/blog/clova-ai-on-k8s/on-skill-store.png" data-size="1080x2280">&lt;img src="https://umi0410.github.io/blog/clova-ai-on-k8s/on-skill-store.png"
srcset="https://umi0410.github.io/blog/clova-ai-on-k8s/on-skill-store_huaaaec7118a99371c40755dcdb78fc351_364049_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/clova-ai-on-k8s/on-skill-store_huaaaec7118a99371c40755dcdb78fc351_364049_1024x0_resize_box_3.png 1024w"
width="1080"
height="2280"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>í…ŒìŠ¤í„° ì•„ì´ë””ë¥¼ ë“±ë¡í•œ ë’¤ ë„¤ì´ë²„ í´ë¡œë°” ì•±ì— ìì‹ ì˜ ë„¤ì´ë²„ ì•„ì´ë””ë¡œ ë¡œê·¸ì¸í•˜ë©´ ìŠ¤í‚¬ ìŠ¤í† ì–´ í˜ì´ì§€ì—ì„œ ìœ„ì™€ ê°™ì´ ìì‹ ì´ ë“±ë¡í•œ ìŠ¤í‚¬ì„ ë³¼ ìˆ˜ ìˆë‹¤. ë¬¸ì„œìƒìœ¼ë¡  ì‹œê°„ì´ ê½¤ ê±¸ë¦´ ìˆ˜ë„ ìˆë‹¤ê³  í–ˆëŠ”ë° ì•„ë§ˆ ë°”ë¡œ ë³´ì˜€ë˜ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>ê·¸ëŸ¼ ì•„ë§ˆ ì•„ê¹Œ ì½˜ì†”ì—ì„œ ì„¤ì •í•œ &amp;ldquo;{{í˜¸ì¶œ ì´ë¦„}} ì‹œì‘í•´ì¤˜&amp;quot;ë¡œ ìŠ¤í‚¬ì„ ì‹œì‘í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. ë‚˜ëŠ” ëì— &amp;ldquo;ì‹œì‘í•´ì¤˜&amp;quot;ë¥¼ ì•ˆ ë¶™ì—¬ë„ ë˜ëŠ” ì¤„ ì•Œê³  í˜¸ì¶œ ì´ë¦„ì„ &amp;ldquo;ë””ë²„ê¹… ë„ì™€ì¤˜&amp;quot;ë¡œ í–ˆëŠ”ë° ê³ ìƒì„ ì¢€ í–ˆë‹¤. í˜¸ì¶œ ì´ë¦„ì´ &amp;ldquo;ë””ë²„ê¹… ë„ì™€ì¤˜&amp;quot;ì¸ ê²½ìš° ì‹¤ì œë¡œëŠ” &amp;ldquo;ë””ë²„ê¹… ë„ì™€ì¤˜ ì‹œì‘í•´ì¤˜&amp;rdquo; ì´ëŸ° ì‹ìœ¼ë¡œ ë§í•´ì•¼ ì‹¤í–‰ì´ ë˜ê¸° ë•Œë¬¸ì´ë‹¤â€¦ ã…œã…œ&lt;/p>
&lt;p>ê·¸ëŸ¼ ê²°ê³¼ë¥¼ í™•ì¸í•´ë³´ì.&lt;/p>
&lt;div class="video-wrapper">
&lt;iframe loading="lazy"
src="https://www.youtube.com/embed/gfkeh1Si_no"
allowfullscreen
title="YouTube Video"
>
&lt;/iframe>
&lt;/div>
&lt;p>ğŸ‰ ê·€ì—½ê²Œ ë””ë²„ê¹…ì„ ë„ì™€ì¤˜ëŠ” &amp;ldquo;&lt;strong>ë¯¸ìŠ¤í„° ë””ë²„ê±° ìš°ë¯¸&lt;/strong>&amp;ldquo;ë¥¼ ë§Œë‚˜ë³¼ ìˆ˜ ìˆì—ˆë‹¤. ğŸ¥³&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>ì˜¤ëœë§Œì— ë”¥í•œ ê¸°ìˆ ì„ íƒêµ¬í•˜ëŠ” ê²ƒì—ì„œ ë²—ì–´ë‚˜ ìœ í¥ìŠ¤ëŸ¬ìš´ ê°œë°œì„ í•´ë³´ì•˜ë‹¤. ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘ìœ¼ë¡œ ê°€ê¾¸ê²Œ ëë˜ GKE í´ëŸ¬ìŠ¤í„°ì— &lt;strong>istioë¥¼ êµ¬ì¶•ë§Œ í•´ë†“ê³  ì œëŒ€ë¡œ ë„ì…ì€ ëª»í•´ë³¸ ìƒíƒœì˜€ëŠ”ë° ì´ë²ˆ ì„œë²„ ë°°í¬ë¥¼ ì§„í–‰í•˜ë©´ì„œ í•œ ë²ˆ ë°ëª¨ì²˜ëŸ¼ istioë¥¼ ì‚¬ìš©í•´ë³¼ ìˆ˜ ìˆì—ˆì–´ì„œ ì¢‹ì•˜ë‹¤&lt;/strong>. istioë¥¼ ë„ì…í•´ë³¸ ê±¸ ìƒê°í•˜ë©´ ê·¸ë‹¥ ìœ í¥ìŠ¤ëŸ½ë‹¤ê¸° ë³´ë‹¨ ê¸°ìˆ  íƒêµ¬ìŠ¤ëŸ¬ì› ì„ì§€ë„..? ã…ã…&lt;/p>
&lt;p>ìƒˆë¡œ íšŒì‚¬ë¥¼ ë“¤ì–´ê°€ê³ ë‚˜ì„œëŠ” ê¶ê¸ˆí•œ ê²ƒ, ê³µë¶€í•˜ê³  ì‹¶ì€ ê²ƒì´ ë„˜ì³ë‚˜ê³  ì¬ë¯¸ìˆê²Œ ê³µë¶€í•´ë‚˜ê°€ê³  ìˆì§€ë§Œ ë‹¤ì†Œ ë¸”ë¡œê·¸ì— ì •ë¦¬í•˜ê¸´ ì–´ë ¤ìš´ ë‚´ìš©ë“¤ì´ ë§ì€ ê²ƒ ê°™ë‹¤. ì–´ë ¤ìš´ ë‚´ìš©ë“¤ì´ë‹¤ë³´ë‹ˆ ê³µë¶€ëŠ” í–ˆë”ë¼ë„ 1ë²ˆì˜ ê³µë¶€ë§Œìœ¼ë¡œ ì˜ë¯¸ìˆëŠ” ê¸€ì„ ë‹´ì•„ë‚´ê¸´ ì–´ë µê¸°ë„ í–ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ë°”ì˜ê¸°ë„ í•œë°ë‹¤ê°€ ë­”ê°€ ê¹Šì´ ìˆëŠ” ê¸€ì„ ì“°ë ¤ë‹¤ë³´ë‹ˆ ìš”ì¦˜ ë¸”ë¡œê·¸ì— ê¸€ì„ ì˜¤íˆë ¤ ì•ˆ ì“°ê²Œ ë˜ê³  &amp;lsquo;ì•„ ì´ê²ƒë„ ì¨ë³´ê³  ì‹¶ì€ë° ì €ê²ƒë„ ì¨ë³´ê³  ì‹¶ì€ë°â€¦&amp;rsquo; ìƒê°ë§Œ í•˜ë‹¤ ë²Œì¨ ë§ˆì§€ë§‰ìœ¼ë¡œ ê¸€ì„ ì“´ì§€ë„ ì—„ì²­ ì˜¤ë˜ëœ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>ê·¸ë˜ì„œ ì•ìœ¼ë¡œëŠ” CS ì§€ì‹ì´ë‚˜ ì •í™•í•œ ì •ë³´ëŠ” ì•„ë‹ˆë”ë¼ë„ ê°€ë” ì´ë ‡ê²Œ ê°œë°œ ì¼ê¸°ìŠ¤ëŸ¬ìš´ ê¸€ë„ ì ì–´ë³¼ê¹Œí•œë‹¤. ê·¸ëŸ° ê¸€ì€ ë‚¨ì—ê²Œ ì •ë³´ë¥¼ ì „ë‹¬í•˜ë ¤ëŠ” ëª©ì ë³´ë‹¨ ë‚˜ë¥¼ ê¸°ë¡í•˜ëŠ” ìš©ë„ê¸° ë•Œë¬¸ì— &amp;lsquo;&lt;em>â€¦ì…ë‹ˆë‹¤.&lt;/em>&amp;rsquo; ì²´ë³´ë‹¤ëŠ” &amp;lsquo;&lt;em>â€¦ì´ë‹¤&lt;/em>&amp;rsquo; ì²´ë¡œ ê·¸ëƒ¥ ê°€ë³ê²Œ ì ì–´ë‚˜ê°€ë ¤í•œë‹¤.&lt;/p>
&lt;p>&lt;em>ê·¸ëŸ¼, ë‹¤ìŒì— ë˜ ë§Œë‚˜ìš©.&lt;/em>&lt;/p></description></item><item><title>ArgoCD ì„ ì–¸ì ìœ¼ë¡œ ì´ìš©í•´ë‚˜ê°€ê¸° - Githubì„ í†µí•œ SSO ë° RBAC</title><link>https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/</link><pubDate>Sat, 07 May 2022 22:00:00 +0900</pubDate><guid>https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/</guid><description>&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/logo.png" alt="Featured image of post ArgoCD ì„ ì–¸ì ìœ¼ë¡œ ì´ìš©í•´ë‚˜ê°€ê¸° - Githubì„ í†µí•œ SSO ë° RBAC" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>ì €ë²ˆ ê¸€(&lt;a class="link" href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/" target="_blank" rel="noopener"
>&amp;ldquo;ArgoCD ì„ ì–¸ì ìœ¼ë¡œ ì´ìš©í•´ë‚˜ê°€ê¸° - Helm, App of App&amp;rdquo;&lt;/a>)ì—ì„œëŠ”
&lt;code>Helm&lt;/code>ê³¼ &lt;code>App of App&lt;/code> íŒ¨í„´ì„ ì´ìš©í•´ ArgoCDë¥¼ ì„ ì–¸ì ìœ¼ë¡œ ì´ìš©í•´ë‚˜ê°€ëŠ” ë°©ë²•ì„ ë‹¤ë¤˜ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë°”~ë¡œ ArgoCDë¥¼ ì¢€ ë” ì„ ì–¸ì ìœ¼ë¡œ ì´ìš©í•´ë‚˜ê°€ëŠ” ê²ƒê³¼ ê´€ë ¨ëœ íŒë¶€í„° ê¸€ì„ ì ì–´ë‚˜ê°€ê¸°ëŠ” ì¢€ ë¬´ë¦¬ê°€ ìˆì„ ê²ƒ ê°™ì•„ í•´ë‹¹ ê¸€ì—ì„œëŠ”&lt;/p>
&lt;p>ë°°ê²½ì§€ì‹ë“¤ì— ëŒ€í•œ ê°„ëµí•œ ì •ë¦¬ì™€ í•¸ì¦ˆì˜¨ ê°™ì€ ëŠë‚Œì˜ ë‚´ìš©ë“¤ë„ ë§ì´ í¬í•¨í•˜ê²Œ ëë˜ ê²ƒ ê°™ì•„ìš”.&lt;/p>
&lt;p>ì´ë²ˆ ê¸€ì—ì„œëŠ” &lt;strong>ArgoCDë¥¼ ì‹¤ì œë¡œ ì´ìš©í•˜ê¸° ìœ„í•´ í•„ìš”í• ë§Œí•œ ì´ëŸ° ì €ëŸ° ì„¤ì •ë“¤ì„ ì–´ë–»ê²Œ ì„ ì–¸ì ìœ¼ë¡œ ì •ì˜í•´ë³¼ ìˆ˜ ìˆì„ì§€&lt;/strong>ë¥¼ ì†Œê°œí•´ë³´ë ¤í•´ìš”!&lt;/p>
&lt;p>ê·¸ë¦¬ê³  ê·¸ ì˜ˆì‹œë¡œ &lt;code>RBAC ì„¤ì •&lt;/code>ì„ í•´ë³´ê² ìŠµë‹ˆë‹¤. ì´ë²ˆ ê¸€ì—ì„œ ìˆ˜í–‰í•´ë³¼ ì‘ì—…ì€ &lt;strong>Github ê³„ì •ì„ ArgoCDì™€ ì—°ë™ì‹œì¼œ ì—­í• (Role) ê¸°ë°˜ìœ¼ë¡œ ArgoCDì˜ ê¶Œí•œì„ ì œì–´&lt;/strong>í•˜ëŠ” ê²ƒì´ì—ìš”.&lt;/p>
&lt;p>&amp;lsquo;&lt;em>ì™œ RBACì„ ArgoCD ì»¤ìŠ¤í„°ë§ˆì´ì§•ì˜ ì˜ˆì‹œë¡œ í–ˆëŠ”ê°€?&lt;/em>&amp;lsquo;ëŠ” ì œê°€ ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ì—ì„œ ArgoCDë¥¼ ì´ìš©í•˜ë©´ì„œ Local user(ArgoCDì˜ ìì²´ ê³„ì •)ì„ ì´ìš©í•˜ëŠ” ë°ì— ë¶ˆí¸ì´ ìˆì—ˆê¸° ë•Œë¬¸ì´ì—ìš”.
ì €ëŠ” &lt;strong>ArgoCDì™€ Github ê³„ì •ì„ ì—°ë™í•´ RBACì„ ì´ìš©í•¨ìœ¼ë¡œì¨ í•´ê²°&lt;/strong>í–ˆìŠµë‹ˆë‹¤. ì´ì œëŠ” Admin ê³„ì •ì˜ íŒ¨ìŠ¤ì›Œë“œë¥¼ ì•”ê¸°í•  í•„ìš”ë„ ìƒˆë¡œìš´ íŒ€ì›ì—ê²Œ ìƒˆ ê³„ì •ì„ ìƒì„±í•´ ì „ë‹¬í•  ì¼ë„ í•„ìš”ê°€ ì—†ì–´ì¡ŒìŠµë‹ˆë‹¤! ë˜í•œ Github ê³„ì • ë³„ë¡œ ê¶Œí•œì„ ê°–ë„ë¡ (e.g. readonly) ì„¤ì •í•  ìˆ˜ë„ ìˆì–´ì¡ŒìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ë¦¬ê³  ê¸€ì˜ ë‚´ìš©ì€ &amp;lsquo;&lt;em>ì œ ê¸€ë§Œ ë¬´ì¡°ê±´ ë”°ë¼í•˜ë©´ ë©ë‹ˆë‹¤&lt;/em>&amp;lsquo;ë³´ë‹¤ëŠ” &amp;lsquo;&lt;em>ì €ëŠ” ì´ëŸ° ì‹ìœ¼ë¡œ ìë£Œë¥¼ ì°¾ì•˜ê³  ì´ë ‡ê²Œ ì ìš©í•´ë´¤ì–´ìš”.&lt;/em>&amp;lsquo;ì‹ì˜ ë‚´ìš©ë“¤ì„ ë‹¤ë¤„ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ë³¸-ê¸€ì—ì„œ-ì‚¬ìš©í•˜ëŠ”-í™˜ê²½">ë³¸ ê¸€ì—ì„œ ì‚¬ìš©í•˜ëŠ” í™˜ê²½&lt;/h3>
&lt;ul>
&lt;li>í•¸ì¦ˆì˜¨ ê³¼ì • ì°¸ê³  ë ˆí¬ì§€í† ë¦¬ - &lt;a class="link" href="https://github.com/umi0410/declarative-argocd/tree/master/configuring-rbac" target="_blank" rel="noopener"
>https://github.com/umi0410/declarative-argocd/tree/master/configuring-rbac&lt;/a>&lt;/li>
&lt;li>Minikubeë¥¼ ì´ìš©í•œ K8s Cluster&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/argoproj/argo-helm/tree/main/charts/argo-cd" target="_blank" rel="noopener"
>ArgoCD Helm Chart&lt;/a>ë¥¼ ì´ìš©í•´ argocd namespaceì— ë°°í¬í•œ ArgoCD&lt;/li>
&lt;/ul>
&lt;h2 id="rbacì´ë€">RBACì´ë€?&lt;/h2>
&lt;p>&lt;code>RBAC&lt;/code>ì€ &lt;code>Role-Based Access Contol&lt;/code>ì˜ ì•½ìë¡œ ì‰½ê²Œ ë§í•˜ìë©´ ê·¸ëƒ¥ ì—­í•  ê¸°ë°˜ ê¶Œí•œ ì œì–´ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ì†ì„± ê¸°ë°˜ìœ¼ë¡œ ë‚˜ë¦„ ë³µì¡í•œ ë¡œì§ì— ì˜í•´ ì–´ë–¤ ìœ ì €ê°€ ì–´ë–¤ ë¦¬ì†ŒìŠ¤ì— ì–´ë–¤ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ”ì§€ë¥¼ ì •ì˜í•˜ëŠ” &lt;code>ABAC(Attribute-Base Access Control)&lt;/code>ì— ë¹„í•´ ê·¸ì € ê°„ë‹¨íˆ ì—­í• ì— ê¶Œí•œë“¤ì„ ë¶€ì—¬í•˜ê³  ìœ ì €ë“¤ì€ ê·¸ ì—­í• ì„ ë¶€ì—¬ë°›ìŒìœ¼ë¡œì¨ ê¶Œí•œì„ ì²´í¬í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>ê°œì¸ì ìœ¼ë¡œëŠ” ë§ì€ ê²½ìš°ì— ê°„ë‹¨íˆ RBACë§Œìœ¼ë¡œë„ ê¶Œí•œ ì œì–´ê°€ ì¶©ë¶„í•œ ê²½ìš°ê°€ ë§ì€ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ë§ì€ ì†”ë£¨ì…˜ë“¤ì´ RBAC ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ” ê²ƒ ê°™ì•˜ì–´ìš”. ArgoCD ë˜í•œ ë§ˆì°¬ê°€ì§€ë¡œ RBACì„ ì§€ì›í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="github-organization--teamìœ¼ë¡œ-argocd-rbac-ì´ìš©í•˜ê¸°">Github organization + teamìœ¼ë¡œ ArgoCD RBAC ì´ìš©í•˜ê¸°&lt;/h2>
&lt;p>ì, ê·¸ëŸ¼ Githubì˜ Organization, Teamì„ í†µí•´ ArgoCDì—ì„œ RBACì„ ì´ìš©í•´ë³´ëŠ” ê³¼ì •ì„ ì§„í–‰í•´ë´…ì‹œë‹¤!&lt;/p>
&lt;h3 id="1-argocdì—-rbac-ì„¤ì •í•˜ê¸°">1. ArgoCDì— RBAC ì„¤ì •í•˜ê¸°&lt;/h3>
&lt;p>ìš”ì¦˜ ì¸ê¸°ìˆëŠ” ì†”ë£¨ì…˜ë“¤ì€ &lt;code>RBAC&lt;/code> ë° ê¸°íƒ€ ê¶Œí•œ ì œì–´ ê¸°ëŠ¥ì´ ëŒ€ë¶€ë¶„ ì¡´ì¬í•©ë‹ˆë‹¤. ë³´ì•ˆê³¼ ê¶Œí•œ ê´€ë¦¬ëŠ” ì•„ì£¼ ì¤‘ìš”í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  ê·¸ëŸ° ê¶Œí•œ ì œì–´ì˜ ë°©ë²• ì¤‘ ê°€ì¥ ëŒ€ì¤‘ì ì¸ ë°©ë²•ì€ ë°”ë¡œ &lt;code>RBAC&lt;/code> ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 136; flex-basis: 327px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/rbac.png" data-size="1204x883">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/rbac.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/rbac_hu8a1d47df067db6e35deb191bf75329be_273516_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/rbac_hu8a1d47df067db6e35deb191bf75329be_273516_1024x0_resize_box_3.png 1024w"
width="1204"
height="883"
loading="lazy"
alt="ê³µì‹ ë¬¸ì„œ ì† RBAC ì„¤ëª…">
&lt;/a>
&lt;figcaption>ê³µì‹ ë¬¸ì„œ ì† RBAC ì„¤ëª…&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ê³µì‹ ë¬¸ì„œëŠ” ì–¸ì œë‚˜ ê°€ì¥ ì¢‹ì€ êµê³¼ì„œì…ë‹ˆë‹¤. ìì„¸í•œ ë°©ë²•ì€ &lt;a class="link" href="https://argo-cd.readthedocs.io/en/stable/operator-manual/rbac/" target="_blank" rel="noopener"
>ê³µì‹ ë¬¸ì„œ&lt;/a>ì—ì„œ ì°¾ì•„ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 1705; flex-basis: 4092px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/helm-chart-rbac.png" data-size="1262x74">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/helm-chart-rbac.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/helm-chart-rbac_hu21132895ae0aab5f81e1c0650669ee11_33874_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/helm-chart-rbac_hu21132895ae0aab5f81e1c0650669ee11_33874_1024x0_resize_box_3.png 1024w"
width="1262"
height="74"
loading="lazy"
alt="ArgoCD Helm Chart ì† Configuration">
&lt;/a>
&lt;figcaption>ArgoCD Helm Chart ì† Configuration&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure style="flex-grow: 193; flex-basis: 464px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/default-values.png" data-size="1109x573">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/default-values.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/default-values_hu2c68e4165a00fec2142fab308f6a57c0_319110_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/default-values_hu2c68e4165a00fec2142fab308f6a57c0_319110_1024x0_resize_box_3.png 1024w"
width="1109"
height="573"
loading="lazy"
alt="default values.yaml">
&lt;/a>
&lt;figcaption>default values.yaml&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ë˜í•œ ì œê°€ ì‚¬ìš©í•œ &lt;a class="link" href="https://github.com/argoproj/argo-helm/tree/main/charts/argo-cd" target="_blank" rel="noopener"
>ArgoCD Helm Chartì—ì„œ ì œê³µí•˜ëŠ” README.md&lt;/a> ì† Configuration ë¶€ë¶„ê³¼ &lt;a class="link" href="https://github.com/argoproj/argo-helm/blob/main/charts/argo-cd/values.yaml" target="_blank" rel="noopener"
>default values.yaml&lt;/a> ë³´ë©´&lt;/p>
&lt;p>Helm Chartë¥¼ í†µí•´ ë°°í¬í•œ ArgoCDì˜ ê²½ìš° ì–´ë–»ê²Œ values.yamlì„ í†µí•´ rbacì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ”ì§€ ë‚˜ì™€ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê¸°ë³¸ ì›ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;code>p, &amp;lt;role/user/group&amp;gt;, &amp;lt;resource&amp;gt;, &amp;lt;action&amp;gt;, &amp;lt;appproject&amp;gt;/&amp;lt;object&amp;gt;&lt;/code> - AppProjectì— ì†í•œ Object(e.g. Application)ì— ëŒ€í•œ ê¶Œí•œì„ ì •ì˜í•œë‹¤.&lt;/li>
&lt;li>&lt;code>p, &amp;lt;role/user/group&amp;gt;, &amp;lt;resource&amp;gt;, &amp;lt;action&amp;gt;, &amp;lt;object&amp;gt;&lt;/code> - AppProjectì— ì†í•˜ì§€ ì•ŠëŠ” Object(e.g. Clusters, AppProject, Repositories, &amp;hellip;)ì— ëŒ€í•œ ê¶Œí•œì„ ì •ì˜í•œë‹¤.&lt;/li>
&lt;/ul>
&lt;p>ê·¸ë¦¬ê³  ìœ„ì—ì„œ ë§í•˜ëŠ” Resourceë‚˜ Actionì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Resources&lt;/strong>: &lt;code>clusters&lt;/code>, &lt;code>projects&lt;/code>, &lt;code>applications&lt;/code>, &lt;code>repositories&lt;/code>, &lt;code>certificates&lt;/code>, &lt;code>accounts&lt;/code>, &lt;code>gpgkeys&lt;/code>&lt;/li>
&lt;li>&lt;strong>Actions&lt;/strong>: &lt;code>get&lt;/code>, &lt;code>create&lt;/code>, &lt;code>update&lt;/code>, &lt;code>delete&lt;/code>, &lt;code>sync&lt;/code>, &lt;code>override&lt;/code>, &lt;code>action&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ê³µì‹ ë¬¸ì„œì˜ ì„¤ëª…ì´ ì¢€ ë¶€ì¡±í•˜ê¸´í•˜ì§€ë§Œ Github SSOë¥¼ ì´ìš©í•´ ì¸ì¦í•˜ëŠ” ê²½ìš° RBACì€ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•  ìˆ˜ ìˆë‹¤ê³  í•©ë‹ˆë‹¤.&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-csv" data-lang="csv">p, role:org-admin, applications, *, */*, allow
p, role:org-admin, clusters, get, *, allow
p, role:org-admin, repositories, get, *, allow
p, role:org-admin, repositories, create, *, allow
p, role:org-admin, repositories, update, *, allow
p, role:org-admin, repositories, delete, *, allow
g, your-github-org:your-team, role:org-admin
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>ì˜ë¯¸: org-adminì´ë¼ëŠ” Roleì´ ê°–ëŠ” ê¶Œí•œë“¤ì„ ì •ì˜í•˜ê³  í•´ë‹¹ &lt;!-- raw HTML omitted -->:&lt;!-- raw HTML omitted -->ì— ì†í•˜ëŠ” Github userë¡œ ë¡œê·¸ì¸í•œ ê²½ìš° org-admin Roleì— í—ˆìš©ëœ ê¶Œí•œë“¤ì„ ê°–ëŠ”ë‹¤.&lt;/li>
&lt;/ul>
&lt;p>ê·¸ë¦¬ê³  ì €ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìš”êµ¬ì‚¬í•­ì„ ê°€ì •í•˜ë ¤í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;strong>RBAC ìš”êµ¬ì‚¬í•­&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ë‚˜ì˜ Github Organization &lt;code>khu-dev&lt;/code>ì˜ &lt;code>khumu-devops&lt;/code> íŒ€ì˜ ìœ ì €ë“¤ì€ admin ê¶Œí•œì„ ê°–ëŠ”ë‹¤.&lt;/li>
&lt;li>ë‚˜ì˜ Github Organization &lt;code>khu-dev&lt;/code>ì˜ &lt;code>khumu-devops&lt;/code> íŒ€ì˜ ìœ ì €ë“¤ì€ readonly ê¶Œí•œì„ ê°–ëŠ”ë‹¤.&lt;/li>
&lt;/ul>
&lt;p>ê·¸ ê²½ìš° ì €ëŠ” ë‹¤ìŒê³¼ ê°™ì´ values.yamlì„ ì‘ì„±í•œ ë’¤ helm releaseë¥¼ update í•´ì£¼ë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># values.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">rbacConfig&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">policy.csv&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> g, khu-dev:khumu-developer, role:readonly
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> g, khu-dev:khumu-devops, role:admin&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>readonly&lt;/code>ì™€ &lt;code>admin&lt;/code>ì´ë¼ëŠ” Roleì€ ê³µì‹ë¬¸ì„œì—ë„ ë‚˜ì™€ìˆë“¯ &lt;code>builtin-policy&lt;/code>ë¡œì„œ &lt;a class="link" href="https://github.com/argoproj/argo-cd/blob/master/assets/builtin-policy.csv" target="_blank" rel="noopener"
>ì´ê³³&lt;/a>ì— ì‘ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> helm upgrade -n argocd argocd &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>&lt;span class="go"> argo/argo-cd -f values.yaml
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ê·¸ëŸ¼ ìœ„ì˜ ì»¤ë§¨ë“œë¥¼ í†µí•´ RBAC ì„¤ì •ì„ ì ìš©ì‹œì¼œì£¼ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="2-argocdì—-githubì„-í†µí•œ-sso-ì„¤ì •í•˜ê¸°">2. ArgoCDì— Githubì„ í†µí•œ SSO ì„¤ì •í•˜ê¸°&lt;/h3>
&lt;p>ArgoCDëŠ” &lt;a class="link" href="https://github.com/dexidp/dex" target="_blank" rel="noopener"
>Dex&lt;/a>ë¼ëŠ” ì¸ì¦ ê´€ë ¨ ê°ì¢… ê¸°ëŠ¥ì„ ë‹´ë‹¹í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ í•¨ê»˜ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤. &lt;code>Github&lt;/code>ì˜ &lt;code>OAuth2&lt;/code>ë¥¼ ì´ìš©í•´ &lt;code>SSO(Single Sign On)&lt;/code>ì„ ì´ìš©í•˜ëŠ” ê³¼ì •ì€ &lt;a class="link" href="https://argo-cd.readthedocs.io/en/stable/operator-manual/user-management/#dex" target="_blank" rel="noopener"
>ê³µì‹ë¬¸ì„œ Dex ë¶€ë¶„&lt;/a>ì—ë„
ì†Œê°œë˜ì–´ìˆê³ , ì‚¬ì‹¤ ì´ëŒ€ë¡œ ë”°ë¼ë§Œí•˜ë©´ ë©ë‹ˆë‹¤. ã…ã…&lt;/p>
&lt;p>&lt;figure style="flex-grow: 84; flex-basis: 203px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/github-oauth-app.png" data-size="660x777">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/github-oauth-app.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/github-oauth-app_hu395b1c716fc41f43b835749ac9fe7844_64355_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/github-oauth-app_hu395b1c716fc41f43b835749ac9fe7844_64355_1024x0_resize_box_3.png 1024w"
width="660"
height="777"
loading="lazy"
alt="Github OAuth app ìƒì„±í•˜ê¸°">
&lt;/a>
&lt;figcaption>Github OAuth app ìƒì„±í•˜ê¸°&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;code>Organization&lt;/code> - &lt;code>Settings&lt;/code> - &lt;code>Developer Settings&lt;/code> - &lt;code>OAuth Apps&lt;/code> ì—ì„œ ìœ„ì™€ ê°™ì´ OAuth Appì„ ë§Œë“¤ì–´ì£¼ê³  ì´í›„ ìƒì„±ë˜ëŠ” &lt;code>Client ID&lt;/code>ì™€ &lt;code>Client Secret&lt;/code>ì„ ë‹¤ìŒê³¼ ê°™ì´ &lt;code>dex.config&lt;/code>ì— ì „ë‹¬í•˜ë©´ ë©ë‹ˆë‹¤.
(ì‚¬ì‹¤ Organizationì´ ì•„ë‹ˆë¼ ê°œì¸ ê³„ì •ì—ì„œ Appì„ ìƒì„±í•´ë„ ë™ì‘í•©ë‹ˆë‹¤.)&lt;/p>
&lt;p>ë‹¨, &lt;code>dex.config&lt;/code>ëŠ” &lt;code>argocd-cm&lt;/code>ì´ë¼ëŠ” Configmapì˜ &lt;code>.data&lt;/code>ì˜ í•„ë“œë¡œ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ìš°ë¦¬ëŠ” Helm chartì˜ values.yamlì— &lt;code>dex.config&lt;/code>ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì „ë‹¬í•´ì•¼í•©ë‹ˆë‹¤.
ì´ë¥¼ ìœ„í•´ì„  &lt;code>server.config.dex.config&lt;/code>ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•´ì£¼ë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">config&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dex.config&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> connectors:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> # Github OAuthë¥¼ í†µí•´ SSOí•˜ë ¤ëŠ” ê²½ìš°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - type: github
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> id: github # ìƒê´€ ì—†ì„ ë“¯ ë­˜ë¡œ í•˜ë“ 
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> name: GitHub # ìƒê´€ ì—†ì„ ë“¯ ë­˜ë¡œ í•˜ë“ 
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> config:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> clientID: &amp;lt;your github oauth app client id&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> clientSecret: &amp;lt;your github oauth app client secret&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> orgs:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - name: &amp;lt;your github organization name&amp;gt; # e.g. khu-dev&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>server.config.dex.configì— ì‘ì„±í•´ì•¼í•œë‹¤ëŠ” ê²ƒì€ ì–´ë–»ê²Œ ì•Œ ìˆ˜ ìˆëŠ”ê°€?&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://argo-cd.readthedocs.io/en/stable/operator-manual/declarative-setup/#quick-reference" target="_blank" rel="noopener"
>ArgoCDì˜ ê³µì‹ ë¬¸ì„œ&lt;/a>ì—ì„œëŠ” &lt;code>argocd-cm.yaml&lt;/code>ì„ &amp;lsquo;General Argo CD configuration&amp;rsquo;ë¡œ ì†Œê°œí•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/argoproj/argo-helm/tree/main/charts/argo-cd" target="_blank" rel="noopener"
>ArgoCD Helm Chart Github&lt;/a>ì—ì„œëŠ” &lt;code>values.yaml&lt;/code> ì† &lt;code>server.config&lt;/code>ë¥¼ ë™ì¼í•˜ê²Œ &amp;lsquo;General Argo CD configuration&amp;rsquo;ë¡œ ì†Œê°œí•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>ë”°ë¼ì„œ &lt;code>values.yaml&lt;/code> ì† &lt;code>server.config&lt;/code>ì— ì •ì˜í•˜ëŠ” ë‚´ìš©ì´ ê³§ &lt;code>argocd-cm.yaml&lt;/code>ì˜ &lt;code>.data&lt;/code>ê°€ ë¨ì„ ìœ ì¶”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> helm upgrade -n argocd argocd &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>&lt;span class="go"> argo/argo-cd -f values.yaml
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>í•œ ë²ˆ ë” ìœ„ì˜ ì»¤ë§¨ë“œë¥¼ í†µí•´ RBAC ì„¤ì •ì„ ì ìš©ì‹œì¼œì£¼ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 167; flex-basis: 401px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/login-via-github.png" data-size="1534x916">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/login-via-github.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/login-via-github_hu9c113ddcd41c506471c69869b28b5ba9_827681_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/login-via-github_hu9c113ddcd41c506471c69869b28b5ba9_827681_1024x0_resize_box_3.png 1024w"
width="1534"
height="916"
loading="lazy"
alt="LOG IN VIA GITHUB ë²„íŠ¼ì´ ì¶”ê°€ëœ ëª¨ìŠµ">
&lt;/a>
&lt;figcaption>LOG IN VIA GITHUB ë²„íŠ¼ì´ ì¶”ê°€ëœ ëª¨ìŠµ&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ì„±ê³µì ìœ¼ë¡œ Githubì„ í†µí•œ SSOê°€ í™œì„±í™”ë˜ë©´ ArgoCDì— ì ‘ì†í•  ë•Œ ìœ„ì™€ ê°™ì´ &lt;code>LOG IN VIA GITHUB&lt;/code> ë²„íŠ¼ì´ ì¶”ê°€ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ëŸ¼ ìš”êµ¬ì‚¬í•­ëŒ€ë¡œ &lt;code>khu-dev&lt;/code>ë¼ëŠ” Github Organizationì˜ &lt;code>khumu-developer&lt;/code> Teamì— ì†í•œ ê³„ì •ìœ¼ë¡œ ArgoCDì— ë¡œê·¸ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 175; flex-basis: 421px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/user-info.png" data-size="823x469">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/user-info.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/user-info_hucef4272cca453302126c4eebb9e78a82_85359_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/user-info_hucef4272cca453302126c4eebb9e78a82_85359_1024x0_resize_box_3.png 1024w"
width="823"
height="469"
loading="lazy"
alt="User info">
&lt;/a>
&lt;figcaption>User info&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ì„±ê³µì ìœ¼ë¡œ ë¡œê·¸ì¸í•œ ë’¤ &lt;code>&amp;lt;your argocd url&amp;gt;/user-info&lt;/code>ë¡œ ì´ë™í•˜ë©´ ìœ„ì™€ ê°™ì´ &lt;!-- raw HTML omitted -->:&lt;!-- raw HTML omitted --> ì´ë¼ëŠ” ì´ë¦„ì˜ ê·¸ë£¹ì— ì†í•œ ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 78; flex-basis: 189px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/permission-denied.png" data-size="730x925">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/permission-denied.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/permission-denied_hua5411c757f7472ef3825c63a839272be_139750_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/permission-denied_hua5411c757f7472ef3825c63a839272be_139750_1024x0_resize_box_3.png 1024w"
width="730"
height="925"
loading="lazy"
alt="Permission denied">
&lt;/a>
&lt;figcaption>Permission denied&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ì´í›„ ë§Œì•½ ì–´ë–¤ Applicationì„ Syncí•˜ë ¤í•´ë„ í˜„ì¬ ì†í•œ ê·¸ë£¹ì¸ &lt;code>khu-dev:khumu-developer&lt;/code>ëŠ” &lt;code>readonly&lt;/code> Roleì„ ë¶€ì—¬ë°›ì•˜ê¸°ì— ì–´ë– í•œ Appë„ Syncí•  ê¶Œí•œì´ ì—†ì–´ ìœ„ì™€ ê°™ì´ Permission Denied ë¼ëŠ” ì—ëŸ¬ë¥¼
ë§ì´í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 175; flex-basis: 420px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/user-info-2.png" data-size="826x471">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/user-info-2.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/user-info-2_hu2b0412c75c988732975fb3f78c2d2f2f_85455_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-rbac/user-info-2_hu2b0412c75c988732975fb3f78c2d2f2f_85455_1024x0_resize_box_3.png 1024w"
width="826"
height="471"
loading="lazy"
alt="User info">
&lt;/a>
&lt;figcaption>User info&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ğŸ‰ğŸ‰ğŸ‰ í•˜ì§€ë§Œ ìœ„ì™€ ê°™ì´ &lt;code>khu-dev:khumu-devops&lt;/code>ì— ì†í•œ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•œ ë’¤ ë™ì¼í•˜ê²Œ ì–´ë–¤ Appì„ Syncí•´ë³´ë©´ ì´ë²ˆì—ëŠ” ì„±ê³µì ìœ¼ë¡œ Appì´ Syncë˜ëŠ” ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. &lt;code>khu-dev:khumu-devops&lt;/code> ê·¸ë£¹ì€ admin Roleì„ ë¶€ì—¬ë°›ì•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤!&lt;/p>
&lt;p>ì, ê·¸ëŸ¼ ì´ì œëŠ” admin ê³„ì •ì„ ë¹„ë¡¯í•œ username, password ê¸°ë°˜ì˜ ê³„ì •ì„ ì´ìš©í•  í•„ìš” ì—†ì´ Githubì„ ì´ìš©í•´ ArgoCDì˜ ì¸ì¦/ì¸ê°€ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ ã…ã…&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>ìƒˆë¡œìš´ íšŒì‚¬ì— ì…ì‚¬í•˜ê³  í–‰ë³µí•˜ê²Œ ì ì‘í•´ë‚˜ê°€ë©´ì„œ ìš´ë™, ì·¨ë¯¸, ì—…ë¬´ê¹Œì§€ ì±™ê¸°ë‹¤ë³´ë‹ˆ ê¸€ì„ ì‘ì„±í•´ë†“ê³  ë§ˆë¬´ë¦¬ë¥¼ ì˜¤ëœ ì‹œê°„ ë™ì•ˆ ì§“ì§€ ëª»í•˜ë‹¤ê°€ ê¸‰íˆ ì§€ë°©ì„ ê±°ì¼ì„ ê¸°íšŒ ì‚¼ì•„ ê¸€ì„ ë§ˆë¬´ë¦¬ ì§€ì–´ë´¤ìŠµë‹ˆë‹¤.
ìš°ì„ ì€ ArgoCDë¥¼ Helm chartì™€ í•¨ê»˜ ì„ ì–¸ì ìœ¼ë¡œ ì´ìš©í•´ë‚˜ê°€ëŠ” ë‚´ìš©ì€ ì´ ê¸€ì„ ëìœ¼ë¡œ 2í¸ìœ¼ë¡œ ë§ˆë¬´ë¦¬ ì§€ì–´ë³´ë ¤í•©ë‹ˆë‹¤. ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ì—ì„œ ArgoCDë¥¼ ì´ìš©í•˜ë©´ì„œ ArgoCDëŠ” ì„ ì–¸ì ìœ¼ë¡œ ê´€ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì¥ì ì„ ë§ì´
ì¨ë¨¹ì§€ ëª»í•˜ê³  ì¢€ ë”ëŸ¬ìš´ í˜•íƒœë¡œ ì–µì§€ë¡œ ì‚¬ìš©í•˜ë‹¤ë³´ë‹ˆ ë²ˆê±°ë¡­ê²Œ ëŠê»´ì¡Œë˜ ê²½ìš°ê°€ ë§ì•˜ëŠ”ë° ì € ìŠ¤ìŠ¤ë¡œë„ ì´ë¥¼ ì„ ì–¸ì ì¸ í˜•íƒœë¡œ ê°œì„ í•˜ë©´ì„œ ë§ì´ í¸í•´ì¡Œê³ , ê·¸ ê³¼ì •ë“¤ì„ ì´ë ‡ê²Œ ê¸€ë¡œ ê¸°ë¡í•˜ê³ ë‚˜ë‹ˆ ë‚˜ë¦„ ë¿Œë“¯í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ArgoCD ê´€ë ¨í•œ ë˜ ë‹¤ë¥¸ ë‚´ìš©ìœ¼ë¡œëŠ” &lt;a class="link" href="https://argocd-applicationset.readthedocs.io/en/stable/" target="_blank" rel="noopener"
>Applpicaitonset&lt;/a>ì— ê´€í•´ ì¶”í›„ì— ê¸°íšŒê°€ ë˜ë©´ ë‹¤ë¤„ë³¼ê¹Œ ìƒê° ì¤‘ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ëª‡ ë…„ ì „ì— ì²˜ìŒ ë°ë¸Œì˜µìŠ¤ ì—”ì§€ë‹ˆì–´ ì¸í„´ìœ¼ë¡œì„œ ì´ìª½ ì¼ì„ ì‹œì‘í–ˆì„ ë•Œ ì œê°€ ì•Œë˜ ArgoCDëŠ” &amp;lsquo;ArgoCDë¼ê³  ìš”ì¦˜ ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ì—ì„œ ì“¸ë§Œí•œ CD íˆ´ì´ ìˆë‹¤ë”ë¼&amp;rsquo; ì •ë„ì˜ ë„êµ¬ì˜€ë˜ ê²ƒ ê°™ì€ë° ì´ì œëŠ” ìì²´ CDíˆ´ë§Œì„ ì‚¬ìš©í•˜ëŠ” ê¸°ì—…ì„ ì œì™¸í•˜ë©´
ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ëŠ” ëŒ€ë¶€ë¶„ì´ ArgoCDë¥¼ ì´ìš©í•  ì •ë„ë¡œ ëŒ€ì¤‘ì ì¸ ê¸°ìˆ ì´ ëœ ê²ƒ ê°™ê³ , ê·¸ ì‹œì ˆë³´ë‹¤ ë§ì€ ê¸°ëŠ¥ë“¤ì„ í¸ë¦¬í•˜ê²Œ ì œê³µí•˜ëŠ” ê¸°ìˆ ì´ ëœ ê²ƒ ê°™ì•„ ìƒˆì‚¼ ê¸°íŠ¹í•˜ë‹¨ ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤ ã…ã….&lt;/p>
&lt;p>ë°ë¸Œì˜µìŠ¤ë¡œ ì…ì‚¬í•˜ë©´ì„œ ê±°ëŒ€í•œ ê·œëª¨ì˜ í´ë¼ìš°ë“œ ì¸í”„ë¼ë¥¼ ë‹¤ë£¨ë‹¤ë³´ë‹ˆ ë„¤íŠ¸ì›Œí¬ ê´€ë ¨ëœ ë‚´ìš©ì„ ìì£¼ ì ‘í•˜ê²Œ ë˜ê³ , ì´ë¡ ì ìœ¼ë¡œëŠ” ì œê°€ ì•½í•œ ë¶€ë¶„ì´ë¼ê³  ìƒê°ì´ ë“¤ì–´ì„œ ì•ìœ¼ë¡œëŠ” DevOps ì„œë¹„ìŠ¤ë“¤ë³´ë‹¤ëŠ” ë„¤íŠ¸ì›Œí¬ ê³µë¶€ë¥¼ ìš°ì„ ì ìœ¼ë¡œ í•´ë³¼ê¹Œí•©ë‹ˆë‹¤!
ê³§ ìì·¨ë¥¼ ì‹œì‘í• í…ë° ë¼ì¦ˆë² ë¦¬ íŒŒì´ë¡œ ìì·¨ë°©ì—ì„œ ì¬ë°ŒëŠ” ë¬´ì–¸ê°€ë¥¼ í•´ë³¼ ìˆ˜ ìˆì„ê¹Œ ì‹¶ì€ ìƒê°ë„ ìˆêµ¬ìš” ã…ã….
ì‹œê°„ì´ ë˜ë©´ ê´€ë ¨ ë‚´ìš©ì„ í‹ˆí‹ˆì´ ê¸°ë¡í•´ë³´ê² ìŠµë‹ˆë‹¤! ê°ì‚¬í•©ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì°¸ê³ ìë£Œ">ì°¸ê³ ìë£Œ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.okta.com/kr/identity-101/role-based-access-control-vs-attribute-based-access-control/" target="_blank" rel="noopener"
>RBAC vs ABAC - Okta&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://argo-cd.readthedocs.io/en/stable/" target="_blank" rel="noopener"
>ArgoCD ê³µì‹ ë¬¸ì„œ&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/argoproj/argo-helm/tree/main/charts/argo-cd" target="_blank" rel="noopener"
>ArgoCD Helm Chart&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>ArgoCD ì„ ì–¸ì ìœ¼ë¡œ ì´ìš©í•´ë‚˜ê°€ê¸° - Helm, App of App</title><link>https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/</link><pubDate>Fri, 22 Apr 2022 14:11:07 +0900</pubDate><guid>https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/</guid><description>&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/logo.png" alt="Featured image of post ArgoCD ì„ ì–¸ì ìœ¼ë¡œ ì´ìš©í•´ë‚˜ê°€ê¸° - Helm, App of App" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>&lt;strong>ì·¨ì¤€ìƒ ê¸°ê°„ì„ ë§ˆë¬´ë¦¬&lt;/strong>í•˜ê³  &lt;strong>ë°ë¸Œì˜µìŠ¤ ì—”ì§€ë‹ˆì–´ë¡œì„œ ì»¤ë¦¬ì–´ë¥¼ ì‹œì‘&lt;/strong>í•˜ê²Œ ëìŠµë‹ˆë‹¤! ğŸ‰&lt;/p>
&lt;p>ê·¼ë¬´ë¥¼ ì‹œì‘í•˜ê¸° ì „ê¹Œì§€ ê¸°ê°„ì´ ì¢€ ë‚¨ì•„ìˆì–´ì„œ ê·¸ ì „ê¹Œì§€ ë­˜ í•´ë³´ë©´ ì¬ë°Œì„ê¹Œ ê³ ë¯¼í•˜ë˜ ì¤‘ì—
ìƒˆë¡œ ìƒê¸´ í´ë¼ìš°ë“œ ë™ì•„ë¦¬ì¸ &lt;strong>Cloud Club&lt;/strong>ì—ì„œ í´ë¼ìš°ë“œì™€ ì¸í”„ë¼ì— ê´€í•œ ì£¼ì œë¡œ ë°œí‘œí•  ê¸°íšŒê°€ ì£¼ì–´ì ¸ ArgoCDë¥¼ í† í”½ìœ¼ë¡œ ë°œí‘œë¥¼ í•´ë³´ë ¤í•©ë‹ˆë‹¤.
ê·¸ë¦¬ê³  ê´€ë ¨ëœ ë‚´ìš©ì„ í•œ ë²ˆ ë” ë¸”ë¡œê·¸ì— ì •ë¦¬í•´ë³´ë ¤í•´ìš”!&lt;/p>
&lt;p>ì£¼ì œëŠ” &amp;ldquo;&lt;em>&lt;code>ArgoCD&lt;/code> ì„ ì–¸ì ìœ¼ë¡œ ì´ìš©í•´ë‚˜ê°€ê¸°&lt;/em>&amp;rdquo; ì´ê³  ì£¼ë¡œ ë‹¤ë£° ë‚´ìš©ì€ ì–´ë–»ê²Œ ArgoCDë¥¼ ì¢€ ë”
ì„ ì–¸ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ì´ìš©í•´ë‚˜ê°ˆ ìˆ˜ ìˆì„ì§€ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ArgoCDê°€ ë­”ì§€, ì–´ë–»ê²Œ Getting Startedí• ì§€, GitOpsê°€ ë­”ì§€ ë“±ì„ ë‹¤ë£¨ì§€ ì•Šìœ¼ë ¤ëŠ” ì´ìœ ëŠ” ì´ë¯¸ ê·¸ ë‚´ìš©ìœ¼ë¡œëŠ” ì¶©ë¶„í•œ ì–‘ì§ˆì˜ ìë£Œê°€
ì¡´ì¬í•œë‹¤ê³  ìƒê°í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
ArgoCDë‚˜ GitOpsì˜ ê°œë… ìì²´ ê°™ì€ ë‚´ìš©ë³´ë‹¤ëŠ” ìƒˆë¡œìš´ ê¸°ìˆ (ArgoCD)ì„ ì ‘í•  ë•Œ ì–´ë–»ê²Œ ì…ë§›ëŒ€ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•´ë‚˜ê°€ëŠ”ì§€
ê·¸ë¦¬ê³  ê·¸ ì‘ì—…ì„ &lt;strong>ì–´ë–»ê²Œ ì¢€ ë” ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì‰½ë„ë¡ ì¦‰ ì„ ì–¸ì ìœ¼ë¡œ í•´ë‚˜ê°ˆ ìˆ˜ ìˆì„ì§€&lt;/strong>ì— ëŒ€í•œ ì €ì˜ ì‘ì—… ê³¼ì •ì„ ì†Œê°œí•´ë³´ë ¤í•©ë‹ˆë‹¤ â˜ºï¸&lt;/p>
&lt;p>ì´ë²ˆ ê¸€ì—ì„œëŠ” í¬ê²Œ ë‹¤ìŒê³¼ ê°™ì€ ì‘ì—…ì„ ë‹¤ë£¨ê²Œ ë  ê±°ì—ìš”.&lt;/p>
&lt;ol>
&lt;li>&lt;code>minikube&lt;/code>ë¥¼ í†µí•´ ë¡œì»¬ì— kubernetes í™˜ê²½ì„ êµ¬ì¶•í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;code>helm&lt;/code>ì„ í†µí•´ ArgoCDë¥¼ install í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;code>ArgoCD&lt;/code>ë¥¼ ì´ìš©í•´ë³´ê¸° ìœ„í•´ &lt;code>CRD&lt;/code>ì¸ &lt;code>AppProject&lt;/code>ì™€ &lt;code>Application&lt;/code>ì„ ìƒì„±í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>ì‹¤ì œë¡œ GitOpsì˜ í˜•íƒœë¡œ CDê°€ ì˜ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸~&lt;/li>
&lt;li>1~4ë²ˆ ê³¼ì •ì„ helmì„ í†µí•´ ì¢€ ë” ì„ ì–¸ì ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ ê°œì„ í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;p>í•´ë‹¹ ê³¼ì •ë“¤ì„ ì‹¤ìŠµí•´ë³´ê³  ì‹¶ìœ¼ì‹  ë¶„ë“¤ì€ ì œê°€ ì‘ì„±í•´ë‘” Repository(&lt;a class="link" href="https://github.com/umi0410/declarative-argocd" target="_blank" rel="noopener"
>https://github.com/umi0410/declarative-argocd&lt;/a>)ë¥¼ í¬í¬í•œ ë’¤ ì‘ì—…í•˜ì‹œë©´ í¸í•˜ì‹¤ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="glossary-ìš©ì–´-ì‚¬ì „">Glossary (ìš©ì–´ ì‚¬ì „)&lt;/h2>
&lt;p>ê°„ë‹¨í•˜ê²Œ ì´ë²ˆ ê¸€ì—ì„œ ë‹¤ë£¨ê²Œ ë  ìš©ì–´ë“¤ì„ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì´ ê¶ê¸ˆí•˜ì‹œë‹¤ë©´ ë”°ë¡œ ì°¾ì•„ë³´ì‹œëŠ” ê²ƒì„ ì¶”ì²œë“œë¦¬ê² ìŠµë‹ˆë‹¤.
ì´ë²ˆ ê¸€ì—ì„œ ì „ë¶€ë¥¼ ë‹¤ë£¨ê¸´ í˜ë“¤ê¸° ë•Œë¬¸ì´ì—ìš” ã…œã……ã…œ&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Glossary&lt;/strong> - ìš©ì–´ ì‚¬ì „&lt;/li>
&lt;li>&lt;strong>minikube&lt;/strong> - &amp;ldquo;minikube is local Kubernetes, focusing on making it easy to learn and develop for Kubernetes.&amp;rdquo; from &lt;a class="link" href="https://minikube.sigs.k8s.io/docs/start/" target="_blank" rel="noopener"
>Minikube Docs&lt;/a>&lt;/li>
&lt;li>&lt;strong>ArgoCD&lt;/strong> - &amp;ldquo;Argo CD is a declarative, GitOps continuous delivery tool for Kubernetes.&amp;rdquo; - from &lt;a class="link" href="https://argo-cd.readthedocs.io/en/stable/" target="_blank" rel="noopener"
>ArgoCD Documents&lt;/a>&lt;/li>
&lt;li>&lt;strong>CRD&lt;/strong>(Custom Resource Definition) - K8sì˜ í‘œì¤€ ResourceëŠ” ì•„ë‹ˆì§€ë§Œ ê°œë³„ì ìœ¼ë¡œ ì •ì˜í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë¦¬ì†ŒìŠ¤ kindë“¤ì„ ë§í•¨.&lt;/li>
&lt;li>&lt;strong>Application&lt;/strong> - ArgoCDê°€ ì‚¬ìš©í•˜ëŠ” CRD ì¤‘ í•˜ë‚˜. ì–´ë–¤ K8s ë¦¬ì†ŒìŠ¤ë“¤ì„ ì–´ë–¤ Repositoryì—ì„œ ê°€ì ¸ì™€ì„œ ì–´ë–¤ ì‹ìœ¼ë¡œ ë°°í¬í•  ì§€ë¥¼ ì •ì˜í•¨.&lt;/li>
&lt;li>&lt;strong>AppProject&lt;/strong> í˜¹ì€ Project - Applicationì´ ì†í•˜ëŠ” ê·¸ë£¹.&lt;/li>
&lt;li>&lt;strong>GitOps&lt;/strong> - DevOpsì˜ ì‹¤í˜„ í˜•íƒœ ì¤‘ í•˜ë‚˜. ì¸í”„ë¼ë‚˜ ì• í”Œë¦¬ì¼€ì´ì…˜ ìš´ì˜ ì •ë³´ì— ëŒ€í•œ Single Source of Truthë¡œì„œ Git Repositoryë¥¼ í™œìš©í•˜ëŠ” í˜•íƒœ&lt;/li>
&lt;li>&lt;strong>Helm&lt;/strong> - K8s applicationì„ íŒ¨í‚¤ì§•í•˜ì—¬ í¸ë¦¬í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ë„êµ¬&lt;/li>
&lt;li>&lt;strong>Chart&lt;/strong> - Helmì„ í†µí•´ ë°°í¬ë˜ëŠ” ê²ƒ. ChartëŠ” ë‹¤ì–‘í•œ k8s ë¦¬ì†ŒìŠ¤ë“¤ì„ íŒ¨í‚¤ì§•í•œ í˜•íƒœì´ë‹¤.&lt;/li>
&lt;li>&lt;strong>ì„ ì–¸ì &lt;/strong>(Declarative) - ì ˆì°¨ì (Procedural) í˜¹ì€ ëª…ë ¹ì (Imperative) ë°©ì‹ê³¼ ë‹¬ë¦¬ ê³¼ì •ì„ ìƒëµí•˜ê³  ê°„ê²°í•˜ê²Œ Desired Stateë¥¼ ì„ ì–¸ì ìœ¼ë¡œ ì •ì˜í•˜ëŠ” ê²ƒ.&lt;/li>
&lt;/ul>
&lt;h2 id="requirements">Requirements&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>minikube&lt;/strong>
&lt;ul>
&lt;li>&lt;code>brew install minikube &amp;amp;&amp;amp; minikube start&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>kubectl&lt;/strong>
&lt;ul>
&lt;li>&lt;code>brew install kubectl &amp;amp;&amp;amp; kubectl version&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>helm&lt;/strong>
&lt;ul>
&lt;li>&lt;code>brew install helm &amp;amp;&amp;amp; helm version&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Github account&lt;/strong>
&lt;ul>
&lt;li>ì˜ˆì‹œ ì½”ë“œ ë ˆí¬(&lt;a class="link" href="https://github.com/umi0410/declarative-argocd" target="_blank" rel="noopener"
>https://github.com/umi0410/declarative-argocd&lt;/a>)ë¥¼ í¬í¬ëœ¬ ë’¤ ìì‹ ì˜ ë ˆí¬ë¥¼ í†µí•´ Continuouse Deployí•˜ê¸° ìœ„í•¨&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="argocdë¥¼-êµ¬ì¶•í•˜ê³ -ê´€ë¦¬í•˜ëŠ”-ë°©ë²•">ArgoCDë¥¼ êµ¬ì¶•í•˜ê³  ê´€ë¦¬í•˜ëŠ” ë°©ë²•&lt;/h2>
&lt;p>ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œëŠ” ì–´ë–¤ ì„œë¹„ìŠ¤ë¥¼ ë°°í¬í•˜ê³  ê´€ë¦¬í•´ë‚˜ê°€ëŠ” ë°ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ë“¤ì´ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>Plain k8s manifest yaml&lt;/li>
&lt;li>Kustomize&lt;/li>
&lt;li>Helm Chart&lt;/li>
&lt;li>&amp;hellip;&lt;/li>
&lt;/ul>
&lt;p>ì´ì™¸ì—ë„ ë‹¤ì–‘í•œ ë°©ë²•ë“¤ì´ ìˆì„ ìˆ˜ ìˆì§€ë§Œ ì¼ë‹¨ ì œê°€ ì‚¬ìš©í•´ë³¸ ë°©ë²•ë“¤ì€ ìœ„ì˜ 3ê°œì™€ ê°™ì•„ìš”.&lt;/p>
&lt;p>ì €ëŠ” ë³µì¡í•œ í˜•íƒœë¥¼ ê°€ì§„ ì˜¤í”ˆì†ŒìŠ¤ë¥¼ ë°°í¬í•  ë•Œì—ëŠ” Helm Chartë¥¼, ìš°ë¦¬ íŒ€ì˜ ì„œë¹„ìŠ¤ë¥¼ ê°ê° ë°°í¬í•  ë•Œì—ëŠ” ê°€ë³ê²Œ
ì¸ìë¥¼ ìˆ˜ì •í•˜ëŠ” ë“±ì˜ ìš©ë„ë¡œ Kustomizeë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.
Plain k8s manifest yamlì€ ì‹¤ì œ ì—…ë¬´ë‚˜ í”„ë¡œì íŠ¸ì—ì„œëŠ” ê±°ì˜ ì‚¬ìš©í•˜ì§€ ì•Šê³ , ì¿ ë²„ë„¤í‹°ìŠ¤ ê´€ë ¨ tutorial ë“±ì—ì„œ ì£¼ë¡œ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë³µì¡í•œ í˜•íƒœì˜ ì˜¤í”ˆì†ŒìŠ¤ë¥¼ ë°°í¬í•  ë•Œì—ëŠ” Helm Chartë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” Helm ChartëŠ” &lt;code>values.yaml&lt;/code>ê³¼ ê°™ì€ ì„¤ì • íŒŒì¼ì„
í†µí•´ í•„ìš”í•œ ëŒ€ë¶€ë¶„ì˜ ê²ƒì„ í¸ë¦¬í•˜ê²Œ ì„¤ì •í•˜ê²Œ í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ë¥¼ ì§ì ‘ Plain k8s manifest íŒŒì¼ë“¤ë¡œ ê´€ë¦¬í•˜ê¸°ì—ëŠ”
ë„ˆë¬´ë‚˜ë„ ë²…ì°¨ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. Deploymentë§Œ í•´ë„ í•œ ì†ê°€ë½ìœ¼ë¡œ ì„¸ê¸° í˜ë“  ê²½ìš°ë„ ìˆê³ , Configmapì— ì „ë‹¬í•´ì•¼í•˜ëŠ” ê°’ë„ ë³€ê²½ë  ìˆ˜ ìˆëŠ”ë°, ë˜ ìƒˆë¡œìš´ ë²„ì „ì´ ì¶œì‹œë˜ë©´
ê·¸ manifest íŒŒì¼ë“¤ì„ í•˜ë‚˜ í•˜ë‚˜ ë¹„êµí•˜ëŠ” ê²ƒë„ ë„ˆë¬´ í˜ë“¤ì£ . ê·¸ë˜ì„œ ì €ëŠ” ë³´í†µ &lt;code>Nginx Ingress Controller&lt;/code>, &lt;code>Cert manager&lt;/code>, &lt;code>ArgoCD&lt;/code> ì™€ ê°™ì€ ì˜¤í”ˆì†ŒìŠ¤ë“¤ì€ Helmìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì„ ì„ í˜¸í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ë°˜ë©´ ìš°ë¦¬ íŒ€ ì„œë¹„ìŠ¤ë¥¼ ë°°í¬í•˜ëŠ” ê²½ìš° ëŒ€ë¶€ë¶„ Image tagë§Œ ë³€ê²½í•˜ë©´ ë˜ëŠ”ë° ì´ëŸ° ì¼€ì´ìŠ¤ì—ëŠ” ê°€ë³ê²Œ &lt;code>Kustomize&lt;/code>ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì ì ˆí•˜ë‹¤ê³  ìƒê°ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ë˜ì„œ! &lt;strong>ì´ë²ˆ ê¸€ì—ì„œëŠ” &lt;code>ArgoCD&lt;/code>ë¥¼ &lt;code>Helm&lt;/code>ìœ¼ë¡œ ë°°í¬&lt;/strong>í•´ë³´ë ¤ í•©ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="helmìœ¼ë¡œ-ê°„ë‹¨í•˜ê²Œ-êµ¬ì¶•í•´ë³´ê¸°">Helmìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ êµ¬ì¶•í•´ë³´ê¸°&lt;/h2>
&lt;h3 id="argocd-helm-chart-ì„¤ì¹˜">ArgoCD Helm Chart ì„¤ì¹˜&lt;/h3>
&lt;p>Helm ìœ¼ë¡œ ArgoCDë¥¼ ì„¤ì¹˜í•˜ëŠ” ë°©ë²•ì€ &lt;a class="link" href="https://github.com/argoproj/argo-helm/tree/master/charts/argo-cd" target="_blank" rel="noopener"
>ArgoCD Helm Chart Github&lt;/a>ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì°¸ ê°„ë‹¨í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ëŒ€ì‹  ì €ëŠ” namespaceë¥¼ &lt;code>argocd&lt;/code>ë¡œ ê³ ì •í•˜ì—¬ ì„¤ì¹˜í• ê²Œìš”! ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ &lt;code>default&lt;/code> namespaceì— ì„¤ì¹˜ë”ë¼êµ¬ìš”. Release nameì€ &lt;code>argocd-demo&lt;/code>ë¡œ í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="gp">$&lt;/span> minikube start
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">ğŸ˜„ minikube v1.25.2 on Darwin 12.2 (arm64)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="gp">$&lt;/span> kubectl create ns argocd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="gp">$&lt;/span> helm repo add argo https://argoproj.github.io/argo-helm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&amp;#34;argo&amp;#34; has been added to your repositories
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="gp">$&lt;/span> helm install -n argocd argocd-demo argo/argo-cd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">NAME: argocd-demo
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">LAST DEPLOYED: Sat Apr 23 05:37:32 2022
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">NAMESPACE: argocd
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">STATUS: deployed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">REVISION: 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">TEST SUITE: None
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">NOTES:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">In order to access the server UI you have the following options:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">1. kubectl port-forward service/argocd-demo-server -n argocd 8080:443
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go"> and then open the browser on http://localhost:8080 and accept the certificate
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">2. enable ingress in the values file `server.ingress.enabled` and either
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go"> - Add the annotation for ssl passthrough: https://github.com/argoproj/argo-cd/blob/master/docs/operator-manual/ingress.md#option-1-ssl-passthrough
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go"> - Add the `--insecure` flag to `server.extraArgs` in the values file and terminate SSL at your ingress: https://github.com/argoproj/argo-cd/blob/master/docs/operator-manual/ingress.md#option-2-multiple-ingress-objects-and-hosts
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">After reaching the UI the first time you can login with username: admin and the random password generated during the installation. You can find the password by running:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath=&amp;#34;{.data.password}&amp;#34; | base64 -d
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">(You should delete the initial secret afterwards as suggested by the Getting Started Guide: https://github.com/argoproj/argo-cd/blob/master/docs/getting_started.md#4-login-using-the-cli)
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ëŒ€ë¶€ë¶„ì˜ ê²½ìš° helm chartë¥¼ installí•œ ë’¤ í‘œì‹œë˜ëŠ” ì•ˆë‚´ë¬¸ì´ ë§ì€ ë„ì›€ì´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>1ë²ˆ - ë¸Œë¼ìš°ì €ì—ì„œ ArgoCDë¥¼ ì—´ê¸° ìœ„í•œ Port forwarding ì„¤ëª…ì´ì—ìš”.&lt;/p>
&lt;p>2ë²ˆ - Ingressë‚˜ TLS Termination ê´€ë ¨ ì„¤ëª…ì´ì—ìš”.&lt;/p>
&lt;p>ë‚˜ë¨¸ì§€ - adminê³¼ ëœë¤ íŒ¨ìŠ¤ì›Œë“œì— ëŒ€í•œ ì„¤ëª…ì´ì—ìš”.&lt;/p>
&lt;h3 id="ë¸Œë¼ìš°ì €ë¡œ-ë¡œê·¸ì¸í•´ë³´ê¸°">ë¸Œë¼ìš°ì €ë¡œ ë¡œê·¸ì¸í•´ë³´ê¸°&lt;/h3>
&lt;p>ìë™ìœ¼ë¡œ ìƒì„±ëœ admin ë¹„ë°€ë²ˆí˜¸ë¥¼ ì–»ì€ ë’¤ ì½˜ì†”ì— ì ‘ì†í•˜ê¸° ìœ„í•´ Port forwardí•œ ë’¤ ì ‘ì†í•´ë³¼ê²Œìš”.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> kubectl -n argocd get secret argocd-initial-admin-secret -o &lt;span class="nv">jsonpath&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;{.data.password}&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> base64 -d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">5VYjI5YcfOo6XMHx
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="gp">$&lt;/span> kubectl port-forward service/argocd-demo-server -n argocd 8080:443
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Forwarding from 127.0.0.1:8080 -&amp;gt; 8080
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Forwarding from [::1]:8080 -&amp;gt; 8080
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;figure style="flex-grow: 149; flex-basis: 359px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/login.png" data-size="1573x1049">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/login.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/login_hu7e8078ba43c639b9075fb1b2acd2ff79_623918_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/login_hu7e8078ba43c639b9075fb1b2acd2ff79_623918_1024x0_resize_box_3.png 1024w"
width="1573"
height="1049"
loading="lazy"
alt="ë¡œê·¸ì¸ í™”ë©´">
&lt;/a>
&lt;figcaption>ë¡œê·¸ì¸ í™”ë©´&lt;/figcaption>
&lt;/figure>
TLS ì„¤ì •ì„ ì˜¬ë°”ë¥´ê²Œ í•´ì£¼ì§€ ì•Šì•˜ê¸° ë–„ë¬¸ì— ë¸Œë¼ìš°ì €ì—ì„œ ì¸ì¦ì„œë‚˜ HTTPS ë¬¸ì œê°€ ê²½ê³ ë  ìˆ˜ ìˆì–´ìš”. ì¼ë‹¨ì€ &amp;lsquo;&lt;em>ë¬´ì‹œí•˜ê³  í˜ì´ì§€ ì§„í–‰í•˜ê¸°&lt;/em>&amp;lsquo;ì™€ ê°™ì€ ë²„íŠ¼ë“¤ì„ í†µí•´ ì§„í–‰í•´ì¤ì‹œë‹¤. ë¡œì»¬ì—ì„œ ë°ëª¨í•´ë³´ëŠ” ê²ƒì´ë‹ˆê¹Œìš”.
ê·¸ëŸ¼ ë²Œì¨ ì†ì‰½ê²Œ ë¡œê·¸ì¸ ì°½ì´ ëœ¬ ê²ƒì„ ë³¼ ìˆ˜ ìˆê³ , ì•„ê¹Œ ì¡°íšŒí•œ adminì— ëŒ€í•œ íŒ¨ìŠ¤ì›Œë“œë¥¼ í†µí•´ &lt;code>admin&lt;/code> / &lt;code>{{YOUR_PASSWORD}}&lt;/code>ë¡œ ë¡œê·¸ì¸í•´ì¤ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 152; flex-basis: 365px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/console.png" data-size="1379x906">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/console.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/console_hu0ae6017bda3c97e28afa119368517377_147411_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/console_hu0ae6017bda3c97e28afa119368517377_147411_1024x0_resize_box_3.png 1024w"
width="1379"
height="906"
loading="lazy"
alt="ì½˜ì†” í™”ë©´">
&lt;/a>
&lt;figcaption>ì½˜ì†” í™”ë©´&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ğŸ‰ ì§œì”~! &lt;strong>ArgoCD ì½˜ì†” í™”ë©´ì´ ë“±ì¥&lt;/strong>í–ˆì–´ìš”!!!&lt;/p>
&lt;h3 id="applicationì„-í†µí•´-cd-ë™ì‘ì„-í…ŒìŠ¤íŠ¸í•´ë³´ê¸°">Applicationì„ í†µí•´ CD ë™ì‘ì„ í…ŒìŠ¤íŠ¸í•´ë³´ê¸°&lt;/h3>
&lt;p>ArgoCDì—ëŠ” &lt;code>Repository&lt;/code>, &lt;code>AppProject&lt;/code>, &lt;code>Application&lt;/code> ê³¼ ê°™ì€ ê°œë…ë“¤ì´ ì¡´ì¬í•©ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Repository&lt;/strong> - Private Repository ë° ë‹¤ì–‘í•œ Repositoryì— ëŒ€í•œ ì„¤ì •ë“¤ì„ ë‹´ë‹¹í•´ìš”.&lt;/li>
&lt;li>&lt;strong>AppProject&lt;/strong> - Applicationì´ ì†í•  ìˆ˜ ìˆëŠ” ê·¸ë£¹ìœ¼ë¡œ í•´ë‹¹ Projectë‚´ì˜ Applicationë“¤ì´ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ”, í˜¹ì€ Project Tokenì´ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ë™ì‘ì„ ì œí•œí•  ìˆ˜ ìˆì–´ìš”.&lt;/li>
&lt;li>&lt;strong>Application&lt;/strong> - ì›í•˜ëŠ” k8s ë¦¬ì†ŒìŠ¤ë“¤ì„ ì–´ë–¤ ì‹ìœ¼ë¡œ CDí•  ì§€ì— ëŒ€í•œ ì„¤ì •ì´ì—ìš”.&lt;/li>
&lt;/ul>
&lt;p>Applicationì´ ê°€ì¥ ì¤‘ìš”í•´ìš”~! Private repositoryë¥¼ ì´ìš©í•˜ê¸° ì „ê¹Œì§€ëŠ” ì•„ë§ˆ Repositoryê°€ í•„ìš”í•˜ì§„ ì•Šì„ ê±°ê³ , default project ì™¸ì˜ í”„ë¡œì íŠ¸ë¥¼
ìƒì„±í•´ì„œ ì‚¬ìš©í•  ê²Œ ì•„ë‹ˆë©´ AppProjectë„ í•„ìš”í•˜ì§„ ì•Šì„ ê±°ì—ìš”.&lt;/p>
&lt;p>ë‹¤ë§Œ Applicationì€ í•„ìˆ˜ë¡œ ìƒˆë¡œ ìƒì„±í•´ì•¼ CD ë™ì‘ì„ í™•ì¸í•´ë³¼ ìˆ˜ ìˆì–´ìš”!&lt;/p>
&lt;p>ArgoCDì—ì„œ ì“°ì´ëŠ” ëŒ€ë¶€ë¶„ì˜ ë¦¬ì†ŒìŠ¤ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ CRD(e.g. Repository, AppProject, Application)ë¡œ ê´€ë¦¬ë˜ê³  ê·¸ ì™¸ì˜ ê²ƒë“¤ë„ configmapì— ì„¤ì •ì„ ê¸°ì…í•¨ìœ¼ë¡œì¨ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!&lt;/p>
&lt;p>ë”°ë¼ì„œ ìš°ë¦¬ëŠ” ArgoCD CRD ì¤‘ í•˜ë‚˜ì¸ Applicationì„ ë§Œë“¤ì–´ë³¼ ê±°ì—ìš”. ê³µì‹ ë¬¸ì„œì˜ Getting Startedì—ì„œëŠ” ì§ì ‘ ArgoCD CLIë¡œ Applicationì„ ë§Œë“¤ì§€ë§Œ
ArgoCD CLIë‚˜ ì½˜ì†” í™”ë©´ì„ í†µí•´ Applicationì„ ë§Œë“¤ê²Œ ë˜ë©´ ì¶”í›„ì— Applicationì„ yaml ì½”ë“œë¡œ ë‚˜íƒ€ë‚´ì–´ ì„ ì–¸ì ìœ¼ë¡œ ì´ìš©í•˜ë ¤ëŠ” ê²½ìš° ê¸°ì¡´ì˜ Applicationì„ ì½”ë“œë¡œ ë‚˜íƒ€ë‚´ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í•˜ëŠ”ì§€ í˜¼ë€ìŠ¤ëŸ¬ìš°ì‹¤ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ ì €ëŠ” &lt;strong>ì§ì ‘ Applicationì„ yamlë¡œ ì‘ì„±í•´ì„œ ì ìš©&lt;/strong>í•´ì£¼ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ë§Œì•½ ì•„ì§ ArgoCDê°€ ë‚¯ì„œì‹œë‹¤ë©´ ë‹¨ìˆœíˆ ì½˜ì†”ì—ì„œ ì§ì ‘ Applicationì„ ìƒì„±í•˜ëŠ” ë°©ë²•ë„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤. ì´í›„ ì–´ë–¤ ì„¤ì •ë“¤ì´ ìˆëŠ”ì§€ ê°ì„ ì¡ì•„ë³´ì‹œê³  ê·¸ëŸ° ì„¤ì •ë“¤ì„ ì–´ë–»ê²Œ CRD(yaml)ë¡œ ë‚˜íƒ€ë‚´ëŠ”ì§€ë¥¼
ì°¾ì•„ë‚˜ê°€ë©° IaCë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒë„ í•˜ë‚˜ì˜ ë°©ë²•ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì œê°€ ë³¸ ê²Œì‹œê¸€ì„ ìœ„í•´ ë§Œë“¤ì–´ë†“ì€ Repository(&lt;a class="link" href="https://github.com/umi0410/declarative-argocd" target="_blank" rel="noopener"
>https://github.com/umi0410/declarative-argocd&lt;/a>)ë¥¼ &lt;strong>Forkí•˜ì…”ì„œ&lt;/strong> ì‚¬ìš©í•˜ì‹œë©´ ë˜ê² ìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  &lt;strong>ì•„ë˜ í•­ëª©ë“¤ì„ ì˜ ìˆ˜í–‰í•´ì£¼ì„¸ìš”.&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>âš ï¸ ì•„ë˜ì˜ kubectl apply ìˆ˜í–‰ ì‹œ URLì„ ë³¸ì¸ì˜ Github username í˜¹ì€ Organization nameìœ¼ë¡œ ë³€ê²½í•˜ê¸°&lt;/li>
&lt;li>âš ï¸ fork ëœ¬ Repositoryì˜ &lt;code>getting-started/argocd/application.yml&lt;/code> íŒŒì¼ì—ì„œ &lt;code>spec.source.repoURL&lt;/code> ê°’ì„ ìì‹ ì˜ fork ëœ¬ Repository URLë¡œ ì˜¬ë°”ë¥´ê²Œ ìˆ˜ì •í•˜ê¸°&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>forkë¥¼ ëœ¨ëŠ” ì´ìœ &lt;/strong>ëŠ” ì´í›„ì— &lt;strong>GitOps ë°©ì‹ìœ¼ë¡œ CDí•˜ê¸° ìœ„í•´ image tagë¥¼ ë³€ê²½í•´ì„œ í‘¸ì‹œ&lt;/strong>í•œ ë’¤ ì—…ë°ì´íŠ¸ ë˜ëŠ” ëª¨ìŠµì„ ë³´ê¸° ìœ„í•¨ì´ì—ìš”!&lt;/p>
&lt;p>ì €í¬ëŠ” &lt;strong>ìƒ˜í”Œ í”„ë¡œì íŠ¸ë¡œ Guestbook(ë°©ëª…ë¡) í”„ë¡œì íŠ¸ë¥¼ ë°°í¬í•˜ê³  í™•ì¸&lt;/strong>í•´ë³¼ê±°ì—ìš”.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> kubectl apply -n argocd -f https://raw.githubusercontent.com/umi0410/declarative-argocd/master/getting-started/argocd/application.yml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;figure style="flex-grow: 136; flex-basis: 326px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/guestbook-created.png" data-size="790x580">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/guestbook-created.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/guestbook-created_hubfe9081d55e0da841eb34d3069f41f17_117409_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/guestbook-created_hubfe9081d55e0da841eb34d3069f41f17_117409_1024x0_resize_box_3.png 1024w"
width="790"
height="580"
loading="lazy"
alt="guestbook ì•±ì´ ì˜ ë“±ë¡ëœ ëª¨ìŠµ">
&lt;/a>
&lt;figcaption>guestbook ì•±ì´ ì˜ ë“±ë¡ëœ ëª¨ìŠµ&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ê·¸ëŸ¼ ìœ„ì™€ ê°™ì´ guestbook ì•±ì´ ë“±ë¡ë˜ì–´ syncëœ ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> kubectl port-forward service/guestbook-ui -n default 8888:80
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Forwarding from 127.0.0.1:8888 -&amp;gt; 80
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Forwarding from [::1]:8888 -&amp;gt; 80
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ë§ˆì°¬ê°€ì§€ë¡œ ë°©ê¸ˆ ë°°í¬í•œ guestbookì´ ì˜ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•´ë³´ê¸° ìœ„í•´ guestbook-ui ì„œë¹„ìŠ¤ë¥¼ port forwardí•´ì£¼ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 313; flex-basis: 753px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/guestbook:0.1.png" data-size="866x276">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/guestbook:0.1.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/guestbook:0.1_hue167aac1c39dc47c9109555cba7e0443_28723_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/guestbook:0.1_hue167aac1c39dc47c9109555cba7e0443_28723_1024x0_resize_box_3.png 1024w"
width="866"
height="276"
loading="lazy"
alt="ks-guestbook-demo:0,1">
&lt;/a>
&lt;figcaption>ks-guestbook-demo:0,1&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;code>0.1&lt;/code> ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜í–ˆë‹¤ë©´ ìœ„ì™€ ê°™ì´ &lt;strong>ê²€ì€ íƒ€ì´í‹€ì˜ Guestbook&lt;/strong> UIë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤!&lt;/p>
&lt;p>ê·¸ëŸ¼ ê³¼ì—° ë‹¤ë¥¸ ë²„ì „ì˜ ì´ë¯¸ì§€ë¡œ ì—…ë°ì´íŠ¸í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ë³¼ ìˆ˜ ìˆì„ê¹Œìš”?!&lt;/p>
&lt;p>&lt;figure style="flex-grow: 251; flex-basis: 604px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/supported-image-tags.png" data-size="914x363">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/supported-image-tags.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/supported-image-tags_hu33d7f97eadfa03b4c5afdfa040d65e6b_62565_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/supported-image-tags_hu33d7f97eadfa03b4c5afdfa040d65e6b_62565_1024x0_resize_box_3.png 1024w"
width="914"
height="363"
loading="lazy"
alt="ì§€ì›ë˜ëŠ” ì´ë¯¸ì§€ íƒœê·¸ ëª©ë¡.png">
&lt;/a>
&lt;figcaption>ì§€ì›ë˜ëŠ” ì´ë¯¸ì§€ íƒœê·¸ ëª©ë¡.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ì§€ì›ë˜ëŠ” ì´ë¯¸ì§€ íƒœê·¸ ëª©ë¡ì€ &lt;a class="link" href="https://console.cloud.google.com/gcr/images/heptio-images/global/ks-guestbook-demo" target="_blank" rel="noopener"
>ì´ê³³&lt;/a>ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ìš°ë¦¬ëŠ” GitOpsë¥¼ ìœ„í•œ ë„êµ¬ì¸ ArgoCDë¥¼ ì´ìš©í•˜ê³  ìˆê³  guestbook applicationì€ Auto Sync ì„¤ì •ì„ í•´ë†“ì•˜ê¸° ë•Œë¬¸ì—
ë‹¨ìˆœíˆ image tagë¥¼ &lt;code>0.2&lt;/code>ë¡œ ë³€ê²½í•œ ë’¤ í‘¸ì‹œí•´ì£¼ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤!&lt;/p>
&lt;p>ê·¸ëŸ¼ fork ëœ¨ì‹  ë ˆí¬ì§€í† ë¦¬ì—ì„œ &lt;code>getting-started/k8s/deployment.yml&lt;/code>ì˜ &lt;code>spec.template.spec.containers[0].image&lt;/code> tag ê°’ì„ &lt;code>0.1&lt;/code> -&amp;gt; &lt;code>0.2&lt;/code> ë¡œ ë³€ê²½í•´ì£¼ì‹œê³  í‘¸ì‹œí•´ì£¼ì„¸ìš”.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 166; flex-basis: 398px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/guestbook:0.2-pod.png" data-size="1036x624">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/guestbook:0.2-pod.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/guestbook:0.2-pod_hud3e3fc0dda262da7b041e8cd14e9271e_139239_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/guestbook:0.2-pod_hud3e3fc0dda262da7b041e8cd14e9271e_139239_1024x0_resize_box_3.png 1024w"
width="1036"
height="624"
loading="lazy"
alt="ks-guestbook-demo:0.2ë¡œ ë°°í¬ëœ Pod">
&lt;/a>
&lt;figcaption>ks-guestbook-demo:0.2ë¡œ ë°°í¬ëœ Pod&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ìœ„ì™€ ê°™ì´ Podì˜ ì»¨í…Œì´ë„ˆì˜ ì´ë¯¸ì§€ íƒœê·¸ê°€ &lt;code>0.2&lt;/code>ë¡œ ë³€ê²½ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆê³ &lt;/p>
&lt;p>&lt;figure style="flex-grow: 311; flex-basis: 746px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/guestbook:0.2.png" data-size="865x278">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/guestbook:0.2.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/guestbook:0.2_huf37d3e4e0787326a08405c425180883f_38731_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/guestbook:0.2_huf37d3e4e0787326a08405c425180883f_38731_1024x0_resize_box_3.png 1024w"
width="865"
height="278"
loading="lazy"
alt="ks-guestbook-demo:0.2">
&lt;/a>
&lt;figcaption>ks-guestbook-demo:0.2&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ê¸°ì¡´ì—ëŠ” &lt;strong>ê²€ì •ìƒ‰ íƒ€ì´í‹€ì˜ &amp;ldquo;Guestbook&amp;rdquo;&lt;/strong> ì´ì—ˆì§€ë§Œ ì´ì œëŠ” &lt;strong>ì•Œë¡ë‹¬ë¡í•œ &amp;ldquo;Fancy Guestbook&amp;rdquo;&lt;/strong> ì´ ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”~!&lt;/p>
&lt;h3 id="ì´ëŸ°-ì‹ì˜-ì‘ì—…-ë°©ì‹ì—ì„œ-ë¶ˆí¸í•œ-ì ë“¤">ì´ëŸ° ì‹ì˜ ì‘ì—… ë°©ì‹ì—ì„œ ë¶ˆí¸í•œ ì ë“¤&lt;/h3>
&lt;p>ì„±ê³µì ìœ¼ë¡œ CD ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì‹¤ì œë¡œ ArgoCDë¥¼ ë„ì…í•˜ê³  ê¾¸ì¤€íˆ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë°©ê¸ˆê³¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œ
ì‘ì—…í•˜ê²Œ ë˜ë©´ ëª‡ ê°€ì§€ ë¶ˆí¸ ì‚¬í•­ë“¤ì´ ì¡´ì¬í•  ìˆ˜ ìˆì–´ìš”.&lt;/p>
&lt;ol>
&lt;li>&lt;strong>helmìœ¼ë¡œ ArgoCDë¥¼ ì„¤ì¹˜í•œ ë’¤ ì¶”ê°€ì ìœ¼ë¡œ ìˆ˜ë™ìœ¼ë¡œ Applicationì„ ë“±ë¡&lt;/strong>í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.
&lt;ul>
&lt;li>ì´ë ‡ê²Œ ë˜ë©´ ë˜ ë‹¤ë¥¸ í´ëŸ¬ìŠ¤í„°ì— ë™ì¼í•œ ì„¤ì •ìœ¼ë¡œ ArgoCDë¥¼ ì„¤ì¹˜í•˜ê±°ë‚˜ ì¬êµ¬ì¶•í•  ë•Œ ë§ì´ ë²ˆê±°ë¡œìš¸ ìˆ˜ ìˆì–´ìš”.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ì´í›„ì—ë„ &lt;strong>Applicationì„ ìƒˆë¡œ ìƒì„±í•  ë•Œë‚˜ ë³€ê²½í•  ë•Œë§ˆë‹¤ kubectlì„ ì§ì ‘ ìˆ˜í–‰&lt;/strong>í•´ì•¼í•©ë‹ˆë‹¤.
&lt;ul>
&lt;li>ìš°ë¦¬ëŠ” GitOpsì˜ í˜•íƒœë¡œ ArgoCDë¥¼ í†µí•´ &lt;code>Deployment&lt;/code>, &lt;code>Service&lt;/code>, &lt;code>Configmap&lt;/code> ë“±ì„ ê´€ë¦¬í•˜ê³  ìˆì§€ë§Œ
&lt;code>Application&lt;/code>ì€ ì§ì ‘ &lt;code>kubectl&lt;/code>ë¡œ ê´€ë¦¬í•˜ê³  ìˆì–´ìš”.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h2 id="app-of-app-íŒ¨í„´ì„-í†µí•´-ì¢€-ë”-ì„ ì–¸ì ìœ¼ë¡œ-ê´€ë¦¬í•˜ê¸°">App of App íŒ¨í„´ì„ í†µí•´ ì¢€ ë” ì„ ì–¸ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸°&lt;/h2>
&lt;p>ë”°ë¼ì„œ ìœ„ì™€ ê°™ì€ ë¶ˆí¸ ì‚¬í•­ë“¤ì„ í•´ì†Œí•˜ê¸° ìœ„í•´ì„œ ArgoCDì—ëŠ” &lt;code>App of App&lt;/code>ì´ë¼ëŠ” íŒ¨í„´ì´ ì¡´ì¬í•©ë‹ˆë‹¤.
&lt;code>App of App íŒ¨í„´&lt;/code>ì´ë€ &lt;strong>ArgoCDë¡œ ê´€ë¦¬í•  Applicationë“¤ì„ ê´€ë¦¬í•˜ëŠ” ìš°ë‘ë¨¸ë¦¬ Applicationì„ ë‘ëŠ” íŒ¨í„´&lt;/strong>ì„ ë§í•´ìš”.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 401; flex-basis: 963px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/app-of-app.png" data-size="1148x286">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/app-of-app.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/app-of-app_hu0da6b93538f9bdd5fb228fadd6643369_67514_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/app-of-app_hu0da6b93538f9bdd5fb228fadd6643369_67514_1024x0_resize_box_3.png 1024w"
width="1148"
height="286"
loading="lazy"
alt="ê³µì‹ë¬¸ì„œì—ì„œë„ ê´€ë ¨ ë‚´ìš©ì„ ì°¾ì•„ë³¼ ìˆ˜ ìˆì–´ìš”.">
&lt;/a>
&lt;figcaption>ê³µì‹ë¬¸ì„œì—ì„œë„ ê´€ë ¨ ë‚´ìš©ì„ ì°¾ì•„ë³¼ ìˆ˜ ìˆì–´ìš”.&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure style="flex-grow: 146; flex-basis: 351px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/app-of-app-example.png" data-size="1322x903">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/app-of-app-example.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/app-of-app-example_hu4e77d9db36c888cbfc316420e8661632_239899_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/app-of-app-example_hu4e77d9db36c888cbfc316420e8661632_239899_1024x0_resize_box_3.png 1024w"
width="1322"
height="903"
loading="lazy"
alt="ì˜ˆë¥¼ ë“¤ì–´ App of App íŒ¨í„´ì„ ì´ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë‹¤ë¥¸ ì•±ë“¤ì„ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ ë¼ìš”.">
&lt;/a>
&lt;figcaption>ì˜ˆë¥¼ ë“¤ì–´ App of App íŒ¨í„´ì„ ì´ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë‹¤ë¥¸ ì•±ë“¤ì„ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ ë¼ìš”.&lt;/figcaption>
&lt;/figure>
ê·¸ëŸ¼ ìœ„ì—ì„œ 2ë²ˆìœ¼ë¡œ ì–¸ê¸‰í•œ ë¬¸ì œëŠ” ì–´ëŠ ì •ë„ í•´ê²°í•  ìˆ˜ ìˆì§€ë§Œ, ê·¸ëŸ¼ ê·¸ ìš°ë‘ë¨¸ë¦¬ Appì€ ì–´ë–»ê²Œ ìƒì„±/ê´€ë¦¬í•  ê²ƒì¸ê°€(1ë²ˆ ë¬¸ì œ)ê°€ ì—¬ì „íˆ ë¬¸ì œì—ìš”.&lt;/p>
&lt;p>ì €ëŠ” ì´ ë¬¸ì œë¥¼ ìš°ë¦¬ê°€ ì§ì ‘ Appì„ ìƒì„±/ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ArgoCD helm chartì˜ ì¶”ê°€ì ì¸ ì„¤ì •ì„ í†µí•´ ì„ ì–¸ì ìœ¼ë¡œ ê´€ë¦¬í•¨ìœ¼ë¡œì¨ í•´ê²°í•˜ë ¤í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 559; flex-basis: 1341px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/additional-applications.png" data-size="1230x220">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/additional-applications.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/additional-applications_hu850b8bb10c85e0c5221cd6515a150d15_59547_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/additional-applications_hu850b8bb10c85e0c5221cd6515a150d15_59547_1024x0_resize_box_3.png 1024w"
width="1230"
height="220"
loading="lazy"
alt="ArgoCD Helm Chart README.mdì— ì†Œê°œëœ ë¶€ë¶„">
&lt;/a>
&lt;figcaption>ArgoCD Helm Chart README.mdì— ì†Œê°œëœ ë¶€ë¶„&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ì„¤ì •ê°’ ì˜ˆì‹œëŠ” &lt;a class="link" href="https://github.com/argoproj/argo-helm/blob/master/charts/argo-cd/values.yaml" target="_blank" rel="noopener"
>ì´ê³³&lt;/a>ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì¦‰, ArgoCD Helm Chartë¥¼ í†µí•´ ê´€ë¦¬í•  Applicationì„ &lt;code>values.yaml&lt;/code>ì— ì‘ì„±í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ëŸ¼ &lt;code>getting-started/values.yaml&lt;/code>ì˜ &lt;code>server.additionalApplications[0].source.repoURL&lt;/code>ì„ ë§ˆì°¬ê°€ì§€ë¡œ ë³¸ì¸ì´ fork ëœ¨ì‹  ë ˆí¬ì§€í† ë¦¬ì˜ URLë¡œ ë³€ê²½í•´ì£¼ì‹œê³  ì•„ë˜ì˜ ëª…ë ¹ì–´ë¡œ helm chartë¥¼ ì—…ê·¸ë ˆì´ë“œí•´ì£¼ì„¸ìš”.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> helm upgrade -n argocd argocd-demo argo/argo-cd -f getting-started/values.yaml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">...
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì´í›„ì—ëŠ” ì•„ë˜ì™€ ê°™ì´ &lt;code>app-of-app&lt;/code>ì´ë¼ëŠ” &lt;code>guestbook&lt;/code> Applicaitonì„ ê´€ë¦¬í•˜ëŠ” Applicationì´ ìƒì„±ëœ ê²ƒì„ ë³´ì‹¤ ìˆ˜ ìˆì„ ê±°ì—ìš” :)&lt;/p>
&lt;p>&lt;figure style="flex-grow: 160; flex-basis: 385px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/app-of-app-2.png" data-size="1273x793">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/app-of-app-2.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/app-of-app-2_hu6c80cf78a2d14fbf6c7e90b1ee9bab49_215714_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/app-of-app-2_hu6c80cf78a2d14fbf6c7e90b1ee9bab49_215714_1024x0_resize_box_3.png 1024w"
width="1273"
height="793"
loading="lazy"
alt="app-of-app íŒ¨í„´ì´ ì ìš©ëœ ëª¨ìŠµ">
&lt;/a>
&lt;figcaption>app-of-app íŒ¨í„´ì´ ì ìš©ëœ ëª¨ìŠµ&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>app-of-appì€ guestbook applicationì„ ê´€ë¦¬í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë§Œì•½ &lt;strong>ì¶”ê°€ì ìœ¼ë¡œ Applicationì„ ìƒì„±í•˜ê±°ë‚˜ ì‚­ì œí•˜ê³  ì‹¶ë‹¤ë©´ ì§ì ‘ kubectlì„ í†µí•´ ê´€ë¦¬í•  ê²ƒì´ ì•„ë‹ˆë¼
ë³€ê²½í•˜ê³ ì‹¶ì€ ì‚¬í•­ì„ &lt;code>getting-started/argocd&lt;/code>ì— ì‘ì„±í•œ ë’¤ Git pushí•˜ë©´ ArgoCDê°€ ì•Œì•„ì„œ ì ìš©&lt;/strong>í•´ì£¼ê²Œ ë©ë‹ˆë‹¤! ëŒ€ë‹¨í•˜ì£ ?!&lt;/p>
&lt;p>ê·¸ëŸ¼ ìœ„ì˜ ì‘ì—…ì„ í†µí•´ ìš°ë¦¬ê°€ ì•ì„œ ì–¸ê¸‰í–ˆë˜ ë¶ˆí¸ë“¤ì´ í•´ì†Œë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ë³¼ê²Œìš”.
ì œê°€ ë°”ë¼ëŠ” ê±´ &lt;strong>ë°±ì§€ ìƒíƒœì˜ í´ëŸ¬ìŠ¤í„°ì—ì„œë„ ì œê°€ ì„ ì–¸í•´ë†“ì€ ì„¤ì • íŒŒì¼ë“¤ë§Œì„ í†µí•´ &lt;code>helm install&lt;/code> ëª…ë ¹ì–´ í•œ ì¤„ë§Œìœ¼ë¡œ
í˜„ì¬ì™€ ë™ì¼í•œ ArgoCD ìƒíƒœ, guestbook ìƒíƒœë¥¼ ê°–ëŠ” ê²ƒ&lt;/strong>ì´ì—ìš”! ì•„ì£¼ ì„ ì–¸ì ì´ì£ ?!&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> minikube delete
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Deleting &amp;#34;minikube&amp;#34; in docker ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">ğŸ”¥ Deleting container &amp;#34;minikube&amp;#34; ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="gp">$&lt;/span> minikube start
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">ğŸ˜„ minikube v1.25.2 on Darwin 12.2 (arm64)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">âœ¨ Automatically selected the docker driver
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="gp">#&lt;/span> ArgoCDë‚˜ guestbook ê´€ë ¨ Podë‚˜ ë¦¬ì†ŒìŠ¤ê°€ ì—†ìŒì„ í™•ì¸í•´ë³¼ê²Œìš”
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="gp">$&lt;/span> kubectl get pod --all-namespaces
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">NAMESPACE NAME READY STATUS RESTARTS AGE
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">kube-system coredns-64897985d-pd57n 1/1 Running 0 36s
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="gp">$&lt;/span> kubectl create ns argocd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">namespace/argocd created
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="gp">$&lt;/span> helm install -n argocd argocd-demo argo/argo-cd -f getting-started/values.yaml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">NAME: argocd-demo
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">LAST DEPLOYED: Sat Apr 23 07:27:22 2022
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">NAMESPACE: argocd
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">...
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ê·¸ëŸ¼ ì‹œì›í•˜ê²Œ minikubeë¥¼ í†µí•´ êµ¬ì¶•í•œ ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ì„ ë‚ ë ¤ë²„ë¦¬ê³  ë‹¤ì‹œ ìƒì„±í•œ ë’¤ ArgoCDë¥¼ helm chartë¡œ ê¹”ì•„ë³¼ê²Œìš”.
ì´ë²ˆì—ëŠ” helm chart ì„¤ì¹˜ ì‹œ &lt;code>getting-started/values.yaml&lt;/code>ì„ ì„¤ì •íŒŒì¼ë¡œ ì´ìš©í•´ì•¼í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>helm installì´ ì™„ë£Œë˜ë©´ ë™ì¼í•œ ë°©ë²•ìœ¼ë¡œ ìƒˆë¡œìš´ Admin íŒ¨ìŠ¤ì›Œë“œë¥¼ ì¡°íšŒí•œ ë’¤ ë‹¤ì‹œ port forwardí•´ì£¼ì‹œê³  ì½˜ì†”ì— ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 161; flex-basis: 388px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/declarative-result.png" data-size="1273x786">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/declarative-result.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/declarative-result_hu069aa837df522d39bd59ebc72e1dc62b_218299_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/declarative-result_hu069aa837df522d39bd59ebc72e1dc62b_218299_1024x0_resize_box_3.png 1024w"
width="1273"
height="786"
loading="lazy"
alt="ì„ ì–¸ì ìœ¼ë¡œ ê´€ë¦¬ëœ ArgoCD. guestbookì€ Sync ì¤‘ì´ì—ìš” :)">
&lt;/a>
&lt;figcaption>ì„ ì–¸ì ìœ¼ë¡œ ê´€ë¦¬ëœ ArgoCD. guestbookì€ Sync ì¤‘ì´ì—ìš” :)&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure style="flex-grow: 311; flex-basis: 746px">
&lt;a href="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/guestbook:0.2.png" data-size="865x278">&lt;img src="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/guestbook:0.2.png"
srcset="https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/guestbook:0.2_huf37d3e4e0787326a08405c425180883f_38731_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/devops/declarative-argocd-helm-app-of-app/guestbook:0.2_huf37d3e4e0787326a08405c425180883f_38731_1024x0_resize_box_3.png 1024w"
width="865"
height="278"
loading="lazy"
alt="ì„ ì–¸ì ìœ¼ë¡œ ê´€ë¦¬ëœ guestbook">
&lt;/a>
&lt;figcaption>ì„ ì–¸ì ìœ¼ë¡œ ê´€ë¦¬ëœ guestbook&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ğŸ‰ ì™€ìš°.. ìƒˆë¡œìš´ í´ëŸ¬ìŠ¤í„°ì—ì„œë„ &lt;strong>ìš°ë¦¬ê°€ ì„ ì–¸ì ìœ¼ë¡œ ì‘ì„±í•œ ì½”ë“œë“¤ë§Œ ìˆë‹¤ë©´ ìœ„ì™€ ê°™ì´ ê¸°ì¡´ê³¼ ë™ì¼í•œ ìƒíƒœë¡œ êµ¬ì¶•ì´ ê°€ëŠ¥&lt;/strong>í•˜ë„¤ìš”! ì¢‹ìŠµë‹ˆë‹¤ ì¢‹ì•„ìš”~&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;ol>
&lt;li>ArgoCDë¥¼ Helmìœ¼ë¡œ install í•´ë³´ê¸°&lt;/li>
&lt;li>Applicationì„ ìƒì„±í•˜ê³  guestbook í”„ë¡œì íŠ¸ë¥¼ í†µí•´ CD í…ŒìŠ¤íŠ¸í•´ë³´ê¸°&lt;/li>
&lt;li>ê·¸ ê³¼ì •ì—ì„œì˜ ë¶ˆí¸ì´ë‚˜ ë¬¸ì œì‚¬í•­ì„ ë°œê²¬í•´ë‚´ê³  ì„ ì–¸ì ìœ¼ë¡œ í•´ê²°í•´ë‚˜ê°€ê¸°
&lt;ul>
&lt;li>&lt;code>App of App&lt;/code> íŒ¨í„´ ì´ìš©í•˜ê¸°&lt;/li>
&lt;li>ArgoCD Helm Chartê°€ ì§€ì›í•˜ëŠ” &lt;code>additionalApplications&lt;/code> ì„¤ì •ì„ ì´ìš©í•˜ê¸°&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>ì´ë²ˆ ê¸€ì—ì„œ ìœ„ì˜ ê³¼ì •ë“¤ì„ í†µí•´ ArgoCDë¥¼ ì–´ë–»ê²Œ ì¢€ ë” ì„ ì–¸ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆì„ì§€ ë˜ ê·¸ëŸ° ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ
ìë£Œë“¤ì„ ì–´ë””ì„œ ì°¾ì•„ë³¼ ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•´ ì•Œì•„ë´¤ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì¢€ ë” ì œê°€ ì–´ë–»ê²Œ ìë£Œë¥¼ ì°¾ì•„ë‚˜ê°€ëŠ” ì§€ ê·¸ëŸ° ìš”ë ¹ì´ë‚˜ ê³¼ì •ë“¤ì„ ì ì–´ë³´ë ¤í–ˆëŠ”ë° ê¸€ì´ ê¸¸ì–´ì§€ë©´ì„œ ê¸°ëŠ¥ ìì²´ì˜ ë‚´ìš©ì— ì§‘ì¤‘í•˜ê²Œ ëœ ê°ì´ ìˆë„¤ìš” ğŸ¥²..&lt;/p>
&lt;p>ë‹¤ìŒ í¸ì—ì„œëŠ” ArgoCDì—ì„œ RBAC ì„¤ì •ì„ í•´ë³´ë©´ì„œ &amp;lsquo;&lt;em>ì–´ë–»ê²Œ ìƒˆë¡œìš´ ê¸°ëŠ¥ë“¤ì„ ì°¾ê³  ì ìš©í•´ë‚˜ê°€ëŠ”ì§€&lt;/em>&amp;lsquo;ì— ì¢€ ë” í¬ì»¤ìŠ¤ë¥¼ ë§ì¶°ë³´ë ¤í•´ìš”. ë˜í•œ ì´ëŸ° ê³¼ì •ë“¤ì€ &lt;code>ArgoCD&lt;/code> ë¿ë§Œ ì•„ë‹ˆë¼
&lt;code>Kafka&lt;/code>, &lt;code>ELK&lt;/code>, &lt;code>Jenkins&lt;/code> ë“±ì˜ ì˜¤í”ˆì†ŒìŠ¤ë“¤ì„ ì‚¬ìš©í•  ë•Œì—ë„ ë„ì›€ì´ ë  ìˆ˜ ìˆì„ ê²ƒì´ë¼ ìƒê°í•©ë‹ˆë‹¤. &amp;lsquo;&lt;em>ì•„~ ì´ëŸ° ì‹ìœ¼ë¡œ ìë£Œë¥¼ ì°¾ì•„ë³¼ ìˆ˜ ìˆêµ¬ë‚˜&lt;/em>&amp;rsquo; í•˜ê³  ë§ì´ì£  ã…ã…&lt;/p>
&lt;p>ì´ë²ˆ ê¸€ì´ &lt;strong>ArgoCDë¥¼ ì²˜ìŒ ì´ìš©í•´ë³´ì‹œëŠ” ë¶„ë“¤&lt;/strong>, &lt;strong>ì´ìš©í•´ì˜¤ë©´ì„œ ì¡°ê¸ˆ ë¶ˆí¸í•˜ì…¨ë˜ ë¶„ë“¤&lt;/strong>, &lt;strong>ìƒˆë¡œìš´ ì˜¤í”ˆì†ŒìŠ¤ë¥¼ ì–´ë–»ê²Œ í•™ìŠµí•˜ê³  ì ìš©í•´ë‚˜ê°ˆì§€ ì˜ ëª¨ë¥´ê² ëŠ” ë¶„ë“¤&lt;/strong>ê»˜
ë„ì›€ì´ ë  ìˆ˜ ìˆëŠ” ê¸€ì´ì—ˆê¸°ë¥¼ ë°”ëë‹ˆë‹¤! ê°ì‚¬í•©ë‹ˆë‹¤~ ğŸ˜†&lt;/p></description></item><item><title>(ë„ì„œ) "NoSQL ì² ì € ì…ë¬¸" - Column-Family DB, Graph DB</title><link>https://umi0410.github.io/blog/computer-science/book-review-nosql-introduction-3/</link><pubDate>Thu, 17 Mar 2022 03:30:00 +0900</pubDate><guid>https://umi0410.github.io/blog/computer-science/book-review-nosql-introduction-3/</guid><description>&lt;img src="https://umi0410.github.io/blog/computer-science/book-review-nosql-introduction-3/cassandra-modeling.png" alt="Featured image of post (ë„ì„œ) "NoSQL ì² ì € ì…ë¬¸" - Column-Family DB, Graph DB" />&lt;h1 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h1>
&lt;p>ì €ë²ˆ í¸ì—ì„œëŠ” Key-Value DBì™€ Document DBë¥¼ ì •ë¦¬í•´ë´¤ê³  ì´ë²ˆ í¸ì—ì„œëŠ” Column Family DBì™€ GraphDBì— ëŒ€í•´ ì •ë¦¬í•´ë³´ë ¤í•œë‹¤.&lt;/p>
&lt;p>Column Family DBë‚˜ GraphDBëŠ” ì‹¤ì œë¡œ ì‚¬ìš©í•´ë³¸ ì ì´ í•œ ë²ˆë„ ì—†ì–´ì„œ ì–´ë–¤ ë…€ì„ë“¤ì¸ì§€ ìì„¸íˆëŠ” ëª¨ë¥´ì§€ë§Œ ì±… ë‚´ìš© ìœ„ì£¼ë¡œ ì •ë¦¬í•´ë³´ë„ë¡ í•˜ê² ë‹¤.&lt;/p>
&lt;h1 id="column-family-db">Column-Family DB&lt;/h1>
&lt;p>Column-Family DBëŠ” í•œ Rowì— ë¬´ìˆ˜íˆ ë§ì€ Columnì„ Schemaê°€ ê°•ì œë˜ì§€ ì•Šì€ í˜•íƒœë¡œ ì´ìš©í•  ìˆ˜ ìˆëŠ” NoSQLì˜ í•œ ì¢…ë¥˜ì´ë‹¤. Wide column DB, Wide column store, Columnar DB ë“±ì˜ ë‹¤ë¥¸ ë‹¤ì–‘í•œ ëª…ì¹­ë“¤ë„ ì¡´ì¬ëŠ” í•˜ì§€ë§Œ ì±…ì—ì„œëŠ” ì¢€ ë” ì—¬ëŸ¬ ì»¬ëŸ¼ì„ ë¬¶ì–´ì„œ ìƒê°í•  ìˆ˜ ìˆëŠ” ì ì´ ê°•ì¡°ë˜ëŠ” Colum-Family DBë¼ëŠ” ìš©ì–´ë¥¼ ì´ìš©í–ˆë‹¤ê³  í•œë‹¤.&lt;/p>
&lt;p>Column-Family DBëŠ” ë‹¤ë¥¸ ì¼ë°˜ì ì¸ NoSQLê³¼ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì˜ ì‚¬ì´ì˜ ê·¸ ë¬´ì–¸ê°€ ê°™ì€ ëŠë‚Œì¸ë° ì´ëŠ” NoSQLì„ì—ë„ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì™€ ë¹„ìŠ·í•œ ëª‡ ê°€ì§€ íŠ¹ì§•ë“¤ì´ ìˆê¸° ë•Œë¬¸ì´ë‹¤.&lt;/p>
&lt;ul>
&lt;li>SQLê³¼ ìœ ì‚¬í•œ ì¿¼ë¦¬ ì–¸ì–´ë¥¼ ì œê³µí•˜ê¸°ë„ í•œë‹¤.&lt;/li>
&lt;li>Rowì™€ Column ë“±ì˜ ê°œë…ì´ ì¡´ì¬í•œë‹¤.&lt;/li>
&lt;/ul>
&lt;p>ê·¸ ì™¸ì˜ íŠ¹ì§•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ìì£¼ í•¨ê»˜ ì‚¬ìš©ë˜ëŠ” Columnë“¤ì„ ë¬¶ì–´ Column familyë¡œ ì´ìš©í•  ìˆ˜ ìˆë‹¤.&lt;/strong>&lt;/li>
&lt;li>Column familyëŠ” ì•½ê°„ RDBì—ì„œì˜ í•˜ë‚˜ì˜ Table ê°™ì€ ëŠë‚Œìœ¼ë¡œ ë³¼ ìˆ˜ë„ ìˆë‹¤.
&lt;ul>
&lt;li>ê°œì¸ì ìœ¼ë¡œëŠ” Column family DBì—ì„œ í•˜ë‚˜ì˜ Rowì— í•´ë‹¹í•˜ëŠ” ë°ì´í„°ë“¤ì€ ì´ë¯¸ JOINì´ ìˆ˜í–‰ëœ ë°ì´í„°ë“¤ì˜ ëª¨ì„ ê°™ë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ì‚¬ì‹¤ &lt;strong>2ì°¨ì›ì ì¸ í…Œì´ë¸”ì´ ì•„ë‹Œ ì¤‘ì²©ëœ ë§µ êµ¬ì¡°&lt;/strong>ì´ë‹¤.
&lt;ul>
&lt;li>&lt;code>SortedMap&amp;lt;Row Key, SortedMap&amp;lt;Column Key, Column Value&amp;gt;&amp;gt;&lt;/code> ê°™ì€ ëŠë‚Œìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ë‹¨ì¼ Rowì— ëŒ€í•œ ì „ì²´ ë°ì´í„°ë“¤ì€ ë””ìŠ¤í¬ì— ì €ì¥ë  ë•Œ ì„œë¡œ ì¸ì ‘í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤.
&lt;ul>
&lt;li>í•˜ì§€ë§Œ í•˜ë‚˜ì˜ Column-Familyì— ëŒ€í•œ ë°ì´í„°ë“¤ì€ ì¸ì ‘í•´ì„œ ì €ì¥ëœë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Schemaê°€ ê°•ì œë˜ì§„ ì•ŠìŒ.&lt;/li>
&lt;li>&lt;strong>JOINì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²ƒ ê°™ë‹¤.&lt;/strong>&lt;/li>
&lt;li>&lt;strong>ì—„ì²­ë‚˜ê²Œ ë§ì€ ë°ì´í„°, ë†’ì€ í™•ì¥ì„±, ë†’ì€ ê°€ìš©ì„±ì— íŠ¹í™”&lt;/strong>ëœ ë“¯í•˜ë‹¤.&lt;/li>
&lt;li>ì»¬ëŸ¼ê°’ë“¤ì˜ ë²„ì „ ê´€ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤.&lt;/li>
&lt;/ul>
&lt;p>í™•ì¥ê³¼ ê°€ìš©ì„±ì— íŠ¹í™”ëœ DBì´ë‹¤ë³´ë‹ˆ ë§ˆìŠ¤í„°ê°€ SPOF (ë‹¨ì¼ ì‹¤íŒ¨ ì§€ì )ì´ ë  ìˆ˜ ìˆëŠ” í˜•íƒœë¥¼ ì§€ì–‘í•œ ë“¯í•˜ê³ , Column-Family DBëŠ” P2P í˜•íƒœë¡œ ì–´ëŠ ëˆ„êµ¬ í•˜ë‚˜ê°€ ë§ˆìŠ¤í„°ì´ì§€ ì•Šê³  í‰ë“±í•˜ë‹¤.&lt;/p>
&lt;p>ë”°ë¼ì„œ í´ëŸ¬ìŠ¤í„° ë‚´ ì„œë²„ë“¤ì˜ ìƒíƒœ ê³µìœ , ë°ì´í„° ìµœì‹ í™” ë° ë³µì œ ë“± ê¸°ì¡´ì— ë§ˆìŠ¤í„°ê°€ ìˆ˜í–‰í•˜ë˜ ì‘ì—…ì„ ë™ë£Œ Nodeë“¤ë¼ë¦¬ ì•Œì•„ì„œ ìˆ˜í–‰í•´ì•¼í•˜ê³  ê·¸ë¥¼ ìœ„í•œ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì´ í•„ìš”í•œë° ì´ë•Œ ë™ë£Œ Nodeë“¤ì´ ë§ì•„ì§ˆ ìˆ˜ë¡ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì´ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ëŠ˜ì–´ë‚  ìˆ˜ ìˆë‹¤. ì´ëŸ° ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì„ íš¨ìœ¨ì ìœ¼ë¡œ í•˜ê¸° ìœ„í•œ í”„ë¡œí† ì½œë“¤ë„ ìƒê²¨ë‚˜ê²Œ ëë‹¤. ê°„ëµíˆë§Œ ì •ë¦¬í•´ë³´ìë©´ ê·¸ ì¤‘ í•˜ë‚˜ê°€ â€œê°€ì‹­ í”„ë¡œí† ì½œâ€ì´ë©°, â€œê° ë…¸ë“œê°€ ë‹¤ë¥¸ ëª¨ë“  ë…¸ë“œë“¤ì˜ ìƒíƒœë¥¼ ì§ì ‘ ì²´í¬í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼ ê°ìê°€ ëª‡ ëª‡ ë…¸ë“œì˜ ìƒíƒœë¥¼ ì§ì ‘ ì²´í¬í•˜ê³  ë‚˜ë¨¸ì§€ ë…¸ë“œì˜ ìƒíƒœëŠ” ì„œë¡œ ì£¼ê³  ë°›ì€ ì •ë³´ë¥¼ ì°¸ê³ í•œë‹¤â€ ì •ë„ë¡œ ì •ë¦¬í•´ë³¼ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>Column-Family DBëŠ” ì£¼ë¡œ ë¹…ë°ì´í„° ë¶„ì•¼ì—ì„œ ë§ì´ ì“°ì´ëŠ” ê²ƒ ê°™ê³ , ë¹…ë°ì´í„°ë¥¼ ë‹¤ë£° ë•Œì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì‘ì—…ë“¤ì´ í•„ìš”í•˜ë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;code>ETL&lt;/code> (Extract, Transfrom, Load) - ë°ì´í„°ì˜ ì¶”ì¶œ, ì ì ˆí•œ í˜•íƒœë¡œ ê°€ê³µ, ì ì¬&lt;/li>
&lt;li>ë°ì´í„° ë¶„ì„&lt;/li>
&lt;li>DB ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§&lt;/li>
&lt;/ul>
&lt;p>Column-Family DBëŠ” ìœ„ì™€ ê°™ì€ ê¸°ëŠ¥ë“¤ì„ ì˜ ì œê³µí•˜ê³  ìˆë‹¤. ë°˜ë©´ ì£¼ë¡œ ì œí’ˆ(ë¹„ì¦ˆë‹ˆìŠ¤) ë¡œì§ì„ ìœ„í•œ ë°ì´í„° ì €ì¥ì€ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤, Key-Value DB, ë¬¸ì„œ DBë¥¼ ë§ì´ ì´ìš©í•˜ëŠ” ê²ƒ ê°™ê¸°ëŠ” í•˜ë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ê°„ë‹¨íˆ ì •ë¦¬í•˜ë ¤ë‹¤ê°€ ë‹¤ì‹œ ê¶ê¸ˆì¦ì´ ìƒê²¨ì„œ ìë£Œë¥¼ ì¢€ ì°¾ì•„ë³´ë˜ ì¤‘ ì»¬ëŸ¼ íŒ¨ë°€ë¦¬ë¥¼ ì œí’ˆ ë¡œì§ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì¼€ì´ìŠ¤ì— ê´€í•´ &lt;a class="link" href="http://hochul.net/blog/cassandra-data-modeling-best-practices-part-1/" target="_blank" rel="noopener"
>eBayì˜ ìƒí’ˆ ì¢‹ì•„ìš” ê¸°ëŠ¥ì„ Cassandraë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„° ëª¨ë¸ë§í•˜ëŠ” ê²ƒ ê´€ë ¨ ì¢‹ì€ ê¸€&lt;/a>ì„ ë°œê²¬í•˜ê²Œ ë˜ì–´ ì´ ê¸€ì„ ì°¸ê³ í•´ë³´ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤. ìš”ì•½ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.&lt;/p>
&lt;ul>
&lt;li>ìš”êµ¬ë˜ëŠ” &lt;strong>ì¡°íšŒ íŒ¨í„´ì„ ê·¼ê±°ë¡œ ì˜¬ë°”ë¥¸ ìˆ˜ì¤€ì˜ ë¹„ì •ê·œí™”&lt;/strong>ë¥¼ í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.&lt;/li>
&lt;li>ë„ˆë¬´ ì •ê·œí™” ë˜ì–´ìˆìœ¼ë©´ í•„ìš”í•œ ì •ë³´ë¥¼ ì°¾ê¸° ìœ„í•´ í•œ ë²ˆ ë” ì¡°íšŒê°€ í•„ìš”í•  ìˆ˜ ìˆê³  ë¹„íš¨ìœ¨ì ì´ë‹¤.&lt;/li>
&lt;li>ë„ˆë¬´ ë¹„ì •ê·œí™” ë˜ì–´ìˆìœ¼ë©´ ë¶ˆí•„ìš”í•˜ê²Œ ìˆ˜ë§ì€ ë°ì´í„°ê°€ ì¤‘ë³µë˜ê²Œ ë˜ê³ , ìˆ˜ì • ì‚¬í•­ ë°˜ì˜ì´ ì‰½ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.&lt;/li>
&lt;/ul>
&lt;h1 id="graph-db">Graph DB&lt;/h1>
&lt;p>GraphDBëŠ” ë¡œìš°, ì»¬ëŸ¼ ë“±ì„ ë°”íƒ•ìœ¼ë¡œ ë°ì´í„°ë¥¼ ëª¨ë¸ë§í•˜ëŠ” ëŒ€ì‹ ì— ë…¸ë“œ(í˜¹ì€ ì •ì , Vertex)ì™€ ê´€ê³„(Relation í˜¹ì€ Edge)ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ëª¨ë¸ë§í•œë‹¤. ì´ë•Œ EdgeëŠ” ë°©í–¥ì´ ìˆì„ ìˆ˜ë„ ìˆê³ , ì—†ì„ ìˆ˜ë„ ìˆë‹¤.&lt;/p>
&lt;p>ì„œë¡œ ë§ì€ ê´€ê³„ë¥¼ ë§ºëŠ” ì¼€ì´ìŠ¤ì— ì‚¬ìš©í•˜ê¸° ì¢‹ì€ ë“¯í•œë°, ì˜ˆë¥¼ ë“¤ë©´ SNSì˜ ìœ ì € ê°„ì˜ ì¹œë°€ë„, ë„¤íŠ¸ì›Œí¬ì—ì„œ ë„ì‹œ ê°„ì˜ ì†Œìš” ì‹œê°„ ë“±ì„ ë‚˜íƒ€ë‚´ê¸° ì¢‹ë‹¤.&lt;/p>
&lt;p>Graph DBì—ì„œ ëª¨ë¸ë§í•  ìˆ˜ ìˆëŠ” ê·¸ë˜í”„ì™€ ê·¸ ì˜ˆì‹œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.&lt;/p>
&lt;ul>
&lt;li>ë°©í–¥ ê·¸ë˜í”„ - ì¡°ì§ êµ¬ì„±ì›ì˜ ìƒí•˜ ê´€ê³„&lt;/li>
&lt;li>ë¬´ë°©í–¥ ê·¸ë˜í”„ - ì¡°ì§ êµ¬ì„±ì›ì˜ í˜‘ë ¥ ê´€ê³„&lt;/li>
&lt;li>ìœ ë™ ë„¤íŠ¸ì›Œí¬ (Flow network) - ë„ë¡œ ì‹œìŠ¤í…œ, êµí†µ ë„¤íŠ¸ì›Œí¬. (ì˜ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤.)&lt;/li>
&lt;li>ì´ë¶„ ê·¸ë˜í”„ - ê° ì—°ê²° ê´€ê³„ë“¤ì„ ë”°ë¼ ê°€ë©´ ë‘ ê°œì˜ ì§‘í•©ìœ¼ë¡œ ë²ˆê°ˆì•„ í‘œí˜„ë˜ëŠ” ê·¸ë˜í”„
&lt;ul>
&lt;li>e.g. ìœ ì € - ê²Œì‹œê¸€ì˜ ì¢‹ì•„ìš” ê´€ê³„
&lt;ul>
&lt;li>ìœ ì € - ê²Œì‹œê¸€ - ìœ ì € - ê²Œì‹œê¸€ - &amp;hellip;&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>e.g. ì„ ìƒë‹˜ê³¼ í•™ìƒì˜ ê´€ê³„
&lt;ul>
&lt;li>ì„ ìƒë‹˜ - í•™ìƒ - ì„ ìƒë‹˜ - í•™ìƒ - &amp;hellip;&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ë‹¤ì¤‘ ê·¸ë˜í”„ - vertex â†” vertex ê°„ì— ì—¬ëŸ¬ edgeê°€ ì¡´ì¬í•  ìˆ˜ ìˆëŠ” ê²½ìš°
&lt;ul>
&lt;li>e.g. ë„¤ë¹„ê²Œì´ì…˜&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ê°€ì¤‘ ê·¸ë˜í”„ - edgeì— ê°€ì¤‘ì¹˜ê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš°
&lt;ul>
&lt;li>e.g. ìµœë‹¨ ê²½ë¡œ ì°¾ê¸°&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ê·¸ë˜í”„ DBë¥¼ ì–¸ì œ ì‚¬ìš©í•  ìˆ˜ ìˆì„ê¹Œ?&lt;/strong>&lt;/p>
&lt;p>&lt;strong>í•­ìƒ ì–´ë–¤ DBë¥¼ ì‚¬ìš©í•  ì§€, ì–´ë–»ê²Œ ëª¨ë¸ë§í• ì§€ëŠ” ì‚¬ìš©í•˜ë ¤ëŠ” íŒ¨í„´, íŠ¹íˆ ì¡°íšŒ íŒ¨í„´ì— ê·¼ê±°í•´ì„œ ê³ ë ¤&lt;/strong>ë˜ì–´ì•¼í•œë‹¤.&lt;/p>
&lt;p>ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒê³¼ ê°™ì€ ì¡°íšŒ íŒ¨í„´ì„ ê°€ì§„ ê²½ìš° ê·¸ë˜í”„ DBë¥¼ ì‚¬ìš©í•˜ë©´ ì¢‹ë‹¤.&lt;/p>
&lt;ul>
&lt;li>ì •ì  Aì—ì„œ ì •ì  Bë¡œ ê°€ëŠ” ì—£ì§€ëŠ” ëª‡ ê°œì¸ê°€?&lt;/li>
&lt;li>ì •ì  Aì—ì„œ ì •ì  Bë¡œ ê°€ëŠ” ì—£ì§€ ì¤‘ ë¹„ìš©ì´ 100 ë¯¸ë§Œì¸ ì—£ì§€ëŠ” ëª‡ ê°œì¸ê°€?&lt;/li>
&lt;li>ì •ì  Aì—ì„œ ì •ì  Bë¡œ ê°€ëŠ” ê°€ì¥ íš¨ìœ¨ì ì¸ ê²½ë¡œëŠ” ë¬´ì—‡ì¸ê°€?&lt;/li>
&lt;/ul>
&lt;p>ì¢€ ë” ì‹¤ìƒí™œê³¼ ë°€ì ‘í•œ ì˜ˆì‹œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.&lt;/p>
&lt;ul>
&lt;li>ìœ ì € Aì™€ ì¹œë°€ë„ê°€ ë†’ì€ ìœ ì €ë“¤ì€ ëˆ„êµ¬ì¸ê°€?&lt;/li>
&lt;li>ìœ ì € Aì™€ ìœ ì € Bê°€ í•¨ê»˜ ì•„ëŠ” ì¹œêµ¬ê°€ ì¡´ì¬í•˜ëŠ”ê°€?&lt;/li>
&lt;li>ì§€ì—­ Aì—ì„œ ì§€ì—­ Bê¹Œì§€ ì´ë™í•  ìˆ˜ ìˆëŠ” ê²½ë¡œê°€ ì¡´ì¬í•˜ëŠ”ê°€?&lt;/li>
&lt;/ul>
&lt;p>ì´ë ‡ê²Œ &lt;strong>íŠ¹ì • ì—”í‹°í‹°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•´ë‹¹ ì—”í‹°í‹°ì™€ ì—”í‹°í‹°ì™€ ë‹¤ë¥¸ ì—”í‹°í‹°ë“¤ì˜ ì—°ê²° ê´€ê³„ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì¡°íšŒë¥¼ í•˜ëŠ” ê²½ìš° ê·¸ë˜í”„ DBë¥¼ ì‚¬ìš©í•˜ë©´ ì¢‹ë‹¤&lt;/strong>.&lt;/p>
&lt;p>ë°˜ë©´, ë‹¤ìŒê³¼ ê°™ì´ ì—”í‹°í‹°ë‚˜ í…Œì´ë¸” ì „ì²´ì— ê±¸ì¹œ ì§ˆì˜ëŠ” ì í•©í•˜ì§€ ì•Šë‹¤.&lt;/p>
&lt;ul>
&lt;li>ì˜¤ëŠ˜ ë°›ì€ ì¢‹ì•„ìš”ê°€ ê°€ì¥ ë§ì€ ê²Œì‹œê¸€ì€ ì–´ë–¤ ê²Œ ìˆëŠ”ê°€?&lt;/li>
&lt;li>ê°€ì¥ ì—°ê²°ëœ ê²½ë¡œê°€ ë§ì€ ì§€ì—­ì€ ì–´ë””ì¸ê°€?&lt;/li>
&lt;/ul>
&lt;p>ì‹¤ì œë¡œëŠ” Graph DBë¥¼ ì´ìš©í•˜ëŠ” ìœ ì¦ˆì¼€ì´ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìš´ì†¡ íšŒì‚¬ê°€ ìˆì„ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>&lt;strong>â€œì œí•œ ì‹œê°„ ë‚´ì— ìš´ì†¡ ê°€ëŠ¥í•œ ìµœì†Œ ë¹„ìš© ê²½ë¡œë¥¼ ì°¾ê¸°â€&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>ìš´ì†¡ ì†Œìš” ì‹œê°„ì„ ê°€ì¤‘ì¹˜ë¡œ í•œ ì¶œë°œ ì‹œì„¤ â†” ë„ì°© ì‹œì„¤ ê°„ì˜ ì—°ê²° ê´€ê³„ê°€ ì¡´ì¬&lt;/li>
&lt;li>ê²½ë¡œë¥¼ ê±°ì³ê°€ë˜ ì¤‘ ì œí•œ ì‹œê°„ì„ ì´ˆê³¼í•˜ê²Œ ë˜ë©´ ê·¸ ê²½ë¡œëŠ” ì œì™¸ë¨.&lt;/li>
&lt;li>ê·¸ ì™¸ì˜ ê°€ëŠ¥í•œ ê²½ë¡œ ì¤‘ ê°€ì¥ ì €ë ´í•œ ê²½ë¡œë¥¼ ì±„íƒ!&lt;/li>
&lt;/ol>
&lt;h1 id="ì°¸ê³ í•´ë³´ë©´-ì¢‹ì„-ê²ƒ-ê°™ì€-ë§í¬">ì°¸ê³ í•´ë³´ë©´ ì¢‹ì„ ê²ƒ ê°™ì€ ë§í¬&lt;/h1>
&lt;ul>
&lt;li>ì¹´ì‚°ë“œë¼ ë°ì´í„° ëª¨ë¸ë§ part.2 - eBayì˜ ì¢‹ì•„ìš” ëª¨ë¸ë§ - &lt;a class="link" href="http://hochul.net/blog/cassandra-data-modeling-best-practices-part-1/" target="_blank" rel="noopener"
>http://hochul.net/blog/cassandra-data-modeling-best-practices-part-1/&lt;/a>&lt;/li>
&lt;li>Data modeling ê´€ë ¨ ì¹´ì‚°ë“œë¼ ë¬¸ì„œ - &lt;a class="link" href="https://cassandra.apache.org/doc/latest/cassandra/data_modeling/index.html" target="_blank" rel="noopener"
>https://cassandra.apache.org/doc/latest/cassandra/data_modeling/index.html&lt;/a>
&lt;ul>
&lt;li>ì‹œê°„ ë‚˜ë©´ ì½ì–´ë³´ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h1 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h1>
&lt;p>ê°„ë‹¨í•˜ê²Œ Column-Family DBì™€ Graph DBì— ëŒ€í•´ ì •ë¦¬í•´ë´¤ë‹¤. ì±… ë‚´ìš© ì™¸ì—ë„ ìœ„ì— ì²¨ë¶€í•œ eBayì˜ Cassandra ëª¨ë¸ë§ ì´ì•¼ê¸°ê°€ ê½¤ ì¬ë¯¸ìˆê³ , í‰ì†Œ ê¶ê¸ˆí–ˆë˜ ë‚´ìš©ì„ ì˜ ì•Œë ¤ì¤€ ê²ƒ ê°™ë‹¤. ì±…ì„ ì½ìœ¼ë©´ì„œ ì•Œê²Œ ëì§€ë§Œ ë¬´ì‹¬ì½” ì§€ë‚˜ì¹œ ë‚´ìš©ë“¤ì´ë‚˜ ê¹Œë¨¹ì€ ë‚´ìš©ë“¤ì´ ê½¤ ìˆì—ˆë˜ ê²ƒ ê°™ì€ë° ë¦¬ë·°ë¥¼ ê¸°íšŒ ì‚¼ì•„ í•œ ë²ˆì”© ë‹¤ì‹œ ë˜ëŒì•„ ë³¼ ìˆ˜ ìˆëŠ” ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>ë‹¤ìŒ ì±…ë„ ë¦¬ë·°í•´ë³´ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤!&lt;/p>
&lt;p>ì´ê±¸ë¡œ 2022ë…„ ì²« ì±… ë¦¬ë·° ë~!&lt;/p></description></item><item><title>(ë„ì„œ) "NoSQL ì² ì € ì…ë¬¸" - Key-Value ë°ì´í„°ë² ì´ìŠ¤, ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤</title><link>https://umi0410.github.io/blog/computer-science/book-review-nosql-introduction-2/</link><pubDate>Sat, 12 Mar 2022 15:30:54 +0900</pubDate><guid>https://umi0410.github.io/blog/computer-science/book-review-nosql-introduction-2/</guid><description>&lt;img src="https://umi0410.github.io/blog/computer-science/book-review-nosql-introduction-2/partitioning.png" alt="Featured image of post (ë„ì„œ) "NoSQL ì² ì € ì…ë¬¸" - Key-Value ë°ì´í„°ë² ì´ìŠ¤, ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤" />&lt;h1 id="ë„ì„œ-nosql-ì² ì €-ì…ë¬¸---key-value-db-document-db">(ë„ì„œ) â€œNoSQL ì² ì € ì…ë¬¸â€ - Key-Value DB, Document DB&lt;/h1>
&lt;h1 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h1>
&lt;p>ì•ì„  ê¸€ì—ì„œëŠ” â€œNoSQL ì² ì € ì…ë¬¸â€ì´ë¼ëŠ” ë„ì„œì— ëŒ€í•œ ì´í‰ê³¼ NoSQL ë°ì´í„°ë² ì´ìŠ¤ë“¤ì´ ê³µí†µì ìœ¼ë¡œ ê°–ëŠ” íŠ¹ì§•ì— ëŒ€í•´ ì•Œì•„ë´¤ë‹¤.&lt;/p>
&lt;p>ì´ë²ˆ ê¸€ì—ì„œëŠ” NoSQLë“¤ ì¤‘ì—ì„œë„ Key-Value DBì™€ Document DBì´ íŠ¹íˆë‚˜ ì„œë¡œ ìœ ì‚¬í•œ í˜•íƒœë¥¼ ë„ëŠ” ê²ƒ ê°™ì•„ ë¬¶ì–´ì„œ ì •ë¦¬í•´ë³´ë ¤í•œë‹¤.&lt;/p>
&lt;p>ì¶”ê°€ì ìœ¼ë¡œ ê°ìì˜ ê³ ìœ í•œ íŠ¹ì§•ì€ ì•„ë‹ˆë”ë¼ë„ ê³µí†µì  íŠ¹ì§•ì¼ ìˆ˜ ìˆëŠ” Master - Slave(read replica) êµ¬ì¡°ë‚˜ Partitioning, Sharding ë“±ë“±ì— ëŒ€í•´ì„œë„ ì •ë¦¬í•  ì˜ˆì •ì´ë‹¤.&lt;/p>
&lt;h1 id="key-value-database">Key-Value Database&lt;/h1>
&lt;ul>
&lt;li>í‚¤ì™€ ê°’ ë¿ì¸ ê°€ì¥ ê°„ë‹¨í•œ í˜•íƒœì˜ NoSQL ì¢…ë¥˜ì´ë‹¤.&lt;/li>
&lt;li>ì•„ì£¼ ë‹¨ìˆœí•œ ì¡°íšŒë§Œì´ ì§€ì›ëœë‹¤. í‚¤ë¥¼ í†µí•´ì„œë§Œ ì¡°íšŒê°€ ê°€ëŠ¥í•˜ë‹¤.
&lt;ul>
&lt;li>í‚¤ë¥¼ ì•Œê³  ìˆë‹¤ë©´ ë°ì´í„°ë¥¼ ë°”ë¡œ ì°¾ì„ ìˆ˜ ìˆì§€ë§Œ í‚¤ê°€ ì—†ë‹¤ë©´ í’€ì„œì¹˜ë¥¼ í•´ì•¼í•  ìˆ˜ ìˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>Key-Value DatabaseëŠ” ê°„ë‹¨í•œ í˜•íƒœì˜ DBì´ê¸° ë•Œë¬¸ì— í…Œì´ë¸”ì´ë‚˜ ê·¸ë˜í”„ë¡œ ë³µì¡í•œ ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚´ë ¤ëŠ” ê²½ìš°ì—ëŠ” ë¶€ì í•©í•˜ë‹¤. ë‹¨ìˆœ ì €ì¥ê³¼ í‚¤ë¥¼ ë°”íƒ•ìœ¼ë¡œí•œ ì¡°íšŒë¡œ ì¶©ë¶„í•œ ê²½ìš°ì— ê°€ë³ê²Œ ì‚¬ìš©í•˜ê¸° ì¢‹ë‹¤.&lt;/p>
&lt;p>ì•„ë¬´ë˜ë„ ë‹¨ìˆœí•¨ì€ ë¹ ë¥¸ ì†ë„ì™€ë„ ì—°ê´€ì´ ë˜ê¸° ë•Œë¬¸ì— ì†ë„ê°€ ë¹ ë¥¸ í¸ì´ê³  ëŒ€í‘œì ì¸ ì˜ˆì‹œê°€ Redisì´ë‹¤. ë‹¨ìˆœí•œ ë™ì‘ì— In-Memory Databaseë¼ëŠ” íŠ¹ì§•ìœ¼ë¡œ ì¸í•´ RedisëŠ” ì—„ì²­ë‚œ ì†ë„ë¥¼ ìë‘í•œë‹¤.&lt;/p>
&lt;p>ë‹¨, ë©”ëª¨ë¦¬ ê°™ì´ ì‘ì€ í¬ê¸°ì˜ ì €ì¥ì†Œë¥¼ ì´ìš©í•  ë•ŒëŠ” ì €ì¥ì†Œê°€ ê°€ë“ ì°¨ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì•¼í•œë‹¤! ì£¼ë¡œ ì´ë¥¼ ìœ„í•´ ì£¼ë¡œ eviction policyë¼ëŠ” ì €ì¥ì†Œê°€ ê°€ë“ ì°¨ê¸°ì „ì— ë°ì´í„°ë¥¼ ì ì ˆíˆ ì‚­ì œí•˜ëŠ” ì •ì±…ì„ ì„¤ì •í•œë‹¤. ì£¼ë¡œ ì¸-ë©”ëª¨ë¦¬ ì €ì¥ì†ŒëŠ” ìºì‹œë¡œ ì‚¬ìš©ë˜ê³ , ìºì‹œëŠ” ì§€ì—­ì„±ì„ ê·¼ê±°ë¡œ í•˜ê¸° ë•Œë¬¸ì— ì‹œê°„ ì§€ì—­ì„±ì„ ë°”íƒ•ìœ¼ë¡œí•œ LRU ê´€ë ¨ ì •ì±…ì´ ë§ì´ ì‚¬ìš©ëœë‹¤.&lt;/p>
&lt;p>Key-Value DBëŠ” Keyë¥¼ ë°”íƒ•ìœ¼ë¡œ ì¡°íšŒê°€ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— Keyì— ì¡°íšŒ ì¡°ê±´ì´ í¬í•¨ë˜ì–´ì•¼ í•œë‹¤. ë§Œì•½ ì–´ë–¤ ìœ ì €ì˜ ìµœê·¼ ì•Œë¦¼ ë‚´ì—­ ì •ë³´ë¥¼ Key-Value DB ì¤‘ í•˜ë‚˜ì¸ Redisì— ì €ì¥í•œë‹¤ê³  í•´ë³´ì.&lt;/p>
&lt;pre tabindex="0">&lt;code>recent_notifications:{{username}} = [{{json string}}, {{json stirng}}]
ì˜ˆë¥¼ ë“¤ì–´ ìœ ì €ê°€ umi0410ì´ë¼ë©´
ì•„ë˜ì™€ ê°™ì´ Redisì— í•´ë‹¹ ìœ ì €ì˜ ìµœê·¼ ì•Œë¦¼ ë‚´ì—­ ì •ë³´ë¥¼ ì €ì¥í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.
recent_notifications:umi0410 = [
&amp;#34;{\&amp;#34;id\&amp;#34;: 1, \&amp;#34;title\&amp;#34;: \&amp;#34;1ë²ˆ ì•Œë¦¼ì…ë‹ˆë‹¤.\&amp;#34;}&amp;#34;,
&amp;#34;{\&amp;#34;id\&amp;#34;: 2, \&amp;#34;title\&amp;#34;: \&amp;#34;2ë²ˆ ì•Œë¦¼ì…ë‹ˆë‹¤.\&amp;#34;}&amp;#34;
]
&lt;/code>&lt;/pre>&lt;p>ìœ„ì™€ ê°™ì´ ë°ì´í„°ë¥¼ ì €ì¥í•˜ë©´ ì½ì„ ë•Œì—ë„ íŠ¹ì • ìœ ì €ì˜ ìµœê·¼ ì•Œë¦¼ ì •ë³´ë¥¼ ì½ì–´ì˜¬ ìˆ˜ ìˆì„í…ë°, ì´ë•Œ ì•ì„œ ì–¸ê¸‰í–ˆë“¯ Keyë§Œì„ ë°”íƒ•ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê²Œ ëœë‹¤.&lt;/p>
&lt;p>RDBì˜ ê²½ìš° ì£¼ë¡œ ì˜ë¯¸ ì—†ëŠ” Auto Increment IDë¥¼ PKì´ì Clustered Indexë¡œ ì„¤ì •í•˜ê¸° ë•Œë¬¸ì— Write ì‹œì— Auto Increment IDë¥¼ ë°”íƒ•ìœ¼ë¡œ ë””ìŠ¤í¬ì— ë°ì´í„°ê°€ ì—°ì†ëœ ìœ„ì¹˜ì— ì €ì¥ë˜ë„ë¡ í•˜ëŠ” í¸ì´ë‹¤. RDBëŠ” PKê°€ ì•„ë‹ˆë¼ë„ ë‹¤ì–‘í•œ ì¡°ê±´ìœ¼ë¡œ ê°’ì„ ê²€ìƒ‰í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— PKëŠ” ì„±ëŠ¥ì„ ê³ ë ¤í•´ ì˜ë¯¸ ì—†ëŠ” Auto Increment IDë¥¼ ë„£ëŠ” ê²ƒì´ë‹¤.&lt;/p>
&lt;p>ë°˜ë©´ Key-Value DatabaseëŠ” Keyë¥¼ ë°”íƒ•ìœ¼ë¡œ ë°–ì— ë°ì´í„°ë¥¼ ì¡°íšŒí•  ìˆ˜ê°€ ì—†ê¸° ë•Œë¬¸ì— Key (RDBì˜ PKì™€ ìœ ì‚¬í•˜ê²Œ IDì˜ ì—­í• ì„ í•œë‹¤ê³  ë³¼ ìˆ˜ ìˆìŒ)ì— ì˜ë¯¸ê°€ ë‹´ê²¨ì•¼í•œë‹¤.&lt;/p>
&lt;ul>
&lt;li>ğŸ”µ Keyê°€ &lt;code>recent_notifications:umi0410&lt;/code> ì²˜ëŸ¼ ì¡°íšŒ ëª©ì ì— ë¶€í•©í•˜ëŠ” ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” ê²½ìš° â†’ umi0410 ìœ ì €ì— ëŒ€í•œ ë°ì´í„°ê°€ ì €ì¥ë˜ëŠ” key ê°’ì„ ì•Œ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì§ì ‘ Key ê°’ì„ ì°ì–´ì„œ ë°ì´í„°ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆìŒ&lt;/li>
&lt;li>âŒ Keyê°€ &lt;code>recent_notifications:1&lt;/code> ì²˜ëŸ¼ ì˜ë¯¸ ì—†ëŠ” ìˆ«ìê°’ì¸ ê²½ìš° â†’ umi0410 ìœ ì €ì— ëŒ€í•œ ë°ì´í„°ë¥¼ ì°¾ìœ¼ë ¤ë©´ Full scanì„ í•´ì•¼í•  ìˆ˜ ìˆìŒ.&lt;/li>
&lt;/ul>
&lt;h2 id="key-value-databaseëŠ”-ì–¸ì œ-ì‚¬ìš©í•˜ë©´-ì¢‹ì„ê¹Œ">Key-Value databaseëŠ” ì–¸ì œ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ê¹Œ?&lt;/h2>
&lt;p>ì±…ì— ë‚˜ì˜¨ Key-Value database ì‚¬ìš© ì˜ˆì‹œë¥¼ ë‹¤ì‹œ ë³´ë‹ˆ ë³„ë¡œ ë§ˆìŒì— ì•ˆ ë“¤ì–´ì„œ ë‚´ ìƒê°ëŒ€ë¡œ ì ì–´ë³´ë ¤í•œë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ Key-Value databaseëŠ” Keyë§Œìœ¼ë¡œ ì¡°íšŒ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤.&lt;/p>
&lt;p>Redisì™€ ê°™ì€ In-memory ë°ì´í„°ë² ì´ìŠ¤ì˜ ê²½ìš°ì—ëŠ” ë‚®ì€ ë ˆì´í„´ì‹œê°€ ì¤‘ìš”í•˜ë‹¤ê±°ë‚˜ ìˆ˜ëª…ì´ ì§§ì€ ë°ì´í„°ì— ì£¼ë¡œ ì‚¬ìš©í•œë‹¤. ë§ì´ ë´ì™”ë˜ ì¼€ì´ìŠ¤ëŠ” &lt;strong>ìºì‹œë‚˜ ì¥ë°”êµ¬ë‹ˆ ì •ë³´, ì„¸ì…˜ ì •ë³´ ë“±ì´ ìˆëŠ” ê²ƒ ê°™ë‹¤.&lt;/strong>&lt;/p>
&lt;p>ìœ ì €ê°€ ì²˜ìŒ ì•±ì— ì ‘ì†í•  ë•Œ í•„ìš”í•  ë§Œí•œ ì•Œë¦¼ ê°œìˆ˜ë‚˜ í”¼ë“œ ì •ë³´ë“±ì„ ìºì‹œí•´ë‘ë©´ ì¢€ ë” ë¹¨ë¦¬ ìœ ì €ì—ê²Œ ì •ë³´ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.&lt;/p>
&lt;p>ì¥ë°”êµ¬ë‹ˆë‚˜ ì„¸ì…˜ ì •ë³´ ê°™ì€ ê²ƒë“¤ì€ ì˜êµ¬ì ìœ¼ë¡œ í•„ìš”í•œ ë°ì´í„°ê°€ ì•„ë‹ˆë©´ì„œ ì •í•©ì„±ì´ ì—„ì²­ ì¤‘ìš”í•˜ë‹¤ê±°ë‚˜ ê´€ê³„ê°€ ë³µì¡í•œ ë°ì´í„°ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ê°„ë‹¨í•˜ê²Œ Key-Value DBë¥¼ ì´ìš©í•˜ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>â€œRedis ì¥ë°”êµ¬ë‹ˆâ€ë‚˜ â€œRedis shopping cartâ€ë¡œ êµ¬ê¸€ë§í•˜ë©´ ìë£Œê°€ ê½¤ ë‚˜ì™€ì„œ ë‚˜ì¤‘ì— ì‹œê°„ ë˜ë©´ ì¢€ ë” ì°¾ì•„ë³´ê³ ì‹¶ë‹¤.&lt;/p>
&lt;h1 id="document-database">Document database&lt;/h1>
&lt;p>Document DBëŠ” Key-Valueì™€ ê½¤ë‚˜ ìœ ì‚¬í•˜ì§€ë§Œ Valueì˜ í˜•íƒœê°€ ë‹¨ìˆœí•œ ê°’ì´ë¼ê¸°ë³´ë‹¨ JSONì´ë‚˜ YAML, XML ê°™ì€ Semi structured(ë°˜ì •í˜•) í˜•íƒœë¥¼ ë„ëŠ” ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë§í•œë‹¤.&lt;/p>
&lt;p>ë¬¸ì„œëŠ” Key-Value ìŒì˜ ì§‘í•©ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ë°ì´í„° í˜•íƒœê°€ ë‹¨ìˆœí•˜ë©´ Key-Value DBë¥¼, ê·¸ë³´ë‹¤ ì¢€ ë” ë³µì¡í•˜ë©´ Document DBë¥¼ ì‚¬ìš©í•˜ëŠ” í¸ì´ë¼ê³  í•œë‹¤. ì—¬ê¸°ì— ì¶”ê°€ì ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„°ê°€ í›¨ì”¬ ì»¤ì§€ê³ , í•œ Keyì— ê´€ë ¨ëœ ì •ë³´ê°€ ë°©ëŒ€í•´ì§€ë©´ Columnar DBë¥¼ ë„ì…í•˜ê²Œ ë˜ëŠ” ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>Document DBëŠ” ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì™€ë„ ìœ ì‚¬í•œ ê°œë…ì„ ê°–ê¸°ë„ í•œë‹¤.&lt;/p>
&lt;ul>
&lt;li>ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” Row, ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” ë¬¸ì„œê°€ ì¡´ì¬&lt;/li>
&lt;li>ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” Rowì˜ ì§‘í•©ì¸ í…Œì´ë¸”, Document DBì—ì„œëŠ” ë¬¸ì„œì˜ ì§‘í•©ì¸ ì»¬ë ‰ì…˜ì´ ì¡´ì¬&lt;/li>
&lt;li>ë‹¨, ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ëŠ” ê°™ì€ í…Œì´ë¸” ë‚´ì˜ Rowë“¤ì´ ëª¨ë‘ ë™ì¼í•œ í˜•íƒœë¥¼ ê°–ë„ë¡ ìŠ¤í‚¤ë§ˆë¥¼ ê°•ì œí•œë‹¤.&lt;/li>
&lt;li>ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ê°™ì€ ì»¬ë ‰ì…˜ ë‚´ì˜ ë¬¸ì„œë“¤ì´ ì–¼ë§ˆë“ ì§€ ë‹¤ë¥¸ í˜•íƒœë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤!&lt;/li>
&lt;/ul>
&lt;p>Document DBëŠ” Unstructured dataê°€ ì•„ë‹Œ ê·¸ë‚˜ë§ˆ ì¡°ê¸ˆì€ êµ¬ì¡°ê°€ ì¡´ì¬í•˜ëŠ” Semi structured dataë¥¼ ì €ì¥í•˜ê¸° ë•Œë¬¸ì— ì¢€ ë” ë‹¤ì–‘í•œ ì§ˆì˜ê°€ ê°€ëŠ¥í•˜ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ Keyê°€ ì•„ë‹Œ ì†ì„±ì„ ë°”íƒ•ìœ¼ë¡œë„ ì§ˆì˜ë¥¼ í•  ìˆ˜ ìˆê³ , ì¸ë±ìŠ¤ë¥¼ ê±¸ ìˆ˜ë„ ìˆë‹¤.&lt;/p>
&lt;p>ë‹¨ RDBì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì¸ë±ìŠ¤ ì„¤ì •ì„ ë„ˆë¬´ ì ê²Œ í•˜ë©´ ì½ê¸° ì„±ëŠ¥ì´ ë‚˜ë¹ ì§ˆ ìˆ˜ ìˆê³ , ì¸ë±ìŠ¤ ì„¤ì •ì„ ë„ˆë¬´ ë§ì´ í•˜ë©´ ì“°ê¸° ì„±ëŠ¥ì´ ë‚˜ë¹ ì§ˆ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>BI(Business Intelligence)ë‚˜ ì¼ë°˜ì ì¸ ì›¹ ì„œë¹„ìŠ¤ëŠ” Write ë³´ë‹¤ Readê°€ í›¨ì”¬ ë§ë‹¤. ë°˜ë©´ ë¡œê·¸ì„± ë°ì´í„°ë“¤ì€ Writeê°€ Readë³´ë‹¤ í›¨ì”¬ ë§ë‹¤.&lt;/p>
&lt;p>ë§Œì•½ Readì™€ Writeê°€ ë‘˜ ë‹¤ ë§ìœ¼ë©´ì„œë„ ì§§ì€ Latencyê°€ ì¤‘ìš”í•˜ë‹¤ë©´ Writeìš©ìœ¼ë¡œëŠ” ë‹¨ìˆœ ì ì¬í˜• ë°ì´í„°ë² ì´ìŠ¤ì™€ Read ìš©ìœ¼ë¡œëŠ” ìˆ˜ë§ì€ ì¸ë±ìŠ¤ë¥¼ ì§€ì›í•˜ê¸° ìš©ì´í•œ ë°ì´í„° ì›¨ì–´í•˜ìš°ìŠ¤ ë“±ì„ ì´ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì¦‰ ì–´ëŠ í•œ ê°€ì§€ DBë§Œì„ ì„ íƒí•  ê²ƒì´ ì•„ë‹ˆë¼ ê° DBë¥¼ ê° í•„ìš”í•œ ìƒí™©ì— ì ìš©í•  ìˆ˜ë„ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤. ì£¼ë¡œ ì“°ê¸° ì‘ì—…ì— ìµœì í™”ëœ DBì˜ ë‚´ìš©ì´ ì½ê¸° ì‘ì—…ì— ìµœì í™”ëœ DBë¡œ ì „ë‹¬ë˜ë„ë¡ êµ¬ì¶•í•œ ë’¤ ì“°ê¸° ì‘ì—…ê³¼ ì½ê¸° ì‘ì—…ì„ ê°ê° ë‹¤ë¥¸ DBë¥¼ ì´ìš©í•˜ëŠ” í˜•íƒœê°€ ë§ì´ ì‚¬ìš©ëœë‹¤ê³  í•œë‹¤.&lt;/p>
&lt;h2 id="ë¬¸ì„œ-dbì—ì„œ-ê´€ê³„-ë‚˜íƒ€ë‚´ê¸°">ë¬¸ì„œ DBì—ì„œ ê´€ê³„ ë‚˜íƒ€ë‚´ê¸°&lt;/h2>
&lt;p>RDBëŠ” ê´€ê³„ë¥¼ ì£¼ë¡œ í…Œì´ë¸” ê°„ì˜ ì°¸ì¡°ë¥¼ í†µí•´ ë‚˜íƒ€ë‚¸ë‹¤. ê´€ê³„ì˜ ì¢…ë¥˜ì—ëŠ” 1 ëŒ€ 1, 1 ëŒ€ ë‹¤, ë‹¤ ëŒ€ ë‹¤ê°€ ìˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>1 ëŒ€ 1ê³¼ 1 ëŒ€ N ê´€ê³„
&lt;ul>
&lt;li>1ì—ì„œ ì™„ì „íˆ ìƒëŒ€ 1ì´ë‚˜ ìƒëŒ€ N ì„ ì™„ì „íˆ ì„œë¸Œ ë¬¸ì„œ í˜•íƒœë¡œ ì •ì˜ë¥¼ í•  ìˆ˜ ìˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>M ëŒ€ N ê´€ê³„
&lt;ul>
&lt;li>í•œ ìª½ì´ í•œ ìª½ì„ ì™„ì „íˆ í¬í•¨í•  ìˆ˜ëŠ” ì—†ì–´ ê²°êµ­ì—” ë‘ ê°œì˜ ì»¬ë ‰ì…˜ì´ í•„ìš”í•˜ë‹¤.&lt;/li>
&lt;li>ìì‹ ê³¼ ê´€ë ¨ëœ ìƒëŒ€ë°© ì •ë³´ëŠ” ê°ìê°€ ì €ì¥í•˜ê¸° ë•Œë¬¸ì— ì–‘ìª½ì— ë°ì´í„°ê°€ ìµœì‹ í™”ë˜ê³  ì°¸ì¡° ë¬´ê²°ì„±ì„ ë³´ì¥í•˜ë„ë¡ ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ì—ì„œ ì˜ ì²˜ë¦¬í•´ì•¼í•œë‹¤.&lt;/li>
&lt;li>ì±…ì—ëŠ” ìì‹ ê³¼ ê´€ë ¨ëœ ìƒëŒ€ ë¬¸ì„œë“¤ì˜ IDë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ê´€ë¦¬í•´ ì°¸ì¡°í•˜ë„ë¡ ë‚˜ì™€ìˆëŠ”ë° ì´ ê²½ìš°ì—ë„ ì¤‘ì²© ë¬¸ì„œì˜ í˜•íƒœë¡œ ë‚˜íƒ€ë‚¼ ìˆ˜ëŠ” ìˆì„ ê²ƒì´ë¼ ìƒê°í•œë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ê°„ë‹¨íˆ Key-Value DB, Document DBì— ëŒ€í•´ ì•Œì•„ë´¤ë‹¤. ì´ì œëŠ” NoSQLì—ì„œ ë…¸ë“œì˜ ì—­í• ì€ ì–´ë–¤ ê²ƒë“¤ì´ ìˆì„ì§€, ê° ë…¸ë“œë“¤ì€ ì–´ë–¤ ë°ì´í„°ë“¤ì„ ì–´ë–¤ ë¡œì§ì— ì˜í•´ ë‹´ë‹¹í•˜ê²Œ ë˜ëŠ”ì§€ ì •ë¦¬í•´ë³´ë ¤í•œë‹¤.&lt;/p>
&lt;h2 id="ë¬¸ì„œ-dbëŠ”-ì–¸ì œ-ì‚¬ìš©í•˜ë©´-ì¢‹ì„ê¹Œ">ë¬¸ì„œ DBëŠ” ì–¸ì œ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ê¹Œ?&lt;/h2>
&lt;ul>
&lt;li>ë°ì´í„° í˜•íƒœê°€ Key-Valueì— ì €ì¥í•  ì •ë„ë¡œ ê°„ë‹¨í•˜ì§€ëŠ” ì•Šì€ ê²½ìš°&lt;/li>
&lt;li>Key ë§Œìœ¼ë¡œ ì¡°íšŒ ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±í•  ìˆ˜ ì—†ëŠ” ê²½ìš°&lt;/li>
&lt;li>ACID íŠ¸ëœì­ì…˜ê¹Œì§€ëŠ” í•„ìš”í•˜ì§€ ì•Šì€ ê²½ìš°&lt;/li>
&lt;li>ë°ì´í„°ì˜ í˜•íƒœê°€ ì •í˜•í™”ë˜ì§€ ì•Šê³  ì¡°ê¸ˆì”©ì€ ë‹¬ë¼ì„œ Schemaë¥¼ ì¤€ìˆ˜í•˜ê¸° í˜ë“  ê²½ìš°&lt;/li>
&lt;li>ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¡œëŠ” ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” í•œê³„ê°€ ìˆì–´ ìˆ˜í‰ Scaleì´ í•„ìš”í•  ì •ë„ì¸ ê²½ìš°&lt;/li>
&lt;/ul>
&lt;p>ìš”ì²­ì´ ìŸì•„ì§€ëŠ” ê²Œ ì•„ë‹ˆë¼ë©´ ì‚¬ì‹¤ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¡œ ë§ì€ ìƒí™©ë“¤ì„ í•´ê²°í•  ìˆ˜ ìˆê³  ê·¸ ê²½ìš° ì•„ì§ì€ ë‚˜ëŠ” ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì„ í˜¸í•œë‹¤. ì•„ë¬´ë˜ë„ ì—­ì‚¬ê°€ ê¹Šì–´ì„œ ë ˆí¼ëŸ°ìŠ¤ë„ ë§ê³  í¸ë¦¬í•œ ORM ë„êµ¬ë“¤ë„ ë§ê¸° ë•Œë¬¸ì´ë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ &lt;strong>ê³ ì •ëœ ìŠ¤í‚¤ë§ˆë¥¼ ì¤€ìˆ˜í•˜ê¸° í˜ë“¤ê±°ë‚˜ ìˆ˜í‰ scaleì´ í•„ìš”í•œ ê²½ìš°ì—ëŠ” ë¬¸ì„œ DBë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ì ì ˆí•˜ë‹¤&lt;/strong>. ì˜ˆë¥¼ ë“¤ë©´ ê²Œì‹œíŒ, ëŒ“ê¸€, ì±„íŒ… ë©”ì‹œì§€ë“±ì´ ë  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>ë°˜ë©´ ì£¼ë¬¸ì´ë‚˜ ê²°ì œ ë‚´ì—­, ì¬ê³  ìƒí™© ê°™ì€ ë°ì´í„°ë“¤ì€ ACID íŠ¸ëœì­ì…˜ì´ í•„ìš”í•  ìˆ˜ ìˆì–´ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²Œ ì¢‹ì„ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;h1 id="rdbì—ì„œ-ë§ì´-ì‚¬ìš©ë˜ëŠ”-ë§ˆìŠ¤í„°-ìŠ¬ë ˆì´ë¸Œread-replica-êµ¬ì¡°">RDBì—ì„œ ë§ì´ ì‚¬ìš©ë˜ëŠ” ë§ˆìŠ¤í„°-ìŠ¬ë ˆì´ë¸Œ(Read Replica) êµ¬ì¡°&lt;/h1>
&lt;ul>
&lt;li>ì“°ê¸° ê¶Œí•œì´ ìˆëŠ” Master nodeëŠ” ì—¬ì „íˆ í•œ ëŒ€, Master nodeë¥¼ ë³µì œí•´ Read ìš”ì²­ë§Œ ì²˜ë¦¬í•˜ëŠ” ReplicaëŠ” ì—¬ëŸ¬ ëŒ€ ë‘˜ ìˆ˜ ìˆëŠ” êµ¬ì¡°&lt;/li>
&lt;li>ì—¬ëŸ¬ ì„œë²„ë¥¼ í•˜ë‚˜ì˜ ì„œë²„ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í˜•íƒœì¸ í´ëŸ¬ìŠ¤í„° í˜•íƒœ ì¹˜ê³ ëŠ” ê·¸ë‚˜ë§ˆ ë‹¨ìˆœí•˜ë‹¤.&lt;/li>
&lt;li>ì“°ê¸°ì— ë¹„í•´ ì½ê¸° ìš”ì²­ì´ ì›”ë“±íˆ ë§ì€ ê²½ìš° ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤!&lt;/li>
&lt;li>ë…¸ë“œ ê°„ í†µì‹ ì´ ë§ì´ í•„ìš” ì—†ê³  ì£¼ë¡œ ë³µì œë¥¼ ìœ„í•´ ë§ˆìŠ¤í„° â†” ìŠ¬ë ˆì´ë¸Œê°„ì˜ í†µì‹ ë§Œ í•˜ë©´ ë˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.
&lt;ul>
&lt;li>Columnar DBì˜ ê²½ìš° ë‹¤ìˆ˜ì˜ ë§ˆìŠ¤í„°ê°€ ì¡´ì¬í•  ìˆ˜ ìˆê³ , ì´ ê²½ìš° ìƒíƒœ ì²´í¬ë¥¼ ìœ„í•´ ë‹¤ìˆ˜ì˜ ë§ˆìŠ¤í„° ë…¸ë“œ ê°„ì— í†µì‹ ì´ í•„ìš”í•˜ê³ , ì´ë¥¼ ìœ„í•´ â€œê°€ì‹­ í”„ë¡œí† ì½œâ€ ê°™ì€ í”„ë¡œí† ì½œì´ ì¡´ì¬í•˜ê¸°ë„ í•œë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ë‚˜ëŠ” AWSë¥¼ ì£¼ë¡œ ì‚¬ìš©í•´ì˜¨í„°ë¼ RDSë¥¼ ë‹¤ë£° ë•Œì—ëŠ” Read replica ì–˜ê¸°ê°€ ë¹ ì§ ì—†ì´ ë“±ì¥í•´ì„œ ì¹œìˆ™í–ˆë‹¤. RDBëŠ” ì›ë˜ ìˆ˜í‰ì  Scaleì´ í˜ë“  í¸ì´ë‹¤. ì—„ê²©íˆë„ ì¼ê´€ì„±ì„ ì¤‘ìš”ì‹œí•˜ë‹¤ë³´ë‹ˆ ë¶„ì‚° í™˜ê²½ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ë§ì€ ê²ƒ ê°™ê³ (í™•ì‹¤í•˜ì§„ ì•ŠìŒ ã…ã…) ì§€ì›í•œë‹¤í•´ë„ ë…¸ë“œ ìˆ˜ê°€ ì¦ê°€í•¨ì— ë”°ë¼ ì„±ëŠ¥ë„ ì„ í˜•ì ìœ¼ë¡œ ì¦ê°€í•˜ê¸°ëŠ” í˜ë“¤ë‹¤. ê·¸ë˜ë„ RDBì—ì„œì˜ ìˆ˜í‰ì  Scaleì— ëŒ€í•œ ë‹ˆì¦ˆë„ ë§ì´ ì¡´ì¬í•˜ë‹¤ë³´ë‹ˆ ìš”ì¦˜ì€ AWSì—ì„œë„ Auroraì— Multi master ê¸°ëŠ¥ì„ ë¶™ì´ê±°ë‚˜ RDSì—ë„ ìµœëŒ€ 15ê°œ ê°ˆì´ì˜ Read Replicaë¥¼ ì§€ì›í•˜ê¸°ë„ í•œë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ì•„ë¬´ë˜ë„ RDBì˜ ì—„ê²©í•œ ì¼ê´€ì„±ì´ ê°–ëŠ” í•œê³„ë¥¼ ì™„ì „íˆ ë–¨ì³ë‚¼ ìˆ˜ëŠ” ì—†ê¸° ë•Œë¬¸ì¼ì§€ ì†ê°€ë½ ë°œê°€ë½ í•©ì³ì„œ ì…€ ìˆ˜ ìˆëŠ” ê°œìˆ˜ ì •ë„ ê¹Œì§€ë§Œ ìˆ˜í‰ Scaleì´ ê°€ëŠ¥í•œ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>ê·¸ ê°œìˆ˜ë¥¼ NoSQL ì¤‘ í•˜ë‚˜ì¸ Redisì™€ ë¹„êµí•´ë³´ì. Redisì˜ ê²½ìš°ëŠ” 1000ê°œì˜ ë§ˆìŠ¤í„° ë…¸ë“œê¹Œì§€ë„ ì„ í˜•ì ìœ¼ë¡œ ì„±ëŠ¥ì´ ì¦ê°€í•œë‹¤ê³  í•œë‹¤. ì„ í˜•ì ì¸ ì¦ê°€ë¥¼ ì¡°ê±´ìœ¼ë¡œ í–ˆì„ ë•Œ ìµœëŒ€ 1000ê°œì˜ ë§ˆìŠ¤í„°ì¸ ê²ƒì´ì§€ ì•½ 16,000ì—¬ê°œì˜ ë§ˆìŠ¤í„°ê¹Œì§€ë„ ëŠ˜ë¦´ ìˆ˜ëŠ” ìˆê¸´í•˜ë‹¤. ê²Œë‹¤ê°€ ê° ë§ˆìŠ¤í„° ë…¸ë“œì— ëŒ€í•œ ìŠ¬ë ˆì´ë¸Œê¹Œì§€ êµ¬ì„±í•  ìˆ˜ ìˆìœ¼ë‹ˆ ì–¼ë§ˆë‚˜ í™•ì¥ì„±ì—ì„œ ì°¨ì´ê°€ ë‚˜ëŠ”ì§€ ì–´ëŠ ì •ë„ ì‹¤ê°í•  ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;h1 id="íŒŒí‹°ì…”ë‹-partitioning">íŒŒí‹°ì…”ë‹ (Partitioning)&lt;/h1>
&lt;p>íŒŒí‹°ì…”ë‹ì´ë€ ë¬´ì–¸ê°€ë¥¼ ë¶„ë¦¬í•˜ëŠ” ì‘ì—…ì„ ë§í•˜ëŠ”ë° ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” ì£¼ë¡œ ë°ì´í„°ë¥¼ ë¶„ë¦¬í•´ì„œ ì €ì¥í•˜ëŠ” ê²½ìš°ë¥¼ ë§í•œë‹¤.&lt;/p>
&lt;ul>
&lt;li>ìˆ˜ì§ íŒŒí‹°ì…”ë‹ - í•œ í…Œì´ë¸”ì„ ì—¬ëŸ¬ ê°€ìƒì˜ í…Œì´ë¸”ë¡œ ë¶„ë¦¬í•´ì„œ ì €ì¥í•˜ëŠ” ê²ƒ&lt;/li>
&lt;li>ìˆ˜í‰ íŒŒí‹°ì…”ë‹ - partition keyë¥¼ ë°”íƒ•ìœ¼ë¡œ ë¶„ì‚°í•˜ì—¬ ê·¸ì— í•´ë‹¹í•˜ëŠ” ê°’ì„ ì €ì¥í•˜ëŠ” ê²ƒ&lt;/li>
&lt;/ul>
&lt;p>&lt;figure style="flex-grow: 179; flex-basis: 430px">
&lt;a href="https://umi0410.github.io/blog/computer-science/book-review-nosql-introduction-2/partitioning.png" data-size="1793x1000">&lt;img src="https://umi0410.github.io/blog/computer-science/book-review-nosql-introduction-2/partitioning.png"
srcset="https://umi0410.github.io/blog/computer-science/book-review-nosql-introduction-2/partitioning_huae423b6d1a3ea56410a819f008ee156e_828970_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/computer-science/book-review-nosql-introduction-2/partitioning_huae423b6d1a3ea56410a819f008ee156e_828970_1024x0_resize_box_3.png 1024w"
width="1793"
height="1000"
loading="lazy"
alt="íŒŒí‹°ì…”ë‹ ì˜ˆì‹œ">
&lt;/a>
&lt;figcaption>íŒŒí‹°ì…”ë‹ ì˜ˆì‹œ&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>RDBì—ì„œëŠ” ì£¼ë¡œ ìˆ˜ì§ íŒŒí‹°ì…”ë‹ë§Œì„ ì§€ì›í•˜ê³ , NoSQLì—ì„œëŠ” êµ³ì´ ìˆ˜ì§ íŒŒí‹°ì…”ë‹ì„ ì´ìš©í•˜ê¸°ë³´ë‹¨ ìˆ˜í‰ íŒŒí‹°ì…”ë‹ì„ ì´ìš©í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. (ì™œ NoSQLì—ì„œëŠ” ìˆ˜í‰ íŒŒí‹°ì…”ë‹ì„ ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ì§€ëŠ” ì˜ ëª¨ë¥´ê² ë‹¤.)&lt;/p>
&lt;p>RDBì—ì„œëŠ” ìˆ˜ì§ íŒŒí‹°ì…”ë‹ì„ í†µí•´ ìì£¼ í•¨ê»˜ ì ‘ê·¼í•˜ëŠ” ì»¬ëŸ¼ë“¤ì€ì€ SSD íŒŒí‹°ì…˜ì— ì €ì¥í•˜ê³ , ì˜ ì ‘ê·¼í•˜ì§€ ì•ŠëŠ” ì»¬ëŸ¼ë“¤ì€ HDD íŒŒí‹°ì…˜ì— ì €ì¥í•˜ëŠ” ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>NoSQLì—ì„œëŠ” ì£¼ë¡œ Partition keyë¡œ ë°ì´í„°ê°€ ì €ì¥ë  ë…¸ë“œê°€ ê²°ì •ë˜ê³  ê·¸ ë…¸ë“œì— ë°ì´í„°ë¥¼ ì €ì¥í•œë‹¤.&lt;/p>
&lt;h2 id="ìƒ¤ë”©-sharding">ìƒ¤ë”© (Sharding)&lt;/h2>
&lt;p>ê·¸ì¤‘ì—ì„œë„ ìˆ˜í‰ íŒŒí‹°ì…”ë‹ì€ ìƒ¤ë”©ì´ë¼ëŠ” ë˜ ë‹¤ë¥¸ ì´ë¦„ì„ ê°–ê³  ìˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 179; flex-basis: 431px">
&lt;a href="https://umi0410.github.io/blog/computer-science/book-review-nosql-introduction-2/shard.png" data-size="421x234">&lt;img src="https://umi0410.github.io/blog/computer-science/book-review-nosql-introduction-2/shard.png"
srcset="https://umi0410.github.io/blog/computer-science/book-review-nosql-introduction-2/shard_hu1ff96d9a5545f8f306191c429eca38fc_36432_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/computer-science/book-review-nosql-introduction-2/shard_hu1ff96d9a5545f8f306191c429eca38fc_36432_1024x0_resize_box_3.png 1024w"
width="421"
height="234"
loading="lazy"
alt="AWS ElasticCacheì˜ Shard. ì¶œì²˜: https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/Shards.html">
&lt;/a>
&lt;figcaption>AWS ElasticCacheì˜ Shard. ì¶œì²˜: &lt;a class="link" href="https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/Shards.html" target="_blank" rel="noopener"
>https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/Shards.html&lt;/a>&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>íŒŒí‹°ì…˜ í‚¤(ìƒ¤ë“œ í‚¤)ë¥¼ í†µí•´ ê·¸ í‚¤ì— ëŒ€í•œ ë°ì´í„°ë¥¼ ë‹´ë‹¹í•˜ëŠ” ë…¸ë“œ ê·¸ë£¹ì„ ìƒ¤ë“œë¼ê³  í•˜ê³ , í•œ ìƒ¤ë“œëŠ” Primary ë…¸ë“œë§Œ ì¡´ì¬í•  ìˆ˜ë„ ìˆê³  Read replicaë“¤ë„ ì¡´ì¬í•  ìˆ˜ë„ ìˆë‹¤.&lt;/p>
&lt;p>ê·¸ëŸ¼ íŒŒí‹°ì…˜ í‚¤ë¼ëŠ” ë†ˆì„ ë°”íƒ•ìœ¼ë¡œ ë°ì´í„°ê°€ ì–´ë””ì— ì €ì¥ë  ì§€ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì–´ë–»ê²Œ ê²°ì •í•˜ëŠ” ê±¸ê¹Œ?&lt;/p>
&lt;ul>
&lt;li>&lt;code>Range Partitioning&lt;/code> - íŒŒí‹°ì…˜ í‚¤ì˜ êµ¬ê°„ì— ë”°ë¼ ì–´ë–¤ ë…¸ë“œê°€ ë‹´ë‹¹í•  ì§€ë¥¼ ë¯¸ë¦¬ ì„ ì–¸í•´ë†“ê³ , ì´ë¥¼ ì°¸ì¡°í•˜ì—¬ ìƒ¤ë“œë¥¼ ì •í•œë‹¤.&lt;/li>
&lt;li>&lt;code>Hash Partitioning&lt;/code> - íŒŒí‹°ì…˜ í‚¤ë¥¼ ì¸ìë¡œ í•´ì‹± í•¨ìˆ˜ë¥¼ ìˆ˜í–‰í•´ ì–»ì–´ì§€ëŠ” ê²°ê³¼ê°’ì„ ìƒ¤ë“œë¡œ ì •í•œë‹¤.&lt;/li>
&lt;/ul>
&lt;p>ì£¼ë¡œ ë§ì´ ì‚¬ìš©ë˜ëŠ” ì ‘ê·¼ë²•ì€ Range ê¸°ë°˜ê³¼ Hash ê¸°ë°˜ ë‘ ê°€ì§€ì´ë‹¤.&lt;/p>
&lt;h2 id="range-partitioning">Range Partitioning&lt;/h2>
&lt;p>Range partitioningì€ ì•„ë˜ì™€ ê°™ì´ ë¯¸ë¦¬ íŒŒí‹°ì…˜ í‚¤ì˜ êµ¬ê°„ì— ë”°ë¼ ì–´ë–¤ ë…¸ë“œê°€ ë‹´ë‹¹í• ì§€ë¥¼ ë¯¸ë¦¬ ì„ ì–¸í•´ì•¼í•œë‹¤. ìƒ¤ë“œê°€ 4ê°œ ì¡´ì¬í•œë‹¤ê³  í•˜ê² ë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;code>id: 1&lt;/code> ~ &lt;code>id: 1000&lt;/code>ì€ 1ë²ˆ ìƒ¤ë“œê°€ ë‹´ë‹¹&lt;/li>
&lt;li>&lt;code>id: 1001&lt;/code> ~ &lt;code>id: 2000&lt;/code>ì€ 2ë²ˆ ìƒ¤ë“œê°€ ë‹´ë‹¹&lt;/li>
&lt;li>&lt;code>id: 2001&lt;/code> ~ &lt;code>id: 3000&lt;/code>ì€ 3ë²ˆ ìƒ¤ë“œê°€ ë‹´ë‹¹&lt;/li>
&lt;li>&lt;code>id: 3001&lt;/code> ~ &lt;code>id: 4000&lt;/code>ì€ 4ë²ˆ ìƒ¤ë“œê°€ ë‹´ë‹¹&lt;/li>
&lt;/ul>
&lt;p>ì•„ì£¼ &lt;strong>ì§ê´€ì ì´ê³  ê°„ë‹¨í•˜ë‹¤&lt;/strong>ëŠ” ì¥ì ì´ ìˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ &lt;strong>ë‹¨ì ë„ ì¡´ì¬&lt;/strong>í•œë‹¤. &lt;strong>ì˜ˆìƒí•˜ì§€ ëª»í•œ íŒŒí‹°ì…˜ í‚¤(4000 &amp;lt; id)ì¸ id: 4001ì¸ ë°ì´í„°&lt;/strong>ê°€ ë“±ì¥í•˜ê²Œ ë˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ? ì˜¬ë°”ë¥´ê²Œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ì§€ ëª»í•  ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>ë˜í•œ 1ë²ˆ, 2ë²ˆ ìƒ¤ë“œëŠ” ë¹„êµì  ì˜¤ë˜ëœ ìœ ì €ì— ëŒ€í•œ ë°ì´í„°ì´ê³  3, 4ë²ˆ ìƒ¤ë“œëŠ” ìµœê·¼ ìœ ì… ìœ ì €ì— ëŒ€í•œ ë°ì´í„°ë¼ ê° ìƒ¤ë“œë“¤ì— ëŒ€í•œ ìš”ì²­ì˜ ìˆ˜ê°€ ìƒì´í•˜ë‹¤ë©´ ì–´ë–»ê²Œ ë ê¹Œ? &lt;strong>ì˜¬ë°”ë¥´ê²Œ ìš”ì²­ì´ ë¶„ì‚°ë˜ì§€ ëª»í•˜ê³  íŠ¹ì • ìƒ¤ë“œë“¤ì—ê²Œë§Œ ì§‘ì¤‘ë  ìˆ˜ ìˆë‹¤&lt;/strong>ëŠ” ë¬¸ì œê°€ ìˆë‹¤.&lt;/p>
&lt;p>ë˜í•œ ê²°êµ­ì€ ì–´ë”˜ê°€ì— ì´ Range í• ë‹¹ ì •ë³´ë¥¼ ì €ì¥í•˜ê³  ê·¸ê²ƒì„ ì¡°íšŒí•´ì•¼í•œë‹¤. ê³µí†µìœ¼ë¡œ í•„ìš”í•œ ë°ì´í„°ê°€ ì–´ëŠ í•œ ê³³ì— ì €ì¥ë˜ì–´ì•¼í•œë‹¤ëŠ” ë¶€ë¶„ì—ì„œ ìš”ì²­ì´ ì¦ê°€í•˜ê³  ìƒ¤ë“œë„ í™•ì¥ë˜ëŠ” ìƒí™©ì—ì„œ ì´ëŸ° Range í• ë‹¹ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” ì¸¡ì´ ë³‘ëª©ì´ ë  ìˆ˜ë„ ìˆë‹¤.&lt;/p>
&lt;h2 id="hash-partitioning">Hash Partitioning&lt;/h2>
&lt;p>Hash partitioningì€ Range partitioningê³¼ ë‹¬ë¦¬ &lt;strong>ì–´ë–¤ ìƒ¤ë“œê°€ ì–´ë–¤ íŒŒí‹°ì…˜ í‚¤ë¥¼ ë‹´ë‹¹í•˜ëŠ”ì§€ì— ëŒ€í•œ ë§¤í•‘ í…Œì´ë¸”ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤.&lt;/strong> ìš”ì²­ìì¸¡ì—ì„œ &lt;strong>Hash í•¨ìˆ˜&lt;/strong>ë¥¼ ìˆ˜í–‰í•œ ê²°ê³¼ê°’ìœ¼ë¡œ ìì‹ ì´ ìš”ì²­í•´ì•¼í•˜ëŠ” ë…¸ë“œë¥¼ ìœ ì¶”í•  ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>ì˜ˆë¥¼ ë“¤ì–´ Range partitioningê³¼ ê°™ì´ ìƒ¤ë“œê°€ 4ê°œ ì¡´ì¬í•œë‹¤ê³  í•´ë³´ì&lt;/p>
&lt;ul>
&lt;li>&lt;code>id % 4 == 1&lt;/code> ì´ë©´ 1ë²ˆ ìƒ¤ë“œê°€ ë‹´ë‹¹&lt;/li>
&lt;li>&lt;code>id % 4 == 2&lt;/code> ì´ë©´ 2ë²ˆ ìƒ¤ë“œê°€ ë‹´ë‹¹&lt;/li>
&lt;li>&lt;code>id % 4 == 3&lt;/code> ì´ë©´ 3ë²ˆ ìƒ¤ë“œê°€ ë‹´ë‹¹&lt;/li>
&lt;li>&lt;code>id % 4 == 0&lt;/code> ì´ë©´ 4ë²ˆ ìƒ¤ë“œê°€ ë‹´ë‹¹&lt;/li>
&lt;/ul>
&lt;p>í´ë¼ì´ì–¸íŠ¸ì— í•„ìš”í•œ ì •ë³´ëŠ” ìƒ¤ë“œ ê°œìˆ˜ ë¿ì´ë‹¤. id=4001ì¸ ë°ì´í„°ê°€ ë“±ì¥í•´ë„ 4001 % 4ëŠ” 1ì´ë¯€ë¡œ 1ë²ˆ ìƒ¤ë“œê°€ ë‹´ë‹¹í•˜ë©´ ëœë‹¤.&lt;/p>
&lt;p>ì§€ê¸ˆ ì˜ˆì‹œì—ì„œëŠ” Partition keyê°€ idë¡œ numericí•œ ê°’ì„ ê°–ê¸° ë•Œë¬¸ì— hash í•¨ìˆ˜ë¥¼ ê±°ì¹˜ì§€ ì•Šê³  ëª¨ë“ˆëŸ¬ ì—°ì‚°ë§Œìœ¼ë¡œë„ ì›í™œíˆ ë™ì‘í•˜ëŠ” ê²ƒ ê°™ì§€ë§Œ ì‹¤ì œë¡œëŠ” non-numericí•œ ê°’ë“¤ì— ëŒ€í•´ì„œë„ ì§€ì›í•˜ê³  ê³¨ê³ ë£¨ ë°ì´í„°ê°€ ë¶„ì‚°ë  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ í•´ì‹± í•¨ìˆ˜ë“¤ì„ ì‚¬ìš©í•œë‹¤.&lt;/p>
&lt;p>ë‹¨ Hashing partitioningì—ë„ ë‹¨ì ì´ ì¡´ì¬í•˜ëŠ”ë° ë°”ë¡œ ìˆ˜í‰ Scaleì‹œì— ê° ìƒ¤ë“œê°€ ë‹´ë‹¹í•˜ëŠ” ë°ì´í„°ê°€ ìƒì´í•´ì§ˆ ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ë…¸ë“œê°€ 2ëŒ€ â†’ 4ëŒ€ë¡œ ì¦ê°€í•˜ëŠ” ê²½ìš°ë¥¼ ì˜ˆë¡œ ë“¤ì–´ë³´ê² ë‹¤.&lt;/p>
&lt;ul>
&lt;li>ê¸°ì¡´ (ë…¸ë“œ 2ëŒ€)
&lt;ul>
&lt;li>&lt;code>id = 1&lt;/code> â†’ 1ë²ˆ ë…¸ë“œ&lt;/li>
&lt;li>&lt;code>id = 2&lt;/code> â†’ 2ë²ˆ ë…¸ë“œ&lt;/li>
&lt;li>&lt;code>id = 3&lt;/code> â†’ 1ë²ˆ ë…¸ë“œ&lt;/li>
&lt;li>&lt;code>id = 4&lt;/code> â†’ 2ë²ˆ ë…¸ë“œ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ìˆ˜í‰ Scale í›„ (ë…¸ë“œ 4ëŒ€)
&lt;ul>
&lt;li>&lt;code>id = 1&lt;/code> â†’ 1ë²ˆ ë…¸ë“œ&lt;/li>
&lt;li>&lt;code>id = 2&lt;/code> â†’ 2ë²ˆ ë…¸ë“œ&lt;/li>
&lt;li>&lt;code>id = 3&lt;/code> â†’ &lt;del>1ë²ˆ ë…¸ë“œ&lt;/del> 3ë²ˆ ë…¸ë“œ&lt;/li>
&lt;li>&lt;code>id = 4&lt;/code> â†’ &lt;del>2ë²ˆ ë…¸ë“œ&lt;/del> 4ë²ˆ ë…¸ë“œ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ìœ„ì™€ ê°™ì´ ë°ì´í„°ë¥¼ ë‹´ë‹¹í•˜ëŠ” ìƒ¤ë“œë“¤ì´ ë§ì´ ë³€ê²½ë˜ì–´ rebalanceê°€ í•„ìš”í•˜ë‹¤ëŠ” ì–´ë ¤ì›€ì´ ì¡´ì¬í•œë‹¤. ê²Œë‹¤ê°€ ì´ ì–´ë ¤ì›€ì€ Scale out ë•Œ ë¿ë§Œ ì•„ë‹ˆë¼ Scale in ì‹œì—ë„ ì¡´ì¬í•˜ê¸°ë„ í•œë‹¤.&lt;/p>
&lt;p>ì´ëŸ° rebalance ê³¼ì •ì„ ì¢€ ë” ìµœì í™”í•˜ê¸° ìœ„í•´ consistent hashingì´ë¼ëŠ” ê°œë…ì´ ì¡´ì¬í•˜ê³  ì´ì— ëŒ€í•œ êµ¬í˜„ì²´ë¡œ virtual nodeë“¤ì„ ë‘ëŠ” ketama consistent hashingë„ ì¡´ì¬í•œë‹¤. ì´ì— ëŒ€í•´ì„œëŠ” ì±…ì— ê¹Šê²Œ ë“±ì¥í•˜ì§„ ì•Šê³  êµ¬ê¸€ë§ìœ¼ë¡œ ë§ì€ ìë£Œë¥¼ ì°¾ì•„ë³¼ ìˆ˜ ìˆê¸°ì— ì´ë²ˆ ê¸€ì—ì„œëŠ” ìƒëµí•˜ë„ë¡ í•˜ê² ë‹¤.&lt;/p>
&lt;h1 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h1>
&lt;p>Key-Value ë°ì´í„°ë² ì´ìŠ¤ì™€ Document ë°ì´í„°ë² ì´ìŠ¤ì˜ íŠ¹ì§•ì— ëŒ€í•´ ì ì–´ë´¤ë‹¤.&lt;/p>
&lt;p>ì±… ë‚´ìš©ì„ ìŠì–´ë²„ë¦¬ê¸° ì „ì— í•œ ë²ˆ ì •ë¦¬í•´ë³´ë©´ì„œ ë³µìŠµí•˜ë ¤í–ˆì—ˆëŠ”ë° ì‚´ì§ ê¹Œë¨¹ì–´ê°€ë˜ ë‚´ìš©ì´ë‚˜ ëŒ€ì¶© ì½ê³  ë„˜ì–´ê°„ ë¶€ë¶„ì— ëŒ€í•´ì„œë„ ì ê²€í•´ë³¼ ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>( &lt;strong>ì±… ë‚´ìš© ë¿ë§Œ ì•„ë‹ˆë¼ ë‚˜ì¤‘ì— ë³µìŠµí•  ìš©ë„ë¡œ ì œê°€ ê¸°ì¡´ì— ì•Œê³  ìˆë˜ ë‚´ìš©ì´ë‚˜ ì£¼ê´€ì ì¸ ì˜ê²¬ë“¤ë„ ì¡°ê¸ˆì”© ì ì–´ë†¨ìŠµë‹ˆë‹¤. ì˜ëª»ëœ ë‚´ìš©ì´ë¼ ìƒê°ë˜ëŠ” ë¶€ë¶„ì´ ìˆìœ¼ì‹œë©´ ì•Œë ¤ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤!&lt;/strong> )&lt;/p></description></item><item><title>(ë„ì„œ) "NoSQL ì² ì € ì…ë¬¸" í›„ê¸° ë° NoSQLì˜ ê³µí†µì  íŠ¹ì§•</title><link>https://umi0410.github.io/blog/computer-science/book-review-nosql-introduction-1/</link><pubDate>Fri, 11 Mar 2022 23:46:54 +0900</pubDate><guid>https://umi0410.github.io/blog/computer-science/book-review-nosql-introduction-1/</guid><description>&lt;img src="https://umi0410.github.io/blog/computer-science/book-review-nosql-introduction-1/cover.jpg" alt="Featured image of post (ë„ì„œ) "NoSQL ì² ì € ì…ë¬¸" í›„ê¸° ë° NoSQLì˜ ê³µí†µì  íŠ¹ì§•" />&lt;h1 id="ì±…ì„-ì½ê²Œ-ëœ-ê³„ê¸°">ì±…ì„ ì½ê²Œ ëœ ê³„ê¸°&lt;/h1>
&lt;p>ë‹¹ê·¼ë§ˆì¼“ í”Œë«í¼ íŒ€ì˜ ì„œë²„ ì—”ì§€ë‹ˆì–´ë¡œ ì§€ì›í•˜ê³  ë©´ì ‘ì„ ë³´ë©´ì„œ &lt;code>ì €ì¥ì†Œ&lt;/code>ì— ê´€ë ¨í•œ ì§ˆë¬¸ì„ ë§ì´ ë°›ì•˜ì—ˆë‹¤. &lt;code>ì €ì¥ì†Œ&lt;/code>ëŠ” &lt;code>ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤&lt;/code>ë‚˜ ë‹¤ì–‘í•œ &lt;code>NoSQL ë°ì´í„°ë² ì´ìŠ¤&lt;/code>ë“¤ì„ ì˜ë¯¸í•œë‹¤ê³  í•  ìˆ˜ ìˆê² ë‹¤.&lt;/p>
&lt;p>ë§ì€ ì§ˆë¬¸ë“¤ì´ ë‚˜ì™”ê³ , ë‹¹ì‹œì˜ ë‚˜ëŠ” ì‚¬ì‹¤ ë°ì´í„°ë² ì´ìŠ¤ ìª½ ì§€ì‹ì€ ê±°ì˜ ì „ë¬´í–ˆë˜ ê²ƒ ê°™ì•„ ì œëŒ€ë¡œ ëŒ€ë‹µì„ ëª»í•œ ê²Œ ë§ì•˜ë˜ ê²ƒ ê°™ë‹¤. ì¸í„´ ê·¼ë¬´ë¥¼ í•˜ë©´ì„œëŠ” ë‚´ê°€ ìµìˆ™í–ˆë˜ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ê°€ ì•„ë‹Œ NoSQL íŠ¹íˆ &lt;code>Redis&lt;/code>ë‚˜ &lt;code>DynamoDB&lt;/code> ë“±ì„ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ëª¨ìŠµë„ ë§ì´ ë³´ê²Œ ë˜ì–´ NoSQLì— ëŒ€í•´ ê´€ì‹¬ì´ ê°€ê²Œ ë˜ì—ˆë‹¤.&lt;/p>
&lt;p>&lt;em>â€˜ì™œ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ëŠ” ìˆ˜í‰ Scaleì´ ì–´ë µë‹¤ê³ ë“¤ í•˜ëŠ”ê±°ì§€?â€™&lt;/em>, &lt;em>â€˜ì™œ NoSQLì€ ìˆ˜í‰ Scaleì´ ìš©ì´í•˜ì§€?â€™&lt;/em>&lt;/p>
&lt;p>&lt;em>â€˜ì–´ë–¤ ê²½ìš°ì— ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ê°€ ì•„ë‹Œ NoSQLì„ ì‚¬ìš©í•˜ëŠ” ê²Œ ì ì ˆí• ê¹Œ?â€™&lt;/em>&lt;/p>
&lt;p>&lt;em>â€˜ì •ë§ NoSQLì´ì–´ì•¼ë§Œí•˜ëŠ” ê²½ìš°ë“¤ì´ ì¡´ì¬í• ê¹Œ?â€™&lt;/em>&lt;/p>
&lt;p>ìœ„ì™€ ê°™ì€ ê¶ê¸ˆì¦ì„ ê°–ê³  ìˆì—ˆê³ , ê·¸ëŸ° ë©´ì—ì„œ ë‹¤ì–‘í•œ NoSQL ì±…ë“¤ì„ ì°¾ì•„ë³´ë‹¤ê°€ í•˜ë‚˜ì˜ NoSQLì— ë”¥ë‹¤ì´ë¸Œí•˜ëŠ” ì±…ë³´ë‹¤ëŠ” &lt;strong>ë‹¤ì–‘í•œ NoSQL ë°ì´í„°ë² ì´ìŠ¤ë“¤ì´ ì–´ë–¤ íŠ¹ì§•ë“¤ì„ ê°–ëŠ”ì§€ ë¹„êµí•´ì£¼ê³ , ì‹¤ì œ ì‚¬ìš© ì‚¬ë¡€ëŠ” ì–´ë–¤ ê²½ìš°ê°€ ìˆì„ì§€ë¥¼ ì•Œë ¤ì£¼ëŠ” ì±…&lt;/strong>ì„ ì½ì–´ë³´ê³  ì‹¶ì—ˆë‹¤.&lt;/p>
&lt;h1 id="nosqlì˜-ê³µí†µëœ-íŠ¹ì§•">NoSQLì˜ ê³µí†µëœ íŠ¹ì§•&lt;/h1>
&lt;p>&lt;code>Key-Value&lt;/code>, &lt;code>Document&lt;/code>, &lt;code>Column family (í˜¹ì€ Columnar)&lt;/code> ë¥˜ì˜ NoSQL ë°ì´í„°ë² ì´ìŠ¤ë“¤ì— ëŒ€í•´ì„œëŠ” ì¶”í›„ ê° ê¸€ì—ì„œ ì •ë¦¬í•˜ëŠ” ê²ƒìœ¼ë¡œ í•˜ê³  ì´ë²ˆ ê¸€ì—ì„œëŠ” ì¢€ ë” ì „ë°˜ì ì¸ NoSQLì˜ íŠ¹ì§•ì— ëŒ€í•´ ì •ë¦¬í•˜ë ¤í•œë‹¤.&lt;/p>
&lt;p>NoSQLì€ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ê°€ ì•„ë‹Œ ë°ì´í„°ë² ì´ìŠ¤ë“¤ì„ í†µì¹­í•˜ëŠ” ëª…ì¹­ì´ê¸° ë•Œë¬¸ì— ê°ê°ì´ ë‹¤ì–‘í•œ íŠ¹ì§•ì„ ê°–ì§€ë§Œ íƒ„ìƒ ëª©ì  ìì²´ê°€ SQL ë°ì´í„°ë² ì´ìŠ¤ë¡œ ë§Œì¡±í•  ìˆ˜ ì—†ëŠ” ìœ ì¦ˆì¼€ì´ìŠ¤ë¥¼ ìœ„í•´ì„œ ì˜€ê¸° ë•Œë¬¸ì— SQL ë°ì´í„°ë² ì´ìŠ¤ì˜ ë°˜ëŒ€ë˜ëŠ” ìª½ìœ¼ë¡œëŠ” ê³µí†µì ì¸ íŠ¹ì§•ì„ ê°–ëŠ” í¸ì´ë‹¤.&lt;/p>
&lt;p>&lt;strong>ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì™€ NoSQLì€ ì ˆëŒ€ì ìœ¼ë¡œ ëˆ„ê°€ ë” ë‚«ë‹¤ë¥¼ ë¹„êµí•  ì¡´ì¬ë¼ê¸° ë³´ë‹¨ ê°ìê°€ ì ì ˆí•œ ëª©ì ì„ ê°–ëŠ” ìƒí˜¸ ë³´ì™„ì ì¸ ì¡´ì¬ì´ë‹¤!&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>Schemaless&lt;/code>&lt;/li>
&lt;li>&lt;code>ACID&lt;/code> íŠ¹ì„±ì„ ê°–ì§€ ì•ŠëŠ”ë‹¤.&lt;/li>
&lt;li>ì¢€ ì–µì§€ ë„¤ì´ë°ì´ê¸´ í•˜ì§€ë§Œ &lt;code>BASE&lt;/code> íŠ¹ì„±ì„ ê¸°ë°˜ìœ¼ë¡œ í•œë‹¤.&lt;/li>
&lt;li>&lt;code>Eventual consistency&lt;/code>&lt;/li>
&lt;li>ë¶„ì‚° ì‹œìŠ¤í…œ, ê³ ê°€ìš©ì„±, ëŒ€ê·œëª¨ íŠ¸ë˜í”½&lt;/li>
&lt;li>ì •ê·œí™”ë³´ë‹¨ ë¹„ì •ê·œí™”ì™€ ì¤‘ë³µ&lt;/li>
&lt;/ul>
&lt;p>ê·¸ëŸ¼ ê° íŠ¹ì§•ì— ëŒ€í•´ ì•Œì•„ë³´ì.&lt;/p>
&lt;h2 id="schemaless">Schemaless&lt;/h2>
&lt;p>&lt;strong>ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ëŠ” ê³ ì •ëœ í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ&lt;/strong>ë¥¼ ê°–ê³ , ëª¨ë“  ë ˆì½”ë“œëŠ” ê·¸ ìŠ¤í‚¤ë§ˆ êµ¬ì¡°ë¥¼ ë”°ë¼ì•¼ë§Œí•œë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë°ì´í„° í˜•íƒœê°€ ê³„ì†í•´ì„œ ë³€ê²½ë  ìˆ˜ ìˆëŠ” ê²½ìš°ì—ëŠ” ë¶ˆí¸í•  ìˆ˜ ìˆë‹¤. ë°ì´í„°ê°€ ì ì„ ë•Œì•¼ ê·¸ëƒ¥ &lt;code>alter table ...&lt;/code> ë¡œ ìŠ¤í‚¤ë§ˆë¥¼ ë³€ê²½í•˜ë©´ ê·¸ë§Œì´ê² ì§€ë§Œ ë°ì´í„°ì™€ íŠ¸ë˜í”½ì´ ë§ì€ ì‹¤ì œ í”„ë¡œë•ì…˜ì—ì„œëŠ” ì´ëŸ° ì‘ì—…ì´ ì‰½ì§€ ì•Šë‹¤.&lt;/p>
&lt;p>ë°˜ë©´ ê±°ì˜ ëª¨ë“  &lt;strong>NoSQL ë°ì´í„°ë² ì´ìŠ¤ëŠ” ìŠ¤í‚¤ë§ˆë¥¼ ê°•ì œí•˜ì§€ ì•Šê³  ììœ ë¡­ê²Œ ì €ì¥&lt;/strong>í•  ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;h2 id="acid-íŠ¹ì„±ì„-ê°–ì§€-ì•ŠëŠ”ë‹¤">ACID íŠ¹ì„±ì„ ê°–ì§€ ì•ŠëŠ”ë‹¤.&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>A (Atomic)&lt;/strong> - í•œ íŠ¸ëœì­ì…˜ì€ ì›ì ë‹¨ìœ„ë¡œ ì „ì²´ ì‘ì—…ì´ ì„±ê³µí•˜ê±°ë‚˜ ì „ì²´ ì‘ì—…ì´ ì‹¤íŒ¨í•´ì•¼í•œë‹¤. ë¶€ë¶„ ì‘ì—…ë§Œ ì ìš©ë˜ì–´ì„œëŠ” ì•ˆëœë‹¤.
&lt;ul>
&lt;li>ì‰½ê²Œ ë§í•˜ë©´ 0ê³¼ 1ì˜ ì´ë¶„ë²•ì  ì‚¬ê³ ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤. í•œ íŠ¸ëœì­ì…˜ ë‚´ì˜ ì¼ë¶€ ì‘ì—…ë§Œ ìˆ˜í–‰í•œ ì• ë§¤í•œ ìƒíƒœëŠ” ì¡´ì¬í•´ì„  ì•ˆëœë‹¤!&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>C (Consistency)&lt;/strong> - ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ëœ ë°ì´í„°ëŠ” ì¼ê´€ì„±ì„ ê°€ì ¸ì•¼í•œë‹¤.
&lt;ul>
&lt;li>ë§Œì•½ íŠ¸ëœì­ì…˜ì´ ì ìš©ë˜ì—ˆëŠ”ë° ë‹¤ìŒ Read ìš”ì²­ ì‹œ í•´ë‹¹ ë°ì´í„°ê°€ ì•„ì§ ë°˜ì˜ì´ ì•ˆë˜ì–´ìˆìœ¼ë©´ ì•ˆëœë‹¤.&lt;/li>
&lt;li>ë§Œì•½ íŠ¸ëœì­ì…˜ì´ ë¡¤ë°±ë˜ì—ˆëŠ”ë° í•´ë‹¹ ë°ì´í„°ê°€ ë‚¨ì•„ìˆëŠ” ìƒíƒœê°€ ì¡´ì¬í•˜ë©´ ì•ˆëœë‹¤.&lt;/li>
&lt;li>êµ¬ê¸€ë§í•˜ë‹¤ë³´ë©´ Consistencyë¥¼ ì–´ë–¤ ì´ìœ ì—ì„œì¸ì§€ columnì— ëŒ€í•œ ì œì•½ ì¡°ê±´ê³¼ ì—°ê´€ì§€ì–´ ì„¤ëª…í•˜ëŠ” í•œêµ­ì–´ ìë£Œë“¤ì„ ë§ì´ ì°¾ì•„ë³¼ ìˆ˜ ìˆëŠ”ë° ë‚˜ëŠ” ì´ëŠ” ì˜ëª»ëœ ì„¤ëª…ì´ ì•„ë‹Œê°€ ì‹¶ë‹¤.
&lt;ul>
&lt;li>íŠ¹íˆ NoSQLì˜ Eventual consistencyì™€ ëŒ€ì¡°í•´ë³´ë©´ columnì— ëŒ€í•œ ì œì•½ ì¡°ê±´ìœ¼ë¡œ consistencyë¥¼ ì„¤ëª…í•˜ëŠ” ê²ƒì€ ë”ìš± ë” ì˜ëª»ëœ ì„¤ëª…ì´ë¼ê³  ëŠê»´ì§€ì§€ ì•Šë‚˜ ì‹¶ë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>I (Isolation)&lt;/strong> - íŠ¸ëœì­ì…˜ ê³¼ì • ì¤‘ì—ëŠ” ì„œë¡œ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ ê°„ì—ëŠ” ì„œë¡œì˜ ê³¼ì •ì— ê°„ì„­í•  ìˆ˜ ì—†ë‹¤.
&lt;ul>
&lt;li>Isolationì€ ì ˆëŒ€ì ì¸ ê²ƒì€ ì•„ë‹ˆê³  í•„ìš”ì— ë”°ë¼ ì–¼ë§ˆë‚˜ íŠ¸ëœì­ì…˜ì„ ê³¨ë¹„ì‹œí‚¬ ê²ƒì¸ì§€ë¥¼ ì˜ë¯¸í•˜ëŠ” isolation levelì„ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤.&lt;/li>
&lt;li>&lt;code>Read uncommited&lt;/code>, &lt;code>Read commited&lt;/code>, &lt;code>Repeatable read&lt;/code>, &lt;code>Serializable&lt;/code> ì™€ ê°™ì€ Isolation levelë“¤ì´ ì¡´ì¬í•œë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>D (Durability)&lt;/strong> - commitëœ íŠ¸ëœì­ì…˜ì€ ì‹œìŠ¤í…œì´ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œë˜ë”ë¼ë„ ë³´ì¡´ë˜ì–´ì•¼í•œë‹¤.&lt;/li>
&lt;/ul>
&lt;p>&lt;code>ACID&lt;/code>ëŠ” &lt;strong>ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì œê³µí•˜ëŠ” íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ê¸° ìœ„í•´ ê°€ì ¸ì•¼í•  4ê°€ì§€ íŠ¹ì„±&lt;/strong>ì„ ì˜ë¯¸í•œë‹¤.&lt;/p>
&lt;p>&lt;code>NoSQL&lt;/code>ì€ ë³´í†µ ì´ëŸ° &lt;strong>ACID íŠ¹ì„±ì„ ì™„ë²½íˆ ì œê³µí•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.&lt;/strong> NoSQLì—ë„ íŠ¸ëœì­ì…˜ì´ ì¡´ì¬í•˜ê¸°ëŠ” í•˜ì§€ë§Œ ì•„ë§ˆ ACID íŠ¹ì„±ì„ ëª¨ë‘ ë§Œì¡±í•˜ëŠ” íŠ¸ëœì­ì…˜ì€ ì•„ë‹ ê²ƒì´ë‹¤.&lt;/p>
&lt;p>ACID íŠ¸ëœì­ì…˜ì€ ì •ë§ ì—„ê²©í•˜ê²Œ ì¼ê´€ëœ ë°ì´í„°ë¥¼ ê°•ì œí•˜ê¸° ë•Œë¬¸ì— ì´ë¥¼ ìœ„í•´ì„  ì„±ëŠ¥ì„ ë§ì€ ë¶€ë¶„ ì–‘ë³´í•´ì•¼í•˜ê³  ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œëŠ” íŠ¹íˆ ë™ì‘í•˜ê¸° í˜ë“¤ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.&lt;/p>
&lt;h2 id="base-íŠ¹ì„±ì„-ê¸°ë°˜ìœ¼ë¡œ-í•œë‹¤">BASE íŠ¹ì„±ì„ ê¸°ë°˜ìœ¼ë¡œ í•œë‹¤.&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>BA (Basically available)&lt;/strong> - ê³ ê°€ìš©ì„±ì„ ê°€ì ¸ì•¼í•œë‹¤.&lt;/li>
&lt;li>&lt;strong>S (Soft state)&lt;/strong> - ìœ ì €ì˜ ëª…ì‹œì  ëª…ë ¹ ì—†ì´ ë°ì´í„°ê°€ ë³€ê²½ë  ìˆ˜ ìˆë‹¤.
&lt;ul>
&lt;li>Eventual consistencyì— ì˜í•´ ë°ì´í„°ê°€ ë®ì–´ì”Œì›Œì§ˆ ìˆ˜ë„ ìˆê³ &lt;/li>
&lt;li>TTLì— ì˜í•´ ë°ì´í„°ê°€ ì‚¬ë¼ì§ˆ ìˆ˜ë„ ìˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>E (Eventual consistency)&lt;/strong> - ê²°ê³¼ì ìœ¼ë¡œëŠ” ì¼ê´€ì„±ì„ ëˆë‹¤.
&lt;ul>
&lt;li>ê·¸ ê³¼ì • ì†ì—ì„œ ë°ì´í„°ê°€ ì¼ê´€ë˜ì§€ ì•Šì€ ìƒíƒœë„ ì¡´ì¬í•  ìˆ˜ ìˆë‹¤.&lt;/li>
&lt;li>ì‚¬ì‹¤ Temporary inconsistencyê°€ ì¢€ ë” ì™€ë‹¿ëŠ” í‘œí˜„ì¼ ìˆ˜ë„.. í¬ì¸íŠ¸ëŠ” *â€˜ê²°ê³¼ì ìœ¼ë¡œëŠ” ì¼ê´€ì„±ì„ ê°–ê¸´ í•˜ëŠ”êµ¬ë‚˜~â€™*ê°€ ì•„ë‹Œ &lt;em>â€˜ì¼ì‹œì ìœ¼ë¡œëŠ” ì¼ê´€ë˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆêµ¬ë‚˜!â€™&lt;/em> ì´ë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì• ì´ˆì— ì—„ê²©í•˜ê²Œ ì¼ê´€ëœ ë°ì´í„°ë“¤ì„ ì €ì¥í•˜ê¸° ìœ„í•œ ì†”ë£¨ì…˜ì´ê¸°ì— ACIDë¥¼ ì§€ì›í•˜ì§€ë§Œ &lt;strong>NoSQLì€ ê·¸ëŸ° ì—„ê²©í•¨ìœ¼ë¡œ ì¸í•´ í™•ì¥ì„±ì´ë‚˜ ì„±ëŠ¥ì„ ì œí•œë°›ì§€ ì•Šê³ ì íƒ„ìƒí•œ ì†”ë£¨ì…˜&lt;/strong>ì´ë‹¤.&lt;/p>
&lt;p>ì—¬ê¸°ì„œ ë§í•˜ëŠ” &lt;strong>ì„±ëŠ¥&lt;/strong>ì€ ì‘ì€ ë°ì´í„°ì— ëŒ€í•œ ì„±ëŠ¥ì„ ì˜ë¯¸í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼ &lt;strong>ëŒ€ê·œëª¨ ë°ì´í„°ì— ëŒ€í•´ì„œë„ ì¤€ìˆ˜í•œ ì„±ëŠ¥&lt;/strong>ì„ ë‚´ëŠ” ê²ƒì„ ë§í•œë‹¤. ë°ì´í„°ê°€ ë§ì•„ì§ˆ ìˆ˜ë¡, ìš”ì²­ì´ ë§ì•„ì§ˆ ìˆ˜ë¡ ë²”ìš©ì ì¸ ìˆ˜ì¤€ì˜ ì„œë²„ë¡œëŠ” ìš”ì²­ì„ ë‹¤ ê°ë‹¹í•˜ê¸° í˜ë“ ë° ì´ë ‡ê²Œ ë˜ë©´ ë²”ìš©ì ì¸ ìˆ˜ì¤€ì˜ &lt;strong>ì„œë²„ë¥¼ ìˆ˜í‰ì ìœ¼ë¡œ ìŠ¤ì¼€ì¼&lt;/strong> í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.&lt;/p>
&lt;p>ë˜í•œ ê³ ê°€ìš©ì„±ì„ ìœ„í•´ì„œë„ ìˆ˜í‰ì ìœ¼ë¡œ ìŠ¤ì¼€ì¼í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤. (ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì˜ ê²½ìš° ì£¼ë¡œ ë°±ì—… ì„œë²„ë¥¼ ëŒ€ê¸°ì‹œì¼œë†“ëŠ” ì´ì¤‘í™”ë¥¼ í†µí•´ ê³ ê°€ìš©ì„±ì„ ì§€ì›í•œë‹¤.)&lt;/p>
&lt;p>í•˜ì§€ë§Œ ë‹¨ì¼ ì‹œìŠ¤í…œì´ ì•„ë‹Œ &lt;strong>ë¶„ì‚° ì‹œìŠ¤í…œì´ ë˜ê²Œ ë˜ë©´ ëª¨ë“  ë…¸ë“œë“¤ì´ ì¼ê´€ëœ ë°ì´í„°ë¥¼ ê°–ê¸°ê°€ í˜ë“¤ì–´ì§€ëŠ”ë° ì´ë¡œ ì¸í•´ ì—„ê²©í•œ ì¼ê´€ì„±ì´ ì•„ë‹Œ Eventual consistency&lt;/strong>ë¥¼ ì œê³µí•˜ê²Œ ëœë‹¤.&lt;/p>
&lt;p>ë°©ê¸ˆ í™•ì¥ì„±ì´ë‚˜ ì„±ëŠ¥, ê³ ê°€ìš©ì„±ì— ëŒ€í•œ íë¦„ìœ¼ë¡œ ë‚˜ì˜¨ ë‚´ìš©ë“¤ì´ CAP ì´ë¡ ê³¼ ê´€ë ¨ëœ ë‚´ìš©ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤. CAP ì´ë¡ ì— ëŒ€í•´ì„  ë”°ë¡œ ì •ë¦¬í•˜ì§€ ì•Šê² ë‹¤.&lt;/p>
&lt;h2 id="ì •ê·œí™”ë³´ë‹¨-ë¹„ì •ê·œí™”ì™€-ì¤‘ë³µ">ì •ê·œí™”ë³´ë‹¨ ë¹„ì •ê·œí™”ì™€ ì¤‘ë³µ&lt;/h2>
&lt;p>ë‚˜ëŠ” ëª¨ ê¸°ì—…ì˜ ê¸°ìˆ  ë©´ì ‘ì—ì„œ &lt;em>â€˜ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì—ì„œë„ JOINì„ í•˜ì§€ ë§ìëŠ” ì£¼ì¥ì„ ë‚´ëŠ” ì‚¬ëŒë“¤ë„ ìˆëŠ”ë°, ì´ìœ ê°€ ë­˜ê¹Œìš”?â€™&lt;/em> ë¼ëŠ” ì§ˆë¬¸ì„ ë°›ì€ ì ì´ ìˆì—ˆë‹¤. ì•ì„œ ë§í–ˆë“¯ ë‚˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ì§€ì‹ì´ ë§ì´ ë¶€ì¡±í•˜ê¸°ë„ í–ˆê¸° ë•Œë¬¸ì— ì§ˆë¬¸ì— ëŒ€í•œ ëŒ€ë‹µì€ ë‘˜ì§¸ì¹˜ê³  &lt;em>â€˜ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ JOINì„ ì“°ì§€ ë§ìëŠ” ì‚¬ëŒë„ ìˆë‚˜&amp;hellip;?â€™&lt;/em> ë¼ëŠ” ìƒê° ë¿ì´ì—ˆë‹¤.&lt;/p>
&lt;p>ê³„ì† ì–˜ê¸°í•˜ì§€ë§Œ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì¼ê´€ë˜ê³  ì´ìƒ í˜„ìƒì´ ì—†ëŠ” ë°ì´í„°ë“¤ì„ ì €ì¥í•˜ê¸° ìœ„í•œ ì†”ë£¨ì…˜ì´ë‹¤. ê·¸ë¦¬ê³  ê·¸ë¥¼ ìœ„í•´ í…Œì´ë¸” ê°„ì˜ ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚¼ ë•Œ í…Œì´ë¸”ì„ ì •ê·œí™”í•˜ê³  ì°¸ì¡°í•œ ë’¤ ì¡°íšŒí•  ë•Œì—ëŠ” í•„ìš”í•œ ì •ë³´ë“¤ì„ JOINìœ¼ë¡œ ê°€ì ¸ì˜¨ë‹¤. í•˜ì§€ë§Œ &lt;strong>JOINì€ ê½¤ë‚˜ ë¹„ì‹¼ ì‘ì—…&lt;/strong>ì´ë‹¤.&lt;/p>
&lt;p>ë°˜ë©´ &lt;strong>NoSQLì€ ì–´ëŠ ì •ë„ ë°ì´í„°ì˜ ë¶ˆì¼ì¹˜ë¥¼ í—ˆìš©&lt;/strong>í•˜ê¸°ë„ í•˜ê¸° ë•Œë¬¸ì— ì¡°íšŒ ì‹œ JOINì„ ìˆ˜í–‰í•˜ê¸° ë³´ë‹¤ëŠ” ë¹„ì •ê·œí™”ëœ í˜•íƒœë¡œì„œ ì¤‘ë³µìœ¼ë¡œ ì €ì¥ëœ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.&lt;/p>
&lt;p>ê°œì¸ì ìœ¼ë¡œëŠ” ì´ë ‡ê²Œ &lt;strong>ë¹„ì •ê·œí™”í•œ í˜•íƒœë¡œ ì¤‘ë³µëœ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë°©ì‹ì€ &lt;code>CQRS&lt;/code>ì™€ë„ ì–´ëŠ ì •ë„ ë¹„ìŠ·í•œ í˜•íƒœ&lt;/strong>ë¥¼ ê°–ì§€ ì•Šë‚˜ì‹¶ë‹¤. CQRSì—ì„œëŠ” ë°ì´í„°ë¥¼ ì¡°ì‘í•˜ëŠ” Command ì™€ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ëŠ” Queryì˜ ì±…ì„ì„ ë¶„ë¦¬í•˜ëŠ” í˜•íƒœë¡œ, Queryí•˜ëŠ” ì¸¡ì—ì„œëŠ” ìì‹ ë“¤ì´ ì¡°íšŒí•˜ê¸° ìš©ì´í•œ í˜•íƒœì¸ ê³ ë„í™” ëœ ë·°(ë¹„ì •ê·œí™”ëœ ë°ì´í„°)ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•œë‹¤. ë°ì´í„°ì˜ ì›ë³¸ì€ Commandë¥¼ ë‹´ë‹¹í•˜ëŠ” ê³³ì— ì €ì¥ëœë‹¤.&lt;/p>
&lt;h1 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h1>
&lt;p>ì´ë ‡ê²Œ NoSQLì˜ ê³µí†µëœ íŠ¹ì§•ì— ëŒ€í•´ ì±…ì— ë“±ì¥í•œ ë‚´ìš©ê³¼ ì•½ê°„ì˜ ê°œì¸ì ì¸ ì˜ê²¬ì„ ì •ë¦¬í•´ë´¤ë‹¤. ì±…ì´ ë‹´ê³  ìˆëŠ” ë‚´ìš©ì€ ê½¤ë‚˜ ë§ˆìŒì— ë“ ë‹¤! íŠ¹ì •í•œ NoSQL ë°ì´í„°ë² ì´ìŠ¤ì˜ ê¸°ëŠ¥ ìì²´ë¥¼ ì¤„ì¤„ì´ ì†Œê°œí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì‹¤ìš©ì ì¸ ì˜ˆì‹œ ìƒí™©ê³¼ í•¨ê»˜ ê°ê°ì˜ NoSQLê³¼ RDBì— ëŒ€í•œ ë¹„êµë¥¼ í•´ë³¼ ìˆ˜ ìˆì—ˆë‹¤.&lt;/p>
&lt;p>ë³„ì ì„ ì¤€ë‹¤ë©´ 4.5ì  ì •ë„..? 0.5ì ì€ ì¢€ ë” ì˜ˆì‹œê°€ ë””í…Œì¼í•˜ê³  ìì„¸í–ˆìœ¼ë©´ ë„ˆë¬´ë‚˜ ì¢‹ì•˜ì„ ê²ƒ ê°™ë‹¤. ì˜ˆì‹œê°€ ì•„ì˜ˆ ì—†ëŠ” ê²ƒì€ ì•„ë‹ˆë¼ ê°„ê°„íˆ ì‹¤ì œ ìœ ì¦ˆì¼€ì´ìŠ¤ë“¤ì´ ë“±ì¥í•˜ê¸´ í•˜ì§€ë§Œ ë„ˆë¬´ ê°„ë‹¨í•˜ê²Œë§Œ ì§šê³  ë„˜ì–´ê°€ì„œ ì¡°ê¸ˆ ì•„ì‰¬ì› ë‹¤.&lt;/p>
&lt;p>ì‚¬ì‹¤ ì €ë²ˆ í•˜ë°˜ê¸°ë¶€í„° ì˜¬í•´ ìƒë°˜ê¸°ê¹Œì§€ ë‚´ê°€ í•œ ê²Œ ì„±ì¥í•œ ê²Œ ìˆë‚˜, ìƒˆë¡œ ë°°ìš´ ê²Œ ìˆë‚˜ ì‹¶ì—ˆëŠ”ë° ë¬¸ë“ ì±…ì„ ì½ê²Œ ëœ ê³„ê¸°ë¥¼ íšŒìƒí•´ë³´ë‹ˆ ì €ì¥ì†Œ ì¸¡ë©´ì—ì„œëŠ” ë§ì´ ë°°ì›Œê°€ê³  ìˆëŠ” ê²ƒ ê°™ì•„ ë‹¤í–‰ì´ë‹¤.&lt;/p>
&lt;p>&lt;em>â€˜ì´ëŸ° ë°ì´í„°ë¥¼ ë‚˜íƒ€ë‚´ë ¤ë©´ ë‹¹ì—°íˆ í…Œì´ë¸”ì„ ì´ëŸ° ì‹ìœ¼ë¡œ ì •ê·œí™”í•´ì„œ&amp;hellip;â€™&lt;/em> ì™€ ê°™ì´ ë‹¨ìˆœíˆ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ í…Œì´ë¸”ì„ ì„¤ê³„í•˜ëŠ” ê¸°ë³¸ì ì¸ ì›ì¹™ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ê´€ì ì´ ì•„ë‹ˆë¼ &lt;em>â€˜ì´ëŸ° ë°ì´í„°ëŠ” ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ê°€ ì•„ë‹Œ ì´ëŸ° ì´ëŸ° NoSQLì„ ì‚¬ìš©í•˜ë©´ ë” ì í•©í•  ê²ƒì´ê³ , ì „ì²´ ë°ì´í„° ì¡°íšŒìš©ìœ¼ë¡  ì´ëŸ° NoSQLì„ ì‚¬ìš©í•˜ë©´ ë” ì í•©í•  ê²ƒ ê°™ë‹¤.â€™&lt;/em> ì™€ ê°™ì´ íƒˆ RDBì  ê´€ì ë„ ì–´ëŠ ì •ë„ ì¥ì°©í•˜ê²Œ ëœ ê²ƒ ê°™ì•„ ì‹œê°ì´ ì¢€ ë„“ì–´ì§€ê³  ìˆëŠ” ë“¯í•˜ë‹¤.&lt;/p>
&lt;p>ì‘ë…„ 2021ë…„ íšŒê³ ì—ì„œ &lt;strong>2022ë…„ì—ëŠ” ì§§ì€ ì•„í‹°í´ ë¿ë§Œ ì•„ë‹ˆë¼ ì²´ê³„ì ì¸ ì •ë³´ë¥¼ ë‹´ì€ ì±…ì„ í†µí•´ì„œë„ ê³µë¶€ë¥¼ í•´ë³´ê² ë‹¤ëŠ” ê²°ì‹¬&lt;/strong>ì„ í–ˆì—ˆëŠ”ë° 2022ë…„ 1ì›”ì´ ë˜ì ë§ˆì êµ¬ë§¤í–ˆë˜ 2022ë…„ì˜ ì²« ì±…ì„ í¬ê¸°í•˜ì§€ ì•Šê³  ëê¹Œì§€ ì½ê²Œ ë˜ì–´ ë‹¤í–‰ì´ë‹¤! ì•„ë§ˆ ë‹¤ìŒ ì±…ì€ Real MySQLì´ë‚˜ Spring Bootë‚˜ JPA ê´€ë ¨ ì±…ì´ ë˜ì§€ ì•Šì„ì§€?! ã…ã…&lt;/p></description></item><item><title>2021ë…„ íšŒê³ </title><link>https://umi0410.github.io/blog/thought/2021-review/</link><pubDate>Mon, 20 Dec 2021 15:46:54 +0900</pubDate><guid>https://umi0410.github.io/blog/thought/2021-review/</guid><description>&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>ë§¤ë…„ ê·¸ë¬ì§€ë§Œ 2021ë…„ë„ ì°¸ ë¹ ë¥´ê²Œ ì§€ë‚˜ê°„ ê²ƒ ê°™ë‹¤. ë²Œì¨ ì—°ë§ì´ë¼ë‹ˆ.&lt;/p>
&lt;p>ì˜¤ëŠ˜ì€ 2021ë…„ì„ ëŒì•„ë³´ë©° ì˜ í–ˆë˜ ë¶€ë¶„ì— ëŒ€í•´ì„  ë‚˜ ìì‹ ì„ ì¹­ì°¬í•´ì£¼ê³ , ì•„ì‰¬ì› ë˜ ë¶€ë¶„ì— ëŒ€í•´ì„œëŠ” ê°œì„ í•  ë°©ì•ˆì„ ì°¾ì•„ë´„ìœ¼ë¡œì¨
ìƒˆí•´ëŠ” ë” ëœ¨ê²ê³  ì˜ë¯¸ìˆê²Œ ë³´ë‚´ê³ ìí•œë‹¤~!&lt;/p>
&lt;p>ê°œë°œ ì™¸ì ì¸ ê±°ëŠ” ê°œì¸ì ìœ¼ë¡œ ì •ë¦¬í•  ê³„íšì´ê³ , ë³¸ íšŒê³ ë¡ì—ì„œëŠ” ê°œë°œ ê´€ë ¨ëœ ë‚´ìš© ìœ„ì£¼ë¡œ ì‘ì„±í–ˆë‹¤.&lt;/p>
&lt;h2 id="2021ë…„-ê°œë°œ-ê´€ë ¨-í™œë™-ìš”ì•½">2021ë…„ ê°œë°œ ê´€ë ¨ í™œë™ ìš”ì•½&lt;/h2>
&lt;ul>
&lt;li>ë‹¤ì–‘í•œ ì´ìœ ë¡œ ë¯¸ë¤„ì™”ë˜ &lt;strong>ìŠ¤í”„ë§&lt;/strong>ì„ ì‚¬ìš©í•´ë³´ê¸° ì‹œì‘í–ˆë‹¤.&lt;/li>
&lt;li>ë°”ë‹¥ë¶€í„° ì£¼ë„ì ìœ¼ë¡œ ì„¤ê³„/ê°œë°œí•´ë‚˜ê°ˆ ìˆ˜ ìˆëŠ” ì´ˆê¸° &lt;strong>ìŠ¤íƒ€íŠ¸ì—…ì— í•©ë¥˜&lt;/strong>í•´ ë‚˜ë¦„ ë§ì€ ê²½í—˜ì„ í•´ë³¼ ìˆ˜ ìˆì—ˆë‹¤.&lt;/li>
&lt;li>ì‹¤ì œ ê°œë°œ í”„ë¡œì íŠ¸ì— ì—¬ëŸ¿ ì°¸ì—¬í•´ í˜‘ì—…ì„ í•´ë³´ì•˜ë‹¤. (êµë‚´ ì‚¬ì´ë“œ í”„ë¡œì íŠ¸, ê°œë°œ ë™ì•„ë¦¬, ìŠ¤íƒ€íŠ¸ì—…)&lt;/li>
&lt;li>CS ì§€ì‹ì„ ë„˜ì–´ ê°œë°œìë¡œì„œ í•„ìš”í•  ë§Œí•œ ë‚´ìš©ë“¤ì„ ë§ì´ ì ‘í•˜ê³  ê³µë¶€í–ˆë‹¤.
&lt;ul>
&lt;li>DB, Transaction, Cache, Redis, Concurrent programming, TDD&lt;/li>
&lt;li>MSA, DDD, ë©”ì‹œì§€ í, CQRS, SAGA ë“±ì— ëŒ€í•´&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>AUSG(AWS ëŒ€í•™ìƒ ë™ì•„ë¦¬)ì™€ SOPT(ê°œë°œ ë™ì•„ë¦¬)ì—ì„œ ì§„í–‰í•œ ì„¸ë¯¸ë‚˜ì—ì„œ ElasticBeanstalk ê´€ë ¨ ì„¸ì…˜ì„ ì§„í–‰í–ˆë‹¤.&lt;/li>
&lt;li>ì·¨ì¤€ì„ ì‹œì‘í–ˆë‹¤.&lt;/li>
&lt;li>AWS SAA ìê²©ì¦ì„ ê³µë¶€ ì¤‘ì´ë‹¤.&lt;/li>
&lt;li>ë°±ì—”ë“œ/í´ë¼ìš°ë“œ ë¶„ì•¼ì— ìˆì–´ ëŒ€ë¶€ë¶„ì˜ ê¸°ìˆ  ì„¸ë¯¸ë‚˜ì™€ ê¸°ìˆ  ë¸”ë¡œê·¸ ê¸€ë“¤ì„ ì–´ëŠ ì •ë„ ë‹¤ ì´í•´í•  ìˆ˜ ìˆì–´ì¡Œë‹¤.&lt;/li>
&lt;li>ë¬´ì—‡ë³´ë‹¤ ì˜¬í•´ì—ëŠ” &lt;strong>ë§ˆìŒì´ ë§ëŠ” ì†Œì¤‘í•œ ì‚¬ëŒë“¤ì„ ë§ì´ ë§Œë‚˜ê²Œ ëœ ê²ƒ ê°™ì•„ ê°ì‚¬í•˜ë‹¤&lt;/strong>.&lt;/li>
&lt;/ul>
&lt;h2 id="ì¢‹ì•˜ë˜-ì ">ì¢‹ì•˜ë˜ ì &lt;/h2>
&lt;p>&lt;strong>ìŠ¤íƒ€íŠ¸ì—…ì— í•©ë¥˜í•´ ë§ì´ ì„±ì¥í•  ìˆ˜ ìˆì—ˆë‹¤!&lt;/strong>&lt;/p>
&lt;p>ì‘ë…„ê¹Œì§„ ëŒ€ë¶€ë¶„ì˜ í”„ë¡œì íŠ¸ë¥¼ í˜¼ìí•´ì™”ë˜ ê²ƒ ê°™ì€ë° ê·¸ëŸ¬ë‹¤ë³´ë‹ˆ ê¸°íš, ë””ìì¸, í”„ë¡ íŠ¸ ë“±ì— ë„ˆë¬´ ì—ë„ˆì§€ë¥¼ ëºê²¨ì„œ ë°±ì—”ë“œì— ì§‘ì¤‘í•˜ê¸°ê°€ í˜ë“¤ì—ˆë˜ ê²ƒ ê°™ë‹¤. ì´ëŸ° ì ì—ì„œ ì•„ì‰¬ì›€ì„ ëŠê¼ˆê³ , ìµœëŒ€í•œ ì‹¤ë¬´ì™€ ìœ ì‚¬í•œ ê²½í—˜ì„ í•´ë³´ê³  ì‹¶ë‹¤. ê·¸ë˜ì„œ ì œëŒ€ë¡œ ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ë¥¼ êµ¬í•˜ëŠ” í”Œë«í¼ì—ì„œ íŒ€ì„ êµ¬í•´ë³´ê³ ì í–ˆë‹¤.&lt;/p>
&lt;p>ë‹¹ì‹œì— ê°œë°œ ë™ì•„ë¦¬ê°€ ì•„ë‹Œ íŒ€ì„ ë”°ë¡œ êµ¬í•˜ê³ ì í–ˆë˜ ì´ìœ ëŠ” ì‚¬ì‹¤ ê°œë°œ ë™ì•„ë¦¬ëŠ” ì¸í„°ë·° ê³¼ì •ì„ ê±°ì³ íŒ€ì„ ì •í•  ìˆ˜ ìˆëŠ” ê²Œ ì•„ë‹ˆë¼ ë³´í†µ ë™ì•„ë¦¬ì›ë“¤ ì¤‘ ëœë¤ìœ¼ë¡œ íŒ€ ë¹Œë”©ì´ ì´ë£¨ì–´ì§€ë‹¤ë³´ë‹ˆ ì‚¬ì‹¤ íŒ€ ë¹Œë”©ì— ìˆì–´ ìš´ì´ ë§ì€ ë¶€ë¶„ì„ ì°¨ì§€í•˜ì§€ë§Œ ë‚´ í”„ë¡œì íŠ¸ë¥¼ ê·¸ë ‡ê²Œ ìš´ì— ë§¡ê¸°ê³  ì‹¶ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì´ì—ˆë‹¤. ì‹¤ì œë¡œ ëŒ€ë¶€ë¶„ì˜ ë™ì•„ë¦¬ê°€ í•œ 1/3 ì •ë„ëŠ” í”„ë¡œì íŠ¸ë‚˜ í˜‘ì—…ì´ ì›í™œíˆ ì´ë£¨ì–´ì§€ì§€ ì•ŠëŠ” ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>ì–´ì¨Œë“  ë‚˜ë¦„ì˜ ê·¸ëŸ° íŒë‹¨í•˜ì— ê°œë°œ ë™ì•„ë¦¬ë³´ë‹¨ ë”°ë¡œ ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ íŒ€ì„ êµ¬í•´ì„œ í•©ë¥˜í•˜ëŠ” ê²Œ ë” ì¢‹ì€ íŒ€ì›ë“¤ì„ ë§Œë‚  ìˆ˜ ìˆì„ ê²ƒ ê°™ì•˜ê³ , ê²°ê³¼ì ìœ¼ë¡œëŠ” ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ê°€ ì•„ë‹ˆë¼ ì´ˆê¸° ìŠ¤íƒ€íŠ¸ì—…ì— í•©ë¥˜í•˜ê²Œ ë˜ì–´ í•™ìƒìœ¼ë¡œì„œëŠ” ì ì§€ ì•Šì€ ê¸‰ì—¬ë¥¼ ë°›ìœ¼ë©° ì£¼ë„ì ìœ¼ë¡œ ê°œë°œí•´ë‚˜ê°€ê³  ë§ì´ ì„±ì¥í•  ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>ë‚˜ëŠ” ì´ íŒ€ì—ì„œ ê°œë°œ ë¦¬ë“œë¥¼ í•˜ë©° í´ë¼ìš°ë“œ ì¸í”„ë¼ ì„¤ê³„/êµ¬ì¶•, Spring Boot RESTful API ì„œë²„ ê°œë°œ, í”„ë¡ íŠ¸ ì¼ì • ê´€ë¦¬ ë° QA ë“±ì˜ ì—…ë¬´ë¥¼ ë‹´ë‹¹í–ˆë‹¤.&lt;/p>
&lt;p>Springë„ JPAë„ í…ŒìŠ¤íŠ¸ ì½”ë“œë„ ì²˜ìŒì´ì—ˆëŠ”ë°, ì˜ ì ìš©í•´ë³¼ ìˆ˜ ìˆì—ˆë‹¤. ì§€ì¸ë“¤ê³¼ ìŠ¤í„°ë”” ê·¸ë£¹ì„ ë§Œë“¤ì–´ í† ì˜í•˜ê³  ì¸í”„ëŸ°ì—ì„œ ê°•ì˜ë¥¼ ìˆ˜ê°•í•˜ë©° ê¸°ìˆ ì„ ê³µë¶€í•˜ê³  ì ìš©í•´ë‚˜ê°”ë‹¤. ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•˜ë©´ì„œ N+1 ì¿¼ë¦¬ì˜ ë¬¸ì œì  ê°™ì€ ë¶€ë¶„ë“¤ì„ ì‹¤ì œë¡œ ê²½í—˜í•´ë³¼ ìˆ˜ë„ ìˆì—ˆê³  ê°œì„ í•´ë‚˜ê°€ë©´ì„œ Latencyê°€ ë‚®ì€ ì„œë¹„ìŠ¤ ì œê³µí•˜ê¸°ìœ„í•œ ì „ëµë“¤ì— ëŒ€í•œ ê´€ì‹¬ë„ ê°–ê²Œ ëœ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>&lt;strong>CS ì§€ì‹ì„ ë„˜ì–´ ê°œë°œìë¡œì„œ í•„ìš”í•  ë§Œí•œ ë‚´ìš©ë“¤ì„ ë§ì´ ì ‘í•˜ê³  ê³µë¶€í–ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>â€˜MSAì— ê´€ì‹¬ìˆë‹¤, ê´€ì‹¬ìˆë‹¤.â€™ ë§ë§Œ í•˜ë‹¤ê°€ ì§€ì¸ì´ ì„ ë¬¼í•´ì¤€ â€œë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ íŒ¨í„´â€ì´ë¼ëŠ” ì±…ì„ ì‹œì‘ìœ¼ë¡œ DDDë¼ëŠ” ì£¼ì œì™€ ì¡°ê¸ˆ ë” ìì„¸í•œ MSAì— ëŒ€í•´ ì•Œê²Œ ë˜ì—ˆë‹¤.&lt;/p>
&lt;p>ì‹¤ì§ˆì ìœ¼ë¡œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë“¤ì´ ì–´ë–»ê²Œ ë‚®ì€ ì˜ì¡´ì„±ê³¼ ëŠìŠ¨í•œ ê²°í•©ìœ¼ë¡œ ë™ì‘í•  ìˆ˜ ìˆëŠ”ì§€ ê³µë¶€í•´ë³´ë‹¤ë³´ë‹ˆ ë©”ì‹œì§€ íì™€ CQRS, SAGAì™€ ê°™ì€ ë‚´ìš©ë“¤ë„ ì•Œê²Œ ë˜ì—ˆë‹¤.&lt;/p>
&lt;p>ê·¸ë¦¬ê³  ìºì‹œë‚˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë“¤ì€ ë§‰ì—°í•˜ê²Œë§Œ ì•Œê³  ìˆë˜ ìƒíƒœì˜€ëŠ”ë° ì‹¤ì œë¡œ ë„ì…í•´ë³´ë©´ì„œ ì£¼ë‹ˆì–´ ì¹˜ê³ ëŠ” ì© ë‚˜ì˜ì§€ ì•Šì€ ì •ë„ê¹Œì§€ëŠ” ì•Œê²Œ ëœ ê²ƒ ê°™ë‹¤!&lt;/p>
&lt;p>ê·¸ë¦¬ê³  ê¸°ìˆ  ê´€ë ¨ëœ ì•„í‹°í´ì„ ì½ëŠ” ê±¸ ì°¸ ì¢‹ì•„í•˜ëŠ”ë° ì—´ì‹¬íˆ ì½ì€ ë‚´ìš©ë“¤ì´ ê·¸ëƒ¥ ìŠ¤ì³ì§€ë‚˜ê°€ëŠ” ê²ƒì´ ì•„ì‰½ê¸°ë„ í•˜ê³  ë‚¨ë“¤ì€ ì–´ë–»ê²Œ ìƒê°í•˜ë‚˜ ê¶ê¸ˆí•´ì„œ ì•„í‹°í´ ë‚´ìš©ì— ëŒ€í•œ ìš”ì•½ì´ë‚˜ ë‚´ ìƒê°ì„ ì ì–´ë‚˜ê°€ê¸° ì‹œì‘í–ˆë‹¤. ì´ë ‡ê²Œí•˜ë‹ˆ í™•ì‹¤íˆ ë‚´ìš©ì´ ì˜ ê¸°ì–µë‚˜ê¸°ë„ í•˜ê³ , ê°€ë” ë³¸ì¸ì˜ ìƒê°ì„ ê³µìœ í•´ì£¼ì‹œëŠ” ê²½ìš°ë„ ìˆì–´ì„œ ê·¸ë¥¼ í†µí•´ ë°°ì›Œë‚˜ê°€ê¸°ë„ í•œ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>ì´ëŸ° ê³µë¶€ë“¤ì„ ë°”íƒ•ìœ¼ë¡œ ê²°ê³¼ì ìœ¼ë¡œëŠ” ê³¼ê±°ì— ë‚´ê°€ ê¿ˆê¿¨ë˜ ê°œë°œì ìƒì— ì¢€ ë” ê°€ê¹Œì›Œì§„ ê²ƒ ê°™ë‹¤. ë‹¹ì‹œì—” ëŒ€ë¶€ë¶„ì˜ ê¸°ìˆ  ì„¸ë¯¸ë‚˜ê°€ ì˜¤í”„ë¼ì¸ìœ¼ë¡œ ì§„í–‰ëì—ˆê³  ë‚˜ëŠ” ë­ë¼ë„ ë°°ì›Œë³´ë ¤ê³  ì„¸ë¯¸ë‚˜ì— ì°¸ì—¬í–ˆìœ¼ë‚˜ ëŒ€ë¶€ë¶„ì˜ ë‚´ìš©ì„ ì´í•´í•˜ì§€ ëª»í–ˆê³ , ì£¼ë³€ì„ ë‘˜ëŸ¬ë³´ë©° â€˜ì•„ë‹ˆ&amp;hellip; ì—¬ê¸°ìˆëŠ” ì‚¬ëŒë“¤ì€ ì € ì–˜ê¸°ë¥¼ ë‹¤ ì´í•´í•  ìˆ˜ ìˆëŠ”ê±´ê°€..? ëŒ€ë‹¨í•˜ë‹¤â€™ë¼ëŠ” ìƒê°ì„ ê°€ì§€ê³¤í–ˆë‹¤.&lt;/p>
&lt;p>ê·¸ë˜ì„œ ë‚˜ë„ ë‚˜ì¤‘ì—ëŠ” ì´ëŸ° ë‚´ìš©ì„ ë‹¤ ì´í•´í•˜ê³  ê³µê°í•  ìˆ˜ ìˆëŠ” ê°œë°œìê°€ ë˜ê³  ì‹¶ì—ˆë‹¤. ê·¸ë¦¬ê³  ì˜¬í•´ë¥¼ ë§ˆë¬´ë¦¬í•˜ë©° ëŒì´ì¼œë³´ë‹ˆ ì´ì œ ëŒ€ë¶€ë¶„ì˜ ê¸°ìˆ  ì„¸ë¯¸ë‚˜ëŠ” ë¬´ë¦¬ ì—†ì´ ì´í•´í•  ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ì•„ ë¿Œë“¯í•˜ë‹¤. +_+&lt;/p>
&lt;p>ì˜¬í•´ì— ì¬ë¯¸ìˆê²Œ ë´¤ë˜ ì„¸ì…˜ë“¤ì€ ëŒ€ì¶© ë‹¤ìŒê³¼ ê°™ì•˜ë˜ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.youtube.com/watch?v=l195D5WT_tE&amp;amp;list=PL7488rl_eFkEoy_YpfTuBdF8cr9YjpXpV&amp;amp;index=10" target="_blank" rel="noopener"
>[2019] PAYCO ì‡¼í•‘ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜(MSA) ì „í™˜ê¸°&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.youtube.com/watch?v=BnS6343GTkY&amp;amp;list=PL7488rl_eFkEoy_YpfTuBdF8cr9YjpXpV&amp;amp;index=7" target="_blank" rel="noopener"
>[ìš°ì•„ì½˜2020] ë°°ë‹¬ì˜ë¯¼ì¡± ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì—¬í–‰ê¸°&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.youtube.com/watch?v=mPB2CZiAkKM&amp;amp;list=PL7488rl_eFkEoy_YpfTuBdF8cr9YjpXpV&amp;amp;index=5" target="_blank" rel="noopener"
>[ìš°ì•„í•œí…Œí¬ì„¸ë¯¸ë‚˜] 191121 ìš°ì•„í•œë ˆë””ìŠ¤ by ê°•ëŒ€ëª…ë‹˜&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.youtube.com/watch?v=f6kdp27TYZs" target="_blank" rel="noopener"
>Google I/O 2012 - Go Concurrency Patterns&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.youtube.com/watch?v=mLIthm96u2Q&amp;amp;t=8s" target="_blank" rel="noopener"
>ë‹¹ê·¼ë§ˆì¼“ì˜ ê³ ì–¸ì–´ ë„ì…ê¸°, ê·¸ë¦¬ê³  í™œìš©ë²•&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.youtube.com/watch?v=92NizoBL4uA" target="_blank" rel="noopener"
>[NHN FORWARD 2021] Redis ì•¼ë¬´ì§€ê²Œ ì‚¬ìš©í•˜ê¸°&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ìƒê°ì„ ê³µìœ í•˜ê³  ê³µê°í•  ìˆ˜ ìˆëŠ” ì†Œì¤‘í•œ ì‚¬ëŒë“¤ ë§Œë‚˜ê²Œ ëë‹¤.&lt;/strong>&lt;/p>
&lt;p>ì‚¬ì‹¤ ê·¸ë™ì•ˆì€ ì´ëŸ° ì €ëŸ° ì´ìœ ë¡œ ì „ì—­í•œ ë’¤ë¡œëŠ” ë‚˜ë‘ ì˜ ë§ëŠ” ì‚¬ëŒë“¤ì„ ë§Œë‚  ê¸°íšŒê°€ ì ì—ˆë‹¤. ì•„ë¬´ë˜ë„ í•™êµê°€ ê³ ë¦½ë˜ì–´ ìˆê³  ë„ˆë¬´ ì–´ë ¸ë˜ ê²Œ ì£¼ëœ ì›ì¸ì´ì—ˆë˜ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ì˜¬í•´ì—ëŠ” ì˜ ë§ëŠ” ì‚¬ëŒë“¤ì„ ë§Œë‚˜ í•¨ê»˜ ì·¨ì—… ì¤€ë¹„ë¥¼ í•˜ë©´ì„œ ê°ìê°€ ê°€ì§„ ì»¤ë¦¬ì–´ì— ëŒ€í•œ ê°€ì¹˜ê´€ì´ë‚˜ ê°€ê³  ì‹¶ì–´í•˜ëŠ” íšŒì‚¬ ê¸°ì¤€ì„ ê³µìœ í•˜ë©´ì„œ ì„œë¡œ ìê¸° ìì‹ ì— ëŒ€í•´ì„œë„ ì˜ ì•Œì•„ê°ˆ ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ê³  ë§ì€ í˜ì´ ëë˜ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>ê°œë°œí•˜ë‹¤ê°€ ë“œëŠ” ê¶ê¸ˆì¦ì´ë‚˜ ì´í•´ ì•ˆë˜ëŠ” ì ì„ ë§ˆìŒ ë†“ê³  ê³µìœ í•  ìˆ˜ ìˆëŠ” ê·¸ë£¹ì´ ìƒê²¼ë‹¤. ã…ã….&lt;/p>
&lt;p>â€˜ì™œ ì„¸ì…˜ ë§ê³  JWTë¥¼ ì“¸ê¹Œâ€™, â€˜ë°ì´í„°ë‘ íŠ¸ë˜í”½ì´ ì–¼ë§ˆë‚˜ ì»¤ì ¸ì•¼ RDBê°€ ê°ë‹¹í•˜ê¸° í˜ë“  ìˆ˜ì¤€ì´ ë ê¹Œâ€™, â€˜ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„ì²´ë¡œ êµ¬ë¶„í• ê¹Œ ê·¸ëƒ¥ êµ¬í˜„ì²´ë§Œ ì“¸ê¹Œâ€™ ì´ëŸ° ë‚´ìš©ë“¤ì— ëŒ€í•´ ìì£¼ ëŒ€í™”ë¥¼ ë‚˜ëˆ´ë˜ ê²ƒ ê°™ì€ë° ë”± ì •í•´ì§„ ì •ë‹µì´ ìˆëŠ” ì§ˆë¬¸ë“¤ì€ ì•„ë‹Œ ê²ƒ ê°™ë‹¤. í•˜ì§€ë§Œ ê·¸ì— ëŒ€í•´ í˜¼ìì„œ ê³ ë¯¼ë§Œ í•˜ê¸°ë³´ë‹¤ â€˜ë‚˜ë„ ê·¸ê±° ê¶ê¸ˆí•´â€™ í•˜ë©´ì„œ ê°™ì´ ê³ ë¯¼í•˜ê³  ê³µë¶€í•´ë‚˜ê°€ë‹¤ë³´ë‹ˆ í›¨ì”¬ ë” ì¬ë°Œë”ë¼!&lt;/p>
&lt;h2 id="ì•„ì‰¬ì› ë˜-ì -ê°œì„ í• -ì ">ì•„ì‰¬ì› ë˜ ì , ê°œì„ í•  ì &lt;/h2>
&lt;p>&lt;strong>ì„ íƒê³¼ ì§‘ì¤‘ì„ ì˜ í•˜ì§€ ëª»í–ˆë˜ ê²ƒ ê°™ë‹¤.&lt;/strong>&lt;/p>
&lt;p>ê°œì¸ì ì¸ ì¼ë¡œ ìŠ¬ëŸ¼í”„ê°€ ì°¾ì•„ì™”ë˜ ê²ƒ ê°™ê³  ê·¸ë¥¼ ëŠì–´ë‚´ë ¤ê³  ì´ë˜ ì €ë˜ ì¼ì„ ë²Œë ¸ë˜ ê²ƒ ê°™ë‹¤. ê·¸ëŸ¬ë‹¤ë³´ë‹ˆ í•œ í™œë™ì´ë‚˜ í”„ë¡œì íŠ¸ì— ëª°ì…í•˜ì§€ ëª»í•˜ê³  ë³‘ë ¬ì ìœ¼ë¡œ ì§„í–‰í•˜ë©´ì„œ ì•½ê°„ ëŠ˜ì–´ì§€ê²Œ ëœ ê²ƒ ê°™ì€ë°, í™•ì‹¤í•˜ê²Œ í•˜ë‚˜ì”© í•˜ë‚˜ì”© ì³ëƒˆìœ¼ë©´ ë” ì¢‹ì§€ ì•Šì•˜ì„ê¹Œ ì‹¶ë‹¤.&lt;/p>
&lt;p>ê·¸ë¦¬ê³  í”„ë¡œì íŠ¸ ë¿ë§Œ ì•„ë‹ˆë¼ ê³µë¶€ì— ìˆì–´ì„œë„ ë‚˜ë¦„ ê¹Šê²Œ íŒŒëŠ” ê±¸ ì¢‹ì•„í•œë‹¤ê³  ìƒê°í–ˆëŠ”ë° ë©´ì ‘ ì¤€ë¹„ë¥¼ í•˜ë©´ì„œ ë‚´ê°€ ì•„ì§ ë§ì´ ë¶€ì¡±í•˜ë‹¨ ê±¸ ëŠë¼ê²Œ ëê³ , ê·¸ë™ì•ˆ ì„ íƒê³¼ ì§‘ì¤‘ì„ ì˜ í•˜ì§€ ëª»í–ˆë‹¤ëŠ” ê±¸ ì•Œê²Œ ë˜ì—ˆë‹¤.&lt;/p>
&lt;p>í´ë¼ìš°ë“œ ì¸í”„ë¼ ì¡°ê¸ˆ, ì»¨í…Œì´ë„ˆ ì¡°ê¸ˆ, Java spring ì¡°ê¸ˆ, DB ì¡°ê¸ˆ, MSA/DDD ì¡°ê¸ˆ, ìºì‹œ/Redis ì¡°ê¸ˆ, Go ì¡°ê¸ˆ, &amp;hellip; ë­”ê°€ ë‹¤ ë‘ë£¨ë‘ë£¨ ì•Œê³ ëŠ” ìˆëŠ”ë° í´ë¼ìš°ë“œ ì¸í”„ë¼ë¥¼ ì œì™¸í•˜ë©´ ê¹Šì´ê°€ ê·¸ë¦¬ ê¹Šì§„ ëª»í–ˆë˜ ê²ƒ ê°™ë‹¤. ê²Œë‹¤ê°€ ì‚¬ì´ë“œí”„ë¡œì íŠ¸ì—ì„œ ì•ˆë“œë¡œì´ë“œë„ ê±´ë“œë¦¬ê³  ë¦¬ì•¡íŠ¸ë„ ì‚´ì§ ê±´ë“œë¦¬ê³  ì¿ ë²„ ìƒíƒœê³„ìª½ë„ ê±´ë“œë¦¬ê³  ê·¸ëŸ¬ë‹¤ë³´ë‹ˆ ì§‘ì¤‘ì´ ë¶„ì‚°ëœ ê²ƒë„ ìˆëŠ” ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>&lt;strong>ê°œë°œì„ ì¦ê¸°ëŠ” ê±´ ë„ˆë¬´ ì¢‹ì§€ë§Œ, ê²°êµ­ í”„ë¡œê°€ ë˜ë ¤ë©´ ì¦ê¸°ë©´ì„œ ì¬ë°ŒëŠ” ê²ƒë§Œ í•  ìˆ˜ëŠ” ì—†ëŠ” ê²ƒ ê°™ë‹¤. ë•Œë¡œëŠ” ì¡°ê¸ˆ ì¬ë¯¸ê°€ ì—†ëŠ” ê²ƒë„ ê°ìˆ˜í•˜ê³  ë…¸ë ¥í•´ì•¼ í”„ë¡œê°€ ë  ìˆ˜ ìˆëŠ” ê²ƒ ê°™ë‹¤.&lt;/strong>&lt;/p>
&lt;p>ê·¸ë˜ì„œ ìƒˆí•´ì—ëŠ” &lt;strong>ê´€ì‹¬ìˆëŠ” ë¶„ì•¼ í­ì„ ì •í•´ ì±…ì„ í†µí•´ ì¢€ ë” í™•ì‹¤íˆ ë‹¤ì´ë¸Œ&lt;/strong>ë¥¼ í•´ë³´ê³ ìí•œë‹¤. ê° ë¶„ì•¼ë³„ë¡œ ë² ìŠ¤íŠ¸ì…€ëŸ¬ ê°™ì€ ì±…ë“¤ì„ í•œ ê¶Œì”©ì€ ì½ì–´ë³´ê³ ì ê²°ì‹¬í–ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>RDB - Real MySQL&lt;/li>
&lt;li>NoSQL - Real MongoDB&lt;/li>
&lt;li>NoSQL - ê° NoSQL ë¹„êµí•˜ëŠ” ë‚´ìš©ì˜ ì–´ë–¤ ì±… í•˜ë‚˜&lt;/li>
&lt;li>DDD/MSA - ë„ë©”ì¸ ì£¼ë„ ì„¤ê³„ë¡œ ì‹œì‘í•˜ëŠ” ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê°œë°œ&lt;/li>
&lt;li>Redis - Redis in Action&lt;/li>
&lt;li>Spring Boot - Spring Bootë¥¼ ë‹¤ë£¬ ì–´ë–¤ ì±… í•˜ë‚˜&lt;/li>
&lt;li>Go - Effective Go&lt;/li>
&lt;li>ê¸°íƒ€ - ê°€ìƒ ë©´ì ‘ ì‚¬ë¡€ë¡œ ë°°ìš°ëŠ” ëŒ€ê·œëª¨ ì‹œìŠ¤í…œ ì„¤ê³„ ê¸°ì´ˆ&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ë©˜íƒˆì´ ì•½í–ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>ì·¨ì—… ì¤€ë¹„ë¥¼ ì‹œì‘í•˜ê¸° ì „ë¶€í„° ë©˜íƒˆì´ ë§ì´ í”ë“¤ë ¸ë˜ ê²ƒ ê°™ë‹¤. ë‚˜ëŠ” ê·¸ëƒ¥ ì„¤ê³„í•˜ê³  ê°œë°œí•˜ëŠ” ê²Œ ì¢‹ì€ë° ì·¨ì—…ì„ ìœ„í•´ì„  ì½”ë”© í…ŒìŠ¤íŠ¸ë¥¼ ì¤€ë¹„í•´ì•¼í•œë‹¤ëŠ” ê²ƒë¶€í„° ìŠ¤íŠ¸ë ˆìŠ¤ì˜€ê³  JDë¥¼ ë³´ë©´ ìš”êµ¬ ì¡°ê±´ì€ ë¬¼ë¡  ìš°ëŒ€ ì‚¬í•­ê¹Œì§€ ëª¨ë‘ ìì‹ ìˆì–´ì•¼ë§Œ í•  ê²ƒ ê°™ì€ ì••ë°•ë„ ìŠ¤íŠ¸ë ˆìŠ¤ì˜€ë˜ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>ê·¸ëŸ¬ë‹¤ë³´ë‹ˆ ì§€ë ˆ ê²ì„ ë¨¹ê³  ì§€ì› ìì²´ë¥¼ ë¯¸ë£¨ê±°ë‚˜ ì§€ì›ê³¼ ë™ì‹œì— ê°‘ìê¸° í”¼ë¡œê°ì´ ëª°ë ¤ì˜¤ê³¤ í–ˆë˜ ê²ƒ ê°™ë‹¤. ê·¸ëŸ¬ë‹¤ë³´ë‹ˆ ì¼ìƒ ìƒí™œì´ë‚˜ ê³µë¶€ì—ë„ ì§€ì¥ì´ ìˆì—ˆë˜ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>ê·¸ë˜ì„œ ìƒˆí•´ì—ëŠ” ì»¤ë¦¬ì–´ì™€ ê´€ë ¨í•´ì„œ ì¢€ ë” ê°•í•œ ë©˜íƒˆë¡œ ì—´ì •ì ìœ¼ë¡œ ì„í•˜ë©´ ë” ì¢‹ì„ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;h2 id="2022-ëª©í‘œ">2022 ëª©í‘œ&lt;/h2>
&lt;ul>
&lt;li>ì§€ì‹ì˜ ê¹Šì´ë¥¼ ë” ê¹Šê²Œ í•´ì•¼ê² ë‹¤
&lt;ul>
&lt;li>ë¶„ì•¼ë³„ ì±… ì½ê¸°&lt;/li>
&lt;li>ë™ì˜ìƒ ê°•ì˜ ê¾¸ì¤€íˆ ì‹œì²­í•˜ê¸°&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ì„ íƒê³¼ ì§‘ì¤‘ì„ í•˜ì
&lt;ul>
&lt;li>ë„ˆë¬´ ë‹¤ì–‘í•œ ë¶„ì•¼ë³´ë‹¤ëŠ” ë‚´ê°€ ìš°ì„ ìˆœìœ„ì— ë‘” ê¸°ìˆ ë“¤ì„ ìœ„ì£¼ë¡œ ê°œìˆ˜ëŠ” ì ë”ë¼ë„ ê¹Šì´ìˆê²Œ ê³µë¶€í•´ë‚˜ê°€ì&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ìš´ë™ì„ ì†Œí™€íˆ í•˜ì§€ë§ì
&lt;ul>
&lt;li>ìš” ëª‡ ë‹¬ ìš´ë™ì„ ì†Œí™€íˆ í–ˆë”ë‹ˆ ëª¸ì´ ë»ê·¼í•´ì§€ê¸° ì‹œì‘í•œ ê²ƒ ê°™ë‹¤. ìƒˆí•´ì—ë„ ìš´ë™ì„ ê¾¸ì¤€íˆ í•´ì•¼ê² ë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ìì‹ ê° ìˆë˜ ê²¸ì†í•œ, í•œê²° ê°™ì´ ì—´ì •ì ì¸ ê°œë°œìê°€ ë˜ê³  ì‹¶ë‹¤.&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>ì˜¬í•´ì—ëŠ” ê³„ì†í•´ì„œ â€˜&lt;strong>ê¸¸ê²Œ ë³´ì&lt;/strong>â€™ëŠ” ë§ì„ ë˜ìƒˆê²¼ë˜ ê²ƒ ê°™ë‹¤. ì§€ê¸ˆ ë‹¹ì¥ ë‚´ê°€ ì½”ë”© í…ŒìŠ¤íŠ¸ì— í†µê³¼í–ˆëŠ”ì§€, ê¸°ìˆ  ë©´ì ‘ì— í†µê³¼í–ˆëŠ”ì§€ì— ì§‘ì°©í•˜ê¸°ë³´ë‹¤ëŠ” ë‚˜ ìì‹ ì´ ê·¸ëŸ¬í•œ ì§€ì‹ë“¤ì„ ìˆ™ì§€í•œ ì—”ì§€ë‹ˆì–´ê°€ ë˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•˜ëŠ” ê²ƒì´ ë” ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•˜ê¸° ë•Œë¬¸ì´ë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ì‚¬ëŒ ë§ˆìŒì´ë¼ëŠ” ê²Œ ì°¸&amp;hellip; ë¨¸ë¦¬ë¡œëŠ” ì•Œì•„ë„ â€˜&lt;strong>í˜¹ì‹œë¼ë„ êµ¬ë ì´ ë‹´ ë„˜ì–´ê°€ë“¯ ìš´ ì¢‹ìœ¼ë©´ ì–´ë–»ê²Œ ë  ìˆ˜ë„ ìˆì§€ ì•Šì„ê¹Œ&amp;hellip;?&lt;/strong>â€™ ì´ëŸ° ì•ŒëŸ‰í•œ ê¸°ëŒ€ë¥¼ í•˜ê²Œ ë˜ë”ë¼.&lt;/p>
&lt;p>ìƒˆí•´ì—ëŠ” ì¢€ ë” ë³¸ì§ˆì ìœ¼ë¡œ ì§€ì‹ì´ ê¹Šê³  ì‹¤ë ¥ ìˆëŠ” ê°œë°œìê°€ ë˜ê¸° ìœ„í•´ ì—¬ìœ ë¥¼ ê°–ê³  ë‚˜ì•„ê°€ì•¼í•  ê²ƒ ê°™ë‹¤!&lt;/p></description></item><item><title>ì¿¼ë¦¬ ìµœì í™”í•˜ê¸° - ì¡°íšŒìˆ˜ì™€ ê°™ì€ Count ì„±ê²©ì˜ ì‘ì—… ìµœì í™”í•˜ê¸° (N+1 ë¬¸ì œ ê´€ë ¨, feat. Redis)</title><link>https://umi0410.github.io/blog/optimizing-count-query-strategy/</link><pubDate>Wed, 24 Nov 2021 03:46:54 +0900</pubDate><guid>https://umi0410.github.io/blog/optimizing-count-query-strategy/</guid><description>&lt;img src="https://umi0410.github.io/blog/optimizing-count-query-strategy/index.png" alt="Featured image of post ì¿¼ë¦¬ ìµœì í™”í•˜ê¸° - ì¡°íšŒìˆ˜ì™€ ê°™ì€ Count ì„±ê²©ì˜ ì‘ì—… ìµœì í™”í•˜ê¸° (N+1 ë¬¸ì œ ê´€ë ¨, feat. Redis)" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>&lt;figure style="flex-grow: 231; flex-basis: 555px">
&lt;a href="https://umi0410.github.io/blog/optimizing-count-query-strategy/monitoring.png" data-size="1012x437">&lt;img src="https://umi0410.github.io/blog/optimizing-count-query-strategy/monitoring.png"
srcset="https://umi0410.github.io/blog/optimizing-count-query-strategy/monitoring_hu3985549258cc81ebaf9b1ddb4dd53245_70044_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/optimizing-count-query-strategy/monitoring_hu3985549258cc81ebaf9b1ddb4dd53245_70044_1024x0_resize_box_3.png 1024w"
width="1012"
height="437"
loading="lazy"
alt="Sentry monitoring - ëŠë ¤ì§„ API Latency">
&lt;/a>
&lt;figcaption>Sentry monitoring - ëŠë ¤ì§„ API Latency&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;strong>ì§§ì€ ì˜ìƒì„ ë°”íƒ•ìœ¼ë¡œ ë°°í‹€ì„ í•  ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤ë¥¼ &lt;code>Spring Boot MVC&lt;/code> + &lt;code>JPA&lt;/code>ë¡œ ê°œë°œ&lt;/strong>í•˜ë˜ ì¤‘ ìœ„ì™€ ê°™ì´ API &lt;strong>Latencyê°€ ì²˜ì°¸í•˜ê²Œë„ ëŠë¦° ìš”ì²­&lt;/strong>ë“¤ì´ ê°ì§€ë˜ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤. ê·¸ë™ì•ˆì€ ì¿¼ë¦¬ ìµœì í™”ë³´ë‹¤ëŠ” ë¡œì§ ê°œë°œì´ ë” ìš°ì„ ì‹œí•˜ë‹¤ë³´ë‹ˆ ì¿¼ë¦¬ ìµœì í™”ë¥¼ ë¯¸ë¤„ì™”ëŠ”ë°,
ì´ë²ˆ ê¸°íšŒì— ì´ì— ëŒ€í•´ ë‹¤ë¤„ë³´ë ¤í•©ë‹ˆë‹¤. ê°„ë‹¨í•˜ê²Œ ì½”ë“œë¥¼ ì§œì„œ í…ŒìŠ¤íŠ¸í•´ë³´ëŠë¼ Go ì–¸ì–´ë¥¼ ì´ìš©í–ˆì§€ë§Œ &lt;strong>JPAë¥¼ ì´ìš©í•˜ë“  ë­˜ ì´ìš©í•˜ë“  ë¬¸ì œì™€ ê·¸ì— ëŒ€í•œ í•´ê²°ì±…ì˜ ìš”ì§€ëŠ” ë™ì¼í•  ê²ƒ&lt;/strong>ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ì•„ë¬´ë˜ë„ ë°±ì—”ë“œì—ì„œ APIë¥¼ ê°œë°œí•˜ë©´ì„œ íŒŒì¼ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ëŠ” ê²Œ ì•„ë‹ˆë¼ë©´ ì£¼ë¡œ Latencyê°€ ëŠ˜ì–´ë‚˜ëŠ” ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>ë„ˆë¬´ ë§ì€ Write&lt;/li>
&lt;li>ë¶ˆí•„ìš”í•œ Column(í•„ë“œ) í˜¹ì€ ê´€ê³„ë¥¼ Eager Loading. ì¶”ê°€ì ìœ¼ë¡œ ê²½ìš°ì— ë”°ë¼ &lt;strong>N+1 ì¿¼ë¦¬ ë¬¸ì œ&lt;/strong> ë°œìƒ&lt;/li>
&lt;li>í•„ìš”í•œ Column(í•„ë“œ) í˜¹ì€ ê´€ê³„ë¥¼ ë’¤ëŠ¦ê²Œ Lazy Loading. ì¶”ê°€ì ìœ¼ë¡œ ê²½ìš°ì— ë”°ë¼ &lt;strong>N+1 ì¿¼ë¦¬ ë¬¸ì œ&lt;/strong> ë°œìƒ&lt;/li>
&lt;li>&lt;strong>ìš”ì²­ë§ˆë‹¤ ë§¤ë²ˆ ìˆ˜í–‰ë˜ëŠ” Joinì´ë‚˜ ì¼ì¢…ì˜ ì—°ì‚°ë“¤&lt;/strong>&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>&lt;code>N+1&lt;/code> ì¿¼ë¦¬ ë¬¸ì œ? - Nê°œì˜ ë°ì´í„°ë¥¼ ì¡°íšŒí•œ ê²½ìš°, ê° ë°ì´í„°ë“¤ì˜ ì—°ê´€ ê´€ê³„ë¥¼ ì¶”ê°€ì ìœ¼ë¡œ ì¡°íšŒí•˜ê¸° ìœ„í•´ í•œ ë²ˆì”© ë” ì¡°íšŒí•´ì•¼í•˜ëŠ” ë¬¸ì œ&amp;hellip; ì•„ì£¼ ì•…ëª… ë†’ì€ ë¬¸ì œë¡œ ìë£Œë¥¼ ì‰½ê²Œ ì°¾ì•„ë³¼ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;/blockquote>
&lt;p>ì‚¬ì‹¤ ì–´ë–»ê²Œ ë³´ë©´ N+1 ì¿¼ë¦¬ ë¬¸ì œê°€ ì›Œë‚™ ì•…ëª…ì´ ë†’ì•„ ê·¸ì— ëŒ€í•œ í•´ê²°ì±…ë“¤ë„ ê°„ë‹¨í•˜ê²ŒëŠ” ë§ì´ ì†Œê°œë˜ëŠ” ê²ƒ ê°™ê¸°ë„ í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ì´ë²ˆ ê¸€ì—ì„œëŠ” ì¡°ê¸ˆì€ íŠ¹ì´í•˜ê²Œ &lt;strong>ì¡°íšŒìˆ˜ë‚˜ ëŒ“ê¸€ ê°œìˆ˜ì²˜ëŸ¼ ì¼ì¢…ì˜ Count ê¸°ëŠ¥ì´ í•„ìš”í•œ ê²½ìš°ì˜ N+1 ì¿¼ë¦¬ ë¬¸ì œë‚˜ ìš”ì²­ë§ˆë‹¤ ë§¤ë²ˆ ìˆ˜í–‰ë˜ëŠ” Joinì´ë‚˜ ì—°ì‚°ë“¤ë¡œ ì¸í•œ
ì˜¤ë²„í—¤ë“œë“¤ì„ ì¤„ì—¬ ìµœì í™”&lt;/strong>í•˜ëŠ” ë°©ë²•ì€ ì–´ë–¤ ê²ƒë“¤ì´ ìˆì„ì§€ì— ëŒ€í•œ ì œ ê³ ë¯¼ì„ ì†Œê°œí•´ë³´ë ¤ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;strong>&lt;em>(ì´ ê¸€ì€ RDBë¥¼ ë©”ì¸ DBë¡œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.)&lt;/em>&lt;/strong>&lt;/p>
&lt;h2 id="ì˜ìƒ-ì¡°íšŒìˆ˜-ê°™ì€-count-ì„±ê²©ì˜-ê°’ì—-ëŒ€í•œ-ì‘ì—…ì„-ìµœì í™”í•˜ì§€-ì•Šìœ¼ë©´">ì˜ìƒ ì¡°íšŒìˆ˜ ê°™ì€ Count ì„±ê²©ì˜ ê°’ì— ëŒ€í•œ ì‘ì—…ì„ ìµœì í™”í•˜ì§€ ì•Šìœ¼ë©´?!&lt;/h2>
&lt;ul>
&lt;li>ìŸì•„ì§€ëŠ” ì˜ìƒ ì¡°íšŒ ì´ë²¤íŠ¸ë§ˆë‹¤ RDBì— ë°ì´í„°ë¥¼ Write =&amp;gt; RDBì— ë„ˆë¬´ í° ë¶€í•˜&lt;/li>
&lt;li>ë§¤ë²ˆ íŠ¹ì • ì˜ìƒê³¼ ê´€ë ¨ëœ ì¡°íšŒ ë‚´ì—­ì„ RDBì—ì„œ Join í›„ ê·¸ ê°œìˆ˜ë¥¼ ê³„ì‚° =&amp;gt; RDBì— ë¶€í•˜, ëŠë¦° ì‘ì—…&lt;/li>
&lt;li>RDBì— ì˜ìƒ ì¡°íšŒ ì´ë²¤íŠ¸ë¥¼ Writeí•  ë•Œ ì˜ìƒ ì •ë³´ í…Œì´ë¸”ì— view_count ì»¬ëŸ¼ì„ ì¶”ê°€í•œ ë’¤ view_count ì»¬ëŸ¼ì— ì¡°íšŒìˆ˜ë¥¼ ìºì‹œ =&amp;gt; ìºì‹œ ì •í™•ë„ ë¬¸ì œ, í…Œì´ë¸” ì •ì˜ ë³€ê²½ í•„ìš”&lt;/li>
&lt;/ul>
&lt;p>ì˜ìƒ ì¡°íšŒìˆ˜ ê°™ì€ Count ì„±ê²©ì˜ ê°’ì„ ìµœì í™”í•´ì£¼ì§€ ì•Šìœ¼ë©´ ìœ„ì™€ ê°™ì€ ë¬¸ì œë“¤ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤ê³  ë´…ë‹ˆë‹¤.&lt;/p>
&lt;p>ë”°ë¼ì„œ ì˜ìƒ ì¡°íšŒ ì´ë²¤íŠ¸ì²˜ëŸ¼ ìŸì•„ì§€ëŠ” ë°ì´í„°ëŠ” ë„ˆë¬´ ë§ì€ Write ìš”ì²­ì€ RDBê°€ ì•„ë‹Œ NoSQLì„ ì‚¬ìš©í•˜ëŠ” ê²Œ ì¢‹ì„ ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ NoSQLì— ì˜ìƒ ì¡°íšŒ ì´ë²¤íŠ¸ë¥¼ ì €ì¥í•œë‹¤ í•´ë„ ë§¤ë²ˆ ì˜ìƒ ì¡°íšŒ ë‚´ì—­ì„ ê°€ì ¸ì˜¨ ë’¤ ê·¸ ê°œìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” ë°©ì‹ì€ ì–´ë–¤ DBë¥¼ ì‚¬ìš©í•˜ë˜ ë¶ˆí•„ìš”í•œ Readë„ ë§ì´ ë°œìƒí•  ê²ƒì´ê³ , ë‹¹ì—°íˆ ëŠë¦¬ê² ì£ . ë§Œì•½ ì–´ë–¤ ì˜ìƒì˜ ì¡°íšŒìˆ˜ê°€ 10ë§Œì¸ ê²½ìš° 10ë§Œê°œì˜ ì´ë²¤íŠ¸ë“¤ì„ ì¡°íšŒí•œ ë’¤ ê·¸ ê°œìˆ˜ë¥¼ ì´ìš©í•´ì•¼í• í…Œë‹ˆ ë§ì…ë‹ˆë‹¤.
ê²½ìš°ì— ë”°ë¼ì„œëŠ” ì˜ìƒ ì¡°íšŒ ì‹œ ê° ì˜ìƒì— ëŒ€í•œ ì¡°íšŒ ë‚´ì—­ì„ ì¶”ê°€ì ìœ¼ë¡œ ì¡°íšŒí•˜ê²Œ ë˜ëŠ” N+1 ì¿¼ë¦¬ ë¬¸ì œë¥¼ ê²ªì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë”°ë¼ì„œ &lt;strong>&lt;code>view_count&lt;/code> ê°™ì€ columnì„ ì¶”ê°€ì ìœ¼ë¡œ ë‘ëŠ” ê±´ ì–´ë–¨ê¹Œ&lt;/strong>ì‹¶ê¸°ë„ í•©ë‹ˆë‹¤ë§Œ ì¼ë°˜ì ìœ¼ë¡œëŠ” &lt;strong>ë™ì‹œì„± ì´ìŠˆë¡œ ì¸í•´ view_countì˜ ì •í™•ë„ê°€ ë–¨ì–´ì§€ê²Œ ë  ê²ƒ&lt;/strong>ì…ë‹ˆë‹¤. ë˜í•œ &lt;strong>ìŠ¤í‚¤ë§ˆê°€ ê°•ìš”ë˜ëŠ” RDBì˜ íŠ¹ì„±ì— ì˜í•´ í…Œì´ë¸” ì •ì˜ê°€ ë³€ê²½ë˜ì–´ì•¼í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤&lt;/strong>.&lt;/p>
&lt;blockquote>
&lt;p>ë™ì‹œì„± ì´ìŠˆ - ë§Œì•½ 100ëª…ì˜ ìœ ì €ì— ëŒ€í•œ ì˜ìƒ ì¡°íšŒë¥¼ ë™ì‹œì— ì²˜ë¦¬í•˜ëŠ” ê²½ìš° 100ê°œì˜ ìŠ¤ë ˆë“œëŠ” ëª¨ë‘ view_count=0 ìœ¼ë¡œ ì¡°íšŒë¥¼ í•œ ë’¤ ìì‹ ì˜ ì¡°íšŒ ì´ë²¤íŠ¸ë¡œ ì¸í•œ +1ì„ ë”í•´ view_count=1ë¡œ ì—…ë°ì´íŠ¸ ì»¤ë§¨ë“œë¥¼ ë‚ ë¦¬ê² ì§€ë§Œ ì‚¬ì‹¤ view_countëŠ” 1ì´ ì•„ë‹Œ 100ì´ ë˜ì–´ì•¼ ì •í™•í•œ ê²ƒì´ë‹¤.&lt;/p>
&lt;/blockquote>
&lt;h2 id="redisë¥¼-ë„ì…í•´ë³´ë©´-ì–´ë–¨ê¹Œ">Redisë¥¼ ë„ì…í•´ë³´ë©´ ì–´ë–¨ê¹Œ&lt;/h2>
&lt;p>&lt;code>Redis&lt;/code>ëŠ” ë©”ëª¨ë¦¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œí•˜ëŠ” Key-Value í˜•íƒœì˜ NoSQLë¼ì„œ ì¼ë°˜ì ì¸ RDBì— ë¹„í•´ ì•„ì£¼ ë¹ ë¥´ë©´ì„œ ì‹±ê¸€ ìŠ¤ë ˆë“œ ê¸°ë°˜ì´ê¸° ë•Œë¬¸ì— ì •í™•í•œ Countì™€ Incrementê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ì•„ê¹Œ ë°œìƒí–ˆë˜ ë¬¸ì œë“¤ì„ ë‹¤ìŒê³¼ ê°™ì´ í•´ê²°í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ìŸì•„ì§€ëŠ” ì˜ìƒ ì¡°íšŒ ì´ë²¤íŠ¸ë§ˆë‹¤ RDBì— ë°ì´í„°ë¥¼ Write&lt;/p>
&lt;p>=&amp;gt; &lt;del>RDBì— ë„ˆë¬´ í° ë¶€í•˜&lt;/del> (X), &lt;strong>ë¹ ë¥¸ Write&lt;/strong> (O)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ë§¤ë²ˆ íŠ¹ì • ì˜ìƒê³¼ ê´€ë ¨ëœ ì¡°íšŒ ë‚´ì—­ì„ RDBì—ì„œ Join í›„ ê·¸ ê°œìˆ˜ë¥¼ ê³„ì‚°&lt;/p>
&lt;p>=&amp;gt; &lt;del>RDBì— ë¶€í•˜, ëŠë¦° ì‘ì—…&lt;/del> (X), &lt;strong>Redisì— ìµœê·¼ ì¡°íšŒ ë‚´ì—­ì„ ì €ì¥&lt;/strong>, ìƒí™©ì— ë”°ë¼ NoSQLì—ì„œ Replicateí•´ì„œ ì˜êµ¬í™”í•˜ëŠ” ê²ƒë„ ì¢‹ìŒ (O)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>RDBì— ì˜ìƒ ì¡°íšŒ ì´ë²¤íŠ¸ë¥¼ Writeí•  ë•Œ ì˜ìƒ ì •ë³´ í…Œì´ë¸”ì— view_count ì»¬ëŸ¼ì„ ì¶”ê°€í•œ ë’¤ view_count ì»¬ëŸ¼ì— ì¡°íšŒìˆ˜ë¥¼ ìºì‹œ&lt;/p>
&lt;p>=&amp;gt; &lt;del>ìºì‹œ ì •í™•ë„ ë¬¸ì œ&lt;/del> (X), &lt;strong>Redisì˜ ì‹±ê¸€ìŠ¤ë ˆë“œ ê¸°ë°˜ì˜ ì •í™•í•œ ê³„ì‚°&lt;/strong>&lt;/p>
&lt;p>=&amp;gt; &lt;del>í…Œì´ë¸” ì •ì˜ ë³€ê²½ í•„ìš”&lt;/del> (X), &lt;strong>NoSQLì˜ ìœ ì—°í•¨&lt;/strong> (O)&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ì´ëŸ° ì´ìœ ë¡œ ì¸í•´ ì¶”í›„ì— &lt;strong>ì¡°íšŒìˆ˜ë‚˜ ëŒ“ê¸€ ìˆ˜, íŒ”ë¡œì›Œ ìˆ˜ ë“±ë“±ì— ëŒ€í•´ Redisë¥¼ ì´ìš©í•˜ë©´ ì–´ë–¨ê¹Œ ì‹¶ì€ ìƒê°ì´ ë“œë„¤ìš”~!&lt;/strong> ê·¸ëŸ¼ ì‹¤ì œë¡œ ì•ì„œ ì†Œê°œí–ˆë˜ ë¬¸ì œ ìƒí™©ì´ë‚˜ í•´ê²° ë°©ë²•ë“¤ì´ ê°ê° ì„±ëŠ¥ì´ ì–´ë–¨ì§€ ì§ì ‘ ë°ì´í„°ì™€ ì¿¼ë¦¬ë¥¼ ì´ìš©í•´ ì‹¤í—˜í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì‹¤ì œ-ì‹¤í—˜ì„-í†µí•´-ê°ê°ì˜-ë°©ì‹-ì„±ëŠ¥-ë¹„êµ">ì‹¤ì œ ì‹¤í—˜ì„ í†µí•´ ê°ê°ì˜ ë°©ì‹ ì„±ëŠ¥ ë¹„êµ&lt;/h2>
&lt;h3 id="ìƒí™©-ì†Œê°œ">ìƒí™© ì†Œê°œ&lt;/h3>
&lt;ul>
&lt;li>Localì—ì„œ Redis container, MySQL containerì„ ì´ìš©. Goì–¸ì–´ë¡œ ê°€ë³ê²Œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‘ì„±&lt;/li>
&lt;li>MySQLì˜ Video í…Œì´ë¸”ì— 1000ê°œì˜ ì˜ìƒ ë°ì´í„° ì¡´ì¬. ì¡°íšŒìˆ˜ë¥¼ ìºì‹œí•´ë†“ì€ view_count ì»¬ëŸ¼ ì¡´ì¬.&lt;/li>
&lt;li>MySQLì˜ View í…Œì´ë¸”ì— ì•½ 2ì²œë§Œ ê°œì˜ ì¡°íšŒ ë‚´ì—­ ì¡´ì¬.(ì¦‰ ì˜ìƒ ë‹¹ ìˆ˜ì²œê°œì˜ ì¡°íšŒ ë‚´ì—­ ì¡´ì¬) ì¸ë±ìŠ¤ëŠ” ì˜ ê±¸ì–´ë†“ìŒ.&lt;/li>
&lt;li>Redisì— &lt;code>key=video_view_count:{{video_id}}&lt;/code>, &lt;code>value={{view_count}}&lt;/code> í˜•íƒœë¡œ view_count ìºì‹œ&lt;/li>
&lt;li>&lt;strong>ëœë¤í•˜ê²Œ 5ê°œì˜ ì˜ìƒì— ëŒ€í•œ ì •ë³´ë¥¼ ì œê³µí•  ê²ƒì¸ë° ì´ë•Œ ì¡°íšŒìˆ˜ë„ í¬í•¨ë˜ì–´ì•¼í•œë‹¤.&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h3 id="ë¹„êµí• -ë°©ì‹ë“¤-ì†Œê°œ">ë¹„êµí•  ë°©ì‹ë“¤ ì†Œê°œ&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>Select í›„ Redisì— ìºì‹œëœ ì¡°íšŒìˆ˜ ì´ìš©&lt;/strong>
&lt;ul>
&lt;li>ì˜ìƒì— ëŒ€í•œ ì •ë³´ ìì²´ëŠ” Video í…Œì´ë¸”ì„ ì´ìš©í•´ Read&lt;/li>
&lt;li>ì¡°íšŒìˆ˜ëŠ” Redisì— ìºì‹œëœ ê°’ì„ MGETì„ í†µí•´ ë°°ì¹˜(ë²Œí¬)ë¡œ ì¡°íšŒí•´ì™€ì„œ ì´ìš©&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Select í•˜ë©° Columnì— ìºì‹œëœ ì¡°íšŒìˆ˜ ì´ìš©&lt;/strong>
&lt;ul>
&lt;li>ì˜ìƒ ì •ë³´ì™€ ì¡°íšŒìˆ˜ ëª¨ë‘ Video í…Œì´ë¸”ì„ í†µí•´ ë°”ë¡œ Read&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Select í›„ Batchë¡œ In-Query&lt;/strong>
&lt;ul>
&lt;li>JPAë¥¼ ì´ìš©í•˜ë©´ì„œ í”íˆ ë°œìƒí–ˆë˜ N+1 ì¿¼ë¦¬ë¥¼ Batchë¡œ í•´ê²°í•  ë•Œì™€ ë™ì¼í•˜ê²Œ Video í…Œì´ë¸” ì¡°íšŒ í›„ View í…Œì´ë¸”ì—ì„œ view.id in (?,?,&amp;hellip;) ì˜ í˜•íƒœë¡œ In-Queryë¥¼ ì´ìš©&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Select í›„ ë‚˜ì¤‘ì— ê°ê°ì„ Join&lt;/strong>
&lt;ul>
&lt;li>N+1 ì¿¼ë¦¬ ë¬¸ì œ ê·¸ ìì²´..!&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="ì‹¤í—˜-ê²°ê³¼">ì‹¤í—˜ ê²°ê³¼&lt;/h3>
&lt;p>&lt;figure style="flex-grow: 321; flex-basis: 772px">
&lt;a href="https://umi0410.github.io/blog/optimizing-count-query-strategy/result-1.png" data-size="2520x783">&lt;img src="https://umi0410.github.io/blog/optimizing-count-query-strategy/result-1.png"
srcset="https://umi0410.github.io/blog/optimizing-count-query-strategy/result-1_hu2b8142f32263cafd399ddd7e1ab96ace_456229_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/optimizing-count-query-strategy/result-1_hu2b8142f32263cafd399ddd7e1ab96ace_456229_1024x0_resize_box_3.png 1024w"
width="2520"
height="783"
loading="lazy"
alt="ì‹¤í—˜ ê²°ê³¼ 1">
&lt;/a>
&lt;figcaption>ì‹¤í—˜ ê²°ê³¼ 1&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;ol>
&lt;li>ğŸ¥‡ &lt;strong>Select í•˜ë©° Columnì— ìºì‹œëœ ì¡°íšŒìˆ˜ ì´ìš©&lt;/strong>&lt;/li>
&lt;li>ğŸ¥ˆ &lt;strong>Select í›„ Redisì— ìºì‹œëœ ì¡°íšŒìˆ˜ ì´ìš©&lt;/strong>&lt;/li>
&lt;li>ğŸ¥‰ &lt;strong>Select í›„ ë‚˜ì¤‘ì— ê°ê°ì„ Join&lt;/strong>&lt;/li>
&lt;li>&lt;strong>Select í›„ Batchë¡œ In-Query&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>ìš°ì„ ì€ ì–´ë–¤ ìª½ìœ¼ë¡œë“  ìºì‹±ì„ ì´ìš©í•˜ëŠ” ê²Œ ì°¸ ë¹ ë¥´êµ¬ë‚˜ ì‹¶ì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì¡°ê¸ˆ ì˜ì•„í•  ìˆ˜ ìˆëŠ” ë¶€ë¶„ë“¤ë„ ì¡´ì¬í•˜ëŠ”ë°ìš”.&lt;/p>
&lt;ol>
&lt;li>&lt;strong>Redisì— ì¡°íšŒìˆ˜ë¥¼ ìºì‹±í•œ ê²½ìš°ë³´ë‹¤ MySQLì— ìºì‹±í•œ ê²½ìš°ê°€ ë” ë¹ ë¥´ë„¤..?&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>ì–´ë–»ê²Œë³´ë©´ ë‹¹ì—°í•˜ê² ì§€ë§Œ &lt;strong>MySQLì—ì„œ Join ì—†ì´ view_countë¥¼ ì¡°íšŒí•  ìˆ˜ë§Œ ìˆë‹¤ë©´ Redisë¥¼ ê±°ì¹˜ëŠ” ê²ƒë³´ë‹¤ MySQLë§Œìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ë” ë¹ ë¥¼ ê²ƒ&lt;/strong>ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ Redisë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ê°€ Read ì†ë„ë•Œë¬¸ë§Œì€ ì•„ë‹ ê²ƒì…ë‹ˆë‹¤. ì•ì„œ ë§ì”€ë“œë¦° ëŒ€ë¡œ &lt;strong>ì‹±ê¸€ ìŠ¤ë ˆë“œ ê¸°ë°˜ì˜ ì •í™•í•œ count&lt;/strong>ê°€ ê°€ëŠ¥í•  ê²ƒì´ê³ , RDBì˜ &lt;strong>í…Œì´ë¸” ìŠ¤í‚¤ë§ˆë¥¼ ë³€ê²½í•  í•„ìš”ë„ ì—†ì£ &lt;/strong>.&lt;/p>
&lt;p>ê·¸ë¦¬ê³  ë¬´ì—‡ë³´ë‹¤ ì˜ìƒ ì¡°íšŒ ì´ë²¤íŠ¸ ë°œìƒë§ˆë‹¤ RDBì˜ íŠ¹ì • rowì˜ ì¡°íšŒìˆ˜ë¥¼ +1 í•˜ì—¬ update í•˜ëŠ” ê²ƒë³´ë‹¤ëŠ” redisì—ì„œ incrementí•˜ëŠ” ê²ƒì´ ë¹ ë¥¼ ê²ƒì…ë‹ˆë‹¤! ì¦‰, &lt;strong>writeê¹Œì§€ ê³ ë ¤í•˜ë©´ ì†ë„ ì¸¡ë©´ì—ì„œë„ redisê°€ ë¹ ë¥¼ ê²ƒ&lt;/strong>ì…ë‹ˆë‹¤.&lt;/p>
&lt;ol start="2">
&lt;li>&lt;strong>N+1 ì¿¼ë¦¬ ë¬¸ì œë¥¼ ì•¼ê¸°í•˜ëŠ” ë°©ì‹ì´ Batchë¡œ In-Queryí•˜ëŠ” ë°©ì‹ë³´ë‹¤ ë¹ ë¥´ë„¤..?&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>ì´ ë¶€ë¶„ì€ ì •í™•í•œ ì›ì¸ì€ ëª¨ë¥´ê² ì§€ë§Œ ì•„ë§ˆ ì¶”ì¸¡ì»¨ëŒ€ Batch ë°©ì‹ìœ¼ë¡œ í•œ ë²ˆì— ëª‡ ë§Œê°œ ìˆ˜ì¤€ì˜ ë„ˆë¬´ë‚˜ ë§ì€ ë°ì´í„°ë¥¼ ì¹´í‹°ì…˜ ê³±ìœ¼ë¡œ ì¡°íšŒí•œ ë’¤ ê° videoì˜ ì¡°íšŒìˆ˜ ë‚´ì—­ìœ¼ë¡œ ë„£ì–´ì£¼ë ¤ë‹¤ë³´ë‹ˆ ì¡°íšŒ í›„ ì—°ì‚°ì´ ë§ì€ ì‹œê°„ì„ ì¡ì•„ë¨¹ì€ ê²Œ ì•„ë‹ê¹Œ ì‹¶ìŠµë‹ˆë‹¤.
ë°˜ë©´ N+1 ì¿¼ë¦¬ ë°©ì‹ì€ ê° videoì— ëŒ€í•´ í•œ ë²ˆì”© ì¿¼ë¦¬í•œ ë’¤ ë°”ë¡œ ê·¸ ê²°ê³¼ count í•  ìˆ˜ ìˆìœ¼ë‹ˆ ì´ëŸ° íŠ¹ìˆ˜í•œ ê²½ìš°(ë°ì´í„°ê°€ ì—„~ì²­ ë§ì€ ê²½ìš°)ì—ëŠ” ì˜¤íˆë ¤ Batch ë°©ì‹ì´ ëŠë¦´ ìˆ˜ ìˆëŠ” ê²Œ ì•„ë‹ê¹Œ ì‹¶ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì‹¤ì œë¡œ ì¡°íšŒìˆ˜ê°€ ì•½ 10ê°œ ì •ë„ì¸ ì˜ìƒì„ ë˜‘ê°™ì´ 5ê°œ ì¡°íšŒí•´ë³´ë‹ˆ ìš°ë¦¬ì˜ ì¼ë°˜ì ì¸ ì˜ˆìƒëŒ€ë¡œ Batch ë°©ì‹ì´ N+1 ì¿¼ë¦¬ë³´ë‹¤ ë¹¨ëëŠ”ë°ìš”! ì•„ë§ˆ ì¹´í‹°ì…˜ ê³±ì´ ì¼ì–´ë‚¬ì§€ë§Œ ì–‘ ìì²´ê°€ ì ì€ ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ redisì™€ì˜ Në²ˆì˜ í†µì‹ ì´ ë” ëŠë¦¬ê¸° ë•Œë¬¸ì´ ì•„ë‹ê¹Œ ì‹¶ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì¡°íšŒìˆ˜ë¥¼-ìœ„í•´-ê°€ì¥-ì´ìƒì ì¸-ì•„í‚¤í…ì³ëŠ”">ì¡°íšŒìˆ˜ë¥¼ ìœ„í•´ ê°€ì¥ ì´ìƒì ì¸ ì•„í‚¤í…ì³ëŠ”?!&lt;/h2>
&lt;p>&lt;figure style="flex-grow: 106; flex-basis: 255px">
&lt;a href="https://umi0410.github.io/blog/optimizing-count-query-strategy/architecture.png" data-size="1315x1236">&lt;img src="https://umi0410.github.io/blog/optimizing-count-query-strategy/architecture.png"
srcset="https://umi0410.github.io/blog/optimizing-count-query-strategy/architecture_hu2e0266c55b356006b8efd84bbe6e386e_394889_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/optimizing-count-query-strategy/architecture_hu2e0266c55b356006b8efd84bbe6e386e_394889_1024x0_resize_box_3.png 1024w"
width="1315"
height="1236"
loading="lazy"
alt="ìƒìƒ ì† ì•„í‚¤í…ì³">
&lt;/a>
&lt;figcaption>ìƒìƒ ì† ì•„í‚¤í…ì³&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ì‹¤í—˜ ê²°ê³¼ì—ì„œë„ Redisë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë‚˜ì˜ì§€ ì•Šì€ ê²ƒìœ¼ë¡œ ë³´ì—¬ì§‘ë‹ˆë‹¤. ê·¸ë˜ì„œ ì €ë¼ë©´ ì •ë§ ì´ëŸ° ì‹ìœ¼ë¡œ &lt;strong>ìµœì í™”ë¥¼ í•´ë³¼ ìˆ˜ ìˆëŠ” ê¸°íšŒê°€ ìˆë‹¤ë©´ Redisë¥¼ ë„ì…&lt;/strong>í•´ë³¼ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ê·¸ ë™ì•ˆ ìˆ˜ì—†ì´ ê³ í†µë°›ì•„ì™”ë˜ N+1 ì¿¼ë¦¬ ë¬¸ì œë„ ì–´ëŠ ì •ë„ í•´ê²°í•  ìˆ˜ ìˆê² ì£ ?!
&lt;strong>ë¶ˆí•„ìš”í•œ ì–‘ë°©í–¥ ì—°ê´€ ê´€ê³„ëŠ” ìµœëŒ€í•œ ë‹¨ë°©í–¥ ì—°ê´€ ê´€ê³„ë¡œ ì œí•œí•˜ê³ , Countê°€ í•„ìš”í•  ë•Œ ê° ì—”í‹°í‹°ë§ˆë‹¤ì˜ íŠ¹ì • Count ê°’ì„ ìœ„í•´ Në²ˆì˜ ì¿¼ë¦¬ë¥¼ ìˆ˜í–‰í•  í•„ìš”ë„ ì—†ì–´ì§ˆ ê²ƒ&lt;/strong>ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ Redisë¥¼ ë„ì…í•œë‹¤ê³  ë§Œì‚¬ê°€ í•´ê²°ë˜ëŠ” ê²ƒì€ ì•„ë‹ ê²ƒì…ë‹ˆë‹¤. RedisëŠ” ì˜ì†ì„±ì´ ë³´ì¥ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì˜ìƒ ì¡°íšŒ ë‚´ì—­ì´ ì¦ë°œí•´ë²„ë¦´ ìˆ˜ë„ ìˆê³ , ì–‘ì´ í•œì •ì ì¼ ìˆ˜ ìˆì£ . ê·¸ë˜ì„œ ì €ëŠ” ë‹¨ìˆœ Redis ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ìŒê³¼ ê°™ì€ ë°©ì‹ì€ ì–´ë–¨ê¹Œ ìƒê°í•´ë³´ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ìµœê·¼ ì˜ìƒ ì¡°íšŒ ë‚´ì—­&lt;/strong>ì€ &lt;code>view_histories:{{username}}&lt;/code> í˜•íƒœì˜ key, &lt;code>{{video_id}}&lt;/code> í˜•íƒœì˜ valueë¡œ 1ì°¨ì ìœ¼ë¡œ Redisì— ì €ì¥í•œë‹¤. &lt;strong>ì¡°íšŒìˆ˜&lt;/strong>ëŠ” &lt;code>view_count:{{vide_id}}&lt;/code> í˜•íƒœì˜ key, &lt;code>{{view_count}}&lt;/code> í˜•íƒœì˜ valueë¡œ Redisì— ìºì‹œí•œë‹¤.
&lt;ul>
&lt;li>ìµœê·¼ ì˜ìƒ ì¡°íšŒ ë‚´ì—­ì„ redisë¥¼ í†µí•´ ë¹ ë¥´ê²Œ ì½ê³  ì“¸ ìˆ˜ ìˆë‹¤.&lt;/li>
&lt;li>ì˜ìƒ ì¡°íšŒìˆ˜ë¥¼ Redisì˜ Incrementë¡œ ë¹„êµì  ì •í™•í•˜ê²Œ ê³„ì‚°í•  ìˆ˜ ìˆë‹¤.&lt;/li>
&lt;li>ìœ ì €ì˜ ìµœê·¼ ì˜ìƒ ì¡°íšŒ ë‚´ì—­ì„ ê° ìœ ì €ë³„ë¡œ TTLì„ ê±¸ ìˆ˜ ìˆë‹¤. =&amp;gt; Redis ë©”ëª¨ë¦¬ ì ˆì•½&lt;/li>
&lt;li>ì˜ìƒì˜ ì¡°íšŒìˆ˜ë¥¼ ì˜ìƒë³„ë¡œ TTL ê±¸ ìˆ˜ ìˆë‹¤ =&amp;gt; Redis ë©”ëª¨ë¦¬ ì ˆì•½&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ì˜ìƒ ì¡°íšŒ ì´ë²¤íŠ¸ ì €ì¥ ì‹œ Redisì˜ &lt;code>event:video_viewed&lt;/code> ë¼ëŠ” keyì˜ Listì— ì•ì„œ ì–¸ê¸‰í•œ ì¡°íšŒ ë‚´ì—­ê³¼ ë™ì¼í•œ ì¡°íšŒ ë‚´ì—­ì„ ì €ì¥í•œë‹¤.(ë©”ì‹œì§€ íì— Enqueueí•˜ëŠ” ëŠë‚Œ)
&lt;ul>
&lt;li>SQS ê°™ì€ Message queueëŠ” ì¡°íšŒìˆ˜ ì´ë²¤íŠ¸ê°€ ìŸì•„ì§€ëŠ” ê²ƒì— ë¹„í•´ latencyê°€ ëŠë¦¼. ë”°ë¼ì„œ Redisë¥¼ íë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ê´œì°®ì•„ë³´ì„.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Redis &lt;code>event:video_viewed&lt;/code> ë¼ëŠ” Listì—ì„œ ì¡°íšŒ ì´ë²¤íŠ¸ë¥¼ ë½‘ì•„ ì„œë²„ë¦¬ìŠ¤í•œ NoSQLì¸ DynamoDBì— ìœ ì €ì˜ ì¡°íšŒ ë‚´ì—­ì„ ì˜êµ¬ì ìœ¼ë¡œ ì €ì¥í•œë‹¤.
&lt;ul>
&lt;li>ì˜ìƒ ì¡°íšŒ ë‚´ì—­ì„ redisì— ìºì‹œí•  ë¿ë§Œ ì•„ë‹ˆë¼ ì˜êµ¬ì ìœ¼ë¡œ ì €ì¥í•˜ê¸° ìœ„í•¨.&lt;/li>
&lt;li>ë§ˆì¹˜ Redisë¥¼ ë²„í¼, Write-back cacheë¡œ ì´ìš©í•˜ëŠ” ëŠë‚Œì¸ë° NoSQLì´ë¼í•´ë„ ì£¼ê¸°ì ì¸ Bulk writeì€ ì£¼ê¸°ë•Œë§ˆë‹¤ ë¶€ë‹´ë  ìˆ˜ ìˆìŒ. ê·¸ë¦¬ê³  ì¡°íšŒ ì´ë²¤íŠ¸ëŠ” ê³„ì† ê³„ì† ë¹ ë¥´ê²Œ í™•ì¥ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— NoSQL ì¤‘ì—ë„ ì„œë²„ë¦¬ìŠ¤ì¸ DynamoDBë¥¼ ì‚¬ìš©í•˜ë©´ ì–´ë–¨ê¹Œ ì‹¶ìŒ. (ì£¼ì˜: DynamoDB ì•ˆì¨ë´„&amp;hellip;)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>(ë‹¨ ìœ„ì˜ ì•„í‚¤í…ì³ëŠ” ì œ ê°œì¸ì ì¸ ìƒê°ì¼ ë¿, ì‹¤ì œë¡œëŠ” ì–´ë–»ê²Œë“¤ ì‚¬ìš©í•˜ì‹œëŠ”ì§€ ê¶ê¸ˆí•˜ë„¤ìš”..! ì´ë ‡ê²Œ ì§ì ‘ í•œ í•„ë“œì— ëŒ€í•´ ë³µì¡í•œ ë°©ì‹ì„ ì´ìš©í•˜ê¸°ë³´ë‹¨ ì¢€ ë” ë‹¨ìˆœíˆ ìºì‹± í”„ë ˆì„ì›Œí¬ë¥¼ ì´ìš©í•˜ëŠ” ê²ƒë„ ì¢‹ì€ ì„ íƒì§€ì¼ ìˆ˜ë„ ìˆì„ ê²ƒ ê°™êµ¬ìš”.)&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>ì´ë ‡ê²Œ Count ì„±í–¥ì˜ ì‘ì—…ì„ ì–´ë–»ê²Œ ìµœì í™”í•  ìˆ˜ ìˆì„ì§€ ìƒìƒê³¼ ì‹¤í—˜ì„ í†µí•´ ì •ë¦¬í•´ë´¤ìŠµë‹ˆë‹¤. ì¤‘ìš”í•œ ê²ƒì€ í•˜ë‚˜ì˜ ì •ë‹µì´ ì¡´ì¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆê³ , ì²˜í•œ ìƒí™©ë§ˆë‹¤ ì²œì°¨ë§Œë³„ì˜ ì†”ë£¨ì…˜ë“¤ì´ ìˆì„í…Œë‹ˆ ê°ê°ì„ ì˜ ë¹„êµí•´ë³´ê³  ì˜ PoC í•œ ë’¤ ì‚¬ìš©í•˜ëŠ” ê²ƒì¸ ë“¯í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ìºì‹œë‚˜ Redisì— ëŒ€í•´ ê´€ì‹¬ì´ ë§ì€ í¸ì´ì§€ë§Œ, ì•„ì§ ë§ì´ ë¶€ì¡±í•˜ë‹¤ë³´ë‹ˆ ì¢‹ì€ ë§ì”€ ëŒ“ê¸€ë¡œ ë‹¬ì•„ì£¼ì‹œë©´ ê°ì‚¬íˆ ë°°ì›Œë‚˜ê°€ê² ìŠµë‹ˆë‹¤~! ê°ì‚¬í•©ë‹ˆë‹¤.&lt;/p></description></item><item><title>AWS Lambda + API Gatewayë¥¼ í†µí•´ SSRë¡œ OpenGraph ë©”íƒ€ë°ì´í„° ì œê³µí•˜ê¸°</title><link>https://umi0410.github.io/blog/ssr-serverless-og/</link><pubDate>Sun, 07 Nov 2021 03:46:54 +0900</pubDate><guid>https://umi0410.github.io/blog/ssr-serverless-og/</guid><description>&lt;img src="https://umi0410.github.io/blog/ssr-serverless-og/architecture.png" alt="Featured image of post AWS Lambda + API Gatewayë¥¼ í†µí•´ SSRë¡œ OpenGraph ë©”íƒ€ë°ì´í„° ì œê³µí•˜ê¸°" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>&lt;figure style="flex-grow: 508; flex-basis: 1219px">
&lt;a href="https://umi0410.github.io/blog/ssr-serverless-og/slack.png" data-size="625x123">&lt;img src="https://umi0410.github.io/blog/ssr-serverless-og/slack.png"
srcset="https://umi0410.github.io/blog/ssr-serverless-og/slack_hudb8034cbbfca01c01c6729f95196f0c8_28468_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/ssr-serverless-og/slack_hudb8034cbbfca01c01c6729f95196f0c8_28468_1024x0_resize_box_3.png 1024w"
width="625"
height="123"
loading="lazy"
alt="&amp;ldquo;ì˜¤í”ˆ ê·¸ë˜í”„ ì§€ì›í•´ì£¼ì„¸ìš”.&amp;rdquo;">
&lt;/a>
&lt;figcaption>â€œì˜¤í”ˆ ê·¸ë˜í”„ ì§€ì›í•´ì£¼ì„¸ìš”.â€&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure style="flex-grow: 245; flex-basis: 590px">
&lt;a href="https://umi0410.github.io/blog/ssr-serverless-og/examples.png" data-size="2376x966">&lt;img src="https://umi0410.github.io/blog/ssr-serverless-og/examples.png"
srcset="https://umi0410.github.io/blog/ssr-serverless-og/examples_hu6e9e1789e6f5add8639186b233630288_1362646_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/ssr-serverless-og/examples_hu6e9e1789e6f5add8639186b233630288_1362646_1024x0_resize_box_3.png 1024w"
width="2376"
height="966"
loading="lazy"
alt="ì˜¤í”ˆê·¸ë˜í”„ê°€ ì‚¬ìš©ëœ ì¸ìŠ¤íƒ€ DM, í˜ë¶ ë©”ì‹ ì €, ì¹´í†¡ ì˜ˆì‹œ">
&lt;/a>
&lt;figcaption>ì˜¤í”ˆê·¸ë˜í”„ê°€ ì‚¬ìš©ëœ ì¸ìŠ¤íƒ€ DM, í˜ë¶ ë©”ì‹ ì €, ì¹´í†¡ ì˜ˆì‹œ&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ì„œë¹„ìŠ¤ ì¶œì‹œë¥¼ ì•ë‘ê³  ë§ˆë¬´ë¦¬ ì‘ì—…ì„ í•˜ë˜ ì¤‘ ìŠê³  ìˆì—ˆë˜ SNS ê´€ë ¨ ê¸°ëŠ¥ë“¤ì´ ìˆì—ˆìŠµë‹ˆë‹¤. ê·¸ ì¤‘ OpenGraphë¥¼ í†µí•´ &amp;ldquo;ê³µìœ í•˜ê¸°&amp;rdquo; ê¸°ëŠ¥ ìˆ˜í–‰ ì‹œì—
ì ì ˆí•œ ë©”íƒ€ë°ì´í„°ë¥¼ ì œê³µí•´ì¤˜ì•¼ í–ˆìŠµë‹ˆë‹¤. ë³„ë¡œ ì–´ë ¤ìš´ ê¸°ëŠ¥ì€ ì•„ë‹ˆì§€ë§Œ ì´ë¥¼ ì œê³µí•˜ê¸° ìœ„í•´ ì ì ˆí•œ ë°©í–¥ì„ ì°¾ê¸°ê°€ ì‰½ì§€ ì•Šì•˜ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
ê³ ë¯¼ê³¼ ì‚½ì§ˆ ëì— ì €ëŠ” CloudFront, API Gateway, Lambda ì„œë¹„ìŠ¤ë“¤ì„ ì´ìš©í•˜ê¸°ë¡œ ê²°ì •í–ˆê³ , Serverless frameworkë¥¼ ì´ìš©í•´ Golang ë°”íƒ•ì˜
ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ ê°œë°œí–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="opengraph-ssr">OpenGraph? SSR?&lt;/h2>
&lt;blockquote>
&lt;p>ë³¸ ê¸€ì€ ì•„í‚¤í…ì³ë‚˜ ê¸°ìˆ  ì„ ì •ì— ëŒ€í•œ ë‚´ìš©ì„ ë§ì´ ë‹´ì„ ê²ƒì´ë¼ì„œ ì •ì˜ì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì€ ìƒëµí•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;/blockquote>
&lt;p>&lt;code>OpenGraph&lt;/code>ëŠ” &lt;code>&amp;lt;head&amp;gt;&lt;/code> íƒœê·¸ ì•ˆì— &lt;code>&amp;lt;meta property=&amp;quot;og:title&amp;quot; content=&amp;quot;ë°°í‹€íŒ¡::ì§§ê³  ì¬ë°ŒëŠ” ë™ì˜ìƒ ë°°í‹€&amp;quot; /&amp;gt;&lt;/code> ê³¼ ê°™ì€ í˜•íƒœë¡œ &lt;strong>ë©”íƒ€ë°ì´í„°ë“¤ì„ ì •ì˜í•´
SNSë‚˜ í¬ë¡¤ë§ ë´‡ë“¤ì´ ì‚¬ì´íŠ¸ì˜ ì •ë³´ë¥¼ ì¢€ ë” í†µì¼ëœ ë°©ë²•ìœ¼ë¡œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘&lt;/strong>í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ê²ƒê³¼ ê´€ë ¨ëœ ê°œë…ì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  &lt;code>SSR&lt;/code>(Server Side Rendering)ì€ &lt;strong>í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì—ê²ŒëŠ” ê»ë°ê¸° ê°™ì€ íŒŒì¼ë§Œ ì œê³µë°›ê³ 
ì‹¤ì œ í˜ì´ì§€ì˜ ë‚´ìš©ì€ Client ì¸¡ì—ì„œ APIì™€ js ë“±ì„ ì´ìš©í•´ ë§Œë“¤ì–´ë‚˜ê°€ëŠ” ë°©ì‹&lt;/strong>ì…ë‹ˆë‹¤. ì•„ë§ˆ ëŒ€ë¶€ë¶„ì˜ SPA ì•±ë“¤ì€ CSRë¡œ ë°°í¬/ê°œë°œ ë˜ê³  ìˆëŠ” ê²ƒ ê°™ì€ë°ìš”. ê·¸ ì´ìœ ëŠ” í”„ë¡ íŠ¸ì—”ë“œë¥¼ ì œê³µí•  ë•Œ
S3ë‚˜ CloudFront, Github Page ë“± ì„œë²„ì˜ ê¸°ëŠ¥ê³¼ ì™„ì „íˆ ë¶„ë¦¬í•˜ì—¬ ì œê³µí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë¼ëŠ” ì ì´ í¬ê²Œ ì‘ìš©í•˜ì§€ ì•Šì„ê¹Œ ì‹¶ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;strong>&amp;ldquo;ì™œ OpenGraphë¥¼ ì œê³µí•˜ëŠ”ë° SSRì´ í•„ìš”í•´?&amp;rdquo;&lt;/strong>&lt;/p>
&lt;p>í¬ë¡¤ë§ ë´‡ë“¤ì€ JSë¥¼ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ëŒ€ë‹¤ìˆ˜ì…ë‹ˆë‹¤. ë°˜ë©´ ì¼ë°˜ì ì¸ CSR ë°©ì‹ì˜ SPA ì•±ë“¤ì€ JSë¥¼ ì´ìš©í•´ ì„œë²„ì—ê²Œ APIë¥¼ í˜¸ì¶œí•´ ê·¸ ì‘ë‹µìœ¼ë¡œ í˜ì´ì§€ë¥¼ ë§Œë“¤ì£ .
ë”°ë¼ì„œ &lt;strong>JSë¥¼ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ” í¬ë¡¤ë§ ë´‡ì€ ê¸°ëŒ€ë˜ëŠ” ë°ì´í„°ê°€ ì„œë²„ë¡œë¶€í„° ì œê³µë˜ê¸° ì´ì „ì¸ ë¹ˆ ê»ë°ê¸°ì˜ íŒŒì¼ë§Œ ì œê³µë°›ê²Œ ë©ë‹ˆë‹¤.&lt;/strong> ë”°ë¼ì„œ &amp;ldquo;ê³µìœ í•˜ê¸° ë§í¬&amp;quot;ëŠ” &lt;strong>í¬ë¡¤ë§ ë´‡ì´ ì˜¤í”ˆê·¸ë˜í”„ë¥¼ ì½ì„ ìˆ˜ ìˆë„ë¡
SSRë¡œ ì˜¤í”ˆ ê·¸ë˜í”„ ë©”íƒ€ë°ì´í„°ë“¤ì´ ë‹´ê¸´ HTMLì„ ì œê³µ&lt;/strong>í•´ì¤˜ì•¼í•˜ëŠ” ê²ƒì´ì£ !&lt;/p>
&lt;h2 id="ì˜¤í”ˆ-ê·¸ë˜í”„-ì œê³µì„-ìœ„í•œ-ssrserver-side-rendering-ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤">ì˜¤í”ˆ ê·¸ë˜í”„ ì œê³µì„ ìœ„í•œ SSR(Server Side Rendering) ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤&lt;/h2>
&lt;p>ê·¸ë˜ì„œ &lt;strong>ì˜¤í”ˆ ê·¸ë˜í”„ë¥¼ ìœ„í•œ ì •ë³´ë§Œì„ SSRë¡œ ì œê³µí•˜ëŠ” ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤&lt;/strong>ë¥¼ ë§Œë“¤ê³ ìí–ˆìŠµë‹ˆë‹¤. HTML íŒŒì¼ì„ ì œê³µí•˜ëŠ” ì‹œì ì— ë‹¨ìˆœ ì •ì  íŒŒì¼ ì œê³µì´ ì•„ë‹Œ
ë¡œì§ ìˆ˜í–‰ í›„ ë™ì ìœ¼ë¡œ íŒŒì¼ì„ ì œê³µí•´ì•¼í•œë‹¤ë©´ ì‚¬ì‹¤ ê°œë°œ ì¤‘ì´ë˜ Spring ì„œë²„ì—ì„œ ì—”ë“œí¬ì¸íŠ¸ í•˜ë‚˜ë§Œ ë” íŒŒì„œ ê°œë°œì„ í•˜ë©´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ ì´ë ‡ê²Œ ë˜ë©´ ë©”ì¸ ë°±ì—”ë“œ ì½”ë“œì— SSR ê´€ë ¨ í˜ì´ì§€ ì œê³µ ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì–´ì•¼í•˜ëŠ”ë° &lt;strong>API ì„œë²„ì™€ ê°™ì€ ê³³ì—ì„œ ì¼ì¢…ì˜ í”„ë¡ íŠ¸ì˜ ê¸°ëŠ¥ì„ í•˜ëŠ” SSRì´ ê³µì¡´í•˜ëŠ” í˜•íƒœëŠ” ì„ í˜¸í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤&lt;/strong>.
ê²Œë‹¤ê°€ ë°±ì—”ë“œì¸ Spring bootì—ì„œë„ ì–´ë–¤ ìš”ì²­ì— ëŒ€í•´ ì—ëŸ¬ë¡œ ì‘ë‹µí•  ë•Œ SSRì— ëŒ€í•œ ì—ëŸ¬ ì²˜ë¦¬ë¡œ í•´ì¤˜ì•¼í•  ì§€ APIì— ëŒ€í•œ ì—ëŸ¬ ì²˜ë¦¬ë¡œ í•´ì¤˜ì•¼í•  ì§€ ë“±ë“± ê½¤ë‚˜ ê°œë°œì ìœ¼ë¡œ ê³¨ì¹˜ê°€ ì•„í”ˆ ë¶€ë¶„ì´ ë§ì•˜ìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;message&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ì˜¬ë°”ë¥´ì§€ ì•Šì€ í˜ì´ì§€ì…ë‹ˆë‹¤.&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;error&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;NotFound&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì˜ˆë¥¼ ë“¤ë©´ APIì— ëŒ€í•œ ì—ëŸ¬ ì‘ë‹µì€ ìœ„ì™€ ê°™ì€ í˜•íƒœë¥¼ ë„ëŠ” ê²ƒì´ ì¢‹ì„ ê²ƒì´ê³ , ê·¸ë˜ì•¼ í”„ë¡ íŠ¸ì—”ë“œì—ì„œë„ ì²˜ë¦¬ë¥¼ í•˜ê¸° í¸í•  ê²ƒì…ë‹ˆë‹¤. ë°˜ë©´ SSRì— ëŒ€í•œ ì—ëŸ¬ ì‘ë‹µì€ ì–´ì¨Œë“  ì‚¬ìš©ìê°€ ì§ì ‘ ëŒ€ë©´í•˜ëŠ” í˜ì´ì§€ì´ë‹¤ë³´ë‹ˆ
ê²°êµ­ ë©”ì¸ ì„œë¹„ìŠ¤ì˜ í”„ë¡ íŠ¸ì—”ë“œë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ê°€ ë˜ì–´ ë©”ì¸ ì„œë¹„ìŠ¤ì˜ í”„ë¡ íŠ¸ì—”ë“œê°€ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì¤˜ì•¼í•  ê²ƒì´êµ¬ìš”.&lt;/p>
&lt;p>&amp;lsquo;ì´ê²Œ ë¬´ìŠ¨ ì†Œë¦¬ì§€?&amp;rsquo; ë¼ê³  ìƒê°í•˜ì‹¤ ìˆ˜ ìˆëŠ”ë°, SSRë¡œ ì œê³µëœ í˜ì´ì§€ëŠ” ê²°êµ­ &lt;strong>&amp;ldquo;ê³µìœ í•˜ê¸°&amp;quot;ë¥¼ í†µí•´ ë§í¬ë¥¼ ì „ë‹¬ ë°›ì€ ì‚¬ìš©ìê°€ ì§ì ‘ ì ‘ì†í•˜ëŠ” í˜ì´ì§€&lt;/strong>ì´ë©´ì„œ ë™ì‹œì— &lt;strong>í¬ë¡¤ë§ ë´‡ì´ ì˜¤í”ˆ ê·¸ë˜í”„ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•´ê°€ëŠ” í˜ì´ì§€&lt;/strong>ì´ê¸°ë„ í•©ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>í¬ë¡¤ë§ ë´‡ì€ JSë¥¼ ìˆ˜í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤&lt;/li>
&lt;li>ë”°ë¼ì„œ ì˜¬ë°”ë¥¸ ë©”íƒ€ë°ì´í„°ê°€ ë‹´ê¸´ HTML ë§Œë“¤ê¸° ìœ„í•´ì„  SSRì´ í•„ìš”í•˜ë‹¤.&lt;/li>
&lt;li>SSRë¡œ ì œê³µëœ í˜ì´ì§€ë¡œ ìœ ì €ê°€ ì ‘ì†í–ˆì„ ë•Œ ì„œë¹„ìŠ¤ë¡œ ì˜¬ë°”ë¥´ê²Œ ì ‘ì†í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤. í•˜ì§€ë§Œ ì„œë¹„ìŠ¤ ìì²´ë¥¼ SSR ë°©ì‹ìœ¼ë¡œ ë³€ê²½í•˜ê¸°ì—ëŠ” ë¬´ë¦¬ê°€ ìˆë‹¤!&lt;/li>
&lt;/ul>
&lt;p>ìœ„ì™€ ê°™ì€ íŠ¹ì§•ë“¤ë¡œ ì¸í•´ &lt;strong>ì˜¤í”ˆ ê·¸ë˜í”„ ì œê³µì„ ìœ„í•œ SSR ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë™ì‘í•˜ë©´ ì¢‹ì§€ ì•Šì„ê¹Œ?!&lt;/strong> ì‹¶ì—ˆì–´ìš”.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ì˜¤í”ˆê·¸ë˜í”„ ì •ë³´ê°€ ë‹´ê¸´ ë™ì ìœ¼ë¡œ ìƒì„±ëœ HTMLì€ SSR ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤&lt;/strong>ì— ì˜í•´ ì œê³µëœë‹¤. SSR ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ëŠ” ìš”ì²­ì´ ë“¤ì–´ì™”ì„ ë•Œ API ì„œë²„ì—ê²Œ í•´ë‹¹ ìš”ì²­ê³¼ ê´€ë ¨ëœ ì •ë³´ë¥¼ ì§ˆì˜í•œë‹¤.
&lt;ul>
&lt;li>ì´ë•Œ SSRì´ ì§ì ‘ DB(ìŠ¤í”„ë§ì´ ì´ìš© ì¤‘ì¸ DB)ë¥¼ ì´ìš©í•˜ì§€ ì•ŠëŠ” ê²Œ ì¢‹ì€ ì´ìœ ëŠ” ì •ë§ ë§ê² ì§€ë§Œ ìš°ì„ ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
&lt;ul>
&lt;li>SSR ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ê°€ ì§€ì§€ê³  ë³¶ê³  ë­˜ í•´ë„ ìŠ¤í”„ë§ì˜ DB ì„¤ê³„ì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤. SSRë¡œ ì¸í•´ ë©”ì¸ ìŠ¤í”„ë§ì´ í”ë“¤ë¦¬ëŠ” ê²ƒì„ ë°©ì§€í•´ì¤€ë‹¤.&lt;/li>
&lt;li>ì¼ë‹¨ ê°„ë‹¨í•˜ë‹¤. ê°„ë‹¨í•œ ì¡°íšŒë§Œì„ ìœ„í•´ DBë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒë³´ë‹¤ëŠ” í•„ìš”í•œ APIì˜ í•„ìš”í•œ í•„ë“œë“¤ë§Œ ì •ì˜í•´ì„œ APIë¡œ ì¡°íšŒí•˜ëŠ” ê²Œ ë” ì‰¬ìš¸ ê²ƒì´ë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ë°˜ë©´ ìŠ¤í”„ë§ì´ API ìŠ¤í™ì„ ë³€ê²½í•  ë•Œ SSRì—ë„ ì˜í–¥ì´ ìˆì„ì§€ë¥¼ ê³ ë ¤í•´ì•¼í•œë‹¤ëŠ” ê²ƒê³¼ ì¶”ê°€ì ì¸ ì¸í”„ë¼ ê´€ë¦¬ê°€ í•„ìš”í•˜ë‹¤ëŠ” ë‹¨ì ë„ ìˆê¸´í•˜ë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="ê³ ë ¤í–ˆë˜-ì¸í”„ë¼-ë°-ì„¤ê³„">ê³ ë ¤í–ˆë˜ ì¸í”„ë¼ ë° ì„¤ê³„&lt;/h2>
&lt;ol>
&lt;li>&lt;code>ElasticBeanstalk&lt;/code>&lt;/li>
&lt;li>&lt;code>Lambda&lt;/code> + &lt;code>ALB&lt;/code>&lt;/li>
&lt;li>&lt;code>Lambda&lt;/code> + &lt;code>API Gateway&lt;/code> + &lt;code>CloudFront&lt;/code>&lt;/li>
&lt;/ol>
&lt;p>ê³ ë ¤í–ˆë˜ ì¸í”„ë¼ëŠ” ìœ„ì™€ ê°™ì•˜ê³  ê²°êµ­ì—ëŠ” 1, 2ë²ˆ ë°©ì‹ì€ ë‹¨ì ë“¤ì´ ì¡´ì¬í•´ì„œ 3ë²ˆìœ¼ë¡œ ì„ íƒí–ˆìŠµë‹ˆë‹¤!&lt;/p>
&lt;h3 id="option-1-elasticbeanstalk-ë°”íƒ•ì˜-ì¸í”„ë¼">Option 1) ElasticBeanstalk ë°”íƒ•ì˜ ì¸í”„ë¼&lt;/h3>
&lt;p>&lt;figure style="flex-grow: 157; flex-basis: 377px">
&lt;a href="https://umi0410.github.io/blog/ssr-serverless-og/beanstalk.png" data-size="777x494">&lt;img src="https://umi0410.github.io/blog/ssr-serverless-og/beanstalk.png"
srcset="https://umi0410.github.io/blog/ssr-serverless-og/beanstalk_hu7f84c1f69f7b8edb6973eb99a7a91a71_186084_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/ssr-serverless-og/beanstalk_hu7f84c1f69f7b8edb6973eb99a7a91a71_186084_1024x0_resize_box_3.png 1024w"
width="777"
height="494"
loading="lazy"
alt="ë¹ˆìŠ¤í†¡ ë°”íƒ•ì˜ ì¸í”„ë¼">
&lt;/a>
&lt;figcaption>ë¹ˆìŠ¤í†¡ ë°”íƒ•ì˜ ì¸í”„ë¼&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;code>ElasticBeanstalk&lt;/code>ì€ &lt;code>eb cli&lt;/code>ë¥¼ í†µí•´ í¸ë¦¬í•˜ê²Œ ë°°í¬ë¥¼ í•  ìˆ˜ ìˆê³ , auto scaling groupë„ í¸ë¦¬í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.
ì† ì‰¬ìš°ë©´ì„œë„ ì•ˆì •ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸°ëŠ” ë”±ì´ì£ . ê·¸ë¦¬ê³  ê¸°ì¡´ ë©”ì¸ ì„œë²„ì¸ ìŠ¤í”„ë§ ì„œë²„ë„ ë¹ˆìŠ¤í†¡ìœ¼ë¡œ ê´€ë¦¬ë¥¼ í•˜ê³  ìˆì—ˆê¸° ë•Œë¬¸ì— ë¹ˆìŠ¤í†¡ì— ìµìˆ™í•˜ë‹¤ëŠ” ì¥ì ë„ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë‚´ë¶€ì ìœ¼ë¡œ ë¹ˆìŠ¤í†¡ì˜ &lt;code>ë„ì»¤ í”Œë«í¼&lt;/code>ì— ëŒ€í•œ ê¶ê¸ˆì¦ë„ ìˆì—ˆê³  Goë¼ë©´ &lt;code>nano&lt;/code> ì¸ìŠ¤í„´ìŠ¤ë¡œë„ ì–´ë–»ê²Œ ì˜ êµ´ë ¤ë³¼ ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ ì‹¶ì€ ë§ˆìŒì— &lt;code>fiber&lt;/code> í”„ë ˆì„ì›Œí¬ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê°œë°œì„ í–ˆìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ ì•„ë¬´ë¦¬ Goë¼ë„ ìƒê°ë³´ë‹¤ nano ì¸ìŠ¤í„´ìŠ¤ë¡œ êµ´ë¦¬ê¸°ëŠ” í˜ë“¤ì—ˆê³ , &lt;code>micro&lt;/code>ë„ ì•„ìŠ¬ì•„ìŠ¬í•˜ë”ë¼êµ¬ìš”.(microë„ ë¹Œë“œí•  ë•Œ OOMìœ¼ë¡œ ì‹¤íŒ¨í•¨.)&lt;/p>
&lt;p>ë¹ˆìŠ¤í†¡ ì¸ìŠ¤í„´ìŠ¤ ë‚´ë¶€ì—ì„œ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ê³  íƒœê·¸ë¥¼ ìˆ˜ì •í•´ì„œ ë°°í¬ë¥¼ íŠ¸ë¦¬ê±° ì‹œí‚¤ëŠ” ë°©ì‹ì„ ì´ìš©í•˜ë©´ ë¹Œë“œ ë„ì¤‘ì˜ OOM ì´ìŠˆëŠ” ì—†ê² ì§€ë§Œ ECRì„ í†µí•´ ì´ë¯¸ì§€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ë¥¼ ê´€ë¦¬í•´ì¤˜ì•¼í•˜ê³ ,
ë¹Œë“œí•  ë•Œë§ˆë‹¤ docker-compose.ymlì—ì„œ ì´ë¯¸ì§€ íƒœê·¸ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì—…ë°ì´íŠ¸ ì‹œì¼œì£¼ëŠ” ê³¼ì •ë„ ë²ˆê±°ë¡œìš¸ ê²ƒ ê°™ì•˜ì£ .&lt;/p>
&lt;p>ìŠ¤í”„ë§ì´ t3.smallë¡œ ëŒì•„ê°€ê³  ìˆëŠ”ë°(ìŠ¤í”„ë§ì€ JARë¥¼ ì  í‚¨ìŠ¤ì—ì„œ ë¹Œë“œ) Goë¥¼ ì“°ë©´ì„œ t3.smallì„ ì“°ìë‹ˆ ì´ê±´ ì›¬ ê³µìœ í•˜ê¸° ê¸°ëŠ¥í•˜ë‚˜ì— ë³¸ ì„œë²„ì˜ ëª‡ ë¶„ì˜ 1ì— í•´ë‹¹í•˜ëŠ” ë¦¬ì†ŒìŠ¤ë¥¼
ì‚¬ìš©í•´ì•¼í•˜ëŠ” ì´ìƒí•œ ì•„í‚¤í…ì³ê°€ ë˜ì–´ë²„ë¦´ ê²ƒë§Œ ê°™ì•˜ì£ . ë¹„ìš©ë„ ë¹„ìš©ì´êµ¬ìš”.&lt;/p>
&lt;p>ê·¸ë˜ì„œ &lt;code>fiber&lt;/code> ê°œë°œí•œ SSR ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ ElasticBeanstalkì— ë°°í¬í•˜ëŠ” ë°©ì‹ì€ ê¸°ê°ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="option-2-lambda--alb">Option 2) &lt;code>Lambda&lt;/code> + &lt;code>ALB&lt;/code>&lt;/h3>
&lt;p>&amp;lsquo;&lt;em>SSRì„ ìœ„í•´ ì„œë²„ë¥¼ ê´€ë¦¬í•˜ëŠ” ê±´ ë„ˆë¬´ ë‚­ë¹„ê°€ í¬ë‹¤.&lt;/em>&amp;lsquo;ëŠ” ìƒê°ì— ì„œë²„ë¦¬ìŠ¤ë¡œ ë°©í–¥ì„ ëŒë ¸ìŠµë‹ˆë‹¤. &lt;code>serverless&lt;/code> í”„ë ˆì„ì›Œí¬ë¥¼ ê¸°ì¡´ì— ì´ìš©í•˜ê³  ìˆì—ˆê¸° ë•Œë¬¸ì— í¬ê²Œ ë‚¯ì„  ê¸°ìˆ ì€ ì•„ë‹ˆê¸°ë„ í–ˆêµ¬ìš”.&lt;/p>
&lt;p>&lt;code>Lambda&lt;/code>ë¥¼ ì´ìš©í•  ë•Œ Goì–¸ì–´ ê°™ì€ ê²½ìš°ì—ëŠ” AWS Lambdaì˜ ì½˜ì†” ì—ë””í„° í™”ë©´ì´ ì œê³µë˜ì§€ ì•Šì•„ ì¢€ ë¶ˆí¸í•´ íŒŒì´ì¬ìœ¼ë¡œ ê°œë°œì„ í• ê¹Œ ì‹¶ì—ˆëŠ”ë°, ë‹¨ë°©í–¥ì´ê¸´ í•˜ì§€ë§Œ APIë¡œ ë°€ì ‘í•˜ê²Œ ë©”ì¸ API ì„œë²„ë‘ í†µì‹ ì„ í•´ì•¼í•˜ëŠ” SSR ì„œë¹„ìŠ¤ì˜
íŠ¹ì„±ìƒ typeì„ ëª…í™•íˆ ì •ì˜í•´ì„œ API ìŠ¤í™ê³¼ ë¹„êµí•˜ê¸°ë„ í¸í•˜ê³ , ê°œë°œ/ë™ì‘ë„ ì•ˆì •ì ìœ¼ë¡œ í•  ìˆ˜ ìˆëŠ” &lt;code>Go&lt;/code>ë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;code>íŒŒì´ì¬&lt;/code>ì€ APIì—ê²Œ ì‘ë‹µë°›ì€ jsonì„ ì–´ë–»ê²Œ ì—­ì§ë ¬í™”í• ê¹Œë¶€í„°ë„ ê³ ë¯¼ì´ì—ˆê³ , ê·€ì°®ì•„ì„œ ê·¸ëƒ¥ jsonì´ë‚˜ dictionaryë¡œ
ìš°ê²¨ë„£ì–´ì„œ ê°œë°œì„ í•˜ë©´ ë‹¹ì‹œì—ëŠ” í¸í•˜ì§€ë§Œ ì¼ì£¼ì¼ë§Œ ì§€ë‚˜ë„ ë¬´ìŠ¨ ì½”ë“œì¸ì§€ ì•Œì•„ë³´ê¸° í˜ë“¤ê³  API ìŠ¤í™ì´ ë³€ê²½ë˜ëŠ” ê²½ìš°ì˜ ë””ë²„ê¹…ì€ ê±°ì˜ ê·¹ì•…ì˜ ë‚œì´ë„ì´ê¸° ë•Œë¬¸ì— íŒŒì´ì¬ë„ ë°°ì œí–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ &lt;code>ALB&lt;/code> =&amp;gt; &lt;code>Lambda&lt;/code>ë¡œ ìš”ì²­ì„ ë°”ë¡œ ë„˜ê¸°ëŠ” ê²½ìš°, ALBì—ì„œ ë„˜ì–´ì˜¨ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì´ ë„ˆë¬´ ê°„ë‹¨í•´ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ê¸°ê°€ ë” ê¹Œë‹¤ë¡œìš´ í˜•íƒœì˜€ìŠµë‹ˆë‹¤.
ì˜ˆë¥¼ ë“¤ë©´ ê²½ë¡œë¥¼ ë°”íƒ•ìœ¼ë¡œ ë¼ìš°íŒ…í•˜ëŠ” ë¡œì§ì„ ì§ì ‘ êµ¬í˜„í•´ì•¼í–ˆì—ˆëŠ”ë°ìš”. ë³´í†µì˜ ì›¹ í”„ë ˆì„ì›Œí¬ì—ì„œ ì œê³µí•˜ëŠ” &lt;code>/*&lt;/code>, &lt;code>/b/*&lt;/code> ì´ëŸ° í‘œí˜„ë“¤ì„ ë°”íƒ•ìœ¼ë¡œ í•œ ê²½ë¡œì™€ í•¸ë“¤ëŸ¬ê°„ì˜ ë§µí•‘ì´ ë¶ˆê°€ëŠ¥í–ˆë˜ ê²ƒì…ë‹ˆë‹¤.
ì´ìœ ëŠ” ì‰½ê²Œ ë§í•´ Lambdaì—ëŠ” stringìœ¼ë¡œ pathê°€ ë“¤ì–´ì˜¤ê³  ì‘ë‹µë„ stringìœ¼ë¡œ ì¤˜ì•¼í•˜ëŠ” ê²ë‹ˆë‹¤. ì´ ë°©ì‹ì€ ê¸°ì¡´ì˜ ì›¹í”„ë ˆì„ì›Œí¬ë¥¼ ì´ìš©í•´ ê°œë°œí•˜ë˜ ë°©ì‹ê³¼ëŠ” ê±°ë¦¬ê°€ ë©€ì£ .&lt;/p>
&lt;p>ë”°ë¼ì„œ ì´ ë°©ì‹ë„ ê¸°ê°ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="option-3-lambda--api-gateway--cloudfront">Option 3) &lt;code>Lambda&lt;/code> + &lt;code>API Gateway&lt;/code> + &lt;code>CloudFront&lt;/code>&lt;/h3>
&lt;p>&lt;figure style="flex-grow: 136; flex-basis: 327px">
&lt;a href="https://umi0410.github.io/blog/ssr-serverless-og/lambda.png" data-size="638x467">&lt;img src="https://umi0410.github.io/blog/ssr-serverless-og/lambda.png"
srcset="https://umi0410.github.io/blog/ssr-serverless-og/lambda_hued4c382ead438bad8f94a28a2a155ee2_136294_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/ssr-serverless-og/lambda_hued4c382ead438bad8f94a28a2a155ee2_136294_1024x0_resize_box_3.png 1024w"
width="638"
height="467"
loading="lazy"
alt="Lambda ë°”íƒ•ì˜ ì¸í”„ë¼">
&lt;/a>
&lt;figcaption>Lambda ë°”íƒ•ì˜ ì¸í”„ë¼&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ë“œë””ì–´ ìµœì¢… ì±„íƒì•ˆ! &lt;strong>&amp;quot;&lt;code>CloudFront&lt;/code>ë¡œ HTTP/S ê´€ë ¨ ê¸°ëŠ¥ì„ ì²˜ë¦¬í•˜ê³ , ê·¸ Originì„ &lt;code>API Gateway&lt;/code>ë¡œ ë‘” ë’¤ &lt;code>Lambda&lt;/code>ë¡œ ìš”ì²­ ì²˜ë¦¬í•˜ê¸°&amp;rdquo;&lt;/strong> ì…ë‹ˆë‹¤. ì‚¬ì‹¤ API Gatewayì˜ ì´ëŸ° ì €ëŸ° ê¸°ëŠ¥ì´ ë³„ë¡œ í•„ìš” ì—†ì—ˆê¸°ì—
&amp;lsquo;&lt;em>Lambdaë¥¼ ALBë¡œ ë…¸ì¶œì‹œí‚¬ ìˆ˜ ìˆìœ¼ë©´ ê°„ë‹¨í•˜ê²Œ ê·¸ë ‡ê²Œ í•˜ì&lt;/em>&amp;lsquo;ë¼ê³  ìƒê°í–ˆë˜ ë°©ì‹ì´ Option 1ì´ì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ëŒë‹¤ë¡œ ALB TargetGroupì— ëŒ€í•œ ìš”ì²­ì„ ì§ì ‘ ì²˜ë¦¬í•˜ê¸°ì—ëŠ” ê°œë°œì ìœ¼ë¡œ ë§ì€ ë¶ˆí¸íˆ ìˆì—ˆì–´ìš”. ì •ë§ ê°„ë‹¨í•œ ì‘ì—…ìš© ê°™ì€ ëŠë‚Œ!&lt;/p>
&lt;p>ë°˜ë©´ Lambdaê°€ APIGatewayì—ê²Œì„œ ìš”ì²­ì„ ì „ë‹¬ë°›ìœ¼ë©´ ì•„ì£¼ í¸ë¦¬í•˜ê³  ìµìˆ™í•œ ë°©ì‹ìœ¼ë¡œ ê°œë°œì„ í•  ìˆ˜ê°€ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ì½”ë“œ ì¼ë¶€ë¥¼ ì˜ˆì‹œë¡œ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">init&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">fiber&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">logger&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/health&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">fiber&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Ctx&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">error&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">SendString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;OK&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handleIndex&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/c/:clipId&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handleClip&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/b/:battleId/:clipId&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handleBattleWithClips&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/*&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handleDefaultNotFound&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ëŒë‹¤ê°€ ì‹¤í–‰ëœë‹¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ìš”ì²­ë§ˆë‹¤ Handlerë¥¼ í˜¸ì¶œí•œë‹¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">lambda&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Start&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Handler&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">Handler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="nx">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Context&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span> &lt;span class="nx">events&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">APIGatewayV2HTTPRequest&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">events&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">APIGatewayV2HTTPResponse&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">fiberadapter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">app&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nf">ProxyWithContextV2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ìœ„ì™€ ê°™ì´ ëŒë‹¤ë¡œ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ì•„ í˜¸ì¶œí•˜ëŠ” ë¡œì§ì„ ì§ì ‘ êµ¬í˜„í•˜ì§€ ì•Šê³  ê¸°ì¡´ì˜ ìœ ëª…í•œ ì›¹ í”„ë ˆì„ì›Œí¬ë“¤ê³¼ ê·¸ì— ëŒ€í•œ ì–´ëŒ‘í„°ë¥¼ í†µí•´ ê°œë°œí•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤! (ì°¸ê³ : &lt;a class="link" href="https://github.com/awslabs/aws-lambda-go-api-proxy" target="_blank" rel="noopener"
>aws-lambda-go-api-proxy&lt;/a>)
ëŒë‹¤ì˜ í•¸ë“¤ëŸ¬ê°€ &lt;code>fiber&lt;/code> ì•±ì—ê²Œ ìš”ì²­ì„ ë„˜ê²¨ì„œ ê·¸ ì‘ë‹µì„ ë¦¬í„´í•˜ëŠ” í˜•íƒœì£ . fiber ì•±ì˜ &lt;strong>í•¸ë“¤ëŸ¬ë“¤ì€ SSR ë°©ì‹ì˜ ë™ì ìœ¼ë¡œ ìƒì„±ëœ HTMLë“¤ì„ ë¦¬í„´&lt;/strong>í•´ì¤¬ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 159; flex-basis: 383px">
&lt;a href="https://umi0410.github.io/blog/ssr-serverless-og/awslabs.png" data-size="1163x728">&lt;img src="https://umi0410.github.io/blog/ssr-serverless-og/awslabs.png"
srcset="https://umi0410.github.io/blog/ssr-serverless-og/awslabs_hucebe86c00a0fac0cd2e2c5a874c5ec8d_132590_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/ssr-serverless-og/awslabs_hucebe86c00a0fac0cd2e2c5a874c5ec8d_132590_1024x0_resize_box_3.png 1024w"
width="1163"
height="728"
loading="lazy"
alt="awslabs Github - https://github.com/awslabs/aws-lambda-go-api-proxy">
&lt;/a>
&lt;figcaption>awslabs Github - &lt;a class="link" href="https://github.com/awslabs/aws-lambda-go-api-proxy" target="_blank" rel="noopener"
>https://github.com/awslabs/aws-lambda-go-api-proxy&lt;/a>&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>AWSì—ì„œ ê°œë°œ ì¤‘ì¸ ì˜¤í”ˆì†ŒìŠ¤ ê°™ìŠµë‹ˆë‹¤. ìµœê·¼ ì»¤ë°‹ë„ 6ì¼ ì „ì¸ í™œë°œí•œ í”„ë¡œì íŠ¸ì¸ê°€ë´ìš”! (ê·¼ë° ì™œ &lt;code>ALB(TargetGroup) - Lambda&lt;/code>ì— ëŒ€í•œ ì–´ëŒ‘í„°ë‚˜ í”„ë¡ì‹œ ì˜¤í”ˆì†ŒìŠ¤ëŠ” ê°œë°œì„ í•´ì£¼ì§€ ì•Šì€ ê±¸ê¹Œìš”.. ê¶ê¸ˆí•©ë‹ˆë‹¤.)&lt;/p>
&lt;p>ì–´ì¨Œë“  &lt;code>Lambda&lt;/code> + &lt;code>API Gateway&lt;/code>ë¥¼ ì´ìš©í•˜ë©´ì„œ ì €ë ´í•˜ë©´ì„œë„ í¸ë¦¬í•˜ê²Œ ê°œë°œì„ í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ ëë‚˜ë©´ ì¢‹ì•˜ê² ì§€ë§Œ ë‹¤ìŒ ì‚½ì§ˆì´ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;a class="link" href="https://docs.aws.amazon.com/ko_kr/apigateway/latest/developerguide/http-api-custom-domain-names.html" target="_blank" rel="noopener"
>API Gatewayë¥¼ ì»¤ìŠ¤í…€ ë„ë©”ì¸ ë„¤ì„ìœ¼ë¡œ ì´ìš©í•˜ê¸°&lt;/a>. ì¦‰ ê¸°ë³¸ì ìœ¼ë¡œ API GatewayëŠ” AWS ìì²´ì ì¸
ë„ë©”ì¸ ë„¤ì„ì„ í†µí•´ ì œê³µë˜ê³ , ì¸ì¦ì„œë„ AWS ì¸¡ì—ì„œ ì œê³µì„ í•´ì¤ë‹ˆë‹¤. í•˜ì§€ë§Œ &lt;strong>Custom domainì„ ì´ìš©í•˜ê³  ì‹¶ë‹¤ë©´&lt;/strong>? ìš°ë¦¬ì˜ ë„ë©”ì¸ì„ ì¸ì¦í•´ì¤˜ì•¼ê² ì§€ìš”. í•˜ì§€ë§Œ ê¸°ë³¸ì ìœ¼ë¡œëŠ” ê·¸ë ‡ê²Œ í•  ìˆ˜ ì—†ê³  ìœ„ì˜ ë§í¬ì˜ ë°©ë²•ì„ í†µí•´ì„œëŠ” ê°€ëŠ¥í•©ë‹ˆë‹¤.
API Gatewayì— Custom domain nameì„ ë‹¬ê¸° ìœ„í•œ ì¶”ê°€ì ì¸ ë°©ë²•ë“¤ì´ì—ìš”.&lt;/p>
&lt;blockquote>
&lt;p>API Gateway doesn&amp;rsquo;t directly support http without TLS, presumably as a security feature &amp;hellip; - &amp;ldquo;&lt;a class="link" href="https://stackoverflow.com/questions/47311081/redirect-http-requests-to-https-on-aws-api-gateway-using-custom-domains" target="_blank" rel="noopener"
>Redirect http:// requests to https:// on AWS API Gateway (using Custom Domains)&lt;/a>&amp;rdquo;&lt;/p>
&lt;/blockquote>
&lt;p>í•˜ì§€ë§Œ ì´ë ‡ê²Œ API Gatewayë¥¼ Custom Domain nameìœ¼ë¡œ ì´ìš©í•  ìˆ˜ ìˆê²Œ í–ˆë”ë‹ˆ ì´ë²ˆì—” ë˜ ë‹¤ë¥¸ ì´ìŠˆê°€ ì¡´ì¬í–ˆì£ . ì¦‰, API GatewayëŠ” 443 HTTPSë§Œì„ ì§€ì›í•˜ê³  &lt;strong>80 HTTPëŠ” ì§€ì›ì„ í•˜ì§€ ì•Šê³  HTTP-&amp;gt;HTTPSë¡œì˜ ë¦¬ë‹¤ì´ë ‰ì…˜ë„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤&lt;/strong>ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤ ã„±-&amp;hellip;
ê·¸ëŸ¼ ì–´ë–¤ ë¬¸ì œëƒ ìˆëƒ&amp;hellip; í•´ë‹¹ HTTPë¡œ ë§í¬ë¥¼ ì ‘ì†í•˜ë©´ ì•„ë¬´ëŸ° ì‘ë‹µì´ ì—†ìŠµë‹ˆë‹¤. ì¹˜ëª…ì ì´ì£ . ë”°ë¼ì„œ HTTPS Redirectë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” CloudFrontë¥¼ ì•ë‹¨ì— ë¶™ì´ê³  API Gatewayë¥¼ Originìœ¼ë¡œ ì„¤ì •í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ê°œì„ í–ˆìŠµë‹ˆë‹¤.
ê·¸ ìµœì¢… ì•„í‚¤í…ì³ê°€ ìœ„ì˜ ê·¸ë¦¼ê³¼ ê°™êµ¬ìš”.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 332; flex-basis: 798px">
&lt;a href="https://umi0410.github.io/blog/ssr-serverless-og/results.png" data-size="2218x667">&lt;img src="https://umi0410.github.io/blog/ssr-serverless-og/results.png"
srcset="https://umi0410.github.io/blog/ssr-serverless-og/results_hu71c370d5cd569ef3fd2ca7048de84a72_1123081_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/ssr-serverless-og/results_hu71c370d5cd569ef3fd2ca7048de84a72_1123081_1024x0_resize_box_3.png 1024w"
width="2218"
height="667"
loading="lazy"
alt="ê²°ê³¼">
&lt;/a>
&lt;figcaption>ê²°ê³¼&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ê²°ê³¼ì ìœ¼ë¡œ ìœ„ì™€ ê°™ì´ URLì´ HTTP ì´ê±´ HTTPS ì´ê±´ ìƒê´€ ì—†ì´ ì›í™œíˆ ì˜¤í”ˆ ê·¸ë˜í”„ë¥¼ í†µí•´ ì ì ˆí•œ ì •ë³´ë¥¼ ì œê³µí•  ìˆ˜ ìˆì—ˆê³ , ì´ì œ ì •ë§ ì¶œì‹œê°€ ë‹¤ê°€ì˜¤ëŠ” ê²ƒ ê°™ì•„ ê±±ì • ë°˜ ì„¤ë ˜ ë°˜ì´ê¸°ë„ í•©ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>SSRë¡œ ì˜¤í”ˆ ê·¸ë˜í”„ í•˜ë‚˜ ì œê³µí•˜ê² ë‹¤ê³  ì¼ìš”ì¼ ë‚´ë‚´ ì‚½ì§ˆì„ í•˜ê²Œ ëœ ê²ƒ ê°™ìŠµë‹ˆë‹¤. í‰ì†Œì— ì„œë²„ë¦¬ìŠ¤ëŠ” ì•„ë¬´ë˜ë„ ë²¤ë” lock-in ì´ìŠˆë‚˜ ê°œë°œ/ë””ë²„ê¹… ê³¼ì •ì—ì„œ ë¡œì»¬ê³¼ ì‹¤ì œ í´ë¼ìš°ë“œ í™˜ê²½ì˜ ì°¨ì´ë¡œ ì¸í•œ ë¶ˆí¸ ë“±ë“±ìœ¼ë¡œ ì¸í•´
ë³„ë¡œ ì„ í˜¸í•˜ì§€ ì•Šì•˜ëŠ”ë° ê·¸ë˜ë„ ê³µìœ í•˜ê¸° ê¸°ëŠ¥ì€ ì´ì œ ì•ìœ¼ë¡œ íŠ¸ë˜í”½ ê±±ì •ì„ í¬ê²Œ í•˜ì§€ ì•Šê³  ê°€ë³ê²Œ ì˜ ì‚¬ìš©í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì•„ ì¢‹ìŠµë‹ˆë‹¤ ã…ã…&lt;/p>
&lt;p>ì•„ì‰¬ìš´ ì ì€ ì¢€ ë” &lt;strong>ê° ì„œë¹„ìŠ¤ë¥¼ ê° ì„œë¹„ìŠ¤ì˜ ì—­í• ì´ë‚˜ íŠ¹ì„±ì— ë§ì¶° ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆìœ¼ë©´ ì¢‹ì•˜ì„í…ë°, ë‹¨ìˆœíˆ íŠ¹ì • ìƒí™©ì„ í•´ê²°í•˜ê¸° ìœ„í•œ ìˆ˜ë‹¨ìœ¼ë¡œ ì´ìš©í•˜ê²Œ ëœ ì ì´ ì¡°ê¸ˆ ì•„ì‰½ìŠµë‹ˆë‹¤&lt;/strong>.&lt;/p>
&lt;p>ì˜ˆë¥¼ ë“¤ì–´ Lambdaë¥¼ ë…¸ì¶œì‹œí‚¤ê¸° ìœ„í•´ êµ³ì´ API Gatewayë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ALBë¡œ ê°„ë‹¨í•˜ê²Œ ì¶©ë¶„íˆ ë…¸ì¶œ ì‹œí‚¬ ìˆ˜ ìˆì—ˆì§€ë§Œ, ê°œë°œì ìœ¼ë¡œ API Gateway-Lambdaê°„ì˜ ì‘ì—…ì´ Adpater frameworkì„ í†µí•´ ê°œë°œí•˜ê¸° í¸í•´ì„œ API Gatewayë¥¼
ì´ìš©í•˜ê²Œ ëì£ . API Gatewayì˜ API Keyë¥¼ ì´ìš©í•˜ëŠ” ì¸ì¦/ì¸ê°€ ê¸°ëŠ¥ì´ë‚˜ ì“°ë¡œí‹€ë§ ì œí•œê³¼ ê°™ì€ ê¸°ëŠ¥ë“¤ì€ í•˜ë‚˜ë„ í•„ìš”ê°€ ì—†ëŠ”ë° ë§ì´ì£ .&lt;/p>
&lt;p>ê±°ê¸°ì— CloudFrontëŠ” ì‚¬ì‹¤ìƒ Content Deliveryë‚˜ ìºì‹±ì´ë¼ëŠ” ì£¼ìš©ë„ë¡œ ì‚¬ìš©ë˜ë©´ ì¢‹ì•˜ê² ì§€ë§Œ ë‹¨ìˆœíˆ API Gatewayë¥¼ ì‚¬ìš©í•˜ë©´ì„œ HTTPSë¡œì˜ ë¦¬ë‹¤ì´ë ‰íŠ¸ë¥¼ ìœ„í•´ì„œ ì‚¬ìš©ëì„ ë¿ì´ë¼ëŠ” ì ì´ ì•„ì‰½ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë¬¼ë¡  CloudFrontë‚˜ API Gateway ê°™ì€ ì„œë¹„ìŠ¤ë“¤ë„ ê¸°ë³¸ì ìœ¼ë¡œ ì¼  ë§Œí¼ ëˆì´ ë‚˜ê°€ëŠ” ê²Œ ì•„ë‹ˆë¼ í˜¸ì¶œí•œ ë§Œí¼ ëˆì´ ë‚˜ê°€ëŠ” í˜•íƒœì´ë©´ì„œë„ ë§¤ìš° ì €ë ´í•œ ì„œë¹„ìŠ¤ë“¤ì´ê¸° ë•Œë¬¸ì— ì§€ê¸ˆì€ ë¶ˆí•„ìš”í•˜ì§€ë§Œ íŠ¹ì • ìƒí™©ì„ í•´ê²°í•˜ê¸° ìœ„í•œ ì„œë¹„ìŠ¤ë“¤ì²˜ëŸ¼ ëŠê»´ì§€ë”ë¼ë„
í›„ì— ì €í¬ ì„œë¹„ìŠ¤ê°€ ì„±ì¥í•˜ë©´ ë¶„ëª…íˆ CloudFrontì˜ ì£¼ê¸°ëŠ¥ì¸ ìºì‹± ìì²´ì˜ ì¤‘ìš”ì„±ë„ ì¦ê°€í•  ìˆ˜ë„ ìˆì„ ê²ƒì´ê³ , ê·¸ ì •ë„ ê·œëª¨ê°€ ëœë‹¤ë©´ ê°„ë‹¨í•œ ì„œë²„ë¦¬ìŠ¤ ì•„í‚¤í…ì³ê°€ ì•„ë‹Œ ì¢€ ë” ì •êµí•œ êµ¬ì¶•í˜• ì•„í‚¤í…ì³ë¡œ ê°œì„ í•  ìˆ˜ë„ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤!&lt;/p>
&lt;p>ì´ìƒ ì˜¤í”ˆ ê·¸ë˜í”„ë¥¼ ìœ„í•œ SSR ì„œë¹„ìŠ¤ êµ¬ì¶•ê¸°ì˜€ìŠµë‹ˆë‹¤~!&lt;/p></description></item><item><title>ì¿ ë®¤ MVP ê°œë°œê¸°</title><link>https://umi0410.github.io/blog/khumu/khumu-dev-review/</link><pubDate>Sat, 02 Oct 2021 15:46:54 +0900</pubDate><guid>https://umi0410.github.io/blog/khumu/khumu-dev-review/</guid><description>&lt;img src="https://umi0410.github.io/blog/khumu/khumu-dev-review/thumbnail-wide.png" alt="Featured image of post ì¿ ë®¤ MVP ê°œë°œê¸°" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>&lt;figure style="flex-grow: 87; flex-basis: 210px">
&lt;a href="https://umi0410.github.io/blog/khumu/khumu-dev-review/capture-1.png" data-size="1013x1155">&lt;img src="https://umi0410.github.io/blog/khumu/khumu-dev-review/capture-1.png"
srcset="https://umi0410.github.io/blog/khumu/khumu-dev-review/capture-1_hu433d33708cf0291dbd8161dbb824d8fb_187522_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/khumu/khumu-dev-review/capture-1_hu433d33708cf0291dbd8161dbb824d8fb_187522_1024x0_resize_box_3.png 1024w"
width="1013"
height="1155"
loading="lazy"
>
&lt;/a>
&lt;/figure>
&lt;figure style="flex-grow: 87; flex-basis: 210px">
&lt;a href="https://umi0410.github.io/blog/khumu/khumu-dev-review/capture-3.png" data-size="1013x1155">&lt;img src="https://umi0410.github.io/blog/khumu/khumu-dev-review/capture-3.png"
srcset="https://umi0410.github.io/blog/khumu/khumu-dev-review/capture-3_hue6e8e89a961b43eadf4d283e6a162e24_87932_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/khumu/khumu-dev-review/capture-3_hue6e8e89a961b43eadf4d283e6a162e24_87932_1024x0_resize_box_3.png 1024w"
width="1013"
height="1155"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/khu-dev" target="_blank" rel="noopener"
>Github&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://play.google.com/store/apps/details?id=com.khumu.android" target="_blank" rel="noopener"
>PlayStore ì¶œì‹œ&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://khumu.oopy.io/" target="_blank" rel="noopener"
>í”„ë¡œì íŠ¸ ë° íŒ€ ì†Œê°œ í˜ì´ì§€&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>í•™êµ ìˆ˜ì—…ì„ ë“£ë‹¤ë³´ë‹ˆ í•œ í•™ê¸°ì— 2ê°œ 3ê°œì˜ í”„ë¡œì íŠ¸ë¥¼ ê°œë°œí•´ì•¼í•˜ëŠ” ê²½ìš°ê°€ ìˆì—ˆìŠµë‹ˆë‹¤. ì™„ì „ ê°œë°œì´ ì²˜ìŒì´ì—ˆë˜ ì‹œê¸°ì—ëŠ” ì´ëŸ¬í•œ
ì–‘ì ì¸ ê°œë°œ ì†ì—ì„œë„ ë°°ìš¸ ì ì´ ë§ì•˜ì§€ë§Œ ì–´ëŠ ì •ë„ ì§€ë‚˜ê³  ë‚˜ë‹ˆ ì–‘ì ì¸ ê°œë°œ ì†ì—ì„œëŠ” í¬ê²Œ ë°°ìš¸ ì ì´ ëŠê»´ì§€ì§€ ì•Šì•˜ê³ , ë¨¸ë¦¬ê°€ ì•„ë‹Œ
ì†ìœ¼ë¡œ ê°œë°œì„ í•˜ê³  ìˆëŠ” ëŠë‚Œì„ ë°›ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë”°ë¼ì„œ ì €ëŠ” ë‹¨ìˆœíˆ ì°ì–´ë‚´ê¸° ì‹ì˜ ê°œë°œì„ ë°˜ë³µí•˜ê¸° ë³´ë‹¤ëŠ” &lt;strong>í•œ ì„œë¹„ìŠ¤ë¥¼ ê¾¸ì¤€íˆ ê°œë°œí•´ë‚˜ê°€ë©° ê·¸ ì†ì— ë§ì€ ìƒê°ì„ ë‹´ì•„ë‚´ê³ ì&lt;/strong> í–ˆìŠµë‹ˆë‹¤.
ì²˜ìŒì—ëŠ” ê°€ë³ê²Œ ê´€ì‹¬ìˆë˜ ê¸°ìˆ ë“¤ì„ ììœ ë¡­ê²Œ ì ìš©í•´ë³¼ ìˆ˜ ìˆëŠ” &lt;strong>ê°œë°œ ë†€ì´í„°&lt;/strong>ë¥¼ ë§Œë“¤ê³ ì í•˜ëŠ” ë§ˆìŒì— ì‹œì‘í–ˆê³  ì œê°€ ê´€ì‹¬ìˆë˜ ê¸°ìˆ ë“¤ì€ ë‹¤ìŒê³¼ ê°™ì•˜ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;code>Kubernetes&lt;/code>&lt;/li>
&lt;li>&lt;code>Golang&lt;/code>ì„ ì´ìš©í•œ ì„œë²„ ê°œë°œ&lt;/li>
&lt;li>&lt;code>TDD&lt;/code>&lt;/li>
&lt;li>&lt;code>MSA&lt;/code>, &lt;code>DDD&lt;/code>(Domain Driven Design)&lt;/li>
&lt;li>&lt;code>ArgoCD&lt;/code>ë¥¼ ì´ìš©í•œ CD(Continuous deploy &amp;amp; delivery)&lt;/li>
&lt;/ul>
&lt;p>ë² í”„ í•˜ë‚˜ì™€ í•¨ê»˜ ì‹œì‘í–ˆë˜ ì„œë¹„ìŠ¤ì—ì„œ ê¸°ì¡´ì— ì¹œë¶„ì´ ì—†ë˜ ë””ìì´ë„ˆë‹˜, ê°œë°œìë‹˜ë“¤ì´ ì¶”ê°€ë˜ë©´ì„œ &lt;strong>ë¦¬ë”ë¡œì„œ ì±…ì„ê°ì´ ì¡°ê¸ˆ ìƒê²¨ë‚˜ê¸°ë„ í–ˆê³ ,
ê¸°ê°„ì´ ê¸¸ì–´ì§€ë‹¤ë³´ë‹ˆ ë‹¨ìˆœíˆ ê°œë°œ ë†€ì´í„°ë³´ë‹¤ëŠ” ì¶œì‹œë¥¼ í•´ë³´ìëŠ” ëª©í‘œ&lt;/strong>ë¥¼ ê°–ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ë¦¬ê³  ëŒ€ë¶€ë¶„ì˜ ì½”ë“œë¥¼ ì˜¤í”ˆì†ŒìŠ¤ë¡œ ê´€ë¦¬í•˜ê³  ìˆëŠ”ë° ê°œì¸ì ìœ¼ë¡œëŠ” í•™ìƒë“¤ì´ ì‹¤ì œ í”„ë¡œë•ì…˜ ìˆ˜ì¤€ì˜ ì‘ì—…ì— ì°¸ì—¬í•´ë³¼ ìˆ˜ ìˆëŠ” ê²½í—˜ì´
ë§ì§€ ì•Šì€ë° ìš°ë¦¬ &lt;strong>í•™êµ í•™ìƒë“¤ì€ ìì‹ ì´ ì‚¬ìš©í•˜ëŠ” ì˜¤í”ˆì†ŒìŠ¤ ì„œë¹„ìŠ¤ì¸ ì¿ ë®¤ì— ììœ ë¡­ê²Œ ê¸°ì—¬í•¨ìœ¼ë¡œì¨ ì‹¤ì œ ê°œë°œì— ì°¸ì—¬í•´ë³¼ ìˆ˜ ìˆëŠ” ê¸°íšŒì˜ ì¥ì´ ë˜ì—ˆìœ¼ë©´&lt;/strong> í•˜ëŠ”
ê¿ˆì´ ìˆìŠµë‹ˆë‹¤. ì•„ë¬´ë˜ë„ í•™ìƒë“¤ì´ ê°ì ë‹¤ë¥¸ ê°œë°œ ì–¸ì–´ì™€ ê´€ì‹¬ì‚¬ë¥¼ ê°–ë‹¤ë³´ë‹ˆ MSAë¥¼ ì„ íƒí•œ ê²ƒì´ ì´ ë¶€ë¶„ì— ìˆì–´ì„œëŠ” ì¢‹ê²Œ ì‘ìš©í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë„¤ìš”.&lt;/p>
&lt;h2 id="ì¿ ë®¤-ë­í•˜ëŠ”-ì„œë¹„ìŠ¤ì§€">ì¿ ë®¤? ë­í•˜ëŠ” ì„œë¹„ìŠ¤ì§€?&lt;/h2>
&lt;p>&lt;strong>ì¿ ë®¤ëŠ” ê³µì§€ì‚¬í•­ í‘¸ì‹œ ì•Œë¦¼ê³¼ êµë‚´ ì»¤ë®¤ë‹ˆí‹°ë¥¼ ì£¼ë¡œ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤&lt;/strong>ì—ìš”!
ê²½í¬ëŒ€í•™êµì˜ í©ë¿Œë ¤ì§„ ê³µì§€ì‚¬í•­ì„ í•œ ê³³ì—ì„œ ì¡°íšŒí•  ìˆ˜ ìˆê³ , ìƒˆë¡œìš´ ê³µì§€ì‚¬í•­ì€ ì„ íƒì ìœ¼ë¡œ í‘¸ì‹œì•Œë¦¼ì„ ë°›ì•„ë³¼ ìˆ˜ ìˆë‹µë‹ˆë‹¤.
ë˜í•œ êµë‚´ ì»¤ë®¤ë‹ˆí‹°ë¡œì„œ í•™êµ ì¸ì¦ì´ í•™êµ ì‚¬ì´íŠ¸ì™€ ì—°ë™ë˜ì–´ ê°„í¸í•˜ê³  ë‹¤ì–‘í•œ ì£¼ì œì— ê±¸ì³ í•™ìƒë“¤ì˜ ì˜ê²¬ì´ ì ê·¹ ë°˜ì˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ë³´í†µì˜ ì»¤ë®¤ë‹ˆí‹°ëŠ” ê²Œì‹œíŒ í˜•íƒœë¡œ êµ¬í˜„ë˜ì–´ ê²Œì‹œíŒì„ í•˜ë‚˜ í•˜ë‚˜ ì°¾ì•„ë‹¤ë…€ì•¼ í•˜ì§€ë§Œ &lt;strong>ì¿ ë®¤ëŠ” ë§ˆì¹˜ ì¸ìŠ¤íƒ€ì—ì„œ í•´ì‹œíƒœê·¸ë“¤ì„ íŒ”ë¡œìš°í•˜ë“¯
ê²Œì‹œíŒì„ íŒ”ë¡œìš° í•´ë‘ë©´ í”¼ë“œì—ì„œ ìì‹ ì´ íŒ”ë¡œìš° í•´ë‘” ê²Œì‹œê¸€ì„ ëª¨ë‘ ëª¨ì•„ë³¼ ìˆ˜ ìˆì–´ìš”&lt;/strong>.&lt;/p>
&lt;h2 id="ë‚´ê°€-ì¢‹ì•„í•˜ëŠ”-ìƒê°ì´-ë‹´ê¸´-ê°œë°œ">ë‚´ê°€ ì¢‹ì•„í•˜ëŠ” ìƒê°ì´ ë‹´ê¸´ ê°œë°œ&lt;/h2>
&lt;p>ì €ëŠ” &lt;del>ë‹¨ìˆœí•˜ê²Œ ì†ìœ¼ë¡œ í•˜ëŠ” ê°œë°œ&lt;/del>ë³´ë‹¨ ì´ëŸ° ì €ëŸ° &lt;strong>ìƒê°ë“¤ì´ ë‹´ê²¨ìˆëŠ” ê°œë°œì„ ì¢‹ì•„í•˜ê³  ê·¸ì— ëŒ€í•´ ììœ ë¡­ê²Œ ì–˜ê¸°ë‚˜ëˆ„ëŠ” ì‹œê°„ì„ ì‚¬ë‘&lt;/strong>í•©ë‹ˆë‹¤.
ì œê°€ ì¿ ë®¤ë¥¼ ê°œë°œí•˜ë©´ì„œ í–ˆë˜ ê³ ë¯¼ë“¤ê³¼ ê·¸ëŸ° ìƒê°ë“¤ì„ ì–´ë–»ê²Œ ë…¹ì—¬ëƒˆëŠ”ì§€ ê°„ë‹¨íˆ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h4 id="restfulí•˜ê²Œ-apië¥¼-ê°œë°œí•´ë‚˜ê°€ë ¤ë©´-ì–´ë–»ê²Œ-í•´ì•¼í• ê¹Œ">&amp;lsquo;RESTfulí•˜ê²Œ APIë¥¼ ê°œë°œí•´ë‚˜ê°€ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?&amp;rsquo;&lt;/h4>
&lt;p>&lt;code>RESTfulí•˜ë‹¤&lt;/code>ëŠ” ë§ì˜ ì •ì˜ëŠ” ì´ê³³ ì €ê³³ ë‹¤ë“¤ ë‹¤ë¥´ê²Œ í‘œí˜„í•˜ê³ ë“¤ ìˆëŠ” ê²ƒ ê°™ì§€ë§Œ &lt;strong>HTTP methodë¡œ ë™ì‘&lt;/strong>ì„, &lt;strong>URLë¡œ ë¦¬ìŠ¤ì†Œ&lt;/strong>ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì ì€ ê³µí†µì ìœ¼ë¡œ í‘œí˜„ë˜ëŠ” íŠ¹ì§•ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
ê·¸ë˜ì„œ &lt;code>CRUD&lt;/code>ëŠ” Post, Get, Patch, Delete ë“±ì˜ ë©”ì†Œë“œì™€ ì—°ê²°ë˜ì£ . ê·¼ë° ë¶„ëª… &lt;strong>CRUDì™€ ê¹”ë”íˆ ë§ì•„ë–¨ì–´ì§€ì§€ ì•ŠëŠ” ì‘ì—…ë“¤ì´ ì¡´ì¬í•©ë‹ˆë‹¤!&lt;/strong>&lt;/p>
&lt;p>ê´€ë ¨ ê¸€&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://softwareengineering.stackexchange.com/questions/323415/how-to-design-a-rest-api-to-handle-non-crud-operations" target="_blank" rel="noopener"
>How to design a REST API to handle non-CRUD operations?&lt;/a> - Stack exchange&lt;/li>
&lt;li>&lt;a class="link" href="https://stackoverflow.com/questions/41742926/rest-api-design-for-non-crud-actions-e-g-save-deploy-execute-code" target="_blank" rel="noopener"
>REST API design for non-CRUD actions, e.g. save, deploy, execute code&lt;/a> - Stackoverflow&lt;/li>
&lt;/ul>
&lt;p>&lt;figure style="flex-grow: 189; flex-basis: 453px">
&lt;a href="https://umi0410.github.io/blog/khumu/khumu-dev-review/toss.png" data-size="2401x1270">&lt;img src="https://umi0410.github.io/blog/khumu/khumu-dev-review/toss.png"
srcset="https://umi0410.github.io/blog/khumu/khumu-dev-review/toss_hu81accd9c19897ba0af7fdadc906af6cb_682192_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/khumu/khumu-dev-review/toss_hu81accd9c19897ba0af7fdadc906af6cb_682192_1024x0_resize_box_3.png 1024w"
width="2401"
height="1270"
loading="lazy"
>
&lt;/a>
&lt;/figure>
ì¶œì²˜ - &lt;a class="link" href="https://toss.im/slash-21/sessions/1-7" target="_blank" rel="noopener"
>https://toss.im/slash-21/sessions/1-7&lt;/a>&lt;/p>
&lt;p>ìœ„ì™€ ê°™ì´ &lt;strong>í† ìŠ¤ì—ì„œë„ RESTfulí•˜ì§€ ì•Šì€ APIë“¤ì— ëŒ€í•´ ê³ ë¯¼&lt;/strong>ì„ ë§ì´ í–ˆë˜ ê²ƒ ê°™ê³  ì´ ê²½ìš° ë‹¤ìŒê³¼ ê°™ì€ ì»¨ë²¤ì…˜ë“¤ì„ ì ìš©í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>Pathì˜ ë§ˆì§€ë§‰ì— ë™ì‘ì„ ë‚˜íƒ€ë‚´ëŠ” ë™ì‚¬ë¥¼ ì ìš©&lt;/li>
&lt;li>ì´ëŸ° APIë“¤ì€ POST ë©”ì†Œë“œë¥¼ ì´ìš©&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code># ê¸°ì¡´ ë°©ì‹
ì¢‹ì•„ìš” ìƒì„± POST /likes {article: 1}
ì¢‹ì•„ìš” ì‚­ì œ DELETE /likes/{{like_id}}
# ê°œì„ í•œ ë°©ì‹
ì¢‹ì•„ìš” POST /articles/1/like
ì¢‹ì•„ìš” ì·¨ì†Œ POST /articles/1/unlike
&lt;/code>&lt;/pre>&lt;p>ì‹¤ì œ ì¿ ë®¤ ì‘ì—…ì„ ì˜ˆë¡œ ë“¤ìë©´ ê²Œì‹œê¸€ì— ëŒ€í•œ ì¢‹ì•„ìš” ì‘ì—… ìˆ˜í–‰ ì‹œ ìœ„ì™€ ê°™ì´ APIë¥¼ ì¢€ ë” ì§ê´€ì ìœ¼ë¡œ ê°œì„ í–ˆìŠµë‹ˆë‹¤.
ê¸°ì¡´ì—ëŠ” ì¢‹ì•„ìš” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ likeë¼ëŠ” ë¦¬ì†ŒìŠ¤ë¡œ ì´ìš©í•˜ë©´ì„œ like ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ìƒì„±, ì‚­ì œì— ë§µí•‘ì‹œì¼°ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ì´ëŠ” ë‹¤ì†Œ ê¸°ê³„ì ì´ê³  APIë¥¼ ì‚¬ìš©í•˜ì—¬ ê°œë°œí•˜ëŠ” í´ë¼ì´ì–¸íŠ¸(ì‚¬ëŒ)ì…ì¥ì—ì„œëŠ” ì™€ë‹¿ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ë˜í•œ í´ë¼ì´ì–¸íŠ¸ëŠ” ì¢‹ì•„ìš”ë¥¼ ì·¨ì†Œí•˜ë ¤ë©´ ìì‹ ì´ ì·¨ì†Œí•˜ê³ ì í•˜ëŠ” ì¢‹ì•„ìš” ë‚´ì—­ì˜ IDë¥¼ ì•Œì•„ì•¼í•˜ë¯€ë¡œ ë¶ˆí¸í•˜ì£ .&lt;/p>
&lt;p>ê·¸ë˜ì„œ ì•„ë˜ì™€ ê°™ì´ API í˜•íƒœë¥¼ ê°œì„ í–ˆê³ , í´ë¼ì´ì–¸íŠ¸ëŠ” ì¢€ ë” í¸ë¦¬í•˜ê²Œ APIë¥¼ ì´ìš©í•  ìˆ˜ ìˆì–´ì¡ŒìŠµë‹ˆë‹¤~!&lt;/p>
&lt;h4 id="apiì˜-latencyë¥¼-ì¤„ì´ê¸°-ìœ„í•´ì„œëŠ”-ì–´ë–»ê²Œ-í•´ì•¼í• ê¹Œ">&amp;lsquo;APIì˜ Latencyë¥¼ ì¤„ì´ê¸° ìœ„í•´ì„œëŠ” ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?&amp;rsquo;&lt;/h4>
&lt;p>ê°œë°œì„ í•˜ë‹¤ë³´ë‹ˆ ë°ì´í„°ê°€ ê·¸ë ‡ê²Œ ë§ì€ ê²ƒë„ ì•„ë‹Œë° ì–´ëŠ ìˆœê°„ë¶€í„° &lt;strong>latencyê°€ ê¸¸ë‹¤&lt;/strong>ëŠ” ëŠë‚Œì„ ë°›ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
ê·¸ë˜ì„œ ì–´ë–»ê²Œ latencyë¥¼ ì¤„ì¼ ìˆ˜ ìˆì„ê¹Œë¥¼ ì•Œì•„ë³´ê²Œ ëì£ .
ì£¼ëœ ì›ì¸ì€ &lt;code>N+1&lt;/code> ë¬¸ì œë¼ê³  ë¶ˆë¦¬ëŠ” DB Queryê°€ ì´ìŠˆì˜€ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
ê²Œì‹œê¸€ì„ ì—¬ëŸ¬ ê°œ ì¡°íšŒí•œ ë’¤ ë§µí•‘ì„ í•  ë•Œ &lt;strong>ê²Œì‹œê¸€ í•˜ë‚˜ í•˜ë‚˜ë§ˆë‹¤ì˜ ëŒ“ê¸€ ê°œìˆ˜, ì¢‹ì•„ìš” ê°œìˆ˜, ë¶ë§ˆí¬ ê°œìˆ˜ ë“±ì„ ìˆœì°¨ì ìœ¼ë¡œ ì¡°íšŒí•˜ë‹¤ë³´ë‹ˆ
ì´ ë¶€ë¶„ì—ì„œ ë³‘ëª©ì´ ë°œìƒ&lt;/strong>í•œ ê²ƒì´ì—ˆì–´ìš”!&lt;/p>
&lt;p>ì €ëŠ” ì´ ë¶€ë¶„ì—ì„œ &lt;code>redis&lt;/code>ë¥¼ ì ìš©í•´ë³´ì•˜ê³  redisë¥¼ ì ìš©í•˜ì ìƒí™©ë§ˆë‹¤ ë‹¤ë¥´ê² ì§€ë§Œ ëŒ€ì²´ë¡œ &lt;strong>latencyê°€ ì•½ 1/5ë¡œ ì¤„ì–´ë“œëŠ” íš¨ê³¼&lt;/strong>ë¥¼ ì–»ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
redisë¥¼ ì ìš©í•˜ë˜ ë‹¹ì‹œì—” N+1 ë¬¸ì œì™€ ê·¸ê²ƒì„ Fetch join(í˜¹ì€ Eager loading)ë¡œ í•´ê²°í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ì¸ì§€ ìì²´ê°€ ì—†ì—ˆì–´ì„œ
redisë¥¼ ì ìš©í–ˆë˜ ê²ƒ ê°™ì€ë° Fetch joinìœ¼ë¡œë„ ê¸€ì„ ì“°ë©´ì„œ ìƒê°í•´ë³´ë‹ˆ ê°„ë‹¨íˆ í•´ê²°í•  ìˆ˜ ìˆì—ˆì„ ê²ƒ ê°™ê¸´í•˜ë„¤ìš”.&lt;/p>
&lt;p>ì‹œê°„ì´ ëœë‹¤ë©´ redis ë¿ë§Œ ì•„ë‹ˆë¼ fetch joinë„ ì ìš©í•´ì„œ ë” ìµœì í™”í•´ë³¼ ìˆ˜ ìˆìœ¼ë©´ ì¢‹ì„ ê²ƒ ê°™ì•„ìš”. ê·¸ë˜ë„ redisë¥¼ ì¨ë³´ë©´ì„œ
ë§ì€ ê²ƒë“¤ì„ ë°°ì›Œë³¼ ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ì•„ ì¬ë¯¸ìˆì—ˆìŠµë‹ˆë‹¤! ã…ã…&lt;/p>
&lt;h4 id="msaì—ì„œ-ê´€ì‹¬ì‚¬ì±…ì„-ë¶„ë¦¬ë¥¼-ì–´ë–»ê²Œ-í• -ìˆ˜-ìˆì„ê¹Œ">&amp;lsquo;MSAì—ì„œ ê´€ì‹¬ì‚¬/ì±…ì„ ë¶„ë¦¬ë¥¼ ì–´ë–»ê²Œ í•  ìˆ˜ ìˆì„ê¹Œ?&amp;rsquo;&lt;/h4>
&lt;p>&lt;figure style="flex-grow: 157; flex-basis: 378px">
&lt;a href="https://umi0410.github.io/blog/khumu/khumu-dev-review/microservice-data-share.png" data-size="279x177">&lt;img src="https://umi0410.github.io/blog/khumu/khumu-dev-review/microservice-data-share.png"
srcset="https://umi0410.github.io/blog/khumu/khumu-dev-review/microservice-data-share_hue99fd32b7750fe5cc1fc1d45e05b3df2_4025_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/khumu/khumu-dev-review/microservice-data-share_hue99fd32b7750fe5cc1fc1d45e05b3df2_4025_1024x0_resize_box_3.png 1024w"
width="279"
height="177"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ì¶œì²˜: &lt;a class="link" href="https://docs.microsoft.com/ko-kr/azure/architecture/microservices/design/data-considerations" target="_blank" rel="noopener"
>ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ì— ëŒ€í•œ ë°ì´í„° ê³ ë ¤ ì‚¬í•­ - ë§ˆì´í¬ë¡œì†Œí”„íŠ¸ ë¸”ë¡œê·¸&lt;/a>&lt;/p>
&lt;p>ì²˜ìŒ ì¿ ë®¤ë¥¼ ì„¤ê³„í•˜ë©´ì„œ MSAë¥¼ ë„ì…í•˜ê³ ì í–ˆì„ ë•ŒëŠ” ì–´ë–»ê²Œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ ë‚˜ëˆ ì•¼í• ê¹Œì— ëŒ€í•œ ê³ ë ¤ê°€ ê±°ì˜ ì—†ì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
ì§€ê¸ˆì€ DDDë¥¼ ê³µë¶€í•˜ë©° ë†’ì€ ì‘ì§‘ë„ì™€ ë…ë¦½ì„±ì„ ì·¨í•˜ë©´ì„œ ì„œë¹„ìŠ¤ë¥¼ ë‚˜ëˆ„ëŠ” ê²Œ ì¢‹ê² ë‹¤ëŠ” ìƒê°ì´ ë“¤ì§€ë§Œ ë‹¹ì‹œì—” ê·¸ëƒ¥ ë‚˜ëˆ„ê³  ì‹¶ì€ ëŒ€ë¡œ ë‚˜ëˆ ë²„ë ¸ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
ì•½ê°„ ì˜¤ë²„ ì—”ì§€ë‹ˆì–´ë§ì´ ë  ìˆ˜ ìˆëŠ” ì„¤ê³„ë¥¼ í•œ ê²ƒì€ ê·¸ë ‡ë‹¤ì¹˜ê³  ê·¸ ì†ì—ì„œ ì„œë¹„ìŠ¤ë“¤ì„ êµ¬í˜„í•´ ë‚˜ê°ˆ ë•Œì—ë„ ì‹¤ìˆ˜í–ˆë˜ ê²ƒì´ í•˜ë‚˜ ìˆìŠµë‹ˆë‹¤. ë°”ë¡œ ìœ„ì˜ ì‚¬ì§„ì²˜ëŸ¼ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ê°€ í•˜ë‚˜ì˜ DBë¥¼
ë°”ë¼ë³´ë©´ ì•ˆëœë‹¤ëŠ” ì›ì¹™ì„ ì–´ê¸´ ê²ƒì¸ë°ìš”.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 162; flex-basis: 391px">
&lt;a href="https://umi0410.github.io/blog/khumu/khumu-dev-review/comment-capture.png" data-size="1079x662">&lt;img src="https://umi0410.github.io/blog/khumu/khumu-dev-review/comment-capture.png"
srcset="https://umi0410.github.io/blog/khumu/khumu-dev-review/comment-capture_hucb87beda3a5f625f0903c63dddfd736f_86804_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/khumu/khumu-dev-review/comment-capture_hucb87beda3a5f625f0903c63dddfd736f_86804_1024x0_resize_box_3.png 1024w"
width="1079"
height="662"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ì˜ˆë¥¼ ë“¤ì–´ &lt;strong>ê²Œì‹œê¸€ ì„œë¹„ìŠ¤ì™€ ëŒ“ê¸€ ì„œë¹„ìŠ¤ê°€ ë¶„ë¦¬ë˜ì–´ ìˆì„ ë•Œ ìœ„ì˜ ì´ë¯¸ì§€ì™€ ê°™ì´ ì–´ë–¤ ëŒ“ê¸€ì˜ ì‘ì„±ìê°€ í•´ë‹¹ ê²Œì‹œê¸€ì˜ ì‘ì„±ìì™€ ì¼ì¹˜í•˜ëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ê°€ í•„ìš”í•˜ë‹¤&lt;/strong>ê³  ê°€ì •í•´ë´…ì‹œë‹¤.
ê¸°ì¡´ì—ëŠ” ëŒ“ê¸€ ì„œë¹„ìŠ¤ê°€ ê²Œì‹œê¸€ DBë¥¼ ì§ì ‘ ì¡°íšŒí•´ì„œ &lt;code>article.author&lt;/code>ì™€ &lt;code>comment.author&lt;/code>ë¥¼ ë¹„êµí–ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ë ‡ê²Œ &lt;strong>ë¶„ë¦¬ëœ ì„œë¡œ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ê°€
ê°™ì€ ë°ì´í„°ì— ì ‘ê·¼í•˜ëŠ” í˜•íƒœëŠ” MSAì—ì„œëŠ” ë§¤ìš° ì•ˆ ì¢‹ê²Œ í‰ê°€ë˜ëŠ” ì•ˆí‹° íŒ¨í„´&lt;/strong>ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ë”°ë¼ì„œ ì €ëŠ” ëŒ“ê¸€ì„ ì¡°íšŒí•  ë•Œ ê²Œì‹œê¸€ ì„œë¹„ìŠ¤ì—ê²Œ ê²Œì‹œê¸€ ì •ë³´ë¥¼ ì¡°íšŒí•´ &lt;code>article.author&lt;/code>ì™€ &lt;code>comment.author&lt;/code>ë¥¼ ë¹„êµí•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.
ë§Œì•½ &lt;strong>ê²Œì‹œê¸€ ì„œë¹„ìŠ¤ê°€ ë¹„ì •ìƒìœ¼ë¡œ ë™ì‘í•˜ë”ë¼ë„ ëŒ“ê¸€ ì„œë¹„ìŠ¤ì—ëŠ” í° íƒ€ê²© ì—†ì´ ëŒ“ê¸€ ì‘ì„±ìê°€ ê²Œì‹œê¸€ ì‘ì„±ìì™€ ì¼ì¹˜í•˜ëŠ”ì§€ ì •ë³´ë§Œ falseë¡œ ì²˜ë¦¬&lt;/strong>ë  ë¿ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ì•„ë§ˆ ë” ê³ ë„í™”ëœ í˜•íƒœëŠ” ëŒ“ê¸€ ì„œë¹„ìŠ¤ì—ì„œ ìê¸° ì„œë¹„ìŠ¤ë§Œì´ ì´ìš©í•  ê²Œì‹œê¸€ ì‘ì„±ì ì •ë³´ í…Œì´ë¸”ì„ ì„¤ê³„í•˜ê±°ë‚˜ ëœ ì •ê·œí™”í•œë‹¤ë©´ ëŒ“ê¸€ë§ˆë‹¤ ê²Œì‹œê¸€ì˜ ì‘ì„±ì idë„ ê¸°ì…í•˜ëŠ” ë°©ì‹ì„ ì´ìš©í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì•„ìš”.
í•˜ì§€ë§Œ ê·¸ëŸ° í˜•íƒœë¥¼ ì ìš©í•˜ê¸° ì´ì „ì— ìš°ì„ ì€ ì¢€ ë” latencyê°€ ê¸¸ ìˆ˜ëŠ” ìˆì§€ë§Œ ê°„ë‹¨íˆ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ê°„ì— ë™ê¸°ì ìœ¼ë¡œ í†µì‹ (ê²Œì‹œê¸€ ì‘ì„±ì ì •ë³´ë¥¼ ëŒ“ê¸€ ì„œë¹„ìŠ¤ê°€ APIë¡œ ì§ì ‘ í˜¸ì¶œ)í•˜ëŠ” ë°©ì‹ì„ ì ìš©í•´ë´¤ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h4 id="ì–´ë–¤-ì„œë¹„ìŠ¤ë¥¼-ì´ìš©í•´-ë¹Œë“œë°°í¬ë¥¼-ìë™í™”í• ê¹Œ">&amp;lsquo;ì–´ë–¤ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•´ ë¹Œë“œ/ë°°í¬ë¥¼ ìë™í™”í• ê¹Œ?&amp;rsquo;&lt;/h4>
&lt;p>&lt;figure style="flex-grow: 95; flex-basis: 228px">
&lt;a href="https://umi0410.github.io/blog/khumu/khumu-dev-review/argocd.png" data-size="1236x1297">&lt;img src="https://umi0410.github.io/blog/khumu/khumu-dev-review/argocd.png"
srcset="https://umi0410.github.io/blog/khumu/khumu-dev-review/argocd_hu7e5d5c219024186f3afda580f81ab780_197051_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/khumu/khumu-dev-review/argocd_hu7e5d5c219024186f3afda580f81ab780_197051_1024x0_resize_box_3.png 1024w"
width="1236"
height="1297"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ê³¼ê±°ì—ëŠ” ë°°í¬ ë„êµ¬ë¡œì„œ &lt;code>Spinnaker&lt;/code>ë¥¼ ì£¼ë¡œ ì‚¬ìš©í–ˆì§€ë§Œ SpinnakerëŠ” ê·¸ ê´€ë¦¬ ë¦¬ì†ŒìŠ¤ê°€ ë§Œë§Œì¹˜ ì•Šê²Œ ë“ ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤. &lt;code>Jenkins&lt;/code>ë‚˜ ê·¸ ì™¸ì˜ ì„œë¹„ìŠ¤ë“¤ê³¼ ì—°ë™ì‹œì¼œ í•˜ë‚˜ì˜ Pipelineì„
ë§Œë“œëŠ” ë°ì—ëŠ” Spinnakerê°€ ì í•©í–ˆì§€ë§Œ ê¼­ ê·¸ëŸ° ì—°ë™ ì‘ì—…ì´ í•„ìš”ê°€ ì—†ë‹¤ë©´ êµ³ì´ Spinnakerë¥¼ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ì„ ê²ƒ ê°™ì•˜ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://tech.kakao.com/2021/07/16/devops-for-msa/" target="_blank" rel="noopener"
>ì‹¤ìš©ì£¼ì˜ ë°ë¸Œì˜µìŠ¤ for MSA - ì¹´ì¹´ì˜¤í…Œí¬&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://mesh.dev/20210208-dev-notes-002-ci-cd/" target="_blank" rel="noopener"
>CI/CD ë„êµ¬ ë° ë°©ë²•ë¡  ë„ì…ê¸° - ë©”ì‰¬ì½”ë¦¬ì•„, VROONG&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>ê·¸ë˜ì„œ ìœ„ì˜ ê¸€ë“¤ì—ë„ ì†Œê°œë˜ëŠ” í‰ì†Œ ê´€ì‹¬ ìˆë˜ &lt;strong>&lt;code>ArgoCD&lt;/code>ë¥¼ ë°°í¬ ë„êµ¬ë¡œ ì„ íƒ&lt;/strong>í–ˆê³ , ì˜¤í”ˆì†ŒìŠ¤ë¡œì„œ ê´€ë¦¬ë˜ëŠ” í”„ë¡œì íŠ¸ì´ë‹¤ë³´ë‹ˆ Github ë‚´ì—ì„œ ë§ì€ ì‘ì—…ì´ ì´ë£¨ì–´ì§€ë¯€ë¡œ
&lt;strong>CIëŠ” &lt;code>Github Action&lt;/code>ì„ ì´ìš©&lt;/strong>í•˜ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ë¦¬ê³  Spinnakerë¥¼ ì‚¬ìš©í–ˆì„ ë• Helm ì°¨íŠ¸ë¥¼ í†µí•œ ë°°í¬ê°€ ë§‰ ì§€ì›ë˜ë˜ ì‹œê¸°ì˜€ì–´ì„œ ë²„ì „ ë¬¸ì œì¸ì§€ ë²„ê·¸ì¸ì§€ Helm ì°¨íŠ¸ê°€ ì˜ ì ìš©ì´ ì•ˆëë˜ ì´ìŠˆê°€ ìˆì–´
ì •ë§ ì•„ì‰¬ì› ëŠ”ë°ìš”. &lt;strong>&lt;code>ArgoCD&lt;/code>ëŠ” kustomizeë‚˜ Helmì„ ì ê·¹ì ìœ¼ë¡œ ì§€ì›í•˜ê³  ìˆëŠ” ê²ƒ ê°™ì•„ Helmìœ¼ë¡œ ë°°í¬í•˜ëŠ” ê²ƒë„ ë„ˆë¬´ë‚˜ í¸ë¦¬&lt;/strong>í–ˆì–´ìš”.
ì§€ê¸ˆì€ Kubernetesì˜ &lt;code>Nginx Ingress Controller&lt;/code>ë‚˜ &lt;code>ArgoCD Notification&lt;/code> ê°™ì€ ì„œë¹„ìŠ¤ë“¤ì€ Helmìœ¼ë¡œ ë°°í¬/ê´€ë¦¬í•˜ê³  ìˆë‹µë‹ˆë‹¤.&lt;/p>
&lt;h2 id="í”„ë¡œì íŠ¸-ë¦¬ë“œì™€-íŒ€ì›ë“¤ê°„ì˜-ì˜ì‚¬ì†Œí†µ">í”„ë¡œì íŠ¸ ë¦¬ë“œì™€ íŒ€ì›ë“¤ê°„ì˜ ì˜ì‚¬ì†Œí†µ&lt;/h2>
&lt;p>&lt;figure style="flex-grow: 75; flex-basis: 181px">
&lt;a href="https://umi0410.github.io/blog/khumu/khumu-dev-review/communication-1.png" data-size="470x622">&lt;img src="https://umi0410.github.io/blog/khumu/khumu-dev-review/communication-1.png"
srcset="https://umi0410.github.io/blog/khumu/khumu-dev-review/communication-1_hue4b7e4c1e1817810425969ce1c3a7179_42435_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/khumu/khumu-dev-review/communication-1_hue4b7e4c1e1817810425969ce1c3a7179_42435_1024x0_resize_box_3.png 1024w"
width="470"
height="622"
loading="lazy"
>
&lt;/a>
&lt;/figure>
&lt;figure style="flex-grow: 67; flex-basis: 162px">
&lt;a href="https://umi0410.github.io/blog/khumu/khumu-dev-review/communication-2.png" data-size="449x662">&lt;img src="https://umi0410.github.io/blog/khumu/khumu-dev-review/communication-2.png"
srcset="https://umi0410.github.io/blog/khumu/khumu-dev-review/communication-2_huf596a4e544c0801f3e39d454f12567e3_55887_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/khumu/khumu-dev-review/communication-2_huf596a4e544c0801f3e39d454f12567e3_55887_1024x0_resize_box_3.png 1024w"
width="449"
height="662"
loading="lazy"
>
&lt;/a>
&lt;/figure>
&lt;figure style="flex-grow: 69; flex-basis: 166px">
&lt;a href="https://umi0410.github.io/blog/khumu/khumu-dev-review/communication-3.png" data-size="492x711">&lt;img src="https://umi0410.github.io/blog/khumu/khumu-dev-review/communication-3.png"
srcset="https://umi0410.github.io/blog/khumu/khumu-dev-review/communication-3_hu317daaf62cded970db4953d604885a3e_47905_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/khumu/khumu-dev-review/communication-3_hu317daaf62cded970db4953d604885a3e_47905_1024x0_resize_box_3.png 1024w"
width="492"
height="711"
loading="lazy"
>
&lt;/a>
&lt;/figure>
&lt;figure style="flex-grow: 65; flex-basis: 156px">
&lt;a href="https://umi0410.github.io/blog/khumu/khumu-dev-review/communication-4.png" data-size="632x970">&lt;img src="https://umi0410.github.io/blog/khumu/khumu-dev-review/communication-4.png"
srcset="https://umi0410.github.io/blog/khumu/khumu-dev-review/communication-4_huaacae8203291a385a45481847c7ec533_104242_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/khumu/khumu-dev-review/communication-4_huaacae8203291a385a45481847c7ec533_104242_1024x0_resize_box_3.png 1024w"
width="632"
height="970"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ì €í¬ íŒ€ì€ ì£¼ë¡œ ë…¸ì…˜ì„ í†µí•´ íšŒì˜ ë‚´ìš© ê¸°ë¡ ë° ì§„í–‰ ì‚¬í•­ ê³µìœ ë¥¼ í•˜ê³ , íšŒì˜ëŠ” ë””ìŠ¤ì½”ë“œë¡œ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.
ì´ë ‡ê²Œ ë³´ë‹ˆ í•´ë‹¹ í˜ì´ì§€ì— ê¸°ë¡í•˜ê¸° ì „ê¹Œì§€ í•©í•˜ë©´ ë”± &lt;strong>1ë…„&lt;/strong> ì •ë„ ëœ ê²ƒ ê°™ë„¤ìš” ë²Œì¨..! ì‹œê°„ì´ ì°¸ ë¹ ë¥¸ ê²ƒ ê°™ì•„ìš” ã…ã…&lt;/p>
&lt;p>&lt;figure style="flex-grow: 60; flex-basis: 144px">
&lt;a href="https://umi0410.github.io/blog/khumu/khumu-dev-review/collabo-1.png" data-size="1080x1799">&lt;img src="https://umi0410.github.io/blog/khumu/khumu-dev-review/collabo-1.png"
srcset="https://umi0410.github.io/blog/khumu/khumu-dev-review/collabo-1_hu4ce9c2bf6390846cdc287259d15975c0_1578099_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/khumu/khumu-dev-review/collabo-1_hu4ce9c2bf6390846cdc287259d15975c0_1578099_1024x0_resize_box_3.png 1024w"
width="1080"
height="1799"
loading="lazy"
>
&lt;/a>
&lt;/figure>
&lt;figure style="flex-grow: 66; flex-basis: 159px">
&lt;a href="https://umi0410.github.io/blog/khumu/khumu-dev-review/collabo-2.png" data-size="1080x1628">&lt;img src="https://umi0410.github.io/blog/khumu/khumu-dev-review/collabo-2.png"
srcset="https://umi0410.github.io/blog/khumu/khumu-dev-review/collabo-2_hu377b174bcab257d212aa47a01287c09d_539505_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/khumu/khumu-dev-review/collabo-2_hu377b174bcab257d212aa47a01287c09d_539505_1024x0_resize_box_3.png 1024w"
width="1080"
height="1628"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ë””ìŠ¤ì½”ë“œë¡œ íšŒì˜í•˜ê¸° í˜ë“  ìƒí™©ì—” ììœ ë¡­ê²Œ ì¹´í†¡ìœ¼ë¡œ ì´ìŠˆë¥¼ ê³µìœ í•˜ê¸°ë„ í•©ë‹ˆë‹¤. ì–¼ë§ˆ ì „ì— ìš´ì˜ í™˜ê²½ì„ êµ¬ì¶•í•˜ë©´ì„œ &lt;code>S3&lt;/code> + &lt;code>CloudFront&lt;/code>ë¥¼ êµ¬ì¶•í•  ë•Œ
ê²ªì€ ì´ìŠˆ ê´€ë ¨ í†¡ì„ ê°€ì ¸ì™€ ë´¤ìŠµë‹ˆë‹¤. íŠ¹íˆ ì„œë¡œ í¬ì§€ì…˜ì´ ë‹¤ë¥¸ ê²½ìš° &lt;strong>ì´ìŠˆì— ëŒ€í•´ ìì„¸íˆ ë¬˜ì‚¬&lt;/strong>í•˜ë ¤ ë…¸ë ¥í•˜ê³  &lt;strong>íŒ€ì›ì˜ ì‘ì—…ì— í•­ìƒ ê°ì‚¬&lt;/strong>ë¥¼ í‘œí•˜ëŠ” ê±¸ ìŠì§€ ì•Šìœ¼ë ¤
ë…¸ë ¥í•˜ê³  ìˆì–´ìš”. ì½”ë¡œë‚˜ì™€ ê±°ë¦¬ ìƒì˜ ë¬¸ì œë¡œ í•œ ë²ˆë„ ëµ™ì§€ ëª»í•œ íŒ€ì›ë“¤ë„ ê³„ì‹œì§€ë§Œ ë‚˜ë¦„ ë‚´ì  ì¹œë°€ê°ì´ ë§ì´ ìŒ“ì¸ ê²ƒ ê°™ì•„ìš” ã…ã…
ê¼­ ì¿ ë®¤ê°€ ì•„ë‹ˆë¼ë„ ê¸°íšŒê°€ ëœë‹¤ë©´ ì•ìœ¼ë¡œë„ ê°™ì´ ì‘ì—…í•˜ê±°ë‚˜ ë§Œë‚˜ëµ™ê³  ì‹¶ê¸°ë„ í•©ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì•ìœ¼ë¡œì˜-ë¯¸ë˜">ì•ìœ¼ë¡œì˜ ë¯¸ë˜..?&lt;/h2>
&lt;p>&lt;figure style="flex-grow: 100; flex-basis: 240px">
&lt;a href="https://umi0410.github.io/blog/khumu/khumu-dev-review/lion.png" data-size="600x600">&lt;img src="https://umi0410.github.io/blog/khumu/khumu-dev-review/lion.png"
srcset="https://umi0410.github.io/blog/khumu/khumu-dev-review/lion_hud65daaf114658cf17a9f778455969ffb_26332_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/khumu/khumu-dev-review/lion_hud65daaf114658cf17a9f778455969ffb_26332_1024x0_resize_box_3.png 1024w"
width="600"
height="600"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ì‚¬ì‹¤ ê°œë°œ ë†€ì´í„°ë¡œ ì‹œì‘í•œ ì£¼ì œë¼ì„œ ê·¸ë ‡ê²Œ ì°¸ì‹ í•˜ì§€ë„ ì•Šê³ , ëŒ€í•™ìƒ ì»¤ë®¤ë‹ˆí‹°ì—ëŠ” ì—ë¸Œë¦¬íƒ€ì„ì´ë¼ëŠ” í° ì¥ë²½ì´ ìˆì–´ì„œ ìš°ë¦¬ ì„œë¹„ìŠ¤ì˜ ë¯¸ë˜ê°€ ì–´ë–»ê²Œ ë  ì§€ëŠ” ëª¨ë¥´ê² ìŠµë‹ˆë‹¤.
ì²˜ìŒì—” ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥ì„ ì£¼ê¸°ëŠ¥ìœ¼ë¡œ ë°€ì–´ë¶™ì—¬ ê°œë°œí–ˆë˜ ë°˜ë©´ í™œì„± ìœ ì €ê°€ ë³„ë¡œ ì—†ì„ ê²½ìš°ë¥¼ ê³ ë ¤í•˜ë‹ˆ ì»¤ë®¤ë‹ˆí‹°ë³´ë‹¤ëŠ” ê³µì§€ì‚¬í•­ê³¼ í•™ì‚¬ì¼ì •ì„ í¸ë¦¬í•˜ê²Œ ì „ë‹¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´
ë” ìš°ì„ ì‹œ ë˜ì–´ì•¼í•  ê²ƒ ê°™ì•˜ì–´ìš”. ê·¸ë˜ì„œ ê·¸ ë¶€ë¶„ë“¤ì„ ë³´ì™„í•˜ì—¬ MVPë¥¼ ì¶œì‹œ ì¤€ë¹„ ì¤‘ì´ê³  ì´í›„ ë‹¤ì–‘í•œ í”¼ë“œë°±ì„ ë°›ì•„ë³´ë©´ì„œ
ê³„ì†í•´ì„œ ë””ë²¨ë¡­í•´ë‚˜ê°ˆì§€ ìœ ì§€ë§Œ í•  ì§€ íŒ€ì›ë“¤ê³¼ ìƒì˜í•´ë´ì•¼í•  ê²ƒ ê°™ê¸´ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ë˜ë„ ëŒ€í•™êµë¥¼ ì¡¸ì—…í•˜ê¸° ì „ì— ì´ë ‡ê²Œ ê¸¸ê²Œ í•œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•´ë³¼ ìˆ˜ ìˆì—ˆë˜ ê²ƒë„ ë¿Œë“¯í•˜ê³  íŒ€ì›ë“¤ê³¼ ê¾¸ì¤€íˆ í˜‘ì—…í•´ë‚˜ê°€ëŠ”
ê²½í—˜ì„ í•  ìˆ˜ ìˆì—ˆë˜ ì , ë‹¤ì–‘í•œ ì´ìŠˆë¥¼ ë§ì´í•˜ê³  í•´ê²°í•  ìˆ˜ ìˆì—ˆë˜ ì ì—ì„œ ì„œë¹„ìŠ¤ì˜ ë¯¸ë˜ê°€ ì–´ë–»ê²Œ ë˜ë“  ì†Œì¤‘í•œ ê²½í—˜ì„ í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì¿ ë®¤ íŒ€ì›ë“¤ ëª¨ë‘ ê½ƒê¸¸ ê±·ê³  í–‰ë³µí–ˆìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤~! í™”ì´íŒ…!!!&lt;/p></description></item><item><title>Golangìœ¼ë¡œ ë°±ì—”ë“œ ê°œë°œí•˜ê¸° - 5. Error Handling. ì—ëŸ¬ ì˜ ì²˜ë¦¬í•˜ê¸° (feat. fiber)</title><link>https://umi0410.github.io/blog/golang/how-to-backend-in-go-errorhandle/</link><pubDate>Sun, 05 Sep 2021 01:46:54 +0900</pubDate><guid>https://umi0410.github.io/blog/golang/how-to-backend-in-go-errorhandle/</guid><description>&lt;img src="https://umi0410.github.io/blog/golang/how-to-backend-in-go-errorhandle/chain.png" alt="Featured image of post Golangìœ¼ë¡œ ë°±ì—”ë“œ ê°œë°œí•˜ê¸° - 5. Error Handling. ì—ëŸ¬ ì˜ ì²˜ë¦¬í•˜ê¸° (feat. fiber)" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>ë“œë””ì–´ ì—ëŸ¬ë¥¼ ë‹¤ë¤„ë³¼ ì°¨ë¡€ê°€ ëë„¤ìš”. ì‘ë…„ê¹Œì§€ë§Œ í•´ë„ &lt;code>Error&lt;/code>ë‚˜ &lt;code>Exception&lt;/code> ì²˜ë¦¬ì˜ ì¤‘ìš”ì„±ì„ ì˜ ëª°ëë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ API &lt;strong>í´ë¼ì´ì–¸íŠ¸ë‘ ì‘ì—…ì„ í•˜ë©´ í• ìˆ˜ë¡ ì—ëŸ¬ ì²˜ë¦¬ì˜ ì¤‘ìš”ì„±ì„ ëŠë¼ê²Œ ë˜ëŠ” ê²ƒ ê°™ì•„ìš”&lt;/strong>. ì™œëƒí•˜ë©´ ë°±ì—”ë“œì—ì„œ ê°ê°ì˜ ì—ëŸ¬ ì¼€ì´ìŠ¤ì— ëŒ€í•œ &lt;code>status_code&lt;/code>ë‚˜ &lt;code>error_type&lt;/code>ë“±ì„ ëª…í™•íˆ ì •ì˜í•˜ì§€ ì•Šìœ¼ë©´ í´ë¼ì´ì–¸íŠ¸ëŠ” ì—ëŸ¬ë¥¼ í•´ì„í•  ë°©ë²•ì´ ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ë˜í•œ &lt;strong>ì—ëŸ¬ë¥¼ ì˜ ì²˜ë¦¬í•œ ë’¤ ì˜¬ë°”ë¥´ê²Œ ì‘ë‹µí•˜ê±°ë‚˜ ë¡œê·¸ë¥¼ ë‚¨ê¸°ëŠ” ê²ƒì€ ìœ ì§€/ë³´ìˆ˜ ì‹œì— ë°±ì—”ë“œ ê°œë°œì ìŠ¤ìŠ¤ë¡œ ì—ê²Œë„ ì •ë§ ì¤‘ìš”&lt;/strong>í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì‹¤ì œ ìš´ì˜ í™˜ê²½ì˜ ë¡œê·¸ë¥¼ ë§ˆì¹˜ ìš°ë¦¬ê°€ ë¡œì»¬ì—ì„œ ê°œë°œí•  ë•Œ ì²˜ëŸ¼ í•­ìƒ ë³´ê³ ìˆì„ ìˆ˜ëŠ” ì—†ê¸° ë•Œë¬¸ì´ì£ . ì¦‰ ì—ëŸ¬ ë¡œê·¸ë§Œ ë”°ë¡œ &amp;ldquo;í¸ë¦¬í•˜ê²Œ&amp;rdquo; ë³¼ ìˆ˜ ìˆê±°ë‚˜ ì—ëŸ¬ ë¡œê·¸ë¡œ ì¸í•œ Notification Systemì´ ìˆìœ¼ë©´ í›¨ì”¬ ì—ëŸ¬ë¥¼ ì¶”ì (Tracing)í•˜ê¸° ì‰½ê² ì£ !&lt;/p>
&lt;p>ê·¸ë¦¬ê³  &lt;strong>&lt;code>Golang&lt;/code>ì€ ë‹¤ë¥¸ ì–¸ì–´ë“¤ê³¼ ë‹¬ë¦¬ Try Catchì˜ í˜•íƒœë¡œ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤&lt;/strong>ëŠ” ì ì„ ëª¨ë‘ë“¤ ì•Œê³  ê³„ì‹¤ ê²ë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ ì—ëŸ¬ë¥¼ ê·¸ëŸ¼ ì–´ë–»ê²Œ ì²˜ë¦¬í•˜ì§€ì— ëŒ€í•œ ë°©ì•ˆì€ ëšœë ·ì´ ì¸ì§€í•˜ì§€ ëª»í•œ ê²½ìš°ê°€ ë§ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.(ì œê°€ ê·¸ë¬ìŠµë‹ˆë‹¤. ã…ã…..) ê·¸ë˜ì„œ ëŒ€ì¶© ì—ëŸ¬ ë¡œê·¸ë¥¼ ì¶œë ¥í•˜ê²Œë§Œ í•˜ê³  í†µì¼ì„± ì—†ëŠ” ë°©ì‹ìœ¼ë¡œ ê·¸ë•Œ ê·¸ë•Œ ë– ì˜¤ë¥´ëŠ” ëŒ€ë¡œ ì—ëŸ¬ì²˜ë¦¬ë¥¼ í•´ì™”ë˜ ê²ƒ ê°™ì•„ìš”.&lt;/p>
&lt;p>ê·¸ëŸ¼ ì´ë²ˆ ê¸€ì—ì„œëŠ” ì—ëŸ¬ë¥¼ ì™œ ìš°ì•„í•˜ê²Œ, ì˜ ì²˜ë¦¬í•´ì•¼í•˜ëŠ”ì§€ ì‚´í´ë³´ê³  ê·¸ë¥¼ ìœ„í•œ ë°©ë²•ë„ ì†Œê°œí•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="-ì—ëŸ¬ë¥¼-wrapping-í•˜ì">ğŸ“¦ ì—ëŸ¬ë¥¼ Wrapping í•˜ì&lt;/h2>
&lt;p>ë‹¤ë¥¸ ì–¸ì–´ë“¤ì€ ì—ëŸ¬ë¥¼ ìƒì†í•´ ì •ì˜í•˜ëŠ” ë°©ì‹ì„ ì´ìš©í•˜ì§€ë§Œ &lt;strong>&lt;code>Golang&lt;/code>ì€ ì—ëŸ¬ë¥¼ &lt;code>Wrapping&lt;/code>í•˜ëŠ” ë°©ì‹ì„ ì´ìš©&lt;/strong>í•©ë‹ˆë‹¤. ì¢€ ë‚¯ì„¤ì–´ì„œ ê·¸ë ‡ì§€ ìµìˆ™í•´ì§€ë©´ í›¨ì”¬ ê°„ê²°í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì˜ˆë¥¼ ë“¤ì–´ Redis ê´€ë ¨ ì—ëŸ¬ëŠ” ëª¨ë‘ ì¶”ìƒì ì¸ ì—ëŸ¬ì¸ &lt;code>RedisError&lt;/code>ì— ì†í•˜ê³  ì¡°íšŒ ë„ì¤‘ ë°œìƒí•œ ì—ëŸ¬ëŠ” &lt;code>RedisGetError&lt;/code>ë¼ê³  ì •ì˜í•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤ê³  í•´ë³´ê² ìŠµë‹ˆë‹¤. ìë°”ì˜ ê²½ìš°ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜í•˜ê² ì£ .&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">RedisError&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">Exception&lt;/span>&lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="nf">RedisError&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">msg&lt;/span>&lt;span class="o">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">super&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">msg&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">RedisGetError&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">RedisError&lt;/span>&lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="nf">RedisError&lt;/span>&lt;span class="o">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">super&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;ë ˆë””ìŠ¤ ì¡°íšŒ ê´€ë ¨ ì—ëŸ¬&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Something&lt;/span>&lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">somethingWithRedis&lt;/span>&lt;span class="o">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span>&lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">redis&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;X&amp;#34;&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">RedisGetError&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span> &lt;span class="c1">// ë ˆë””ìŠ¤ ì¡°íšŒ ê´€ë ¨ ì—ëŸ¬ ì¼€ì´ìŠ¤ì— ëŒ€í•œ ëŒ€ì‘
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">RedisError&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span> &lt;span class="c1">// ë ˆë””ìŠ¤ ì¡°íšŒë¥¼ ì œì™¸í•œ ë ˆë””ìŠ¤ ê´€ë ¨ ì—ëŸ¬ ì¼€ì´ìŠ¤ì— ëŒ€í•œ ëŒ€ì‘
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Exception&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span> &lt;span class="c1">// ê·¸ ì™¸ì˜ ëª¨ë“  ì—ëŸ¬ ì¼€ì´ìŠ¤ì— ëŒ€í•œ ëŒ€ì‘
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì´ë ‡ê²Œ Javaì˜ ê²½ìš°ëŠ” &lt;code>ìƒì†&lt;/code>ì„ í†µí•´ ê° ì—ëŸ¬ ì¼€ì´ìŠ¤ì— ëŒ€í•´ ëŒ€ì‘í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ Golangì—ì„œëŠ” ì£¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;code>error.New(msg string)&lt;/code> ìœ¼ë¡œ sentinel error(ë” ì´ìƒ ìª¼ê°¤ ìˆ˜ ì—†ëŠ” ìµœìƒìœ„ ì—ëŸ¬ ê°™ì€ ëŠë‚Œ)ë¥¼ ì •ì˜&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>fmt.Errorf(&amp;quot;%s: %w&amp;quot;, msg, sentinelErr)&lt;/code> ìœ¼ë¡œ sentinel errorë¥¼ ê°ì‹¼(wrap) ìì‹ ì—ëŸ¬ë¥¼ ì •ì˜&lt;/p>
&lt;p>ì—ëŸ¬ë¥¼ Wrapping í•˜ë©´ sentinel errorì— ì¢€ ë” ì •ë³´ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆì–´ ì¹œì ˆí•œ ì—ëŸ¬ê°€ ë˜ì£ !&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>errors.Is(err, parentErr)&lt;/code> ìœ¼ë¡œ errì˜ wrapping chainì— parentErrì´ ì¡´ì¬í•˜ëŠ”ì§€ íŒë‹¨&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>ì—ëŸ¬ë¥¼ Wrappingí•œë‹¤ëŠ” ê°œë…ì´ ì˜ ì´í•´ë˜ì§€ ì•ŠëŠ” ë¶„ë“¤ì€ &lt;a class="link" href="https://golangbyexample.com/wrapping-and-unwrapping-error-golang/" target="_blank" rel="noopener"
>Wrapping and Un-wrapping of error in Go (Golang)&lt;/a>ì„ ì°¸ê³ í•´ì£¼ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ëŸ¼ Goì—ì„  ìœ„ì™€ ê°™ì€ ì¼€ì´ìŠ¤ê°€ ì–´ë–»ê²Œ êµ¬í˜„ë  ìˆ˜ ìˆëŠ”ì§€ ì ì–´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ErrRedis&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ë ˆë””ìŠ¤ ê´€ë ¨ ì—ëŸ¬&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ErrRedisGet&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Errorf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ì¡°íšŒ ë„ì¤‘ ì—ëŸ¬: %w&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ErrRedis&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">Something&lt;/span> &lt;span class="kd">struct&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">s&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">Something&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">somethingWithRedis&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">redis&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;X&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Is&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ErrRedisGet&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span> &lt;span class="c1">// ë ˆë””ìŠ¤ ì¡°íšŒ ê´€ë ¨ ì—ëŸ¬ ì¼€ì´ìŠ¤ì— ëŒ€í•œ ëŒ€ì‘
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Is&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ErrRedis&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span> &lt;span class="c1">// ë ˆë””ìŠ¤ ì¡°íšŒë¥¼ ì œì™¸í•œ ë ˆë””ìŠ¤ ê´€ë ¨ ì—ëŸ¬ ì¼€ì´ìŠ¤ì— ëŒ€í•œ ëŒ€ì‘
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span> &lt;span class="c1">// ê·¸ ì™¸ì˜ ëª¨ë“  ì—ëŸ¬ ì¼€ì´ìŠ¤ì— ëŒ€í•œ ëŒ€ì‘
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Goì—ì„œ errorëŠ” &lt;code>interface&lt;/code>ì´ê¸° ë•Œë¬¸ì— ê°„í˜¹ &lt;code>type assertion&lt;/code>ì„ ì´ìš©í•´ ì—ëŸ¬ì˜ íƒ€ì…ì„ ë¹„êµí•˜ê±°ë‚˜ ì§ì ‘ error variableì™€ ë¹„êµí•˜ëŠ” ê²½ìš°ë„ ìˆê¸´í•©ë‹ˆë‹¤ë§Œ ë°”ëŒì§í•˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤. type assertionì€ ì• ì´ˆì— ë‹¤ì†Œ ë¶ˆì•ˆí•˜ê±°ë‚˜ ë²ˆê±°ë¡œìš´ ë©´ì´ ìˆê³  ì§ì ‘ error valueì™€ ë¹„êµí•˜ëŠ” ê²½ìš°ëŠ” í•´ë‹¹ error valueë¥¼ ì œê³µí•˜ë˜ packageê°€ ì¶”í›„ì—ëŠ” ì–´ë–¤ error valueë¥¼ ì¬ì •ì˜í•  ì§€ ëª¨ë¥´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. &lt;strong>ì˜ˆë¥¼ ë“¤ì–´ &lt;code>ErrRedisGet&lt;/code> ë¥¼ ë¦¬í„´í•˜ë˜ íŒ¨í‚¤ì§€ê°€ &lt;code>ErrRedisGet&lt;/code> ë¥¼ Wrappingí•œ &lt;code>ErrRedisHashGet&lt;/code> ë¥¼ ë¦¬í„´í•˜ëŠ” í˜•íƒœë¡œ ë³€ê²½ëë‹¤ê³  ê°€ì •&lt;/strong>í•©ì‹œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ErrRedis&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ë ˆë””ìŠ¤ ê´€ë ¨ ì—ëŸ¬&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ErrRedisGet&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Errorf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ì¡°íšŒ ë„ì¤‘ ì—ëŸ¬: %w&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ErrRedis&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">r&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">redis&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">HashGet&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">key&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">Hash&lt;/span> &lt;span class="nx">Get&lt;/span> &lt;span class="err">ë„ì¤‘&lt;/span> &lt;span class="err">ì—ëŸ¬ê°€&lt;/span> &lt;span class="err">ë°œìƒí•œ&lt;/span> &lt;span class="err">ê²½ìš°&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ErrRedisGet&lt;/span> &lt;span class="c1">// ì´ ë²„ì „ì—ì„œëŠ” ErrRedisGetì„ ë¦¬í„´í•¨.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span> &lt;span class="c1">// ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šì€ ê²½ìš°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">s&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">Something&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">somethingWithRedis&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">redis&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">HashGet&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;X&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nx">ErrRedisGet&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Redis ì¡°íšŒ ë„ì¤‘ ì—ëŸ¬ê°€ ë°œìƒí•œ ê²½ìš°ì— ëŒ€í•œ ëŒ€ì‘
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ê¸°ì¡´ ë²„ì „ì—ì„  &lt;code>ErrRedisGet&lt;/code> ì„ ë¦¬í„´í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ í™•ì¸í•˜ëŠ” ë©”ì†Œë“œì—ì„œë„ &lt;code>ErrRedisGet&lt;/code> ê³¼ ì§ì ‘ &lt;code>==&lt;/code>ìœ¼ë¡œ ë¹„êµë¥¼ í•˜ë‹ˆ ì˜¬ë°”ë¥´ê²Œ ë™ì‘í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 131; flex-basis: 314px">
&lt;a href="https://umi0410.github.io/blog/golang/how-to-backend-in-go-errorhandle/chain.png" data-size="929x708">&lt;img src="https://umi0410.github.io/blog/golang/how-to-backend-in-go-errorhandle/chain.png"
srcset="https://umi0410.github.io/blog/golang/how-to-backend-in-go-errorhandle/chain_hua96618047d845851ee10ee4de25bc827_61443_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/how-to-backend-in-go-errorhandle/chain_hua96618047d845851ee10ee4de25bc827_61443_1024x0_resize_box_3.png 1024w"
width="929"
height="708"
loading="lazy"
alt="chain.png">
&lt;/a>
&lt;figcaption>chain.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ErrRedis&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ë ˆë””ìŠ¤ ê´€ë ¨ ì—ëŸ¬&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ErrRedisGet&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Errorf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ì¡°íšŒ ë„ì¤‘ ì—ëŸ¬: %w&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ErrRedis&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ErrRedisHashGet&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Errorf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;í•´ì‰¬ ì¡°íšŒ ë„ì¤‘ ì—ëŸ¬: %w&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ErrRedisGet&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">r&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">redis&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">HashGet&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">key&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">Hash&lt;/span> &lt;span class="nx">Get&lt;/span> &lt;span class="err">ë„ì¤‘&lt;/span> &lt;span class="err">ì—ëŸ¬ê°€&lt;/span> &lt;span class="err">ë°œìƒí•œ&lt;/span> &lt;span class="err">ê²½ìš°&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ErrRedisHashGet&lt;/span> &lt;span class="c1">// ì´ ë²„ì „ì—ì„œëŠ” ErrRedisGetì„ ë¦¬í„´í•¨.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span> &lt;span class="c1">// ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šì€ ê²½ìš°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">s&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">Something&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">somethingWithRedis&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">redis&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">HashGet&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;X&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ë§Œì•½ ì•„ë˜ì²˜ëŸ¼ errors.Isë¥¼ ì´ìš©í•˜ë©´ ErrRedisGetì€ ì‹¤ì œë¡œ ë¦¬í„´ëœ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ErrRedisHashGetì˜ wrapping chainì— ì¡´ì¬í•˜ë¯€ë¡œ ê¸°ì¡´ê³¼ ë™ì¼í•˜ê²Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ì˜¬ë°”ë¥´ê²Œ ë™ì‘í•  ìˆ˜ ìˆìŒ.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// if errors.Is(err, ErrRedisGet){}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// í•˜ì§€ë§Œ ì´ì œëŠ” ==ì„ í†µí•œ ì§ì ‘ ë¹„êµëŠ” ì˜ˆìƒí•œëŒ€ë¡œ ë™ì‘í•˜ì§€ ëª»í•¨ ã…œã…œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nx">ErrRedisGet&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span> &lt;span class="c1">// ã…œã…œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>í•˜ì§€ë§Œ ë‹¤ìŒ ë²„ì „ì—ì„  &lt;code>redis.HashGet()&lt;/code> ì´ Hashì— ëŒ€í•œ ì¡°íšŒ ë„ì¤‘ ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ë• &lt;code>ErrRedisGet&lt;/code>ì´ ì•„ë‹Œ ê·¸ê²ƒì„ Wrapí•œ &lt;code>ErrRedisHashGet&lt;/code>ì„ ë¦¬í„´í•œë‹¤ë©´ ê¸°ì¡´ì˜ &lt;code>==&lt;/code>ì„ ì´ìš©í•œ ì§ì ‘ ë¹„êµëŠ” ì˜¬ë°”ë¥¸ ê²°ê³¼ë¥¼ ê°€ì ¸ë‹¤ì£¼ì§€ ëª»í•  ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ë‹¤ì†Œ ì–´ë µê±°ë‚˜ ë‚¯ì„¤ ìˆ˜ ìˆëŠ” ë‚´ìš©ì´ë¼ ê°„ë‹¨í•œ ë‚´ìš©ì„ ìœ„ì£¼ë¡œ ì˜ˆì‹œë¥¼ ë“¤ì–´ë´¤ìŠµë‹ˆë‹¤. ê´€ì‹¬ì´ ìˆìœ¼ì‹  ë¶„ë“¤ì€ ê¸°ë³¸ìœ¼ë¡œ ì œê³µë˜ëŠ” &lt;code>errors&lt;/code> íŒ¨í‚¤ì§€ ì™¸ì— &lt;a class="link" href="https://github.com/pkg/errors" target="_blank" rel="noopener"
>https://github.com/pkg/errors&lt;/a> ë¼ëŠ” íŒ¨í‚¤ì§€ë¥¼ ì´ìš©í•˜ëŠ” ê²½ìš°ë„ ìˆìœ¼ë‹ˆ í•œ ë²ˆ ì‚´í´ë³´ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì, ê·¸ëŸ¼ ì—ëŸ¬ë¥¼ Wrapí•˜ë¼ëŠ” ë‚´ìš© í•˜ë‚˜ ê°–ê³  ì–˜ê¸°ë¥¼ ì£¼ì ˆ ì£¼ì ˆ ê¸¸ê²Œ í–ˆìœ¼ë‹ˆ ì´ì œ ì‹¤ì œë¡œ ì›¹ ë°±ì—”ë“œ ê°œë°œì—ì„œì˜ ì—ëŸ¬ ì²˜ë¦¬ì— ëŒ€í•´ ì•Œì•„ë´…ì‹œë‹¤~!&lt;/p>
&lt;h2 id="-ì›¹ì„œë²„ê°€-ì—ëŸ¬ë¥¼-ì œëŒ€ë¡œ-ì²˜ë¦¬í•˜ì§€-ì•Šìœ¼ë©´">ğŸ¤” ì›¹ì„œë²„ê°€ ì—ëŸ¬ë¥¼ ì œëŒ€ë¡œ ì²˜ë¦¬í•˜ì§€ ì•Šìœ¼ë©´?&lt;/h2>
&lt;p>ì—ëŸ¬ë¥¼ ì œëŒ€ë¡œ ì²˜ë¦¬í•˜ì§€ ì•Šìœ¼ë©´ ì¼ë°˜ì ìœ¼ë¡œ ì›¹ í”„ë ˆì„ì›Œí¬ë“¤ì€ &lt;code>500 Internal Error&lt;/code>ë¡œ ì‘ë‹µí•˜ê¸° ë•Œë¬¸ì— ClientëŠ” &lt;code>500 Internal Error&lt;/code> ì‘ë‹µ ë°–ì— ë°›ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤&amp;hellip; ê²½ìš°ì— ë”°ë¼ì„œëŠ” BodyëŠ” ì˜¬ë°”ë¥´ê²Œ ë°›ì„ ìˆ˜ë„ ìˆê¸´í•˜ì§€ë§Œ ë§¤ìš° ë¶ˆì•ˆí•˜ì£ . ì—ëŸ¬ì˜ ì›ì¸ì„ ëª¨ë¥´ë‹ˆ í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œë„ ìœ ì €ì—ê²Œ &lt;strong>&amp;ldquo;ì•Œ ìˆ˜ ì—†ëŠ” ì´ìœ ë¡œ ìš”ì²­ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.&amp;rdquo; ê°™ì€ ë©”ì‹œì§€ë¥¼ ë„ìš´ë‹¤ë©´ ìœ ì € ê²½í—˜ë„ ë‹¹ì—°íˆ ì¢‹ì§€ ì•Šì•„ì§€ê² ì£ &lt;/strong>.&lt;/p>
&lt;p>ê° ì—ëŸ¬ ì¼€ì´ìŠ¤ì— ì ì ˆíˆ ëŒ€ì‘í•´ì„œ ì‘ë‹µí•˜ë©´ í´ë¼ì´ì–¸íŠ¸ì™€ ìœ ì €ê°€ ëª¨ë‘ ì˜ ë°˜ì‘í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ìœ ì €ì˜ ìš”ì²­ì´ë¼ ì—ëŸ¬ê°€ ë‚œ ê²½ìš°&lt;/strong> =&amp;gt; 401 Unauthorized ì‘ë‹µ =&amp;gt; í´ë¼ì´ì–¸íŠ¸ëŠ” ìœ ì €ë¥¼ ë¡œê·¸ì¸ ì°½ìœ¼ë¡œ ì•ˆë‚´í•¨.&lt;/li>
&lt;li>ê¶Œí•œì´ ì—†ëŠ” ìœ ì €ì˜ ìš”ì²­ì´ë¼ ì—ëŸ¬ê°€ ë‚œ ê²½ìš° =&amp;gt; 403 Forbidden ì‘ë‹µ =&amp;gt; í´ë¼ì´ì–¸íŠ¸ëŠ” ìœ ì €ì—ê²Œ ê¶Œí•œì´ ì—†ì–´ì„œ ë¶ˆê°€ëŠ¥í•˜ë‹¤ëŠ” ì¹œì ˆí•œ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ë„ì›€.&lt;/li>
&lt;li>&lt;strong>ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•´ ì—ëŸ¬ê°€ ë‚œ ê²½ìš°&lt;/strong> =&amp;gt; 404 Not Found ì‘ë‹µ =&amp;gt; í´ë¼ì´ì–¸íŠ¸ëŠ” ìœ ì €ì—ê²Œ í•´ë‹¹ ë¦¬ì†ŒìŠ¤ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì¹œì ˆí•œ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ë„ì›€.&lt;/li>
&lt;/ul>
&lt;h2 id="fiberì—ì„œ-ì—ëŸ¬-ì²˜ë¦¬í•˜ëŠ”-ë²•">&lt;code>Fiber&lt;/code>ì—ì„œ ì—ëŸ¬ ì²˜ë¦¬í•˜ëŠ” ë²•&lt;/h2>
&lt;p>&lt;code>fiber&lt;/code>ëŠ” golang ì›¹ í”„ë ˆì„ì›Œí¬ë“¤ ì¤‘ì—ì„œ ë¬¸ì„œê°€ ì°¸ ì˜ ë˜ì–´ìˆëŠ” í¸ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. &lt;a class="link" href="https://docs.gofiber.io/guide/error-handling" target="_blank" rel="noopener"
>Error Handling&lt;/a> íŒŒíŠ¸ë¥¼ ë³´ë©´ ì›¹ í”„ë ˆì„ì›Œí¬ë‹¨ì—ì„œëŠ” ì–´ë–»ê²Œ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•  ì§€ ê°„ë‹¨íˆ ì‚´í´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. Default Error HandlerëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê²ƒì´ê³ , Custom Error Handlerì„ ë”°ë¡œ ì •ì˜í•´ ì´ìš©ì„ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì €ëŠ” ì €ë²ˆ ì‹œê°„ì— ë‹¤ë¤˜ë˜ &lt;code>Middleware&lt;/code> ë°©ì‹ì„ ì´ìš©í•´ ì—ëŸ¬ë¥¼ ì˜ ì²˜ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 160; flex-basis: 386px">
&lt;a href="https://umi0410.github.io/blog/golang/how-to-backend-in-go-errorhandle/errorhandler.png" data-size="1142x710">&lt;img src="https://umi0410.github.io/blog/golang/how-to-backend-in-go-errorhandle/errorhandler.png"
srcset="https://umi0410.github.io/blog/golang/how-to-backend-in-go-errorhandle/errorhandler_hucfef4304ecce075cbbc083aa9e1131cf_67229_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/how-to-backend-in-go-errorhandle/errorhandler_hucfef4304ecce075cbbc083aa9e1131cf_67229_1024x0_resize_box_3.png 1024w"
width="1142"
height="710"
loading="lazy"
alt="errorhandler.png">
&lt;/a>
&lt;figcaption>errorhandler.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ê°„ë‹¨íˆ ì¡°ê¸ˆ ì„¤ëª…ì„ ë“œë¦¬ìë©´ Fiberì—ì„œ ì œê³µí•˜ëŠ” Error HandlerëŠ” &lt;code>fiber.Handler&lt;/code>ë“¤ì´ ë¦¬í„´í•œ error íƒ€ì…ì„ ì‹¤ì œ HTTP Responseë¡œ ì–´ë–»ê²Œ ë³€í™˜ì„ í• ê¹Œì— ëŒ€í•œ ë‚´ìš©ì„ í¬í•¨í•˜ê³  ìˆëŠ” ê²ƒì´ê³ , ì œê°€ ì •ì˜í•˜ëŠ” ë¯¸ë“¤ì›¨ì–´ ë°©ì‹ì˜ Error HandlerëŠ” í•˜ë‚˜ì˜ middlewareë¡œì„œ ë‹¤ë¥¸ &lt;code>fiber.Handler&lt;/code>(ë¯¸ë“¤ì›¨ì–´ í˜¹ì€ ìš”ì²­ í•¸ë“¤ëŸ¬)ê°€ ë¦¬í„´í•œ errorì„ fiberì˜ Default Error Handlerê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” fiberì˜ error typeìœ¼ë¡œ ë³€í™˜ì‹œí‚¤ëŠ” ê²ƒì´ë¼ê³  ë³´ì‹œë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ì˜ˆì‹œ---usernameìœ¼ë¡œ-user-ì¡°íšŒ">ì˜ˆì‹œ - usernameìœ¼ë¡œ User ì¡°íšŒ&lt;/h3>
&lt;p>ì „ì²´ ì½”ë“œëŠ” ì´ì „ ê¸€ë“¤ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ì œ ê¹ƒí—™ &lt;a class="link" href="https://github.com/umi0410/how-to-backend-in-go/tree/master/errorhandle" target="_blank" rel="noopener"
>umi0410/how-to-backend-in-go&lt;/a>ì— ì˜¬ë ¤ë‘ê² ìŠµë‹ˆë‹¤. ê¸€ì—ì„œëŠ” ê°„ë‹¨í•œ ì½”ë“œ ë¹„êµì™€ HTTP ì‘ë‹µë§Œ ì„¤ëª…ë“œë¦´ê²Œìš”.&lt;/p>
&lt;p>ì—ëŸ¬ë¥¼ ì˜ Wrappingí•œ ì •ë„ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì‘ë‹µí•˜ëŠ” ì„¸ ê°€ì§€ ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Worst&lt;/strong> - ì—ëŸ¬ë¥¼ ì–´ë”˜ê°€ì— ì •ì˜í•˜ì§€ë„ Wrapí•˜ì§€ë„ ì•Šì€ ìµëª… ì—ëŸ¬ ë¦¬í„´ =&amp;gt; ì ì ˆíˆ ì—ëŸ¬ë¥¼ íŒë‹¨í•  ìˆ˜ ì—†ì–´ 500 Error&lt;/li>
&lt;li>&lt;strong>Ungraceful&lt;/strong> - ì–´ë”˜ê°€ì— ì •ì˜ëœ Errorì„ ë¦¬í„´ =&amp;gt; ì—ëŸ¬ë¥¼ ì ì ˆíˆ íŒë‹¨í•´ ì˜¬ë°”ë¥¸ Status codeë¡œ ì‘ë‹µì€ ê°€ëŠ¥í•˜ì§€ë§Œ ì—ëŸ¬ì— ëŒ€í•œ ìì„¸í•œ ë¬¸ë§¥ì´ë‚˜ ì„¤ëª…ì´ ì—†ìŒ.&lt;/li>
&lt;li>&lt;strong>Graceful&lt;/strong> - ì—ëŸ¬ë¥¼ ì˜ Wrapí•´ì„œ ë¦¬í„´ =&amp;gt; ì—ëŸ¬ë¥¼ ì ì ˆíˆ íŒë‹¨í•´ ì˜¬ë°”ë¥¸ Status codeë¡œ ì‘ë‹µí•  ìˆ˜ ìˆê³  ì—ëŸ¬ì— ëŒ€í•œ ìì„¸í•œ ë¬¸ë§¥ì´ë‚˜ ì„¤ëª…ë„ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì œì‹œë¨.&lt;/li>
&lt;/ul>
&lt;p>ì½”ë“œë¡œ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ErrResourceNotFound&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë¦¬ì†ŒìŠ¤&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">users&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">User&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">User&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;ìš°ë¯¸ì‰&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Age&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">25&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Username&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;umi0410&amp;#34;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">...&lt;/span> &lt;span class="err">ìƒëµ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">svc&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">UserService&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">GetUserWorst&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">username&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">User&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">users&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Username&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nx">username&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ìœ ì €ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìœ ì €(username=&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">username&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;)&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">svc&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">UserService&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">GetUserUngracefully&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">username&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">User&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">users&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Username&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nx">username&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ErrResourceNotFound&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">svc&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">UserService&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">GetUserGracefully&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">username&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">User&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">users&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Username&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nx">username&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Errorf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ì…ë ¥ëœ username=%s: %w&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">username&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ErrResourceNotFound&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ìœ„ì™€ ê°™ì´ ì—ëŸ¬ì™€ ì—ëŸ¬ë¥¼ ë¦¬í„´í•˜ëŠ” ì„œë¹„ìŠ¤ ë©”ì†Œë“œë“¤ì„ ì •ì˜í•˜ê³  ì»¤ìŠ¤í…€ ì—ëŸ¬ í•¸ë“¤ëŸ¬ë¡œì„œì˜ ë¯¸ë“¤ì›¨ì–´ëŠ” ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">customErrorHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">fiber&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Ctx&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">error&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ë‹¤ìŒ í•¸ë“¤ëŸ¬ë¥¼ í˜¸ì¶œí•œ ë’¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ë³¸ ë¯¸ë“¤ì›¨ì–´ì˜ ì‘ì—…ì€ ì‚¬í›„ì²˜ë¦¬!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Next&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Is&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ErrResourceNotFound&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// fiberì˜ Default Error Handlerê°€ ì•Œì•„ë“¤ì„ ìˆ˜ ìˆëŠ” í˜•íƒœì˜ fiber Errorì„ ë¦¬í„´
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">fiber&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">404&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Error&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì´ ë¯¸ë“¤ì›¨ì–´ëŠ” ë‹¤ë¥¸ ì¼ë°˜ì ì¸ ë¯¸ë“¤ì›¨ì–´ë“¤ê³¼ëŠ” ì•½ê°„ì€ ë‹¤ë¥´ê²Œ ë™ì‘í•œë‹¤ê³  ë³¼ ìˆ˜ ìˆëŠ”ë°ìš”. &lt;strong>ëŒ€ë¶€ë¶„ì˜ ë¯¸ë“¤ì›¨ì–´ë“¤ì€ ìš”ì²­ì„ ì‹¤ì œë¡œ ì²˜ë¦¬í•˜ê¸° ì „ì— ìì‹ ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì‚¬ì „ì²˜ë¦¬ ë°©ì‹ì„ ì´ìš©&lt;/strong>í•˜ëŠ”ë°ìš”. ì˜ˆë¥¼ ë“¤ì–´ ì €ë²ˆ ê¸€ì—ì„œ ì‚´í´ë³¸ basic auth ë¯¸ë“¤ì›¨ì–´ëŠ” ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” í•¸ë“¤ëŸ¬ ì´ì „ì— ë¯¸ë“¤ì›¨ì–´ë¡œì„œ ìš”ì²­ìì˜ ì¸ì¦ ì •ë³´ë¥¼ ê¸°ì…(ì‚¬ì „ì²˜ë¦¬)í•˜ëŠ” ì—­í• ì„ í–ˆì£ . í•˜ì§€ë§Œ &lt;strong>ì´ ë¯¸ë“¤ì›¨ì–´ëŠ” ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” í•¸ë“¤ëŸ¬ì˜ ê²°ê³¼ ì—ëŸ¬ë¥¼ ì´ìš©í•˜ê¸° ë•Œë¬¸ì— ë¯¸ë“¤ì›¨ì–´ê°€ ì‹œì‘í•˜ìë§ˆì ë‹¤ìŒ í•¸ë“¤ëŸ¬ë¥¼ í˜¸ì¶œí•˜ê³  ê·¸ ê²°ê³¼ ì—ëŸ¬ë¥¼ ì´ìš©í•©ë‹ˆë‹¤. ì‚¬í›„ì²˜ë¦¬ ë°©ì‹ì´ì£ !&lt;/strong>&lt;/p>
&lt;p>ê·¸ëŸ¼ ì´ì œ customErrorHandlerê°€ ë¦¬í„´í•œ ì—ëŸ¬ë¥¼ fiberì˜ Default Error Handlerê°€ ì˜ ì²˜ë¦¬í•´ì¤„ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">$ curl http://localhost:8000/worst/jinsu -w &amp;#34;\t%{http_code}\n&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ìœ ì €ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìœ ì €(username=jinsu) 500
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ curl http://localhost:8000/ungraceful/jinsu -w &amp;#34;\t%{http_code}\n&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë¦¬ì†ŒìŠ¤ 404
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ curl http://localhost:8000/graceful/jinsu -w &amp;#34;\t%{http_code}\n&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ì…ë ¥ëœ username=jinsu: ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë¦¬ì†ŒìŠ¤ 404
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì‘ë‹µì„ ë³´ì‹œë©´ worst caseì˜ ê²½ìš° status codeê°€ 500ì´ê¸° ë•Œë¬¸ì— í´ë¼ì´ì–¸íŠ¸ê°€ í•´ë‹¹ ì—ëŸ¬ ì¼€ì´ìŠ¤ì— ëŒ€í•´ ì˜¬ë°”ë¥¸ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ì—†ìŠµë‹ˆë‹¤.. ì‘ë‹µì„ ì •ê·œí‘œí˜„ì‹ì„ ì´ìš©í•´ íŒë‹¨í•´ì•¼í• ê¹Œìš”..? ã…ã…&amp;hellip;&lt;/p>
&lt;p>ê·¸ë¦¬ê³  ungraceful caseì˜ ê²½ìš° status codeëŠ” 404ë¡œ ì˜ ì •ì˜ë˜ì—ˆì§€ë§Œ ì‘ë‹µ ë°”ë””ê°€ ë‹¤ì†Œ ë¶ˆì¹œì ˆí•´ í´ë¼ì´ì–¸íŠ¸ì¸¡ì—ì„œ ë””ë²„ê¹…í•˜ê¸°ê°€ í˜ë“¤ê² ì£ .&lt;/p>
&lt;p>ë°˜ë©´ gracefulí•œ ê²½ìš°ì—ëŠ” status codeë„ ì˜ ì •ì˜ë˜ì—ˆê³  ì—ëŸ¬ ë°”ë””ë„ ìì„¸í•©ë‹ˆë‹¤ êµ¿êµ¿ì´ì—ìš”!&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>ì •ë§ ì‘ë…„ê¹Œì§€ëŠ” ì—ëŸ¬ë¥¼ í•¸ë“¤ë§í•˜ëŠ” ê²ƒì— ëŒ€í•´ ë³„ ìƒê°ì´ ì—†ì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ë¥¼ í•˜ë©´ì„œ ì—ëŸ¬ë¥¼ ì œëŒ€ë¡œ ì²˜ë¦¬í•˜ì§€ ì•Šì•„ &lt;code>Index Out Of Range ëŸ°íƒ€ì„ ì—ëŸ¬&lt;/code> í•˜ë‚˜ì—ë„ ì„œë²„ê°€ ì¢…ë£Œë˜ì–´ë²„ë¦°ë‹¤ê±°ë‚˜ ëª¨ë“  ì—ëŸ¬ë¥¼ &lt;code>500 Internal Error&lt;/code>ë¡œ ë¦¬í„´í•´ë²„ë¦¬ëŠ” ì¼€ì´ìŠ¤ë¥¼ ê²ªìœ¼ë©´ì„œ &amp;lsquo;&lt;em>ì•„&amp;hellip; ì—ëŸ¬ë¥¼ ì˜ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ”êµ¬ë‚˜&lt;/em>&amp;lsquo;ë¥¼ ëŠê»´ë³¼ ìˆ˜ ìˆì—ˆê³ , ì‹¤ì œ í”„ë¡œë•íŠ¸ë¥¼ ê°œë°œí•˜ë©´ì„œ &amp;lsquo;&lt;em>í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ì—ëŸ¬ì— ëŒ€í•œ ì ì ˆí•œ ì•¡ì…˜ì„ ì·¨í•˜ê¸° ìœ„í•´ì„  status codeë‚˜ error_typeë“±ì„ ì˜ ì „ë‹¬í•´ì•¼ê² êµ¬ë‚˜&lt;/em>&amp;rsquo; ë¼ëŠ” ìƒê°ë„ í•´ë³¼ ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê²Œë‹¤ê°€ Goì—ì„œ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ê¹Šê²Œ ìƒê°ì„ ëª»í•´ë´¤ì—ˆëŠ”ë° &lt;a class="link" href="https://github.com/yorkie-team/yorkie" target="_blank" rel="noopener"
>yorkie&lt;/a> ë¼ëŠ” ì˜¤í”ˆì†ŒìŠ¤ì— ê¸°ì—¬(&lt;a class="link" href="https://github.com/yorkie-team/yorkie/pull/222" target="_blank" rel="noopener"
>PR #222&lt;/a> )í•˜ê²Œ ë˜ë©´ì„œ ë©˜í† ë‹˜ê»˜ì„œ ì˜ ì´ëŒì–´ì£¼ì…”ì„œ ì—ëŸ¬ë¥¼ Wrappingí•œë‹¤ëŠ” ê°œë…ì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³¼ ìˆ˜ ìˆì—ˆë˜ ê¸°íšŒê°€ ëœ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ë²ˆì— &lt;a class="link" href="https://www.depromeet.com/" target="_blank" rel="noopener"
>ë””í”„ë§Œ&lt;/a> 10ê¸°ë¡œ í™œë™í•˜ê²Œ ë˜ì—ˆëŠ”ë° 10ê¸° ì¸í„°ë·° ë‹¹ì‹œì—ë„ í´ë¼ì´ì–¸íŠ¸ì™€ í˜‘ì—…í•˜ë©´ì„œ ì–´ë ¤ì› ë˜ ì ê³¼ í•´ê²°í•´ë‚˜ê°„ ë°©ì‹ê³¼ ê´€ë ¨ëœ ì§ˆë¬¸ì„ ë°›ì•˜ì„ ë•Œì—ë„ ì—ëŸ¬ í•¸ë“¤ë§ê³¼ ê´€ë ¨ì§€ì–´ ë‹µë³€ì„ í–ˆì„ë§Œí¼ ì—ëŸ¬ í•¸ë“¤ë§ì€ &amp;lsquo;&lt;em>ê·¸ë˜ë„ ë‚´ê°€ í•œí¸ìœ¼ë¡œëŠ” ì•„ì§ ì„±ì¥í•˜ê³  ìˆë‚˜ë³´ë‹¤.. ã…ã…&lt;/em>&amp;lsquo;ë¥¼ ëŠë‚„ ìˆ˜ ìˆì—ˆë˜ ìƒˆë¡œìš´ ê²½í—˜ì´ì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤! ì´ ê¸€ì„ ì½ìœ¼ì‹œëŠ” &lt;strong>ì—¬ëŸ¬ë¶„ë“¤ë„ ì´ì œ ì—ëŸ¬ ì˜ ì²˜ë¦¬í•˜ê³  ì €ì™€ í•¨ê»˜ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì¹­ì°¬ë°›ëŠ” ë°±ì—”ë“œ ê°œë°œìê°€ ë˜ì–´ë´…ì‹œë‹¤&lt;/strong>~!&lt;/p>
&lt;h2 id="ì°¸ê³ ">ì°¸ê³ &lt;/h2>
&lt;ul>
&lt;li>Working with Errors in Go 1.13 - &lt;a class="link" href="https://go.dev/blog/go1.13-errors" target="_blank" rel="noopener"
>https://go.dev/blog/go1.13-errors&lt;/a>&lt;/li>
&lt;li>Wrapping and Un-wrapping of error in Go (Golang) - &lt;a class="link" href="https://golangbyexample.com/wrapping-and-unwrapping-error-golang/" target="_blank" rel="noopener"
>https://golangbyexample.com/wrapping-and-unwrapping-error-golang/&lt;/a>&lt;/li>
&lt;li>Add RPC Config validation and handle the errors (&lt;a class="link" href="https://github.com/yorkie-team/yorkie" target="_blank" rel="noopener"
>yorkie&lt;/a> PR #222) - &lt;a class="link" href="https://github.com/yorkie-team/yorkie/pull/222" target="_blank" rel="noopener"
>https://github.com/yorkie-team/yorkie/pull/222&lt;/a>&lt;/li>
&lt;li>fiber docs Error Handling - &lt;a class="link" href="https://docs.gofiber.io/guide/error-handling" target="_blank" rel="noopener"
>https://docs.gofiber.io/guide/error-handling&lt;/a>&lt;/li>
&lt;li>ErrorëŠ” ê²€ì‚¬ë§Œ í•˜ì§€ë§ê³ , ìš°ì•„í•˜ê²Œ ì²˜ë¦¬í•˜ì„¸ìš”. - &lt;a class="link" href="http://cloudrain21.com/golang-graceful-error-handling" target="_blank" rel="noopener"
>http://cloudrain21.com/golang-graceful-error-handling&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Golangìœ¼ë¡œ ë°±ì—”ë“œ ê°œë°œí•˜ê¸° - 4. Custom Middleware(ë¯¸ë“¤ì›¨ì–´) ì‘ì„±í•´ë³´ê¸° (feat. fiber)</title><link>https://umi0410.github.io/blog/golang/how-to-backend-in-go-middleware/</link><pubDate>Wed, 01 Sep 2021 12:46:54 +0900</pubDate><guid>https://umi0410.github.io/blog/golang/how-to-backend-in-go-middleware/</guid><description>&lt;img src="https://umi0410.github.io/blog/golang/how-to-backend-in-go-middleware/log.png" alt="Featured image of post Golangìœ¼ë¡œ ë°±ì—”ë“œ ê°œë°œí•˜ê¸° - 4. Custom Middleware(ë¯¸ë“¤ì›¨ì–´) ì‘ì„±í•´ë³´ê¸° (feat. fiber)" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>ì•ˆë…•í•˜ì„¸ìš”. ì €ë²ˆ ê¸€ì—ì„œëŠ” &lt;code>fiber&lt;/code> ë¼ëŠ” ì›¹ í”„ë ˆì„ì›Œí¬ë¡œ ê°„ë‹¨íˆ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“œëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë´¤ìœ¼ë‹ˆ
ì´ë²ˆì—” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ë‹¤ë³´ë©´ ê¼­ í•„ìš”í•´ì§€ëŠ” &lt;code>middleware&lt;/code> ì‘ì„±ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.
ì—¬íƒœê¹Œì§€ ë°±ì—”ë“œì—ì„œ ì„œë²„ë¥¼ ê°œë°œí•˜ë©´ì„œëŠ” &lt;code>JS&lt;/code>ì˜ &lt;code>Express&lt;/code> í”„ë ˆì„ì›Œí¬ë¥¼ ì œì™¸í•˜ê³ ëŠ” ë¯¸ë“¤ì›¨ì–´ ê°œë°œì´ ê·¸ë‹¥ ì‰½ê²Œ ì´í•´ë˜ëŠ” ë¶€ë¶„ì€ ì•„ë‹ˆì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
&lt;code>Express&lt;/code>ì—ì„œ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²•ì€ êµ‰ì¥íˆ ì§ê´€ì ì´ê³  ë¬¸ì„œë„ ë§ì€ í¸ì´ì—ˆê±°ë“ ìš”. í•˜ì§€ë§Œ &lt;code>Spring&lt;/code>ì€ &lt;code>Filter&lt;/code>ë‚˜ &lt;code>Interceptor&lt;/code>ë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ ë§ì€ ë‚´ìš©ì„ ì•Œì•„ì•¼í•˜ê³ ,
&lt;code>Django&lt;/code>ëŠ” Class basedë‚˜ function based, ê·¸ë¦¬ê³  middlewareë¥¼ ì¶”ê°€í•˜ëŠ” ë²• ë“±ì´ ì¢€ ë³µì¡í•œ í¸ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ë¦¬ê³  &lt;code>Golang&lt;/code>ì€ ì•„ë¬´ë˜ë„ ì½”ë“œë¡œ ë§í•˜ëŠ” ì‚¬ëŒë“¤ì´ ë§ì•„ì„œì¸ì§€ ê·¸ë‹¥ &lt;strong>middleware ì‘ì„±ê³¼ ê°™ì€ ë¶€ë¶„ë“¤ì´ ë¬¸ì„œë¡œ ì˜ ë‚˜ì™€ìˆì§„ ì•Šê³ , ì½”ë“œë¥¼ ê¹Œë³´ë©´ì„œ ë§Œë“œëŠ” ê²½ìš°ê°€ ë§ì•˜ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/strong>
ê·¸ë˜ì„œ ì´ë²ˆ ê¸€ì—ì„œëŠ” &lt;strong>&lt;code>fiber&lt;/code> ë¡œ ì›¹ì„œë²„ë¥¼ ë„ìš°ë©´ì„œ ê°„ë‹¨íˆ ë¯¸ë“¤ì›¨ì–´ í•˜ë‚˜ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>ì œê³µë˜ëŠ” &lt;code>Basic Authentication&lt;/code> middlewareì„ ì´ìš©í•´ ìš”ì²­ ìœ ì €ë¥¼ ì‹ë³„&lt;/li>
&lt;li>ì‹ë³„ëœ ìœ ì € ì •ë³´ê°€ ì‚½ì…ëœ loggerë¥¼ &lt;code>context&lt;/code>ì— ì£¼ì…&lt;/li>
&lt;/ol>
&lt;p>ì´ë ‡ê²Œ í•˜ë©´ ì´í›„ service layerë“±ì—ì„œëŠ” ìš”ì²­ ìœ ì €ê°€ ì‚½ì…ëœ loggerì„ í†µí•´ ë¡œê·¸ë¥¼ ì‘ì„±í•˜ë‹ˆ ë¡œê·¸ ì¶”ì í•˜ê¸°ê°€ ìš©ì´í•´ì§€ê² ì£ ? ã…ã…
(BasicAuthë¥¼ ì´ìš©í•˜ëŠ” ì´ìœ ëŠ” ë‚¨ì´ ì‘ì„±í•œ ë¯¸ë“¤ì›¨ì–´ë¥¼ ê°€ì ¸ë‹¤ì“°ëŠ” ë°©ë²•ì„ í¸í•˜ê²Œ ì•Œì•„ë³´ê¸° ìœ„í•¨ì¼ ë¿ ì¸ì¦ ë°©ë²•ìœ¼ë¡œ ê¶Œì¥í•´ì„œëŠ” ì•„ë‹™ë‹ˆë‹¤.)&lt;/p>
&lt;h2 id="ë¯¸ë“¤ì›¨ì–´-ê·¸ê²Œ-ë­ì•¼-ì™œ-í•„ìš”í•´">ë¯¸ë“¤ì›¨ì–´?? ê·¸ê²Œ ë­ì•¼? ì™œ í•„ìš”í•´?!&lt;/h2>
&lt;p>ì›¹ í”„ë ˆì„ì›Œí¬ì—ì„œ ë§í•˜ëŠ” ë¯¸ë“¤ì›¨ì–´ëŠ” ë³´í†µ ìš”ì²­ì— ë”°ë¥¸ í•¸ë“¤ëŸ¬ë¥¼ ìˆ˜í–‰í•˜ê¸° ì „ í˜¹ì€ ìˆ˜í–‰í•œ í›„ì— ìˆ˜í–‰í•˜ëŠ” ì‘ì—…ì„ ë§í•©ë‹ˆë‹¤. ì£¼ë¡œ ì²´ì¸ì˜ í˜•íƒœë¼ê³  ë³´ì‹œë©´ ë˜ê³ 
í•œ ë¯¸ë“¤ì›¨ì–´ì—ì„œ ì‘ë‹µì„ ì™„ë£Œí•˜ë©´ ê±”ê°€ ìš”ì²­ í•¸ë“¤ëŸ¬ì˜ ì—­í• ì„ í•˜ê²Œ ëœë‹¤ê³  ë³´ë©´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì‘ë‹µì„ ì™„ë£Œí•˜ì§€ ì•Šìœ¼ë©´ ë‹¤ìŒ ë¯¸ë“¤ì›¨ì–´ë¥¼ í˜¸ì¶œí•˜ì£ .&lt;/p>
&lt;p>ì„œë²„ ê°œë°œì„ ì²˜ìŒí•  ë•ŒëŠ” ë¯¸ë“¤ì›¨ì–´ì˜ í•„ìš”ì„±ì„ ì˜ ëŠë¼ì§€ ëª»í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì–´ëŠì •ë„ ê°œë°œì„ í•˜ê±°ë‚˜ ë°°í¬ë¥¼ í•´ë‚˜ê°€ë‹¤ë³´ë©´ &lt;em>&amp;lsquo;ì•„&amp;hellip; ëª¨ë“  ìš”ì²­ë§ˆë‹¤ ~~~í•œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³  ì‹¶ì€ë°&amp;rsquo;&lt;/em> ì´ëŸ° ìƒê°ì´ ë“¤ ë•Œê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì˜ˆë¥¼ ë“¤ì–´ &lt;strong>API ë³„ë¡œ ë ˆì´í„´ì‹œë¥¼ ì²´í¬&lt;/strong>í•˜ê³  ì‹¶ì„ ìˆ˜ë„ ìˆê³ , &lt;strong>bodyë‚˜ query stringì„ ë¡œê·¸&lt;/strong>ë¡œ ë‚¨ê¸°ê±°ë‚˜ &lt;strong>ì–´ë–¤ ìœ ì €ì˜ ìš”ì²­ì¸ì§€ ë§¤ ìš”ì²­ë§ˆë‹¤ ì •ë³´ë¥¼ ì£¼ì…&lt;/strong>í•˜ê³  ì‹¶ì„ ìˆ˜ ìˆì£ .
ì´ëŸ° ê²½ìš° middlewareë¥¼ ì´ìš©í•˜ë©´ ëª¨ë“  ìš”ì²­ì€ ë¯¸ë“¤ì›¨ì–´ë¥¼ ê±°ì¹˜ë©´ì„œ ì²˜ë¦¬ë˜ê¸° ë•Œë¬¸ì— í¸ë¦¬í•˜ê²Œ ì‘ì—…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!&lt;/p>
&lt;p>ëŒ€í‘œì ìœ¼ë¡œëŠ” &lt;code>ì¸ì¦&lt;/code>ì´ë‚˜ &lt;code>ìºì‹±&lt;/code>, &lt;code>ë¡œê¹…&lt;/code>, &lt;code>ì‘ë‹µ íƒ€ì„ì•„ì›ƒ&lt;/code> ë“±ì— ì‚¬ìš©í•˜ê³  ìˆëŠ” ê²ƒ ê°™ì•„ìš”!&lt;/p>
&lt;h2 id="ë‚¨ì´-ë§Œë“ -ë¯¸ë“¤ì›¨ì–´-ì‚¬ìš©í•´ë³´ê¸°---basicauth">ë‚¨ì´ ë§Œë“  ë¯¸ë“¤ì›¨ì–´ ì‚¬ìš©í•´ë³´ê¸° - BasicAuth&lt;/h2>
&lt;p>Goë¥¼ í†µí•´ ê°œë°œí•˜ëŠ” ì´ìƒ ì €í¬ëŠ” ë¬¸ì„œì—ë§Œ ì˜ì¡´í•  ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤. ì½”ë“œë¥¼ ê¹Œë´ì•¼ì£  !_!
&lt;a class="link" href="https://github.com/gofiber/fiber/issues/338" target="_blank" rel="noopener"
>Guidelines for creating Middleware - fiber Github Issue&lt;/a> ì´ìŠˆì—ëŠ” ë¯¸ë“¤ì›¨ì–´ ì‘ì„±ì— ëŒ€í•œ ëª‡ ê°€ì§€ ê°€ì´ë“œë¼ì¸ì´ ì œì‹œë˜ì–´ìˆë”ë¼êµ¬ìš”.
ì°¸ê³ í•´ë³´ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ê¸°ë„ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì €ëŠ” &lt;a class="link" href="https://github.com/gofiber/fiber/blob/master/middleware/basicauth" target="_blank" rel="noopener"
>gofiber/fiber/middleware/basicauth&lt;/a> ì˜ ì½”ë“œë¥¼ ë°”íƒ•ìœ¼ë¡œ í•´ì„í•´ë³´ê² ìŠµë‹ˆë‹¤. ë§í¬ë¥¼ ë”°ë¼ê°€ë©´ READMEê°€ ìˆê¸´í•˜ì§€ë§Œ ì •ë³´ê°€ ë§ì§€ëŠ” ì•Šì£ .&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// fiberì˜ basicauth ë¯¸ë“¤ì›¨ì–´ ì½”ë“œ ì¤‘ ì¼ë¶€ì…ë‹ˆë‹¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Config defines the config for middleware.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">type&lt;/span> &lt;span class="nx">Config&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Next defines a function to skip this middleware when returned true.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Optional. Default: nil
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">Next&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">c&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">fiber&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Ctx&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">bool&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Users defines the allowed credentials
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Required. Default: map[string]string{}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">Users&lt;/span> &lt;span class="kd">map&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Realm is a string to define realm attribute of BasicAuth.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// the realm identifies the system to authenticate against
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// and can be used by clients to save credentials
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Optional. Default: &amp;#34;Restricted&amp;#34;.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">Realm&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Authorizer defines a function you can pass
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// to check the credentials however you want.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// It will be called with a username and password
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// and is expected to return true or false to indicate
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// that the credentials were approved or not.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Optional. Default: nil.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">Authorizer&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">bool&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Unauthorized defines the response body for unauthorized responses.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// By default it will return with a 401 Unauthorized and the correct WWW-Auth header
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Optional. Default: nil
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">Unauthorized&lt;/span> &lt;span class="nx">fiber&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Handler&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ContextUser is the key to store the username in Locals
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Optional. Default: &amp;#34;username&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">ContextUsername&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ContextPass is the key to store the password in Locals
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Optional. Default: &amp;#34;password&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">ContextPassword&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ìœ„ì˜ ì½”ë“œê°€ BasicAuth ë¯¸ë“¤ì›¨ì–´ì˜ ì„¤ì •ì„ ë‹´ë‹¹í•˜ëŠ” Config íƒ€ì…ì— ëŒ€í•œ ì½”ë“œì…ë‹ˆë‹¤. ê°„ë‹¨íˆ ëª‡ ê°œë§Œ ì•Œì•„ë‘ë©´ ì´í•´í•˜ëŠ” ë°ì— ë„ì›€ì´ ë˜ëŠ” ê²ƒë“¤ë§Œ ì§šì–´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;code>Next&lt;/code> - nilì´ ì•„ë‹Œ ê²½ìš° &lt;code>Next(*fiber.Ctx)&lt;/code>ê°€ trueë¥¼ ë°˜í™˜í•˜ë©´ Basic Auth ë¯¸ë“¤ì›¨ì–´ ìì²´ë¥¼ ê±´ë„ˆëœ€.&lt;/li>
&lt;li>&lt;code>Users&lt;/code> - ì´ mapì— ì •ì˜ëœ ìœ ì €ë§Œì´ ìœ íš¨í•œ ìœ ì €ë¡œ ì´ìš©ë  ìˆ˜ë„ ìˆìŒ. (Authorizerê°€ nilì¸ ê²½ìš° ì´ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì¸ì¦ ì§„í–‰)&lt;/li>
&lt;li>&lt;code>Authorizer&lt;/code> - ì¸ì¦ ë¡œì§ì„ ë‹´ë‹¹í•¨. nilë¡œ ë‘˜ ê²½ìš° Usersì—ì„œ ì¼ì¹˜í•˜ëŠ” ìœ ì €ë¥¼ ì°¾ìŒ. ì—¬ê¸¸ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•´ì„œ DBì—ì„œ ì°¾ê±°ë‚˜ í•  ìˆ˜ë„ ìˆìŒ.&lt;/li>
&lt;li>&lt;code>ContextUsername&lt;/code>, &lt;code>ContextPassword&lt;/code> - ì¸ì¦ í›„ Contextì— ì–´ë–¤ í‚¤ë¡œ ê° ì •ë³´ë¥¼ ë‹´ì„ì§€. (ê¸°ë³¸ê°’ì€ &amp;ldquo;username&amp;rdquo;, &amp;ldquo;password&amp;rdquo;)&lt;/li>
&lt;/ul>
&lt;p>ì˜¤í˜¸.. ë§‰ìƒ ì½”ë“œë¥¼ ê¹Œë³´ë‹ˆ ê·¸ë‹¥ ì–´ë µì§€ ì•Šì£ ?! ê·¸ëŸ¼ ê³¼ì—° ì´ ì½”ë“œë“¤ì´ ì„¤ëª…í•œ ê²Œ ë§ëŠ”ì§€ í•œ ë²ˆ ì„œë²„ë¥¼ ë„ì›Œë´…ì‹œë‹¤.&lt;/p>
&lt;h3 id="basic-auth-ë¯¸ë“¤ì›¨ì–´ë¥¼-ë‹¤ì–‘í•˜ê²Œ-ì„¤ì •í•´ë³´ê¸°">Basic Auth ë¯¸ë“¤ì›¨ì–´ë¥¼ ë‹¤ì–‘í•˜ê²Œ ì„¤ì •í•´ë³´ê¸°&lt;/h3>
&lt;h4 id="1-í•­ìƒ-ì¸ì¦ì—-ì„±ê³µí•˜ëŠ”-authorizerë¥¼-ì´ìš©í•˜ëŠ”-config">1. í•­ìƒ ì¸ì¦ì— ì„±ê³µí•˜ëŠ” Authorizerë¥¼ ì´ìš©í•˜ëŠ” Config&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// newBasicAuthConfigAlwaysAllow ëŠ” ì–¸ì œë‚˜ ì¸ì¦ì— ì„±ê³µí•˜ëŠ” Authorizerë¥¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ì´ìš©í•˜ëŠ” Configë¥¼ ë§Œë“­ë‹ˆë‹¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">newBasicAuthConfigAlwaysAllow&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">basicauth&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Config&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">basicauth&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Config&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Authorizer&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">username&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">password&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">basicauth&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nf">newBasicAuthConfigAlwaysAllow&lt;/span>&lt;span class="p">()))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl"># curl -u username:passwordëŠ” í•´ë‹¹ usernameê³¼ passwordë¡œ Basic authë¥¼ í•˜ëŠ” ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ curl -u wrong:wrong localhost:8000
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Welcome!
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ curl -u foo:bar localhost:8000
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Welcome!
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Authorizerê°€ usernameê³¼ passwordê°€ ì–´ë–»ë“  trueë¥¼ ë°˜í™˜í•´ ì¸ì¦ì— ì„±ê³µí•©ë‹ˆë‹¤.&lt;/p>
&lt;h4 id="2-ë¯¸ë¦¬-ì •ì˜ëœ-ìœ ì €ì—-ëŒ€í•´ì„œë§Œ-ì¸ì¦ì—-ì„±ê³µí•˜ëŠ”-authorizerë¥¼-ì´ìš©í•˜ëŠ”-config">2. ë¯¸ë¦¬ ì •ì˜ëœ ìœ ì €ì— ëŒ€í•´ì„œë§Œ ì¸ì¦ì— ì„±ê³µí•˜ëŠ” Authorizerë¥¼ ì´ìš©í•˜ëŠ” Config&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// newBasicAuthConfigAlwaysAllow ëŠ” Usersì— ì¡´ì¬í•˜ëŠ” ìœ ì € ì •ë³´ì— ëŒ€í•´ì„œë§Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ì¸ì¦ì— ì„±ê³µí•˜ëŠ” Authorizerë¥¼ ì´ìš©í•˜ëŠ” Configë¥¼ ë§Œë“­ë‹ˆë‹¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">newBasicAuthConfigAllowOnlyAdmin&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">basicauth&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Config&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">basicauth&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Config&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Users&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kd">map&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;foo&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;bar&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">basicauth&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nf">newBasicAuthConfigAllowOnlyAdmin&lt;/span>&lt;span class="p">()))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl"># curl -u username:passwordëŠ” í•´ë‹¹ usernameê³¼ passwordë¡œ Basic authë¥¼ í•˜ëŠ” ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ curl -u wrong:wrong localhost:8001
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Unauthorized
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ curl -u foo:bar localhost:8001
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Welcome!
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì•ì„œ ë§í–ˆë“¯ Authorizerë¥¼ ì„¤ì •í•˜ì§€ ì•Šê³  nilë¡œ ë‘˜ ê²½ìš° Users ë§µì˜ ë°ì´í„°ë¥¼ ì´ìš©í•˜ëŠ” Authorizerê°€ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤.
ì €ëŠ” &lt;code>username=foo, password=bar&lt;/code>ì¸ ìœ ì € ì •ë³´ë¥¼ ë§µì— ê¸°ë¡í–ˆê¸° ë•Œë¬¸ì— foo:bar ìš”ì²­ë§Œì´ ìŠ¹ì¸ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì, ì´ë ‡ê²Œ ë‚¨ì´ ì‘ì„±í•œ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì„¤ì •ë§Œ ì¡°ê¸ˆ ë°”ê¿”ì„œ ì´ìš©í•´ë´¤ëŠ”ë°, ì½”ë“œë¥¼ ì½ëŠ” ê²ƒë„ ê·¸ê±¸ ë°”íƒ•ìœ¼ë¡œ ê°€ì ¸ë‹¤ê°€ ì“°ëŠ” ê²ƒë„ ì–´ë µì§€ ì•Šë‹¤ëŠ” ê±¸ ì•Œê²Œ ëêµ°ìš”.
ì´ì œëŠ” ì§ì ‘ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="custom-middleware-ì‘ì„±í•˜ê¸°">Custom middleware ì‘ì„±í•˜ê¸°&lt;/h2>
&lt;p>ì»¤ìŠ¤í…€ìœ¼ë¡œ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‘ì„±í•  ë•Œì—ëŠ” ê·¸ë‹¥ ì •í•´ì§„ ê¸°ì¤€ì´ ë§ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.
ëŒ€ë¶€ë¶„ì˜ ë¯¸ë“¤ì›¨ì–´ë“¤ì€ Skipper ë“±ì˜ ê°œë…ìœ¼ë¡œ(basic auth ë¯¸ë“¤ì›¨ì–´ì—ì„  Nextë¼ê³  ì •ì˜ë¨.) í•´ë‹¹ ë¯¸ë“¤ì›¨ì–´ì˜ ê¸°ëŠ¥ì„ ì‹¤í–‰í•˜ì§€ ì•Šê³  ë„˜ì–´ê°€ëŠ” ì„¤ì •ì´ë‚˜
ë­ ê°ì¢… ì„¤ì •ë“¤ì´ ì¡´ì¬ëŠ” í•˜ì§€ë§Œ ìš°ë¦¬ëŠ” ê·¼ë³¸ì ìœ¼ë¡œ ì»¤ìŠ¤í…€ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì–´ë–»ê²Œ ì‘ì„±í•˜ëŠ”ì§€ì— ëŒ€í•´ ê¶ê¸ˆí•˜ë‹ˆê¹Œ ê·¸ ë¶€ë¶„ë§Œ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">fiber&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Handler defines a function to serve HTTP requests.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">type&lt;/span> &lt;span class="nx">Handler&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">Ctx&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">error&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>fiber í”„ë ˆì„ì›Œí¬ì—ì„œëŠ” middlewareì„ ì •ì˜í•  ë•Œ &lt;code>fiber.Handler&lt;/code> ë¼ëŠ” ì¼ì¢…ì˜ í•¨ìˆ˜ íƒ€ì…ì„ ì´ìš©í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  &lt;code>fiber.Handler&lt;/code>ëŠ” ë³´í†µì€ í´ë¡œì ¸ë¥¼ ì´ìš©í•˜ëŠ” í˜•íƒœë¡œ ì œê³µë©ë‹ˆë‹¤.
ì œê°€ ë³¼ ë• ì¢€ íŠ¹ì´í•œ ê²ƒ ê°™ì€ë° ì•„ë§ˆ echoë„ ì´ëŸ° ì‹ìœ¼ë¡œ í´ë¡œì ¸ë¥¼ ì´ìš©í•´ ë¯¸ë“¤ì›¨ì–´ë¥¼ ìƒì„±í–ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ë§ì´ì£ .&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">NewMiddleware&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">config&lt;/span> &lt;span class="nx">Config&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nx">fiber&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Handler&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// configì— ê¸°ë³¸ê°’ì„ ë„£ì€ configë¥¼ í´ë¡œì ¸ë¡œ ì ‘ê·¼í•˜ë ¤ í•¨.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">config&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nf">injectDefaultValues&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">config&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ì‹¤ì œ ë¯¸ë“¤ì›¨ì–´ ì—­í• ì„ í•  í•¨ìˆ˜.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// configì— í´ë¡œì ¸ë¡œ ì ‘ê·¼í•œë‹¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">c&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">fiber&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Ctx&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ë‹¤ìŒ ë¯¸ë“¤ì›¨ì–´(í˜¹ì€ ìš”ì²­ í•¸ë“¤ëŸ¬)ë¥¼ ìˆ˜í–‰í•œë‹¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Next&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ê·¼ë° ì´ëŸ° ê²½ìš°ëŠ” ì•„ë¬´ë˜ë„ configë¥¼ ì„¤ì •í•´ì•¼í•˜ëŠ” ê²½ìš°ì¸ ê²ƒ ê°™ê³  ì €í¬ëŠ” ê·¸ëƒ¥ ìµœëŒ€í•œ ì‹¬í”Œí•˜ê²Œ ë§Œë“¤ì–´ë³¼ê²Œìš”. ëª©í‘œëŠ” Basic Authë¥¼ ê±°ì¹œ ë’¤ ìœ ì € ì •ë³´ê°€ ê¸°ì…ëœ loggerë¥¼ contextì— ì‚½ì…í•´ì£¼ëŠ” ê²ƒì…ë‹ˆë‹¤.
ê·¸ëŸ¼ ì–´ë–¤ ê³„ì¸µì—ì„œë“  &lt;code>ctx.Get(&amp;quot;logger&amp;quot;)&lt;/code> ë“±ì„ ì´ìš©í•´ loggerì— í¸ë¦¬í•˜ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆì£ ! log í”„ë ˆì„ì›Œí¬ëŠ” &lt;code>sirupsen/logrus&lt;/code> ë¥¼ ì´ìš©í•˜ê² ìŠµë‹ˆë‹¤.
ì»¬ëŸ¬ë„ ì˜ ë‚˜ì˜¤ê³  í™•ì¥ì„±ë„ ì¢‹ì€ ê±¸ë¡œ ì•Œê³  ìˆì–´ìš”!&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">injectLoggerMiddleware&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">fiber&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Ctx&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// basic auth middlewareê°€ ì£¼ì…í•œ usernameì„ ì´ìš©í•©ë‹ˆë‹¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">username&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Locals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">logger&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">WithField&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;user&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">username&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// contextì— loggerë¼ëŠ” í‚¤ë¡œ ìœ ì € ì •ë³´ë¥¼ ì£¼ì…í•œ loggerë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Locals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;logger&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">logger&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ë‹¤ìŒ ë¯¸ë“¤ì›¨ì–´(í˜¹ì€ ìš”ì²­ í•¸ë“¤ëŸ¬)ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Next&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// injectLoggerMiddlewareëŠ” basicauthê°€ contextì— ì£¼ì…í•œ usernameì„ ì´ìš©í•˜ê¸° ë•Œë¬¸ì—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ê¼­ basicauth middleware ë‹¤ìŒì— ìˆ˜í–‰ë˜ì–´ì•¼í•©ë‹ˆë‹¤!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">basicauth&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nf">newBasicAuthConfigAllowOnlyAdmin&lt;/span>&lt;span class="p">()))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">injectLoggerMiddleware&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ìš”ì²­ í•¸ë“¤ëŸ¬ëŠ” ì´ëŸ° ì‹ìœ¼ë¡œ middlewareì—ê²Œ ì£¼ì…ë°›ì€ loggerë¥¼ contextì—ì„œ êº¼ë‚´ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">fiber&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Ctx&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">error&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">logger&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Locals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;logger&amp;#34;&lt;/span>&lt;span class="p">).(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Entry&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">logger&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ìœ ì €ê°€ ì ‘ì†í–ˆìŠµë‹ˆë‹¤&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">SendString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Welcome!\n&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;figure style="flex-grow: 830; flex-basis: 1993px">
&lt;a href="https://umi0410.github.io/blog/golang/how-to-backend-in-go-middleware/log.png" data-size="872x105">&lt;img src="https://umi0410.github.io/blog/golang/how-to-backend-in-go-middleware/log.png"
srcset="https://umi0410.github.io/blog/golang/how-to-backend-in-go-middleware/log_hu6da6c55463c6a62988b186d685cd2c7c_23812_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/how-to-backend-in-go-middleware/log_hu6da6c55463c6a62988b186d685cd2c7c_23812_1024x0_resize_box_3.png 1024w"
width="872"
height="105"
loading="lazy"
alt="log.png">
&lt;/a>
&lt;figcaption>log.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ê·¸ëŸ¼ ë‹¤ìŒê³¼ ê°™ì´ Basic Authë¥¼ í†µí•´ ê°ê° ë‹¤ë¥¸ ìœ ì €ë¡œ ìš”ì²­ì„ ë³´ë‚´ë©´ í•´ë‹¹ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë™ì•ˆì€ í•´ë‹¹ context ì†ì˜ loggerì„ ì´ìš©í•´ ë¡œê·¸ë¥¼ ë‚¨ê¸¸ ìˆ˜ ìˆëŠ” ê±¸ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì´ë ‡ê²Œ ì •ë¦¬í•´ë³´ë‹ˆ golangì—ì„œë„ middlewareë¥¼ ì‘ì„±í•˜ëŠ” ê²Œ ê·¸ë¦¬ ì–´ë µì§€ ì•Šë„¤ìš”~!&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>&lt;code>echo&lt;/code> í”„ë ˆì„ì›Œí¬ë¥¼ ì“°ë©´ì„œëŠ” ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‘ì„±í•  ë•Œ ì¢€ ì• ë¥¼ ë¨¹ì—ˆë˜ ê¸°ì–µì´ ìˆëŠ”ë°, ë§‰ìƒ &lt;code>fiber&lt;/code>ë¡œ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‘ì„±í•´ë³´ë‹ˆ
ìƒê°ë³´ë‹¤ ë§ì´ ì§ê´€ì ì´ê³  ì‰¬ì›Œì„œ ì¢€ ë†€ëìŠµë‹ˆë‹¤. &lt;em>(ì‚¬ì‹¤ ê¸€ì„ ì“¸ í•„ìš”ê°€ ì—†ì—ˆì„ì§€ë„..?)&lt;/em> ê·¸ë˜ë„ Goë¡œ ì‘ì„±ëœ í•œê¸€ ìë£Œë„ ë§ì•„ì¡Œìœ¼ë©´ ì¢‹ê² ê³ ,
ëˆ„êµ°ê°€ëŠ” &lt;code>fiber&lt;/code> ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²•ì´ ì¢€ ì´í•´ë˜ì§€ ì•Šê³  ì–´ë ¤ìš°ì‹¤ ìˆ˜ ìˆìœ¼ë‹ˆ ë„ì›€ì´ ë  ìˆ˜ ìˆìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤ ã…ã…
ë‹¤ìŒì—” ì„œë²„ ê°œë°œì— ìˆì–´ ë˜ í•˜ë‚˜ì˜ ì¤‘ìš”í•œ ì ì¸! ì—ëŸ¬ í•¸ë“¤ë§ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤! ê°ì‚¬í•©ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì°¸ê³ ">ì°¸ê³ &lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/gofiber/fiber/issues/338" target="_blank" rel="noopener"
>Guidelines for creating Middleware - fiber Github Issue&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/gofiber/fiber/tree/master/middleware" target="_blank" rel="noopener"
>Fiber middleware&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://docs.gofiber.io/guide/error-handling" target="_blank" rel="noopener"
>Fiber error handling&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.redhat.com/ko/topics/middleware/what-is-middleware" target="_blank" rel="noopener"
>Redhat - ë¯¸ë“¤ì›¨ì–´ë€&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Golangìœ¼ë¡œ ë°±ì—”ë“œ ê°œë°œí•˜ê¸° - 3. ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œí•´ë³´ê¸° (feat. fiber)</title><link>https://umi0410.github.io/blog/golang/how-to-backend-in-go-webapp/</link><pubDate>Fri, 13 Aug 2021 12:46:54 +0900</pubDate><guid>https://umi0410.github.io/blog/golang/how-to-backend-in-go-webapp/</guid><description>&lt;img src="https://umi0410.github.io/blog/golang/how-to-backend-in-go-webapp/output.png" alt="Featured image of post Golangìœ¼ë¡œ ë°±ì—”ë“œ ê°œë°œí•˜ê¸° - 3. ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œí•´ë³´ê¸° (feat. fiber)" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>ì´ë²ˆì—ëŠ” Goì–¸ì–´ì—ì„œ &lt;strong>ìœ ëª…í•œ ì›¹ í”„ë ˆì„ì›Œí¬ë¥¼ ë¹„êµ&lt;/strong>í•´ë³´ê³  ê°„ë‹¨í•˜ê²Œ &lt;strong>Pingpong ì„œë²„ë¥¼ ê°œë°œ&lt;/strong>í•´ë³´ê² ìŠµë‹ˆë‹¤.
ë‹¤ë§Œ &amp;ldquo;&lt;em>Golangìœ¼ë¡œ ë°±ì—”ë“œ ê°œë°œí•˜ê¸°&lt;/em>&amp;ldquo;ë¥¼ ì£¼ì œë¡œ ê¸€ì„ ì“°ë©´ì„œ ì£¼ ëª©ì ìœ¼ë¡œ í–ˆë˜ ê²ƒì€ ê°œë°œí•˜ë©´ì„œ ê³„ì† ê¶ê¸ˆí–ˆì§€ë§Œ ì–´ë”˜ê°€ì—ì„œ ëšœë ·í•œ ì„¤ëª…ì„ ì°¾ì•„ë³´ê¸° í˜ë“¤ì—ˆë˜ ë‚´ìš©ë“¤ì„
ë‹¤ë¤„ë³´ê³ ìí•˜ëŠ” ê²ƒì´ì—ˆê¸° ë•Œë¬¸ì— ì´ë²ˆ ì£¼ì œëŠ” ê·¸ë‹¥ ì£¼ ëª©ì ì— í•´ë‹¹í•˜ëŠ” ì£¼ì œëŠ” ì•„ë‹ˆë¯€ë¡œ ì´ë²ˆì—” ì•„ì£¼ ê°€~ë³ê²Œ í›‘ì–´ë³´ê³  ë„˜ì–´ê°€ê² ìŠµë‹ˆë‹¤.
ì™œëƒí•˜ë©´ ì›¹ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ í•´ë‹¹ ì›¹í”„ë ˆì„ì›Œí¬ì˜ ë¬¸ì„œë‚˜ ì´ëŸ° ì €ëŸ° ë¸”ë¡œê·¸ë“¤ì— ì´ë¯¸ ë„ˆë¬´ë„ ë§ì´ ìë£Œê°€ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="golangìœ¼ë¡œ-ì›¹-ì• í”Œë¦¬ì¼€ì´ì…˜ì„-ê°œë°œí•˜ëŠ”-ë°©ë²•ë“¤">Golangìœ¼ë¡œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•˜ëŠ” ë°©ë²•ë“¤&lt;/h2>
&lt;p>ë³´í†µ ë‹¤ë¥¸ ì–¸ì–´ ê°™ì€ ê²½ìš° Javaì—ì„œëŠ” Spring MVC í˜¹ì€ Spring WebFlux, Pythonì€ FastApi, Flask, Django, Node.jsëŠ” Express, nest, koaì²˜ëŸ¼
ê° ì–¸ì–´ë§ˆë‹¤ ì†ì— ê¼½ì„ ë§Œí•œ ëŒ€í‘œì ì¸ ì›¹ í”„ë ˆì„ì›Œí¬ë“¤ì´ ìˆëŠ” ê²ƒ ê°™ì€ë° GoëŠ” ê·¸ë ‡ì§€ê°€ ì•ŠìŠµë‹ˆë‹¤. GoëŠ” ì˜ ë‚˜ê°€ëŠ” ì›¹ í”„ë ˆì„ì›Œí¬ë“¤ì´ ë„ˆë¬´ë„ ë‹¤ì–‘í•˜ê²Œ ì¡´ì¬í•©ë‹ˆë‹¤.
ì•„ì£¼ ì•„ì£¼ ë‹¤ì–‘í•œ í”„ë ˆì„ì›Œí¬ê°€ ì¡´ì¬í•˜ì§€ë§Œ ê·¸ë‹¥ ìš°ìœ„ê°€ ëšœë ·í•˜ì§„ ì•ŠìŠµë‹ˆë‹¤.
ì–´ë–¤ í•œ ê¸°ìˆ ì´ ìƒíƒœê³„ë¥¼ ë…ì í•´ë²„ë¦¬ê±°ë‚˜ ê·¸ ê¸°ìˆ ë§Œì´ ê°•ìš”ë˜ëŠ” ì¼ ì—†ì´ ì„œë¡œ(í”„ë ˆì„ì›Œí¬ê°„)ê°€ ê²½ìŸí•˜ë©° ì¢‹ì€ ê¸°ìˆ ë¡œ ë‚˜ì•„ê°€ëŠ” ê²Œ ì¥ì ì´ ë  ìˆ˜ë„ ìˆê³ ,
ë„ˆë¬´ í”„ë ˆì„ì›Œí¬ê°€ ë‹¤ì–‘í•´ì„œ ì„ íƒí•˜ê¸° ê³¤ë€í•˜ë‹¤ëŠ” ê²ƒì´ ë‹¨ì ì´ ë  ìˆ˜ë„ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì»¤ë®¤ë‹ˆí‹°ê°€ í•œ ë° ì§‘ì¤‘ëœë‹¤ë©´ ë” ë²„ê·¸ í”½ìŠ¤í•˜ê¸° ì‰¬ìš¸í…ë° ê·¸ëŸ° ë©´ì—ì„œëŠ”
ì¡°ê¸ˆ ì•„ì‰½ê¸°ë„ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ë‹¤ë§Œ í•œ ê°€ì§€ íë¦„ì´ ìˆë‹¤ë©´ Pythonì„ ì‚¬ìš©í•˜ëŠ” ê°œë°œìë¶„ë“¤ì´ &lt;code>&amp;quot;Pythonic&amp;quot;&lt;/code>ì´ë¼ëŠ” ì² í•™(?)ì„ êµ‰ì¥íˆ ì¢‹ì•„í•˜ì‹œë“¯ Goë¥¼ ì‚¬ìš©í•˜ëŠ” ê°œë°œìë¶„ë“¤ì€ &lt;code>&amp;quot;GoìŠ¤ëŸ¬ì›€&amp;quot;&lt;/code>ì„ êµ‰ì¥íˆ ì¢‹ì•„í•˜ëŠ” ê²½í–¥ì´ ìˆì–´
ì–´ë–¤ í”„ë ˆì„ì›Œí¬ê°€ ê³„ì†í•´ì„œ ì¸ê¸°ë¥¼ ë„ëŠ” ë°ì—ëŠ” &lt;code>&amp;quot;GoìŠ¤ëŸ¬ìš´ê°€&amp;quot;&lt;/code>ê°€ í° ì˜í–¥ì„ ë¼ì¹˜ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.
ì•„ë§ˆ GoìŠ¤ëŸ¬ì›€ì´ë€ ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì§•ë“¤ì„ ì–˜ê¸°í•˜ëŠ” ê²ƒì¼ ê²ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>íƒ€ì…ì„ í†µí•´ ì•ˆì •ì ìœ¼ë¡œ ê°œë°œí•œë‹¤. (interface{} ì™€ ê°™ì€ ë¹ˆ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì´ìš©í•˜ë©´ì„œ type assertionì´ë‚˜ reflectë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì„ ì§€ì–‘)&lt;/li>
&lt;li>ê°€ë³ê³  ê°„ê²°í•˜ë‹¤. (Spring MVCì™€ ê°™ì€ ë°©ì‹ì€ ì§€ì–‘. í”„ë ˆì„ì›Œí¬ì—ì„œ ì“¸ ë° ì—†ì´ ë§ì€ ê±¸ ì§€ì›í•˜ë©´ì„œ ì„œë¹„ìŠ¤ê°€ ë¬´ê±°ì›Œì§€ëŠ” ê²ƒì„ ì§€ì–‘.)&lt;/li>
&lt;li>ë¹ ë¥´ë‹¤.&lt;/li>
&lt;li>ë™ì‹œì„±ì„ goroutineê³¼ channelì„ ì´ìš©í•´ ì˜ ì‚¬ìš©í•œë‹¤. (ê·¼ë° ì´ ë¶€ë¶„ì€ web frameworkì„ ê³ ë¥¼ ë•ŒëŠ” ì˜í–¥ì„ ë¼ì¹˜ì§€ ì•ŠëŠ” ê²ƒ ê°™ê³  ê°œë°œìì˜ ì½”ë“œì— ëŒ€í•œ goìŠ¤ëŸ¬ì›€ì¼ ê²ƒì…ë‹ˆë‹¤.)&lt;/li>
&lt;/ul>
&lt;h2 id="í”„ë ˆì„ì›Œí¬-ì¶”ì²œ">í”„ë ˆì„ì›Œí¬ ì¶”ì²œ&lt;/h2>
&lt;ul>
&lt;li>&lt;code>net/http&lt;/code> - Go í‘œì¤€(ë¹ŒíŠ¸ì¸) íŒ¨í‚¤ì§€&lt;/li>
&lt;li>&lt;code>github.com/labstack/echo&lt;/code> - ìŠ¤íƒ€ 20k&lt;/li>
&lt;li>&lt;code>github.com/gofiber/fiber&lt;/code> - â¤ï¸ ìŠ¤íƒ€ 14.6k&lt;/li>
&lt;li>&lt;code>github.com/gin-gonic/gin&lt;/code> - ìŠ¤íƒ€ 50k&lt;/li>
&lt;li>&lt;code>github.com/beego/beego&lt;/code> - ìŠ¤íƒ€ 26k&lt;/li>
&lt;li>&amp;hellip;&lt;/li>
&lt;/ul>
&lt;p>ì´ëŸ° íŠ¹ì§•ë“¤ì„ ê°€ì§„ ì›¹í”„ë ˆì„ì›Œí¬ë¡œ í•œêµ­ì—ì„œ ë§ì´ ì“°ì´ëŠ” ë“¯í•œ í”„ë ˆì„ì›Œí¬ë“¤ì€ &lt;code>fiber&lt;/code>, &lt;code>echo&lt;/code>, &lt;code>gin&lt;/code> ì´ ì„¸ ì¹œêµ¬ë“¤ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
ì €ë„ ë‹¤ ê¹Šì´ ìˆê²Œ ì¨ë³¸ ê±´ ì•„ë‹ˆì§€ë§Œ ê·¸ ë™ì•ˆ ë¦¬ì„œì¹˜ í•´ì˜¨ ê²ƒë“¤ì´ë‚˜ í•œêµ­ Go ì»¤ë®¤ë‹ˆí‹°ì—ì„œ ì˜¤ê°€ëŠ” ì´ëŸ° ì €ëŸ° ë‚´ìš©ë“¤ì„ ì°¸ê³ í–ˆì„ ë•Œì˜ ì˜ê²¬ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
&lt;code>gin&lt;/code>ì€ ì˜¤ëœ ì‹œê°„ ê°œë°œë˜ì–´ ì˜¨ í”„ë¡œì íŠ¸ì´ê³  ê¾¸ì¤€íˆ ìŠ¤íƒ€ë„ ë§ì§€ë§Œ ì•„ë§ˆ ì¢€ &amp;lsquo;ë¬´ê²ë‹¤. ëŠë¦¬ë‹¤.&amp;rsquo; ì´ëŸ° ì–˜ê¸°ê°€ ìˆì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. &lt;code>echo&lt;/code>ëŠ” ê°„ê²°í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©´ì„œ í•„ìš”í•œ ê¸°ëŠ¥ë“¤ì€ ë‹¤ ìˆê³  ê°œë°œì´ í™œë°œí•˜ê²Œ ì´ë£¨ì–´ì§€ê³  ìˆëŠ” ë“¯í•œ ëŠë‚Œì´ì§€ë§Œ
ë¬¸ì„œê°€ ê·¸ë‹¥ ì¹œì ˆí•˜ì§€ ì•Šê³  ì© ë¹ ë¥¸ ê±´ ì•„ë‹ˆë‹¤ëŠ” ìƒê°ì´ ë“­ë‹ˆë‹¤. ë¬¸ì„œê°€ ê±°ì˜ ê·¸ëƒ¥ ì˜ˆì‹œ ì½”ë“œ ì‘ì„±í•œ ì •ë„ì…ë‹ˆë‹¤. ê·¸ë˜ë„ Go ì–¸ì–´ íŠ¹ì„±ìƒ ë‚¨ì˜ ì½”ë“œë¥¼ ê¹Œì„œ ë´ë„ í•´ì„í•˜ê¸° ì‰½ê³  ì£¼ì„ë„ ì˜ ë‹¬ë ¤ìˆëŠ” í¸ì´ë¼ í° ì–´ë ¤ì›€ì€ ì—†ì—ˆìŠµë‹ˆë‹¤.
&lt;code>fiber&lt;/code>ëŠ” ìš”ì¦˜ ê°€ì¥ í•«í•œ í”„ë ˆì„ì›Œí¬ ê°™ìŠµë‹ˆë‹¤. ë¹ ë¥´ê²Œ ê¹ƒí—™ ìŠ¤íƒ€ ìˆ˜ë„ ëŠ˜ì–´ë‚˜ê³  ìˆê³  fasthttpë¥¼ ì‚¬ìš©í•´ì„œì¸ì§€ ì•„ë§ˆ ì›”ë“±íˆ ë¹ ë¥¸ ê²ƒìœ¼ë¡œ ì•Œë ¤ì ¸ìˆìŠµë‹ˆë‹¤. ê²Œë‹¤ê°€ ë¬¸ì„œë„ ë„ˆë¬´ ì˜ ì‘ì„±ë˜ì–´ìˆê³  ê°œë°œë„ í™œë°œíˆ ì´ë£¨ì–´ì§€ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ëŸ¬í•œ ì´ìœ ë¡œ ì €ëŠ” í˜„ì¬ &lt;code>fiber&lt;/code>ì™€ &lt;code>echo&lt;/code>ë¥¼ ì´ìš© ì¤‘ì´ê³  ì¶”í›„ ìƒˆë¡œìš´ ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•´ì•¼í•œë‹¤ë©´ &lt;code>fiber&lt;/code>ë¥¼ ì´ìš©í•  ì˜ˆì •ì…ë‹ˆë‹¤! (&lt;em>ì‚¬ì‹¤ ginì´ ìŠ¤íƒ€ëŠ” ê¾¸ì¤€íˆ ë§ì´ ëŠ˜ì–´ë‚˜ê³  ìˆê³  ìŠ¤íƒ€ ìˆ˜ ìì²´ë„ 1íƒ€ì¸ë° ì™œ í•œêµ­ì—ì„œ ë§ì´ë“¤ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ì§€ëŠ” ì˜ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤. ì•„ì‹œëŠ” ë¶„ì´ë‚˜ ginì„ ì‚¬ìš©í•´ë³´ì‹  ë¶„ ìˆìœ¼ì‹œë©´ ì˜ê²¬ ë¶€íƒë“œë¦½ë‹ˆë‹¤..!&lt;/em>)&lt;/p>
&lt;h2 id="ì˜ˆì‹œ-ì½”ë“œ">ì˜ˆì‹œ ì½”ë“œ&lt;/h2>
&lt;p>ê°„ë‹¨í•˜ê²Œ &lt;code>net/http&lt;/code> ë‚˜ &lt;code>fiber&lt;/code> ì¤‘ í•˜ë‚˜ë¥¼ ì´ìš©í•´ &lt;code>GET /ping&lt;/code>ì— ì‘ë‹µí•˜ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ì–´ë³´ì•˜ìœ¼ë‹ˆ ì°¸ê³ í•˜ì‹¤ ë¶„ë“¤ì€ ì°¸ê³ í•˜ì‹œê¸¸ ë°”ëë‹ˆë‹¤.
ì›¬ë§Œí•˜ë©´ ê³µì‹ ë¬¸ì„œì˜ Getting startedë‚˜ Exampleë“¤ì„ ë³´ì‹œëŠ” ê±¸ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.&lt;/p>
&lt;p>ë‹¤ë¥¸ ê¸€ë“¤ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ì˜ˆì‹œ ì½”ë“œëŠ” &lt;code>https://github.com/umi0410/how-to-backend-in-go&lt;/code>ì˜ webapp ë””ë ‰í† ë¦¬ì— ì—…ë¡œë“œ í•´ë‘ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;flag&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;github.com/gofiber/fiber/v2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;log&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;net/http&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">framework&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">port&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">flag&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;p&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8888&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;ì„œë²„ê°€ Listení•  port ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">init&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">flag&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Parse&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">flag&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Args&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fatal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;í•˜ë‚˜ì˜ ì¸ìë¥¼ ì „ë‹¬í•´ frameworkë¥¼ ì •ì˜í•´ì£¼ì„¸ìš”. (e.g. http, echo, fiber)&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">framework&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">flag&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Arg&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">switch&lt;/span> &lt;span class="nx">framework&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;http&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">RunNewHttpServer&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;fiber&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">RunNewFiberServer&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fatal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ì§€ì›í•˜ì§€ ì•ŠëŠ” framework ì…ë‹ˆë‹¤.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">RunNewHttpServer&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">addr&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;:%d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">port&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Server is listening %d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">port&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">HandleFunc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/ping&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">w&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ResponseWriter&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Request&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">w&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Write&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="nb">byte&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;PingPong by net/http\n&amp;#34;&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ListenAndServe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">RunNewFiberServer&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">addr&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;:%d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">port&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">fiber&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/ping&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">c&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">fiber&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Ctx&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">error&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">SendString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Pingpong by fiber\n&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Server is listening %d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">port&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">addr&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;figure style="flex-grow: 332; flex-basis: 798px">
&lt;a href="https://umi0410.github.io/blog/golang/how-to-backend-in-go-webapp/output.png" data-size="456x137">&lt;img src="https://umi0410.github.io/blog/golang/how-to-backend-in-go-webapp/output.png"
srcset="https://umi0410.github.io/blog/golang/how-to-backend-in-go-webapp/output_hu537a11d34916ac1c2def7909b69ddbc5_22456_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/how-to-backend-in-go-webapp/output_hu537a11d34916ac1c2def7909b69ddbc5_22456_1024x0_resize_box_3.png 1024w"
width="456"
height="137"
loading="lazy"
alt="output.png">
&lt;/a>
&lt;figcaption>output.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>ê°„ë‹¨í•˜ê²Œ Goì–¸ì–´ì—ì„œ ìœ ëª…í•œ í”„ë ˆì„ì›Œí¬ë“¤ì„ ë¹„êµí•´ë³´ê³  Pingpong ì„œë²„ ì˜ˆì œ ì½”ë“œë¥¼ ì‘ì„±í•´ë´¤ìŠµë‹ˆë‹¤.
ì•ì„œ ì–¸ê¸‰ë“œë ¸ë“¯ì´ ì•„ë¬´ë˜ë„ ì›¹ í”„ë ˆì„ì›Œí¬ë¡œ hello worldë¥¼ ì°ëŠ” ìˆ˜ì¤€ì˜ ì„œë²„ë¥¼ ì‘ì„±í•˜ëŠ” ë‚´ìš©ì€ ì´ë¯¸ ì–´ëŠ ê³³ì—ì„œë“  ì°¾ì•„ë³¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì—
ì´ë²ˆ ê¸€ì€ ê°€ë³ê²Œ ë§ˆë¬´ë¦¬í•˜ê³  ì´ëŸ° ì €ëŸ° í”„ë ˆì„ì›Œí¬ë“¤ì˜ ê³µì‹ ë¬¸ì„œë¥¼ ë³´ì‹œëŠ” ê±¸ ì¶”ì²œë“œë¦½ë‹ˆë‹¤ ã…ã…
ë‹¤ìŒ ê¸€ì€ &lt;code>ë¯¸ë“¤ì›¨ì–´ ì‘ì„±&lt;/code>ì´ë‚˜ &lt;code>ì—ëŸ¬ ì²˜ë¦¬&lt;/code>ì— ëŒ€í•´ ë‹¤ë¤„ë³¼ ì˜ˆì •ì¸ë° ì´ë²ˆ ê¸€ ë³´ë‹¤ ì¬ë°Œì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒë©ë‹ˆë‹¤.
&amp;lsquo;&lt;strong>ì—ëŸ¬ë¥¼ ì–´ë–»ê²Œ ì²˜ë¦¬í• ê¹Œ&lt;/strong>&amp;lsquo;ë‚˜ &amp;lsquo;&lt;strong>ë¯¸ë“¤ì›¨ì–´ëŠ” ì–´ë–»ê²Œ ì‘ì„±í•  ìˆ˜ ìˆì„ê¹Œ&lt;/strong>&amp;lsquo;ì™€ ê°™ì€ ë‚´ìš©ì€ ê·¸ë‹¥ í”íˆ ì°¾ì•„ë³¼ ìˆ˜ ìˆëŠ” ë‚´ìš©ì€ ì•„ë‹Œ ê²ƒ ê°™ì•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
ê·¸ëŸ¼ ë‹¤ìŒ ê¸€ì—ì„œ ë´ìš” ìš°ë¦¬~ ã…ã… ğŸ‘‹&lt;/p>
&lt;h2 id="ì°¸ê³ ">ì°¸ê³ &lt;/h2>
&lt;ul>
&lt;li>ê°„ë‹¨í•œ ì›¹ ì„œë²„ (HTTP ì„œë²„) - &lt;a class="link" href="http://golang.site/go/article/111-%EA%B0%84%EB%8B%A8%ED%95%9C-%EC%9B%B9-%EC%84%9C%EB%B2%84-HTTP-%EC%84%9C%EB%B2%84" target="_blank" rel="noopener"
>http://golang.site/go/article/111-%EA%B0%84%EB%8B%A8%ED%95%9C-%EC%9B%B9-%EC%84%9C%EB%B2%84-HTTP-%EC%84%9C%EB%B2%84&lt;/a>&lt;/li>
&lt;li>Understanding Listen Ports and Addresses - &lt;a class="link" href="https://www.ateam-oracle.com/listen-addresses" target="_blank" rel="noopener"
>https://www.ateam-oracle.com/listen-addresses&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.esparkinfo.com/top-golang-web-framework-development.html" target="_blank" rel="noopener"
>https://www.esparkinfo.com/top-golang-web-framework-development.html&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://blog.devgenius.io/best-web-framework-of-golang-in-2021-aae4b2ad9bf" target="_blank" rel="noopener"
>https://blog.devgenius.io/best-web-framework-of-golang-in-2021-aae4b2ad9bf&lt;/a>&lt;/li>
&lt;li>ë‚´ê°€ Go ì–¸ì–´ë¥¼ ì„ íƒí•œ ì´ìœ  - &lt;a class="link" href="https://pronist.tistory.com/67" target="_blank" rel="noopener"
>https://pronist.tistory.com/67&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Golangìœ¼ë¡œ ë°±ì—”ë“œ ê°œë°œí•˜ê¸° - 2. í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± ë° Goì—ì„œ Mocking ì´ìš©í•˜ê¸° (gomock, testify ì´ìš©)</title><link>https://umi0410.github.io/blog/golang/how-to-backend-in-go-testcode/</link><pubDate>Sat, 17 Jul 2021 12:46:54 +0900</pubDate><guid>https://umi0410.github.io/blog/golang/how-to-backend-in-go-testcode/</guid><description>&lt;img src="https://umi0410.github.io/blog/golang/how-to-backend-in-go-testcode/test-with-ide.png" alt="Featured image of post Golangìœ¼ë¡œ ë°±ì—”ë“œ ê°œë°œí•˜ê¸° - 2. í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± ë° Goì—ì„œ Mocking ì´ìš©í•˜ê¸° (gomock, testify ì´ìš©)" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>ì €ëŠ” &lt;code>Go ì–¸ì–´&lt;/code>ë¥¼ ê³µë¶€í•˜ë©´ì„œ ì²˜ìŒìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¼ëŠ” ê²ƒì„ ì ‘í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
ê³¼ê±°ì—ëŠ” ê·¸ì € ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì—ë§Œ ê´€ì‹¬ì´ ìˆì—ˆì§€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì–´ë–»ê²Œ ê³„ì¸µì„ ë‚˜ëˆ  ì„¤ê³„í• ì§€,
ì–´ë–»ê²Œ í•´ì•¼ ìœ ì§€ ë³´ìˆ˜í•˜ê¸° ì‰¬ìš°ë©´ì„œ ì•ˆì •ì ì¸ ê°œë°œì„ í•  ìˆ˜ ìˆì„ì§€ì— ëŒ€í•œ ê³ ë¯¼ì„ í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ Goë¥¼ ê³µë¶€í•˜ë©´ì„œë¶€í„°ëŠ” &lt;code>í´ë¦° ì•„í‚¤í…ì³&lt;/code>ë‚˜ &lt;code>MSA&lt;/code>, &lt;code>ë™ì‹œì„± íŒ¨í„´&lt;/code> ë“±ì„ ë¹„ë¡¯í•´ &lt;code>í…ŒìŠ¤íŠ¸ ì½”ë“œ&lt;/code>ì—
ëŒ€í•´ì„œë„ ê³µë¶€í•´ë³¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
ê·¸ ì¤‘ì—ì„œë„ í…ŒìŠ¤íŠ¸ ì½”ë“œì— ëŒ€í•´ ê³µë¶€í•´ë³´ë©° ìµí˜”ë˜ ì ë“¤ì„ ë°”íƒ•ìœ¼ë¡œ ì´ë²ˆ ê¸€ì—ì„œëŠ”
&lt;strong>Golangìœ¼ë¡œ ë°±ì—”ë“œ ê°œë°œì„ í•˜ë©´ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì–´ë–»ê²Œ ì‘ì„±í•  ìˆ˜ ìˆì„ì§€&lt;/strong>ì— ëŒ€í•´ ì•Œì•„ë³´ë ¤í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ë³¸ ê¸€ì—ì„œ ì‚¬ìš©ëœ ì˜ˆì‹œ ì½”ë“œëŠ” &lt;a class="link" href="https://github.com/umi0410/how-to-backend-in-go/tree/master/testcode" target="_blank" rel="noopener"
>ì €ì˜ Github how-to-backend-in-go ë ˆí¬ì§€í† ë¦¬&lt;/a>ì— ì—…ë¡œë“œ í•´ë‘˜í…Œë‹ˆ ì°¸ê³ í•˜ì‹¤ ë¶„ë“¤ì€ ì°¸ê³ í•´ì£¼ì„¸ìš”~!&lt;/p>
&lt;h2 id="tdd-test-driven-developmentì™€-ìœ ë‹›-í…ŒìŠ¤íŠ¸">TDD (Test Driven Development)ì™€ ìœ ë‹› í…ŒìŠ¤íŠ¸&lt;/h2>
&lt;p>ì‚¬ìš©ìì˜ ë°˜ì‘ì— ë§ì¶° ì¬ë¹ ë¥´ê²Œ ëŒ€ì‘í•  ìˆ˜ ìˆë„ë¡ ê°œë°œ ì£¼ê¸°ê°€ ë¹¨ë¼ì§€ë©´ì„œ &lt;code>DevOps&lt;/code> ë¬¸í™” ë¿ë§Œ ì•„ë‹ˆë¼
&lt;code>TDD&lt;/code>ë„ ë§ì€ ì¸ê¸°ë¥¼ ì–»ê²Œ ëœ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
&lt;code>TDD&lt;/code>ë€ ê°œë°œì„ ë¨¼ì € ë‹¤~ ì§„í–‰í•œ ë’¤ í•œ ë²ˆì— ë°°í¬í•˜ê±°ë‚˜ ì‹œê°„ ë‚  ë•Œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì§œëŠ” ê²ƒì´ ì•„ë‹ˆë¼
ìš°ë¦¬ê°€ ê°œë°œí•´ì•¼í•  ìµœì†Œí•œì˜ ë‚´ìš©ë“¤ì„ ê²€ì¦í•  ìˆ˜ ìˆëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë¨¼ì € ì‘ì„±í•œ ë’¤ í•´ë‹¹ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ëŠ” ì½”ë“œë¥¼ ê°œë°œí•´ë‚˜ê°€ëŠ” ê°œë°œ ë°©ë²•ë¡ ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>TDDì— ëŒ€í•´ ì„¤ëª…í•˜ìë©´ TDDë§Œìœ¼ë¡œë„ ì±… ëª‡ ê¶Œì˜ ë¶„ëŸ‰ì´ ë  ìˆ˜ ìˆê³ , ì € ë˜í•œ TDDë¥¼ ì˜ ì•„ëŠ” ê²ƒì€ ì•„ë‹ˆê¸°ì— ìì„¸í•œ ì„¤ëª…ì€ ìƒëµí•˜ê² ìŠµë‹ˆë‹¤.
ì´ë²ˆ ê¸€ì˜ ì£¼ëœ ë‚´ìš©ì€ TDDì— ëŒ€í•´ ì†Œê°œí•˜ëŠ” ê²ƒë³´ë‹¤ëŠ” &lt;strong>Golangìœ¼ë¡œ ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±&lt;/strong>í•˜ëŠ” ìš”ë ¹ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ìœ ë‹› í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ë¥¸ ê³„ì¸µê³¼ ë¬´ê´€í•˜ê²Œ ë…ë¦½ì ìœ¼ë¡œ ê°ê°ì˜ ë©”ì†Œë“œì˜ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì´ë¼ê³  ë³¼ ìˆ˜ ìˆê² ìŠµë‹ˆë‹¤.
ê³„ì¸µë§ˆë‹¤ í•´ë‹¹ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ê²€ì¦í•˜ê³ ì í•˜ëŠ” ì£¼ìš”í•œ ë‚´ìš©ì€ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ìœ ë‹› í…ŒìŠ¤íŠ¸ëŠ” ì£¼ë¡œ ìì‹ ë§Œì„ í…ŒìŠ¤íŠ¸ í•˜ê¸° ë•Œë¬¸ì— ìê¸° ê³„ì¸µì˜ ë™ì‘ì„ í…ŒìŠ¤íŠ¸í•˜ì§€ ë‹¤ë¥¸ ê³„ì¸µì˜ ë™ì‘ê¹Œì§€ í…ŒìŠ¤íŠ¸í•˜ì§„ ì•ŠìŠµë‹ˆë‹¤.
ë˜í•œ ê²½ìš°ì— ë”°ë¼ ì•„ì˜ˆ ë‹¤ë¥¸ ê³„ì¸µì„ ì‹¤ì œë¡œ ì´ìš©í•˜ì§€ ì•Šê³  ëª¨í‚¹(Mocking)í•œ íƒ€ì…ì„ ì´ìš©í•˜ëŠ” ê²½ìš°ë„ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>Data access layer&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>userRepository.Create(user *entity.User)&lt;/code> - ìœ ì € í…Œì´ë¸”ì— í•´ë‹¹ ë°ì´í„°ê°€ ì˜ ì €ì¥ë˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Business layer&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>userService.Create(ctx *fiber.Ctx, user UserCreateInput)&lt;/code> - ìœ ì € ìƒì„± ê´€ë ¨ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì£¼ë¡œ í…ŒìŠ¤íŠ¸.&lt;/p>
&lt;p>DBì— ì˜ ì˜ì†í™” ë˜ì—ˆëŠ”ì§€ ê¹Œì§€ëŠ” í…ŒìŠ¤íŠ¸ í•  í•„ìš” ì—†ìŒ. ì´ëŠ” Data access layerì—ì„œ í…ŒìŠ¤íŠ¸ í•  ë‚´ìš©&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Presentation layer&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>userHandler.Craete(ctx *fiber.Ctx)&lt;/code> - ì‘ë‹µ ì½”ë“œê°€ ë°”ë¼ë˜ ëŒ€ë¡œ &lt;code>201&lt;/code> ë²ˆì´ ë§ëŠ”ì§€. JSONìœ¼ë¡œ ì˜ ì‘ë‹µí•˜ëŠ”ì§€&lt;/p>
&lt;p>ë§ˆì°¬ê°€ì§€ë¡œ DBì— ì˜ ì˜ì†í™” ë˜ì—ˆëŠ”ì§€ê¹Œì§€ëŠ” í…ŒìŠ¤íŠ¸í•  í•„ìš” ì—†ìŒ. ì´ëŠ” Data access layerì—ì„œ í…ŒìŠ¤íŠ¸ í•  ë‚´ìš©.&lt;/p>
&lt;p>ë˜í•œ ì–´ë–¤ business layerì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ëŒ€í•´ì„œë„ ìì„¸íˆ í…ŒìŠ¤íŠ¸ í•  í•„ìš” ì—†ìŒ. ì´ ë˜í•œ Business layerì—ì„œ í…ŒìŠ¤íŠ¸í•  ë‚´ìš©&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>ì°¸ê³ ë¡œ &lt;strong>ì €ëŠ” Business layerë¥¼ ìœ„ì£¼ë¡œ í…ŒìŠ¤íŠ¸&lt;/strong>í•˜ê³  ìˆìŠµë‹ˆë‹¤.
Data access layerì˜ ê²½ìš° ë§ì€ ë¶€ë¶„ì´ Database framework(ORM)ì„ í†µí•´ ê²€ì¦ì´ ë˜ì—ˆê³ ,
Presentation layerë„ Web frameworkë“¤ì— ì˜í•´ ë§ì€ ë¶€ë¶„ì´ ê²€ì¦ë˜ì—ˆì„ ë¿ ì•„ë‹ˆë¼ í¬ìŠ¤íŠ¸ë§¨ ê°™ì€ ë„êµ¬ë“¤ì„ í†µí•´ í™•ì¸í•´ëŠ” ê²ƒì´ ë” í¸í•œ ê²½ìš°ë„ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
ë°˜ë©´ Business layerì˜ ë™ì‘ì€ ë§¤ìš° ì¤‘ìš”í•˜ê³ , í…ŒìŠ¤íŠ¸ ì½”ë“œ ì—†ì´ ë§¤ë²ˆ ìˆ˜ì‘ì—…ìœ¼ë¡œ ê·¸ ë™ì‘ì„ ê²€ì¦í•˜ëŠ” ê²ƒì€ ë§¤ìš° ë²ˆê±°ë¡­ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>(ê³„ì¸µì´ë‚˜ ê´€ì‹¬ì‚¬ë¥¼ ì–´ë–»ê²Œ ë‚˜ëˆ„ëƒì— ë”°ë¼ Business layerëŠ” ë‹¤ì–‘í•˜ê²Œ ë¶ˆë¦¬ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë‚´ë¶€ ê³„ì¸µ, ë„ë©”ì¸ ê³„ì¸µ, ì½”ì–´ ë¡œì§ ê³„ì¸µ ë“±ë“±ìœ¼ë¡œ ë¶ˆë¦¬ê¸°ë„ í•©ë‹ˆë‹¤.)&lt;/p>
&lt;h2 id="unit-testë¥¼-ë„ì…í•˜ê¸°-ì „ì—-ì•Œì•„ë‘ë©´-ì¢‹ì€-ê²ƒë“¤">Unit testë¥¼ ë„ì…í•˜ê¸° ì „ì— ì•Œì•„ë‘ë©´ ì¢‹ì€ ê²ƒë“¤&lt;/h2>
&lt;ol>
&lt;li>ìœ ì—°ì„±ì„ ìœ„í•œ ì˜ì¡´ì„± ì£¼ì… ë° ë³€ìˆ˜ ì´ˆê¸°í™” ë°©ë²•&lt;/li>
&lt;li>mockingì— ëŒ€í•˜ì—¬&lt;/li>
&lt;li>assert êµ¬ë¬¸ ì´ìš©&lt;/li>
&lt;/ol>
&lt;p>Springì„ ë°”íƒ•ìœ¼ë¡œ ê°œë°œí•˜ëŠ” ê²½ìš° JUnitì´ë¼ëŠ” í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ë¥¼ ì£¼ë¡œ ì´ìš©í•˜ê³  ì´ë¥¼ í†µí•´ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ì‹ì´ ê±°ì˜ ì •í˜•í™” ë˜ì–´ìˆëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ Golangì€ ê·¸ë‹¥ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” í˜•íƒœê°€ ì •í˜•í™”ë˜ì–´ìˆì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì–´ë–¤ ì–¸ì–´ë‚˜ í”„ë ˆì„ì›Œí¬ë¥¼ í†µí•´ ìœ ë‹› í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ë“  ìœ„ì˜ ì„¸ ê°€ì§€ í•­ëª©ë“¤ì„ ì–´ë–»ê²Œ ì´ìš©í•  ì§€ ì•Œì•„ì•¼í•  ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="1-ìœ ì—°ì„±ì„-ìœ„í•œ-ì˜ì¡´ì„±-ì£¼ì…-ë°-ë³€ìˆ˜-ì´ˆê¸°í™”-ë°©ë²•">1. ìœ ì—°ì„±ì„ ìœ„í•œ ì˜ì¡´ì„± ì£¼ì… ë° ë³€ìˆ˜ ì´ˆê¸°í™” ë°©ë²•&lt;/h3>
&lt;p>ì–´ë– í•œ ëª¨ë“ˆì´ ìì‹ ì˜ ë©¤ë²„ ë³€ìˆ˜ë“¤ì„ ë‚´ë¶€ì ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì™¸ë¶€ì—ì„œ ì£¼ì… ë°›ëŠ” í˜•íƒœì¸ &lt;code>ì˜ì¡´ì„± ì£¼ì…&lt;/code>ì€ ìœ ì—°í•œ ì˜ì¡´ì„± ê´€ë¦¬ë¥¼ ìœ„í•´ ê¶Œì¥ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ Userì— ëŒ€í•œ ë„ë©”ì¸/ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì‹¤í–‰í•˜ë©° UserRepositoryë¥¼ ì´ìš©í•´ Userë¥¼ ì˜ì†ì ìœ¼ë¡œ ì €ì¥í•˜ê¸°ë„ í•˜ëŠ” UserServiceê°€ UserRepositoryì— ì˜ì¡´í•˜ëŠ” ê²½ìš°ë¥¼ ì‚´í´ë´…ì‹œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 1. ì˜ì¡´ì„± ì£¼ì… í˜•íƒœ - Good
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">NewUserService&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">userRepository&lt;/span> &lt;span class="nx">UserRepository&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">UserService&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">UserService&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userRepository&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">userRepository&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 2. ì˜ì¡´ì„±ì„ ì£¼ì…í•˜ì§€ ì•ŠëŠ” í˜•íƒœ - Bad
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">NewUserServiceWithoutInjection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">client&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">UserClient&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">UserService&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">UserService&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userRepository&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nf">NewUserRepository&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">client&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>ì²« ë²ˆì§¸ - ì˜ì¡´ì„± ì£¼ì… í˜•íƒœ&lt;/strong>ëŠ” í…ŒìŠ¤íŠ¸ í•˜ëŠ” ê²½ìš°ë‚˜ ê°œë°œ í™˜ê²½ì— ë”°ë¼ ìœ ë™ì ìœ¼ë¡œ ì ì ˆí•œ UserServiceê°€ ì´ìš©í•  UserRepositoryë¥¼ ì£¼ì…ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¦‰ ì‹¤ì œë¡œ &lt;strong>API ì„œë²„ë¥¼ êµ¬ë™ì‹œí‚¬ ë•Œì—ëŠ” &lt;code>NewUserService(userRepository UserRepository)&lt;/code> ë©”ì†Œë“œì— ì‹¤ì œë¡œ DBë¥¼ ì´ìš©í•˜ëŠ” Repositoryì¸ &lt;code>UserRepositoryImpl&lt;/code> ì„ ì£¼ì…í•˜ê³ , ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•  ë•Œì—ëŠ” ëª¨í‚¹í•œ íƒ€ì…ì¸ &lt;code>MockUserRepository&lt;/code>ë¥¼ ì£¼ì…&lt;/strong>í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;strong>ë‘ ë²ˆì§¸ - ì˜ì¡´ì„±ì„ ì£¼ì…í•˜ì§€ ì•ŠëŠ” í˜•íƒœ&lt;/strong>ëŠ” ìì‹ ì´ ì˜ì¡´í•˜ëŠ” UserRepositoryê°€ ì´ë¯¸ &lt;code>NewUserServiceByItSelf&lt;/code>ë¼ëŠ” ë©”ì†Œë“œì—ì„œ &lt;code>NewUserRepository&lt;/code> ë¼ëŠ” ë©”ì†Œë“œë¥¼ í†µí•´ íŠ¹ì • UserRepositoryë¥¼ ì´ìš©í•˜ë„ë¡ ì •ì˜ë˜ì–´ìˆê¸° ë•Œë¬¸ì— Mockingì„ ì ìš©í•˜ê¸°ë„ í˜ë“¤ê³ , ë§Œì•½ ë‹¤ë¥¸ ëª¨ë“ˆë“¤ ë˜í•œ UserRepositoryë¥¼ ì´ìš©í•˜ëŠ” ê²½ìš° Singletonìœ¼ë¡œ ì´ìš©í•˜ì§€ ëª»í•˜ê³  ì—¬ëŸ¬ UserRepositoryê°€ ìƒì„±ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì‚¬ì‹¤ ent.UserClientë¼ëŠ” DB Client ë˜í•œ ì£¼ì…ë°›ì§€ ì•Šê³  ë‚´ë¶€ì ìœ¼ë¡œ ìƒˆë¡œ ìƒì„±í•´ì•¼ ì˜ì¡´ì„±ì„ ì™„ì „íˆ ì£¼ì…ë°›ì§€ ì•ŠëŠ” í˜•íƒœì´ê² ì§€ë§Œ ê·¸ëŸ° ë°©ì‹ì€ ë„ˆë¬´ë„ êµ¬í˜„í•˜ê¸° ë²ˆê±°ë¡œì›Œ í¸ì˜ìƒ DB clientëŠ” ì£¼ì…ë°›ì•˜ìŠµë‹ˆë‹¤. ì´ê²ƒë§Œ ë´ë„ ê°œë°œí•˜ëŠ” í˜•íƒœê°€ ì¼ê´€ë˜ì§€ ëª»í•˜ê³  ë¶ˆí¸í•œ ì‚¬í•­ì´ ë§ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì£ .&lt;/p>
&lt;h3 id="2-mockingì—-ëŒ€í•˜ì—¬">2. Mockingì— ëŒ€í•˜ì—¬&lt;/h3>
&lt;p>&lt;code>ëª¨í‚¹&lt;/code>ì´ë€ ì‹¤ì œë¡œ ì„œë²„ê°€ ì‹¤í–‰ë  ë•Œ ì‚¬ìš©í•˜ëŠ” ëª¨ë“ˆì´ ì•„ë‹Œ ê°€ì§œ ëª¨ë“ˆì„ ì´ìš©í•˜ëŠ” ê¸°ë²•ì…ë‹ˆë‹¤. ì•ì—ì„œ ì ê¹ ì–¸ê¸‰í–ˆë“¯ì´ ì¢…ì¢… í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± ì‹œì— ì¢…ì¢… Mockingì´ ì´ìš©ë©ë‹ˆë‹¤. ì˜ì¡´ì„± ì£¼ì… íŒ¨í„´ì„ í†µí•´ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œëŠ” ì‹¤ì œ typeì´ ì•„ë‹Œ Mocking typeì„ ìœ ë™ì ìœ¼ë¡œ ì£¼ì…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ ì™€ë‹¿ì§€ ì•Šì„ ìˆ˜ ìˆëŠ”ë° ì˜ˆë¥¼ ë“¤ì–´ UserServiceì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë£°ê³¼ ë¡œì§ì´ ì˜ ë™ì‘í•˜ëŠ”ì§€ë¥¼ í™•ì¸í•  ë•Œ Data access layerì˜ ë™ì‘ê¹Œì§€ í…ŒìŠ¤íŠ¸í•˜ê³  ì‹¶ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ê²½ìš° Data access layerì˜ ëª¨ë“ˆì„ ê°€ì§œ íƒ€ì…ìœ¼ë¡œ ëª¨í‚¹í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">MockUserRepository&lt;/span> &lt;span class="kd">struct&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">m&lt;/span> &lt;span class="nx">MockUserRepository&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">UserCreateInput&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">User&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">User&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ID&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">input&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ID&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Password&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">input&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Password&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">input&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">TestUserService_Create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">T&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// í•´ë‹¹ ì´ë¦„ì˜ ìœ ì €ê°€ ìˆëŠ”ì§€ í™•ì¸
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">s&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">NewUserService&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">new&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">MockUserRepository&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">UserCreateInput&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">ID&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;jinsu_umi&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;Jinsu Park&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Password&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;123123123&amp;#34;&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">assert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NoError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì´ëŸ° ì‹ìœ¼ë¡œ MockUserRepository íƒ€ì…ì—ì„œëŠ” Create ë©”ì†Œë“œê°€ ì§ì ‘ DBì— ìœ ì €ë¥¼ ì˜ì†í™”í•˜ëŠ” ì‘ì—…ì„ ìƒëµí•œ ë’¤ ê·¸ëŸ´ì‹¸í•œ ë¦¬í„´ê°’ì„ ë¦¬í„´í•˜ë„ë¡ë§Œ êµ¬í˜„í•¨ìœ¼ë¡œì¨ UserRepsotiroyë¥¼ ëª¨í‚¹í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ì´ë ‡ê²Œ ìˆ˜ì‘ì—…ìœ¼ë¡œ Mock typeì„ ë§¤ë²ˆ ì •ì˜í•˜ëŠ” ê²ƒì€ ê·€ì°®ì„ ìˆ˜ ìˆì£ . ë”°ë¼ì„œ ì´ë²ˆ ê¸€ì˜ ë’¤ì—ì„œëŠ” mocking frameworkë“¤ì— ëŒ€í•´ì„œë„ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ì¢…ì¢… Stubê³¼ Mockì— ëŒ€í•´ í˜¼ë™ì´ ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ì‹¤ì œ ëª¨ë“ˆì´ ì•„ë‹Œ ê°€ì§œ ëª¨ë“ˆì„ ì´ìš©í•˜ëŠ” ê¸°ë²• ìì²´ë¥¼ mockingì´ë¼ê³  í•©ë‹ˆë‹¤. ì´ë¥¼ ì¢€ ë” ì„¸ë¶„í™”í•´ì„œ ë´¤ì„ ë• stubì€ ë‹¨ìˆœíˆ í…ŒìŠ¤íŠ¸ë¥¼ ê°„ë‹¨íˆ í†µê³¼ì‹œí‚¤ê¸° ìœ„í•´ ì‹¤ì œ ëª¨ë“ˆì„ ëŒ€ì²´í•˜ëŠ” ê°€ì§œ ê°ì²´ë¥¼ ë§í•˜ê³  mockì€ ì˜ˆìƒê°’ê¹Œì§€ ë¹„êµë¥¼ í•˜ê³ , ë•Œë•Œë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤íŒ¨ì‹œí‚¤ê¸°ë„ í•˜ëŠ” ë” ìŠ¤ë§ˆíŠ¸í•œ stubì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤ê³  í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì°¸ê³ : &lt;a class="link" href="https://stackoverflow.com/questions/3459287/whats-the-difference-between-a-mock-stub" target="_blank" rel="noopener"
>https://stackoverflow.com/questions/3459287/whats-the-difference-between-a-mock-stub&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h3 id="3-assert-êµ¬ë¬¸-ì´ìš©í•˜ê¸°">3. assert êµ¬ë¬¸ ì´ìš©í•˜ê¸°&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">TestUserService_Create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">T&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// í•´ë‹¹ ì´ë¦„ì˜ ìœ ì €ê°€ ìˆëŠ”ì§€ í™•ì¸
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">s&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">NewUserService&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">new&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">MockUserRepository&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">UserCreateInput&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">ID&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;jinsu_umi&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;Jinsu Park&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Password&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;123123123&amp;#34;&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ì´ëŸ° ì‹ìœ¼ë¡œ ë¡œê·¸ë¥¼ í†µí•´ í•˜ë‚˜ í•˜ë‚˜ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//t.Log(&amp;#34;ì—ëŸ¬ê°€ ì¡´ì¬í•˜ì§€ ì•Šì•„ì•¼í•©ë‹ˆë‹¤.&amp;#34;)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//t.Log(&amp;#34;err == nil ì¸ì§€ í™•ì¸í•˜ì‹­ì‹œì˜¤. err == nil: &amp;#34; , err == nil)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// assertë¥¼ ì´ìš©í•´ ìë™ìœ¼ë¡œ ì„±ê³µ/ì‹¤íŒ¨ë¥¼ íŒë‹¨í•©ë‹ˆë‹¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">assert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NoError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>assert&lt;/code> ë¼ëŠ” ë°©ì‹ì„ í†µí•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ê²€ì¦ì€ ë‹¤ì–‘í•œ í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤. ëˆˆìœ¼ë¡œ í•˜ë‚˜ í•˜ë‚˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë“¤ì˜ ê²°ê³¼ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ assertë¼ëŠ” ë°©ì‹ì„ í†µí•´ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ì˜ ì„±ê³µ/ì‹¤íŒ¨ë¥¼ íŒë‹¨í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì €ëŠ” ì£¼ë¡œ &lt;code>github.com/stretchr/testify&lt;/code> íŒ¨í‚¤ì§€ì˜ &lt;code>assert&lt;/code> ë©”ì†Œë“œë¥¼ ì´ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 134; flex-basis: 322px">
&lt;a href="https://umi0410.github.io/blog/golang/how-to-backend-in-go-testcode/test-output.png" data-size="1251x932">&lt;img src="https://umi0410.github.io/blog/golang/how-to-backend-in-go-testcode/test-output.png"
srcset="https://umi0410.github.io/blog/golang/how-to-backend-in-go-testcode/test-output_hufe5dd54340b2f486cdb532c721c19e5f_159105_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/how-to-backend-in-go-testcode/test-output_hufe5dd54340b2f486cdb532c721c19e5f_159105_1024x0_resize_box_3.png 1024w"
width="1251"
height="932"
loading="lazy"
alt="test-output.png">
&lt;/a>
&lt;figcaption>test-output.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>assertë¥¼ í†µí•´ í…ŒìŠ¤íŠ¸ì˜ ì„±ê³µ/ì‹¤íŒ¨ ì—¬ë¶€ë¥¼ íŒë‹¨í•˜ë©´ ì„±ê³µì‹œì—ëŠ” í¬ê²Œ stdoutì„ í™•ì¸í•  í•„ìš” ì—†ê³ , ì‹¤íŒ¨í•œ ê²½ìš°ì—ëŠ” ê·¸ê²ƒì— ëŒ€í•œ ì—ëŸ¬ ë©”ì‹œì§€ë“¤ë§Œ í™•ì¸í•˜ë©´ ë˜ê¸° ë•Œë¬¸ì— í¸ë¦¬í•©ë‹ˆë‹¤. ë§Œì•½ ë¡œê·¸ë‚˜ í”„ë¦°íŠ¸ ë¬¸ì„ í†µí•´ ìˆ˜ì‘ì—…ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ íŒë‹¨í•´ì•¼í•œë‹¤ë©´&amp;hellip; ë§¤ë²ˆ í…ŒìŠ¤íŠ¸ë§ˆë‹¤ ë„ˆë¬´ ë¶ˆí¸í•˜ê² ì£ ?!&lt;/p>
&lt;h2 id="golangì—ì„œ-mocking-ì´ìš©í•˜ê¸°">Golangì—ì„œ Mocking ì´ìš©í•˜ê¸°&lt;/h2>
&lt;p>ì´ë²ˆì—” Golangì—ì„œ Mockingì„ ì´ìš©í•˜ëŠ” ë°©ë²•ì„ ì¢€ ë” ìì„¸íˆ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. golangì—ì„œ Mockingì„ ì´ìš©í•˜ëŠ” ë°©ë²•ì€ í¬ê²Œ 3ê°€ì§€ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ì§ì ‘ Mock type êµ¬í˜„í•˜ê¸°&lt;/li>
&lt;li>&lt;code>golang/mock&lt;/code> ì¦‰ &lt;code>gomock&lt;/code> í”„ë ˆì„ì›Œí¬ ì´ìš©í•˜ê¸°&lt;/li>
&lt;li>&lt;code>stretchr/testify/mock&lt;/code> í”„ë ˆì„ì›Œí¬ ì´ìš©í•˜ê¸°&lt;/li>
&lt;/ol>
&lt;p>ìë°”ì˜ ê²½ìš° ë”°ë¡œ ë¯¸ë¦¬ mock íƒ€ì…(ì¦‰ ê°€ì§œ íƒ€ì…)ì„ ì‘ì„±í•´ë†“ì§€ ì•Šë”ë¼ë„ ê·¸ë¦¬ê³  ê¸°ì¡´ íƒ€ì…ì´ interfaceê°€ ì•„ë‹Œ concreteí•œ ì¼ë°˜ classì´ë”ë¼ë„ ìƒì† í˜¹ì€ í”„ë¡ì‹œë¥¼ í†µí•´ mock íƒ€ì…ì„ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°˜ë©´ Golangì€ íˆ¬ëª…í•œ ë™ì‘ê³¼ ì—„ê²©í•œ íƒ€ì…ì´ íŠ¹ì§•ì¸ ë§Œí¼ í…ŒìŠ¤íŠ¸ ì§„í–‰ ì‹œì— ìë™ìœ¼ë¡œ ì ì ˆí•œ mock íƒ€ì…ì„ ìƒì„±í•˜ê±°ë‚˜ í”„ë¡ì‹œë¥¼ ì´ìš©í•˜ê±°ë‚˜ interfaceê°€ ì•„ë‹Œ structì— ë‹¤ë¥¸ typeì˜ structë¥¼ í• ë‹¹í•  ìˆ˜ë„ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ Goì—ì„œ mockingì„ ì´ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì•„ë˜ì™€ ê°™ì€ ì œì•½ ì¡°ê±´ë“¤ì´ ì¡´ì¬í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ì ì„ ìƒê°í•´ë³¸ë‹¤ë©´ Goì—ì„œëŠ” Mockingì„ ì´ìš©í•˜ëŠ” ê²ƒì€ ë‹¤ë¥¸ ì–¸ì–´ì— ë¹„í•´ ì‰¬ìš´ í¸ì€ ì•„ë‹Œ ê²ƒì²˜ëŸ¼ ëŠê»´ì§€ê¸°ë„ í•©ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>interfaceë¡œ ì„ ì–¸ëœ ë³€ìˆ˜ì—ë§Œ mock typeì„ í• ë‹¹í•  ìˆ˜ ìˆë‹¤.&lt;/li>
&lt;li>mock typeì„ ì§ì ‘ ì •ì˜í•˜ê±°ë‚˜ mocking frameworkì„ ì´ìš©í•´ ì½”ë“œë¥¼ ìƒì„±í•œë‹¤.(í…ŒìŠ¤íŠ¸ ì§„í–‰ ì‹œ ìë™ì´ ì•„ë‹˜. ì§ì ‘ ìš°ë¦¬ê°€ ì‹¤í–‰ì‹œì¼œì•¼í•¨.)&lt;/li>
&lt;/ul>
&lt;p>ì£¼ë¡œ 1ë²ˆ(ì§ì ‘ Mock type êµ¬í˜„í•˜ê¸°) ê°™ì€ ê²½ìš°ëŠ” ì´ mock íƒ€ì…ì´ ìš°ë¦¬ ì„œë¹„ìŠ¤ì—ì„œ ìì£¼ ì‚¬ìš©ë  ê²ƒì´ê³  ê·¸ëƒ¥ ì˜ˆìƒì¹˜ëª»í•œ callì´ë‚˜ missing call(í˜¸ì¶œë˜ê¸¸ ì˜ˆìƒí–ˆì§€ë§Œ í˜¸ì¶œë˜ì§€ ì•ŠëŠ” ê²½ìš°)ì— ëŒ€í•œ ëŒ€ì‘ì´ í•„ìš” ì—†ëŠ” ê²½ìš° ì‚¬ìš©í•˜ë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ë°˜ë©´ 2, 3ë²ˆì€ ì´ë²ˆ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ 1íšŒì„± mockingì¸ ê²½ìš° ë§ì´ ì‚¬ìš©ë˜ê¸°ë„ í•˜ê³  mock íƒ€ì…ì˜ ë©”ì†Œë“œì— ëŒ€í•œ unexpected callì´ë‚˜ missing call ì— ëŒ€í•œ ëŒ€ì‘ì„ ìˆ˜í–‰í•˜ê³ ìí•˜ëŠ” ê²½ìš° ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì¶”ê°€ì ìœ¼ë¡œ 1ë²ˆ ë°©ì‹ì´ ì•„ë‹Œ 2, 3 ë²ˆ ë°©ì‹ì²˜ëŸ¼ ëª¨í‚¹ í”„ë ˆì„ì›Œí¬ë¥¼ ì´ìš©í•˜ëŠ” ê²Œ ë” í¸í–ˆë˜ ì ì´ ìˆëŠ”ë°ìš”. ë°”ë¡œ ë©”ì†Œë“œê°€ ì—¬ëŸ¬ ê°œ ì¡´ì¬í•˜ëŠ” íƒ€ì…ì„ ëª¨í‚¹í•  ë•Œ ì…ë‹ˆë‹¤. Golangì´ ì§€í–¥í•˜ëŠ” ë°©í–¥ ìì²´ê°€ interfaceëŠ” ë§ì€ ë©”ì†Œë“œë¥¼ ê°–ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì´ê¸´ í•˜ì§€ë§Œ ë­.. ê²½ìš°ì— ë”°ë¼ ë©”ì†Œë“œê°€ ë§ì•„ì§ˆ ìˆ˜ë„ ìˆì£  ã…ã…. interfaceë¥¼ ëª¨í‚¹í•˜ê¸° ìœ„í•´ ë³„ë¡œ í…ŒìŠ¤íŠ¸ ì‹œì— í•„ìš”ë„ ì—†ëŠ” ë©”ì†Œë“œë“¤ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì€ ê½¤ë‚˜ ê·€ì°®ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ mocking í”„ë ˆì„ì›Œí¬ë“¤ì„ ì´ìš©í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ëª¨í‚¹í•˜ë ¤ëŠ” interfaceë“¤ì˜ ë©”ì†Œë“œë“¤ì€ ëª¨ë‘ êµ¬í˜„ë˜ê³ , ìš°ë¦¬ëŠ” í•„ìš”í•œ ê²½ìš°ì—ë§Œ ì¶”ê°€ì ìœ¼ë¡œ êµ¬í˜„ì„ í•´ë‚˜ê°€ëŠ” í˜•íƒœì´ë¯€ë¡œ ëª¨í‚¹ í”„ë ˆì„ì›Œí¬ë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì´ í¸ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë°˜ë©´ mocking í”„ë ˆì„ì›Œí¬ë¥¼ ì´ìš©í•  ë•Œì˜ ë‹¨ì ì€ í”„ë ˆì„ì›Œí¬ ì‚¬ìš©ë²•ì„ ìµí˜€ì•¼í•œë‹¤ëŠ” ê²ƒì´ë‚˜ ë‚´ê°€ ì§ì ‘ ì‘ì„±í•˜ì§€ ì•Šì€ ì½”ë“œê°€ ë§ì´ ìƒì„±ëœë‹¤ëŠ” ì ì´ ë˜ê² ë„¤ìš”. ê·¸ëŸ¼ ì´ì œ &lt;code>gomock&lt;/code>ê³¼ &lt;code>testify/mock&lt;/code>ì„ ë¹„êµí•´ë³´ê² ìŠµë‹ˆë‹¤. &lt;a class="link" href="https://blog.codecentric.de/2019/07/gomock-vs-testify/" target="_blank" rel="noopener"
>&amp;ldquo;GoMock vs. Testify: Mocking frameworks for Go&amp;rdquo; - codecentric blog&lt;/a>ì—ë„ ë‚´ìš©ì´ ì˜ ì •ë¦¬ë˜ì–´ìˆìœ¼ë‹ˆ ì°¸ê³ í•´ë³´ì„¸ìš”.&lt;/p>
&lt;h3 id="golang-mocking-í”„ë ˆì„ì›Œí¬-gomock-vs-testifymock-ë¹„êµ">Golang mocking í”„ë ˆì„ì›Œí¬ gomock vs testify/mock ë¹„êµ&lt;/h3>
&lt;p>&lt;figure style="flex-grow: 137; flex-basis: 330px">
&lt;a href="https://umi0410.github.io/blog/golang/how-to-backend-in-go-testcode/star-comparison.png" data-size="806x585">&lt;img src="https://umi0410.github.io/blog/golang/how-to-backend-in-go-testcode/star-comparison.png"
srcset="https://umi0410.github.io/blog/golang/how-to-backend-in-go-testcode/star-comparison_hu3121147bea7725a070fb77a748a94b6d_46090_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/how-to-backend-in-go-testcode/star-comparison_hu3121147bea7725a070fb77a748a94b6d_46090_1024x0_resize_box_3.png 1024w"
width="806"
height="585"
loading="lazy"
alt="star-comparison.png">
&lt;/a>
&lt;figcaption>star-comparison.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>golangì—ì„œ ì§ì ‘ ì œì‘í•˜ëŠ” &lt;code>gomock&lt;/code>ê³¼ &lt;code>stretchr/testify&lt;/code>ë¼ëŠ” ìœ ëª…í•œ í…ŒìŠ¤íŠ¸ ê´€ë ¨ ë ˆí¬ì§€í† ë¦¬ì˜ í•˜ìœ„ íŒ¨í‚¤ì§€ì¸ &lt;code>testify/mock&lt;/code> ì€ Golangì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê°€ì¥ ìœ ëª…í•œ ëª¨í‚¹ í”„ë ˆì„ì›Œí¬ë“¤ì…ë‹ˆë‹¤. ê¹ƒí—™ ìŠ¤íƒ€ë§Œ ë†“ê³  ë´¤ì„ ë•Œì—ëŠ” testifyê°€ í›¨ì”¬ ë§ì§€ë§Œ testifyëŠ” ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ íŒ¨í‚¤ì§€ë“¤ë„ í•¨ê»˜ ìˆì–´ì„œ ì •í™•íˆ ë¹„êµëŠ” ì•ˆë˜ê² ë„¤ìš”.&lt;/p>
&lt;p>ì €ë„ ë‘ í”„ë ˆì„ì›Œí¬ì˜ íŠ¹ì§•ì— ëŒ€í•´ ì •í™•íˆëŠ” ëª¨ë¥´ì§€ë§Œ ê°„ë‹¨íˆ ì•„ëŠ” ì„ ì—ì„œ ì£¼ê´€ì ì¸ ì¶”ì²œì„ í•˜ìë©´ &lt;code>gomock&lt;/code>ì„ ì¶”ì²œë“œë¦¬ê² ìŠµë‹ˆë‹¤. &lt;code>testify/mock&lt;/code>ì— ë¹„í•´ ì›ë³¸ interface íƒ€ì…ì„ ë°”íƒ•ìœ¼ë¡œ ëª¨í‚¹ ë©”ì†Œë“œë¥¼ ì¢€ ë” safeí•˜ê²Œ ì •ì˜í•  ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ë‹¤ë§Œ ì •ë§ ë­˜ ì“°ë“  ìƒê´€ ì—†ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ê°ì ì¡°ê¸ˆì˜ ì¥ë‹¨ì ì€ ìˆì§€ë§Œ ë­ í•˜ë‚˜ê°€ íŠ¹ì¶œë‚˜ê±°ë‚˜ ëª¨ìë€ ëŠë‚Œì€ ì•„ë‹™ë‹ˆë‹¤. ë‘ í”„ë ˆì„ì›Œí¬ì˜ íŠ¹ì§•ì„ ì•„ë˜ì™€ ê°™ì´ ì •ë¦¬í•´ë´¤ìŠµë‹ˆë‹¤. (ì°¸ê³ ë¡œ ì•Œì•„ë³´ë‹ˆ ì œê°€ ì¢‹ì•„í•˜ëŠ” ì„œë¹„ìŠ¤ì¸ &lt;code>ArgoCD&lt;/code> (K8sì˜ GitOps ë°©ì‹ì˜ ë°°í¬ ë„êµ¬)ì—ì„œëŠ” &lt;code>testify/mock&lt;/code>ì„ ì´ìš©í•˜ë”êµ°ìš”&amp;hellip; T.T)&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ì½”ë“œ ìƒì„± ë„êµ¬ë¥¼ ì´ìš©í•´ ì›í•˜ëŠ” interfaceì˜ mock typeì„ ì •ì˜, êµ¬í˜„í•˜ëŠ” ì½”ë“œë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ &lt;code>testify/mock&lt;/code>ì´ ì¢€ ë” í¸í•¨.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>testify/mock&lt;/code> ì´ ì¢€ ë” ë©”ì†Œë“œë¥¼ mockingí•˜ê³  expectationì„ ì„¤ì •í•˜ëŠ” ê²Œ ì§ê´€ì ì´ê³  ê°„ê²°í•˜ë‹¤. ì´ ë¶€ë¶„ì´ &lt;code>testify/mock&lt;/code>ì˜ í° ì¥ì ì¸ë“¯ í•¨.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>testify/mock&lt;/code> ì˜ ì½”ë“œ ìƒì„± ë„êµ¬ì¸ &lt;code>mockery&lt;/code>ê°€ &lt;code>gomock&lt;/code>ì˜ ì½”ë“œ ìƒì„± ë„êµ¬ì¸ &lt;code>mockgen&lt;/code>ë³´ë‹¤ ì“°ê¸° í¸í•˜ë‹¤ëŠ” ì˜ê²¬ì´ ìˆìŒ. (ë³¸ì¸ì€ ì˜ ì²´ê° ëª»í•˜ê² ìŒ)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>gomock&lt;/code>ì´ ì¢€ ë” type safeí•˜ê²Œ ëª¨í‚¹ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤. ì¼ë‹¨ ë©”ì†Œë“œê°€ gomockì€ íƒ€ì…ì„ ê¸°ë°˜ìœ¼ë¡œ ìë™ì™„ì„± ë˜ì§€ë§Œ &lt;code>testify/mock&lt;/code>ì€ ë©”ì†Œë“œ ëª…ì„ ë¬¸ìì—´ë¡œ ë°›ìŒ. ì´ ë¶€ë¶„ì´ gomockì˜ í° ì¥ì ì¸ë“¯ í•¨.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ë‘ í”„ë ˆì„ì›Œí¬ ëª¨ë‘ unexpected callì´ë‚˜ missing call, íŠ¹ì • íšŸìˆ˜ ë§Œí¼ call ë“±ë“±ì˜ ê¸°ëŠ¥ë“¤ì€ ì œê³µí•˜ëŠ” ê²ƒ ê°™ìŒ. ë‹¨ ì¡°ì‚¬í•œ ë°”ë¡œëŠ” &lt;code>testify/mock&lt;/code>ì€ ëª¨í‚¹ ë©”ì†Œë“œ êµ¬í˜„ ì‹œì— ì¸ì ê°’ì„ ì´ìš©í•  ìˆ˜ ì—†ìŒ.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ê·¸ëŸ¼ ë§ë¡œë§Œ ì„¤ëª…í•˜ì§€ ë§ê³  ì½”ë“œë¡œ í•œ ë²ˆ ê°„ë‹¨í•˜ê²Œ ë¹„êµë“œë¦¬ê² ìŠµë‹ˆë‹¤!&lt;/p>
&lt;h3 id="1-ì§ì ‘-mock-íƒ€ì…-ì‘ì„±">1. ì§ì ‘ mock íƒ€ì… ì‘ì„±&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">ManualMockUserRepository&lt;/span> &lt;span class="kd">struct&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">m&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ManualMockUserRepository&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">UserCreateInput&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">User&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ì§ì ‘ Mocking. Args: &amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">input&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">User&lt;/span>&lt;span class="p">{},&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">TestUserService_CreateWithManualMock&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">T&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">s&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">NewUserService&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">new&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ManualMockUserRepository&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">UserCreateInput&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">ID&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;jinsu_umi&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;Jinsu Park&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Password&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;123123123&amp;#34;&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ì´ëŸ° ì‹ìœ¼ë¡œ ë¡œê·¸ë¥¼ í†µí•´ í•˜ë‚˜ í•˜ë‚˜ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//t.Log(&amp;#34;ì—ëŸ¬ê°€ ì¡´ì¬í•˜ì§€ ì•Šì•„ì•¼í•©ë‹ˆë‹¤.&amp;#34;)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//t.Log(&amp;#34;err == nil ì¸ì§€ í™•ì¸í•˜ì‹­ì‹œì˜¤. err == nil: &amp;#34; , err == nil)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// assertë¥¼ ì´ìš©í•´ ìë™ìœ¼ë¡œ ì„±ê³µ/ì‹¤íŒ¨ë¥¼ íŒë‹¨í•˜ì‹­ì‹œì˜¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">assert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NoError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì•ì„œ ë§ì”€ë“œë¦° ëŒ€ë¡œ ì§ì ‘ mock typeì„ ì‘ì„±í•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤. ì •ë§ ì •ë§ safeí•˜ì§€ë§Œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§ˆë‹¤ ë©”ì†Œë“œê°€ returní•˜ëŠ” ê°’ì´ë‚˜ ë™ì‘ì„ ë‹¤ë¥´ê²Œ í•˜ê³  ì‹¶ë‹¤ë©´ ì½”ë“œê°€ ë³µì¡í•´ì§€ê±°ë‚˜ í•œ interfaceì— ëŒ€í•œ ë‹¤ì–‘í•œ mock typeì„ ì—¬ëŸ¬ ê°œ ì‘ì„±í•´ì•¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="2-testifymock-ì´ìš©">2. &lt;code>testify/mock&lt;/code> ì´ìš©&lt;/h3>
&lt;blockquote>
&lt;p>testify/mockì„ ì´ìš©í•˜ëŠ” ê²½ìš° &lt;a class="link" href="https://github.com/vektra/mockery" target="_blank" rel="noopener"
>mockery&lt;/a>ë¼ê³  í•˜ëŠ” ì½”ë“œ ìƒì„± CLI ë„êµ¬ë¥¼ ì´ìš©í•˜ë©´ í¸ë¦¬í•©ë‹ˆë‹¤. ë³¸ ì½”ë“œëŠ” mockeryë¥¼ í†µí•´ ìƒì„±ëœ mock íƒ€ì…ì„ ì´ìš©í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">TestUserService_CreateWithMockery&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">T&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mockUserRepository&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">MockUserRepository&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// methodë¥¼ ë¬¸ìì—´ ìì²´ë¡œ ì„¤ì •í•´ì•¼í•´ì„œ safeí•˜ì§€ ì•ŠìŒ.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">mockUserRepository&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">On&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Create&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">mock&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Anything&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nf">Run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span> &lt;span class="nx">mock&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Arguments&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;testify/mockê³¼ mockeryë¥¼ ì´ìš©í•œ Mocking. Args: &amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">args&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}).&lt;/span>&lt;span class="nf">Return&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">User&lt;/span>&lt;span class="p">{},&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// í•´ë‹¹ ì´ë¦„ì˜ ìœ ì €ê°€ ìˆëŠ”ì§€ í™•ì¸
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">s&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">NewUserService&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">mockUserRepository&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">UserCreateInput&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">ID&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;jinsu_umi&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;Jinsu Park&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Password&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;123123123&amp;#34;&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">assert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NoError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì•ì„œ ë§ì”€ë“œë¦° ëŒ€ë¡œ ë©”ì†Œë“œ ëª…ì´ unsafeí•˜ê²Œ &lt;code>.On(methodName string, ...)&lt;/code>ì˜ í˜•íƒœë¡œ ë¬¸ìì—´ì„ ì´ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. argument ë˜í•œ ë‹¨ìˆœíˆ mock.Argumentsë¥¼ í†µí•´ ì–»ì„ ìˆ˜ ìˆê³  ì´ì— ëŒ€í•´ &lt;code>.Get&lt;/code>ì„ í†µí•´ ì–»ëŠ” ê°’ì€ &lt;code>interface{}&lt;/code>ì´ê¸° ë•Œë¬¸ì— type assertionì„ ê±°ì³ì•¼ë§Œ ë‚´ë¶€ ê°’ì„ ë³µì‚¬í•´ì„œ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="3-gomock-ì´ìš©">3. &lt;code>gomock&lt;/code> ì´ìš©&lt;/h3>
&lt;blockquote>
&lt;p>gomockì€ mockgen(ì°¸ê³ : &lt;a class="link" href="https://github.com/golang/mock" target="_blank" rel="noopener"
>https://github.com/golang/mock&lt;/a>)ì´ë¼ëŠ” ì½”ë“œ ìƒì„± CLI ë„êµ¬ë¥¼ ì´ìš©í•©ë‹ˆë‹¤. ë³¸ ì½”ë“œëŠ” mockgenì„ í†µí•´ ìƒì„±ëœ mock íƒ€ì…ì„ ì´ìš©í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">TestUserService_CreateWithMockgen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">T&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// gomock controllerì„ ë§Œë“¤ê³  Finish ì‹œì¼œì£¼ëŠ” ë“±ì˜ ë¶ˆí¸í•¨ ì¡´ì¬.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">ctrl&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">gomock&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewController&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">defer&lt;/span> &lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Finish&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mockUserRepository&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">NewGomockRepository&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctrl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ì›ë˜ì˜ typeì„ ê¸°ë°˜ìœ¼ë¡œ methodê°€ safeí•˜ê²Œ ì œê³µë¨.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">mockUserRepository&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">EXPECT&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nf">Create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">gomock&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Any&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nf">DoAndReturn&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">UserCreateInput&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">User&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Gomockì„ ì´ìš©í•œ Mocking. Args: &amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">input&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">User&lt;/span>&lt;span class="p">{},&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// í•´ë‹¹ ì´ë¦„ì˜ ìœ ì €ê°€ ìˆëŠ”ì§€ í™•ì¸
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">s&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">NewUserService&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">mockUserRepository&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">UserCreateInput&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">ID&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;jinsu_umi&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;Jinsu Park&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Password&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;123123123&amp;#34;&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">assert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NoError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>gomock controllerë¼ëŠ” ë…€ì„ì„ ìƒì„±í•´ì£¼ê³  finish ì‹œì¼œì¤˜ì•¼í•˜ëŠ” ë¶ˆí¸í•¨ì´ ìƒê²¨ë‚¬ìŠµë‹ˆë‹¤ë§Œ ëª¨í‚¹í•˜ê³ ì í•˜ëŠ” ë©”ì†Œë“œë¥¼ safeí•˜ê²Œ ì œê³µë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. &lt;code>.DoAndReturun()&lt;/code> ë©”ì†Œë“œì˜ ì¸ìë¡œì„œ ì–´ë–¤ í•¨ìˆ˜ë¡œ ëª¨í‚¹í•  ì§€ë¥¼ ì „ë‹¬í•˜ëŠ”ë° ì‚¬ì‹¤ ì´ í•¨ìˆ˜ ìì²´ë¥¼ interface{}ê°€ ë°›ê¸° ë•Œë¬¸ì— ì¸ìëŠ” ì œê°€ ì •ì˜í•˜ê¸° ë‚˜ë¦„ì´ë¼ ì›ë³¸ interfaceì™€ ì‹±í¬ë˜ì§€ëŠ” ì•ŠëŠ” ì•½ê°„ì˜ ì•„ì‰¬ì›€ì´ ì¡´ì¬í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ &lt;code>testify/mock&lt;/code>ì²˜ëŸ¼ argsì˜ ìˆœì„œì— ë”°ë¼ &lt;code>.Get()&lt;/code>ì„ í•œ ë’¤ &lt;code>interface{}&lt;/code> íƒ€ì…ì˜ ê°ê°ì˜ ì¸ìë“¤ì„ type assertioní•  í•„ìš”ë„ ì—†ê³  ê°€ë…ì„±ì´ ë” ì¢‹ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="í…ŒìŠ¤íŠ¸-ì½”ë“œ-ì‘ì„±í•´ë³´ê¸°">í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±í•´ë³´ê¸°&lt;/h2>
&lt;ol>
&lt;li>&lt;code>*_test.go&lt;/code> í˜•íƒœì˜ íŒŒì¼ ìƒì„±í•˜ê¸°&lt;/li>
&lt;li>func &lt;code>Test* (t *testing.T){...}&lt;/code> í˜•íƒœì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„±í•˜ê¸°&lt;/li>
&lt;li>ë¡œê·¸ë‚˜ Printë¬¸ì´ ì•„ë‹Œ assert ë¬¸ì„ ì´ìš©í•´ í…ŒìŠ¤íŠ¸ ì„±ê³µ/ì‹¤íŒ¨ íŒë‹¨ì„ ìë™í™”í•˜ê¸°&lt;/li>
&lt;/ol>
&lt;p>Golangì—ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ í•˜ê¸° ìœ„í•´ì„  ìš°ì„  ìœ„ì˜ 3ê°€ì§€ ì‚¬í•­ë§Œ ì•Œì•„ë‘ë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ë¦¬ê³  ì¶”ê°€ì ìœ¼ë¡œ golangì—ì„  í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì†ì— nestedëœ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì–¼ë§ˆë“ ì§€ ì§‘ì–´ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë„ˆë¬´ë„ˆë¬´ í¸ë¦¬í•˜ì£ ~! ê·¸ëŸ¼ ì´ë²ˆì—ë„ ì½”ë“œë¡œ ì˜ˆì‹œë¥¼ ë³´ì—¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤. Userì— ëŒ€í•œ Domain/Business layerì—ì„œì˜ ë„ë©”ì¸ ë£°ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. Data access ê³„ì¸µì„ í†µí•´ Userê°€ ì˜ì†ì ìœ¼ë¡œ ì˜ ì €ì¥ë˜ì—ˆëŠ”ì§€ë³´ë‹¤ëŠ” ë„ë©”ì¸ ë£°ì„ í…ŒìŠ¤íŠ¸í•˜ë ¤ëŠ” ëª©ì ì´ê¸° ë•Œë¬¸ì— Data access ê³„ì¸µ(Repository)ì— ëŒ€í•´ì„œëŠ” ëª¨í‚¹ì„ ì ìš©í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// nested test caseë¥¼ ì‘ì„±í•˜ê³  ì‹¶ì€ ê²½ìš°. ì´ë ‡ê²Œ ì‘ì„±í•˜ì‹­ì‹œì˜¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">TestA&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">T&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;A-a&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">T&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;A-a-1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">T&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// service_test.go ì˜ˆì‹œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nx">TestUserService_&lt;/span>&lt;span class="err">ìœ ì €&lt;/span>&lt;span class="nx">_&lt;/span>&lt;span class="err">ìƒì„±&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">T&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// repository mocking
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">ctrl&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">gomock&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewController&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">defer&lt;/span> &lt;span class="nx">ctrl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Finish&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mockUserRepository&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">NewGomockRepository&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctrl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ì›ë˜ì˜ typeì„ ê¸°ë°˜ìœ¼ë¡œ methodê°€ safeí•˜ê²Œ ì œê³µë¨.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">mockUserRepository&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">EXPECT&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nf">Create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">gomock&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Any&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nf">DoAndReturn&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">UserCreateInput&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">User&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Gomockì„ ì´ìš©í•œ Mocking. Args: &amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">input&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">User&lt;/span>&lt;span class="p">{},&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// í•´ë‹¹ ì´ë¦„ì˜ ìœ ì €ê°€ ìˆëŠ”ì§€ í™•ì¸
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">s&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">NewUserService&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">mockUserRepository&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ì„±ê³µ&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">T&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">UserCreateInput&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">ID&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;jinsu_umi&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;Jinsu Park&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Password&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;123123123&amp;#34;&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">assert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NoError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ì—ëŸ¬) ë„ˆë¬´ ì§§ì€ ì•„ì´ë””&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">T&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">UserCreateInput&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">ID&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;short&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;Jinsu Park&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Password&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;123123123&amp;#34;&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">assert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ErrorIs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ErrInvalidUserID&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">assert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ErrorIs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ErrInvalidValue&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ì—ëŸ¬) ë„ˆë¬´ ê¸´ ì´ë¦„&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">T&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">UserCreateInput&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">ID&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;jinsu_umi&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;ë‹ˆë…¸ë§‰ì‹œë¬´ìŠ¤ ì¹´ì´ì € ì˜ì œ ì˜ëƒë„ë¥´ì•¤ ìŠ¤íŒŒë¥´íƒ€ ì£½ì§€ ì•Šì•„ ë‚˜ëŠ” ì£½ì§€ì•Šì•„ ì˜¤ì˜¤ì˜¤ì˜¤ ë‚˜ëŠ” ì¹´ì´ì € ì˜ì œ&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Password&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;123123123&amp;#34;&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">assert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ErrorIs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ErrInvalidUserName&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">assert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ErrorIs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ErrInvalidValue&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ì—ëŸ¬) ë„ˆë¬´ ì§§ì€ ë¹„ë°€ë²ˆí˜¸ë“¤&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">T&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">errorPasswords&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;123&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;abc&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;a1b2&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;asd&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">errorPassword&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">errorPasswords&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤) &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">errorPassword&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">T&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">UserCreateInput&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">ID&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;jinsu_umi&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;Jinsu Park&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Password&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">errorPassword&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">assert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ErrorIs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ErrInvalidPassword&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">assert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ErrorIs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ErrInvalidValue&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>TestUserService_ìœ ì €_ìƒì„±&lt;/code> ì´ë¼ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì•ˆì— ì„±ê³µí•˜ëŠ” ê²½ìš°ì™€ ì˜¬ë°”ë¥´ì§€ ì•Šì€ IDë‚˜ ì´ë¦„, ë¹„ë°€ë²ˆí˜¸ë¡œ ì¸í•´ ì—ëŸ¬ê°€ ë°œìƒí•´ì•¼í•˜ëŠ” ê²½ìš°ë¥¼ nestedëœ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¡œ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. íŠ¹íˆë‚˜ ë¹„ë°€ë²ˆí˜¸ëŠ” í•œ ë²ˆ ë” nestedëœ ì¼€ì´ìŠ¤ë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. ê°™ì€ ë¡œì§ì„ ë‹¤ì–‘í•œ ì¸í’‹ì„ ì´ìš©í•´ í…ŒìŠ¤íŠ¸ í•˜ê³  ì‹¶ì€ ê²½ìš°ì—ëŠ” &lt;code>errorPasswords&lt;/code> ë¶€ë¶„ì²˜ëŸ¼ ì¸í’‹ í˜¹ì€ ê²°ê³¼ê°’ì„ ë°°ì—´ë¡œ ì„ ì–¸í•œ ë’¤ í…ŒìŠ¤íŠ¸ í•˜ëŠ” ê²½ìš°ë¥¼ ì¢…ì¢… ë³´ê²Œë˜ë”êµ°ìš”. (ì°¸ê³ : &amp;ldquo;&lt;a class="link" href="https://blog.golang.org/subtests" target="_blank" rel="noopener"
>Using Subtests and Sub-benchmarks&lt;/a>&amp;rdquo; - Go Blog, &amp;ldquo;&lt;a class="link" href="https://github.com/uber-go/guide/blob/master/style.md" target="_blank" rel="noopener"
>Uber Go style guide&lt;/a>&amp;ldquo;ì˜ test-tables íŒŒíŠ¸ - uber)&lt;/p>
&lt;p>&lt;figure style="flex-grow: 356; flex-basis: 855px">
&lt;a href="https://umi0410.github.io/blog/golang/how-to-backend-in-go-testcode/test-with-ide.png" data-size="1184x332">&lt;img src="https://umi0410.github.io/blog/golang/how-to-backend-in-go-testcode/test-with-ide.png"
srcset="https://umi0410.github.io/blog/golang/how-to-backend-in-go-testcode/test-with-ide_hu7b61495424919d2e1c8d663236a41b57_159980_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/how-to-backend-in-go-testcode/test-with-ide_hu7b61495424919d2e1c8d663236a41b57_159980_1024x0_resize_box_3.png 1024w"
width="1184"
height="332"
loading="lazy"
alt="test-with-ide.png">
&lt;/a>
&lt;figcaption>test-with-ide.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure style="flex-grow: 161; flex-basis: 387px">
&lt;a href="https://umi0410.github.io/blog/golang/how-to-backend-in-go-testcode/run-each-test.png" data-size="815x505">&lt;img src="https://umi0410.github.io/blog/golang/how-to-backend-in-go-testcode/run-each-test.png"
srcset="https://umi0410.github.io/blog/golang/how-to-backend-in-go-testcode/run-each-test_hu619b36e63953e285c6c9c2ff6f3f94e9_98540_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/how-to-backend-in-go-testcode/run-each-test_hu619b36e63953e285c6c9c2ff6f3f94e9_98540_1024x0_resize_box_3.png 1024w"
width="815"
height="505"
loading="lazy"
alt="run-each-test.png">
&lt;/a>
&lt;figcaption>run-each-test.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ê²Œë‹¤ê°€ GoLandë¥¼ ë¹„ë¡¯í•´ Goì–¸ì–´ë¥¼ ì§€ì›í•˜ëŠ” IDEë¥¼ ì´ìš© ì¤‘ì´ì‹œë¼ë©´ ë†’ì€ í™•ë¥ ë¡œ ì´ë ‡ê²Œ í¸ë¦¬í•˜ê²Œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ê³  ê²°ê³¼ë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ë‘ ë²ˆì§¸ ì‚¬ì§„ì— ë³´ì´ë“¯ ë‚´ë¶€ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì— ëŒ€í•œ ë‹¨ì¼ ì‹¤í–‰ë„ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ~! ì´ì œ ì¢€ ë” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‰½ê²Œ ì´ìš©í•  ìˆ˜ ìˆê² êµ°ìš”. ã…ã…&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>ì´ë²ˆ í¸ì„ ì¤€ë¹„í•˜ë©´ì„œ ì²˜ìŒ ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•  ë•Œ ì°¾ì•„ë´¤ë˜ ìë£Œë“¤ë„ ë‹¤ì‹œ í•œ ë²ˆ ì½ì–´ë³´ê³  etcdë‚˜ argocd ê°™ì€ Goë¡œ ì‘ì„±ëœ ìœ ëª… ì˜¤í”ˆ ì†ŒìŠ¤ë“¤ì€ ì–´ë–»ê²Œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ”ì§€ë„ ì°¾ì•„ë³´ëŠ” ë“± ê½¤ ì¡°ì‚¬ë¥¼ ë§ì´ í•˜ê²Œëœ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì•„ë¬´ë˜ë„ í…ŒìŠ¤íŠ¸ ì½”ë“œë¼ëŠ” ê²ƒì´ ì–´ë– í•œ ë°©í–¥ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œì™€ ê°œë°œì„ ì„¤ê³„í•´ë‚˜ê°ˆì§€, ì–´ë””ê¹Œì§€ í…ŒìŠ¤íŠ¸í•  ì§€ì™€ ê°™ì€ ë°©ë²•ë¡ ì ì¸ ë¶€ë¶„ê³¼ í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ ìì²´ì˜ ì‚¬ìš©ë²•, ëª¨í‚¹ í”„ë ˆì„ì›Œí¬ ì‚¬ìš©ë²•ê³¼ ê°™ì€ ì•½ê°„ì€ Golang íŠ¹í™”ì ì¸ ë‚´ìš© ë“±ë“± ë‹¤ì–‘í•œ ì˜ì—­ì— ê±¸ì¹œ ë‚´ìš©ì´ë¼ ì‰½ì§„ ì•Šì€ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ê·¸ë˜ë„ ì´ë²ˆì„ ê¸°íšŒ ì‚¼ì•„ ì €ë„ í‰ì†Œì— ê¶ê¸ˆí–ˆë˜ mockery vs testify/mock ì˜ ë¹„êµë„ í•´ë³¼ ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ê³ , mockingì„ ì ìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì¢€ ë” ìì„¸íˆ ì•Œì•„ë³¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤! ê°ì‚¬í•©ë‹ˆë‹¤~!&lt;/p>
&lt;p>&lt;strong>ì˜ˆì‹œ ì½”ë“œ&lt;/strong>: &lt;a class="link" href="https://github.com/umi0410/how-to-backend-in-go/tree/master/testcode" target="_blank" rel="noopener"
>https://github.com/umi0410/how-to-backend-in-go/tree/master/testcode&lt;/a>&lt;/p>
&lt;h2 id="ì°¸ê³ -ìë£Œ">ì°¸ê³  ìë£Œ&lt;/h2>
&lt;ul>
&lt;li>What&amp;rsquo;s the difference between a mock &amp;amp; stub? - &lt;a class="link" href="https://stackoverflow.com/questions/3459287/whats-the-difference-between-a-mock-stub" target="_blank" rel="noopener"
>https://stackoverflow.com/questions/3459287/whats-the-difference-between-a-mock-stub&lt;/a>&lt;/li>
&lt;li>gomock vs testify - &lt;a class="link" href="https://blog.codecentric.de/2019/07/gomock-vs-testify/" target="_blank" rel="noopener"
>https://blog.codecentric.de/2019/07/gomock-vs-testify/&lt;/a>&lt;/li>
&lt;li>mockery Github Repository - &lt;a class="link" href="https://github.com/vektra/mockery" target="_blank" rel="noopener"
>https://github.com/vektra/mockery&lt;/a>&lt;/li>
&lt;li>stretchr/testify Github Repository - &lt;a class="link" href="https://github.com/stretchr/testify" target="_blank" rel="noopener"
>https://github.com/stretchr/testify&lt;/a>&lt;/li>
&lt;li>gomock Github Repository - &lt;a class="link" href="https://github.com/golang/mock" target="_blank" rel="noopener"
>https://github.com/golang/mock&lt;/a>&lt;/li>
&lt;li>Using Subtests and Sub-benchmarks - &lt;a class="link" href="https://blog.golang.org/subtests" target="_blank" rel="noopener"
>https://blog.golang.org/subtests&lt;/a>&lt;/li>
&lt;li>uber-go Guide - &lt;a class="link" href="https://github.com/uber-go/guide/blob/master/style.md" target="_blank" rel="noopener"
>https://github.com/uber-go/guide/blob/master/style.md&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Golangìœ¼ë¡œ ë°±ì—”ë“œ ê°œë°œí•˜ê¸° - 1. ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—…í•˜ê¸° (Ent í”„ë ˆì„ì›Œí¬ ì´ìš©)</title><link>https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/</link><pubDate>Sat, 03 Jul 2021 12:46:54 +0900</pubDate><guid>https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/</guid><description>&lt;img src="https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/o2m-relation.png" alt="Featured image of post Golangìœ¼ë¡œ ë°±ì—”ë“œ ê°œë°œí•˜ê¸° - 1. ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—…í•˜ê¸° (Ent í”„ë ˆì„ì›Œí¬ ì´ìš©)" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>Go ì–¸ì–´ë¥¼ ì²˜ìŒ ì‹œì‘í•œ ì§€ ë²Œì¨ 1ë…„ì´ ì§€ë‚¬ë‹¤ë‹ˆ ì‹œê°„ì´ ì°¸ ë¹ ë¥¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤! JavaëŠ” Springì´ë¼ê³ í•˜ëŠ” ê±°ëŒ€í•œ í”„ë ˆì„ì›Œí¬ê°€ ìë¦¬ ì¡ê³  ìˆì–´ ë”±íˆ ì–´ë–¤ í”„ë ˆì„ì›Œí¬ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í• ì§€ì— ëŒ€í•œ ê³ ë¯¼ì´ ë³„ë¡œ í•„ìš” ì—†ì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ë°˜ë©´ Go ì–¸ì–´ëŠ” ì •í˜•í™”ëœ ì•„í‚¤í…ì³ì— ëŒ€í•œ ë‚´ìš©ì´ ë³„ë¡œ ì—†ê³  í”„ë ˆì„ì›Œí¬ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ëŒ€ì„¸ë„ ì°¸ ë¹ ë¥´ê²Œ ë³€í•˜ë‹¤ë³´ë‹ˆ ê·¸ê²Œ ì¥ì ì´ë¼ë©´ ì¥ì ì´ê² ì§€ë§Œ ì´ë˜ì €ë˜ ê³ ìƒë„ í–ˆë„¤ìš”.&lt;/p>
&lt;p>ê²Œë‹¤ê°€ Go ì–¸ì–´ëŠ” ê°œë°œ ì…ë¬¸ìë“¤ì´ ë§ì´ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì–¸ì–´ë¼ ê·¸ëŸ°ì§€ ì•„ì§ ì›¹ ë°±ì—”ë“œ ê°œë°œì— ìµìˆ™í•˜ì§€ ì•Šì€ (ì €ì²˜ëŸ¼) ì‚¬ëŒë“¤ì„ ìœ„í•œ ìë£Œë“¤ì€ ë§ì´ ì—†ì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´ Javaì˜ ìŠ¤í”„ë§ì´ë‚˜ Node.jsì˜ express, Pythonì˜ django ê°™ì€ í”„ë ˆì„ì›Œí¬ë“¤ì€ ì¸í”„ëŸ°ë§Œ ê°€ë´ë„ A to Zë¡œ ì•Œë ¤ì£¼ëŠ” ê°•ì˜ê°€ ë§ì£ . í•˜ì§€ë§Œ Go ì–¸ì–´ëŠ” ë³´í†µ ì–¸ì–´ ì…ë¬¸ ë‚´ìš©ë“¤ì´ ë§ê³ ,
&lt;em>&lt;del>&amp;ldquo;ì~! ì—¬ëŸ¬ë¶„ë“¤ì€ ì–´ì°¨í”¼ ê°œë°œ ì´ˆë³´ìë“¤ì´ ì•„ë‹ˆì‹œì–ì•„ìš”? ì´ì¯¤í•˜ë©´ Golangì„ ë§›ë³´ì…¨ìœ¼ë‹ˆ ì•Œì•„ì„œë“¤ ì…ë§›ëŒ€ë¡œ ì“°ì‹­ì‹œì˜¤~!&amp;quot;&lt;/del>&lt;/em> ì‹ìœ¼ë¡œ ì…ë¬¸ ì´í›„ì˜ ë‚´ìš©ì€ ë³´í†µ ë™ì‹œì„± íŒ¨í„´ì— ëŒ€í•œ ë‚´ìš©ë“¤ì¼ ë¿
ë°±ì—”ë“œ ê°œë°œì„ ìœ„í•œ ì•„í‚¤í…ì³ë‚˜ Unit testë¥¼ ì–´ë–»ê²Œ ì‹¤ì œë¡œ ì ìš©í•˜ëŠ”ì§€ ê°™ì€ ì˜ˆì‹œëŠ” ë§ì´ ì—†ì—ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì´ë²ˆì—” Golangìœ¼ë¡œ ì›¹ ë°±ì—”ë“œ ê°œë°œì„ í•˜ëŠ” ê³¼ì •ì— ëŒ€í•´ ì¢€ ì ì–´ë³¼ê¹Œí•©ë‹ˆë‹¤!&lt;/p>
&lt;p>ì´ë²ˆ ê¸€ì€ ê·¸ëŸ° ë‚´ìš©ì„ ë‹¤ë£° ì‹œë¦¬ì¦ˆ ì¤‘ ì²« ë²ˆì§¸ë¡œ Golangìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—…í•˜ëŠ” ê²ƒê³¼ ê´€ë ¨í•œ ë‚´ìš©ì„ ë‹´ì•„ë´¤ìŠµë‹ˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ì— ëŒ€í•œ ì„¸ì„¸í•œ ë‚´ìš©ë³´ë‹¨ ì–´ë–¤ í”„ë ˆì„ì›Œí¬ë¥¼ ì¶”ì²œë“œë¦¬ê³ , ê·¸ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ìŠµì´ ì–´ë– í•œì§€
ê°€ë³ê²Œ ì“°ìœ½ ë³´ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="3-layered-architectureì—-ëŒ€í•´-ê°„ë‹¨íˆ-ì§šê³ -ë„˜ì–´ê°€ê² ìŠµë‹ˆë‹¤">3 layered architectureì— ëŒ€í•´ ê°„ë‹¨íˆ ì§šê³  ë„˜ì–´ê°€ê² ìŠµë‹ˆë‹¤&lt;/h2>
&lt;ul>
&lt;li>&lt;code>Presentation layer&lt;/code> - ì–´ë–»ê²Œ ë°ì´í„°ê°€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë³´ì—¬ì¤„ ì§€ì— ëŒ€í•œ ì‘ì—…ì„ ë‹´ë‹¹. í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ ê³„ì¸µì„ í†µí•´ ìƒí˜¸ì‘ìš©í•œë‹¤.&lt;/li>
&lt;li>&lt;code>Business/Domain layer&lt;/code> - Presentation layerì™€ Data access layerì˜ ì‚¬ì´ì— ìœ„ì¹˜í•´ ë¹„ì¦ˆë‹ˆìŠ¤ ë£°ê³¼ ê·¸ ë£°ì„ ë”°ë¥´ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ êµ¬í˜„. ë³´í†µ ì´ ê³„ì¸µì— Serviceë¼ê³  í•˜ëŠ” í´ë˜ìŠ¤(í˜¹ì€ íƒ€ì… ë“±ë“±)ê°€ ìœ„ì¹˜í•œë‹¤.&lt;/li>
&lt;li>&lt;code>Data Access Layer&lt;/code> - DBì— ì ‘ê·¼í•˜ëŠ” ì‘ì—…ì„ ë‹´ë‹¹. DAO(Data Access Object, repository)ê°€ ìœ„ì¹˜í•œë‹¤.&lt;/li>
&lt;/ul>
&lt;p>ëŒ€ë¶€ë¶„ì˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ &lt;code>3 layered architecture&lt;/code>ë¼ê³ í•˜ëŠ” êµ¬ì¡°ë¡œ ê¸°ì´ˆë¡œ í•˜ì—¬ ê°œë°œë©ë‹ˆë‹¤. ê·¸ ì†ì—ì„œ ì—¬ëŸ¬ ë‹¨ìˆœ ì‘ì—…ì´ë‚˜ ê°œë³„ì ìœ¼ë¡œ ê°œë°œí•˜ê¸´ ë²ˆê±°ë¡œìš´ ê¸°ëŠ¥ë“¤ì´ ì¡´ì¬í•  ìˆ˜ ìˆëŠ”ë°, ìš°ë¦¬ëŠ” í”„ë ˆì„ì›Œí¬ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ë“¤ì„ ì˜ë¦¬í•˜ê²Œ ê°€ì ¸ë‹¤ ì”€ìœ¼ë¡œì„œ ì¢€ ë” ìœ ì§€ ë³´ìˆ˜ í•˜ê¸° ì‰¬ìš´ ê°œë°œì„ í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="presentation-layer">Presentation layer&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/users/:id&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">fiber&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Ctx&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">error&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userId&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Params&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ... ê¸°íƒ€ ì‘ì—… ìƒëµ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">JSON&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">map&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;userId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">userId&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;figure style="flex-grow: 196; flex-basis: 472px">
&lt;a href="https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/presentation-layer-output.png" data-size="323x164">&lt;img src="https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/presentation-layer-output.png"
srcset="https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/presentation-layer-output_hu82c0e5805551b09a7aaeabc91ba76592_7927_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/presentation-layer-output_hu82c0e5805551b09a7aaeabc91ba76592_7927_1024x0_resize_box_3.png 1024w"
width="323"
height="164"
loading="lazy"
alt="presentation-layer-output.png">
&lt;/a>
&lt;figcaption>presentation-layer-output.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;em>url path variableì€ ì–´ë–»ê²Œ ì¸ì‹í•  ê²ƒì¸ì§€, Golangì˜ mapì„ ì–´ë–»ê²Œ JSONìœ¼ë¡œ ì§ë ¬í™”í•  ì§€ì™€ ê°™ì€ ë¡œì§ë“¤ì´ ëª¨ë‘ í”„ë ˆì„ì›Œí¬ì—ì„œ ì œê³µë¨.&lt;/em>&lt;/p>
&lt;p>ì €ëŠ” Presentation layerëŠ” ëŒ€ë¶€ë¶„ ì›¹ í”„ë ˆì„ì›Œí¬ ìì²´ë‚˜ í•´ë‹¹ ì›¹ í”„ë ˆì„ì›Œí¬ê°€ ì œê³µí•˜ëŠ” í˜•íƒœë¥¼ ë”°ë¥´ëŠ” í•¸ë“¤ëŸ¬ ë‹¨ì—ì„œ ì œê³µì´ ëœë‹¤ê³  ìƒê°í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì–´ë–»ê²Œ ì‘ë‹µì„ JSON í˜•íƒœë¡œ ì œê³µí• ì§€ HTML, XML, ì´ì§„ ë°ì´í„°(gRPC)ì™€ ê°™ì€ ë‚´ìš©ë“¤ ë§ì´ì£ . ì¦‰ Presentation layerì—ì„œëŠ” ìš°ë¦¬ê°€ ê·¸ë‹¥ ê°œë°œí•  ê²ƒì´ ë§ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="business-layer">Business layer&lt;/h3>
&lt;blockquote>
&lt;p>Domain logicê³¼ Business logicì˜ ì°¨ì´ëŠ” ì–´ëŠ ì •ë„ ì¡´ì¬í•˜ëŠ” ê±¸ë¡œ ì•Œê³  ìˆìŠµë‹ˆë‹¤ë§Œ 3 tierë¡œ ë‚˜ëˆ´ì„ ë•ŒëŠ” ë™ì¼í•œ ê³„ì¸µìœ¼ë¡œ ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Domain/Business layer ì½”ë“œ ì˜ˆì‹œ - ìš°ë¦¬ ë„ë©”ì¸ íŠ¹ì • ì½”ë“œë“¤ì´ ë§ì•„ ë‚¨(ìš°ë¦¬ íŒ€ í˜¹ì€ ê¸°ì—…ì´ ì•„ë‹Œ ì‚¬ëŒë“¤)ì´ ë§Œë“  ì˜¤í”ˆì†ŒìŠ¤ë¡œ ëŒ€ì²´í•˜ê¸° í˜ë“¦.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">svc&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">UserService&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">updateProfileImage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">requestUser&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">User&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">imageFile&lt;/span> &lt;span class="nx">Image&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">UserResponse&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">requestUser&lt;/span>&lt;span class="err">ê°€&lt;/span> &lt;span class="err">ì¸ì¦ëœ&lt;/span> &lt;span class="err">ìœ ì €ì¸ê°€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">ì¸ì¦ëœ&lt;/span> &lt;span class="err">ìœ ì €ê°€&lt;/span> &lt;span class="err">ì•„ë‹ˆë¼ë©´&lt;/span> &lt;span class="err">ì–´ë–¤&lt;/span> &lt;span class="err">ì—ëŸ¬ë¥¼&lt;/span> &lt;span class="err">ë¦¬í„´í• &lt;/span> &lt;span class="err">ê²ƒì¸ê°€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">imageFile&lt;/span>&lt;span class="err">ì´&lt;/span> &lt;span class="err">ì œëŒ€ë¡œ&lt;/span> &lt;span class="err">ëœ&lt;/span> &lt;span class="nx">Image&lt;/span>&lt;span class="err">ì¸ê°€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">ì œëŒ€ë¡œ&lt;/span> &lt;span class="err">ëœ&lt;/span> &lt;span class="nx">Image&lt;/span>&lt;span class="err">ê°€&lt;/span> &lt;span class="err">ì•„ë‹ˆë¼ë©´&lt;/span> &lt;span class="err">ì–´ë–¤&lt;/span> &lt;span class="err">ì—ëŸ¬ë¥¼&lt;/span> &lt;span class="err">ë¦¬í„´í• &lt;/span> &lt;span class="err">ê²ƒì¸ê°€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">imageFile&lt;/span>&lt;span class="err">ì„&lt;/span> &lt;span class="err">ì—…ë¡œë“œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">ì—…ë¡œë“œ&lt;/span> &lt;span class="err">ê³¼ì •&lt;/span> &lt;span class="err">ì¤‘&lt;/span> &lt;span class="err">ì—ëŸ¬&lt;/span> &lt;span class="err">ë°œìƒ&lt;/span> &lt;span class="err">ì‹œ&lt;/span> &lt;span class="err">ì–´ë–¤&lt;/span> &lt;span class="err">ì—ëŸ¬ë¥¼&lt;/span> &lt;span class="err">ë¦¬í„´í• &lt;/span> &lt;span class="err">ê²ƒì¸ê°€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">ìœ ì €ì˜&lt;/span> &lt;span class="err">ì¹œêµ¬ë“¤ì—ê²Œ&lt;/span> &lt;span class="err">ìƒˆë¡œìš´&lt;/span> &lt;span class="err">í”„ë¡œí•„&lt;/span> &lt;span class="err">ì‚¬ì§„&lt;/span> &lt;span class="err">ì—…ë¡œë“œì—&lt;/span> &lt;span class="err">ëŒ€í•œ&lt;/span> &lt;span class="err">ì•Œë¦¼&lt;/span> &lt;span class="err">ë°œì†¡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span> &lt;span class="err">ë“±ë“±&lt;/span> &lt;span class="err">ìƒëµ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="err">ìƒëµ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ë°˜ë©´ &lt;code>Domain/Business layer&lt;/code>ì—ì„œëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë£°ê³¼ ë¡œì§ì´ë¼ê³  í•˜ëŠ” ìš°ë¦¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í•µì‹¬ì ì¸ ê¸°ëŠ¥ì— ëŒ€í•œ êµ¬í˜„ì´ë‚˜ ì¡°í•©ì´ ì´ë£¨ì–´ì§€ê²Œ ë˜ëŠ”ë° ì´ ë¶€ë¶„ íƒ€ ì˜¤í”ˆì†ŒìŠ¤ë“¤ë¡œ ëŒ€ì²´ë˜ê¸°ëŠ” í˜ë“  ë¶€ë¶„ì´ ë§ì•„ ë‹¹ì—°íˆ ì§ì ‘ ê°œë°œí•˜ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ìœ„ì˜ ì½”ë“œë¥¼ ë³´ë©´ ë‹¤ì–‘í•œ ìš°ë¦¬ ì„œë¹„ìŠ¤ì˜ ë¡œì§ë“¤ì´ êµ¬í˜„ë˜ê±°ë‚˜ ì¡°í•©ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="data-access-layer">Data access layer&lt;/h3>
&lt;p>&lt;figure style="flex-grow: 190; flex-basis: 456px">
&lt;a href="https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/jpa-method.png" data-size="582x306">&lt;img src="https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/jpa-method.png"
srcset="https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/jpa-method_hu755e2c0222938f117e5959a368d53523_41512_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/jpa-method_hu755e2c0222938f117e5959a368d53523_41512_1024x0_resize_box_3.png 1024w"
width="582"
height="306"
loading="lazy"
alt="jpa-method.png">
&lt;/a>
&lt;figcaption>jpa-method.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;em>Javaì˜ JPA í”„ë ˆì„ì›Œí¬ì˜ ê²½ìš° ê¸°ë³¸ì ìœ¼ë¡œ CRUD ë©”ì†Œë“œë¥¼ ì œê³µí•´ì¤€ë‹¤.&lt;/em>&lt;/p>
&lt;p>&lt;figure style="flex-grow: 267; flex-basis: 642px">
&lt;a href="https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/django-method.png" data-size="717x268">&lt;img src="https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/django-method.png"
srcset="https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/django-method_hu35af591f1da6148e3aa53a5e144defd6_38902_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/django-method_hu35af591f1da6148e3aa53a5e144defd6_38902_1024x0_resize_box_3.png 1024w"
width="717"
height="268"
loading="lazy"
alt="django-method.png">
&lt;/a>
&lt;figcaption>django-method.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;em>Pythonì˜ djangoì˜ ê²½ìš° Join ê¸°ëŠ¥ë„ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•´ì¤€ë‹¤.&lt;/em>&lt;/p>
&lt;p>ì´ì œ Data Access Layerë§Œì´ ë‚¨ì•˜ë„¤ìš”. ì´ ê³„ì¸µ ë˜í•œ ëŒ€ë¶€ë¶„ì˜ ê°ì²´ì§€í–¥ ì–¸ì–´ë“¤ì—ì„  ORMì´ë¼ëŠ” ê°œë…ì„ í†µí•´ ëŒ€ë¶€ë¶„ì˜ í”„ë ˆì„ì›Œí¬ë“¤ì´ ë§ì€ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ê·¸ë˜ì„œ í•„ìš”í•œ ê²½ìš°ì—ë§Œ ì¶”ê°€ì ìœ¼ë¡œ ì •ì˜í•˜ëŠ” í˜•íƒœë¡œ í¸ë¦¬í•˜ê²Œ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ë ‡ë‹¤ë©´ Goì—ì„œëŠ” ì–´ë–»ê²Œ Data access layerë¥¼ í¸í•˜ê²Œ ì´ìš©í•  ìˆ˜ ìˆì„ê¹Œìš”? ì´ë²ˆ ê¸€ì—ì„œëŠ” &lt;strong>Golangì€ ì´ Data Access Layer(Repository)ì—ì„œ ì–´ë–¤ DB frameworkì„ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ì§€ ì–´ë–¤ ì‹ìœ¼ë¡œ ì‚¬ìš©í•´ë‚˜ê°ˆ ìˆ˜ ìˆì„ì§€ì— ëŒ€í•´&lt;/strong> ë‹¤ë¤„ë³´ë ¤ í•©ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="golangì˜-ì¢‹ì€-db-framework-ì¢€-ì¶”ì²œí•´ì£¼ì„¸ìš”">Golangì˜ ì¢‹ì€ DB framework ì¢€ ì¶”ì²œí•´ì£¼ì„¸ìš”.&lt;/h2>
&lt;p>&lt;figure style="flex-grow: 154; flex-basis: 371px">
&lt;a href="https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/ent-gorm-stars.png" data-size="797x515">&lt;img src="https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/ent-gorm-stars.png"
srcset="https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/ent-gorm-stars_hu93b57724131d9ce35065e9adedba8094_34328_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/ent-gorm-stars_hu93b57724131d9ce35065e9adedba8094_34328_1024x0_resize_box_3.png 1024w"
width="797"
height="515"
loading="lazy"
alt="ent-gorm-stars.png">
&lt;/a>
&lt;figcaption>ent-gorm-stars.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;em>ì°¨íŠ¸ ì¶œì²˜: &lt;a class="link" href="https://star-history.t9t.io/" target="_blank" rel="noopener"
>https://star-history.t9t.io/&lt;/a>&lt;/em>&lt;/p>
&lt;p>Golangì—ëŠ” Djangoë‚˜ JPAì™€ ê°™ì€ ê°•ë ¥í•œ ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ í”„ë ˆì„ì›Œí¬ê°€ ëª‡ ë…„ ì „ê¹Œì§€ ì¡´ì¬í•˜ì§€ ì•Šì•˜ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ìƒ ì¿¼ë¦¬ë¬¸ì„ ì§ì ‘ ì§¤ ê²Œ ì•„ë‹Œ ê²½ìš°ë¼ë©´ ì–¼ë§ˆ ì „ê¹Œì§€ëŠ” &lt;code>gorm&lt;/code> ì´ë¼ê³ í•˜ëŠ” í”„ë ˆì„ì›Œí¬ê°€ ê±°ì˜ ìœ ì¼í•œ ì„ íƒì§€ì˜€ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ìš”ì¦˜ ì¶”ì„¸ë¥¼ ë³´ë©´ ë¬´ì„­ê²Œ &lt;code>ent&lt;/code>ë¼ëŠ” íŒ¨í‚¤ì§€ê°€ ì«“ì•„ì˜¤ê³  ìˆëŠ” ëª¨ìŠµì„ ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="-gorm-í”„ë ˆì„ì›Œí¬-ì‚¬ìš©-í›„ê¸°">ğŸ‘ gorm í”„ë ˆì„ì›Œí¬ ì‚¬ìš© í›„ê¸°&lt;/h3>
&lt;p>ì œê°€ golang ê°œë°œì„ ë§‰ ì‹œì‘í–ˆë˜ ë•Œê°€ 2020ë…„ ì—¬ë¦„ì¯¤ì´ì—ˆê¸°ì— ì €ë„ &lt;code>gorm&lt;/code>ì„ ì²« ë°ì´í„°ë² ì´ìŠ¤ í”„ë ˆì„ì›Œí¬ë¡œ ì‚¬ìš©í–ˆì—ˆì§€ë§Œ ëª‡ ê°€ì§€ ë‹¨ì ë“¤ì´ ì¡´ì¬í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>ë¬¸ì„œì˜ ë‚´ìš©ì´ ë¹ˆì•½í–ˆê³ , ì—ëŸ¬ì— ëŒ€í•œ ì„¤ëª…ì´ë‚˜ ë””ë²„ê¹…ì´ ì‰½ì§€ ì•Šì•˜ë‹¤.&lt;/strong>&lt;/p>
&lt;p>ë¬¸ì„œì˜ ë‚´ìš©ë“¤ì´ ì‹¤ì§ˆì ì¸ ë‹¤ì–‘í•œ ì¼€ì´ìŠ¤ì— ëŒ€í•œ ì˜ˆì‹œë‚˜ ì„¤ëª…ì´ ë¶€ì¡±í–ˆë‹¤ê³  ëŠê»´ì¡ŒìŠµë‹ˆë‹¤. ë˜í•œ ì—ëŸ¬ê°€ ë°œìƒí•œ ê²½ìš° ì™œ ì—ëŸ¬ê°€ ë°œìƒí•œ ê²ƒì¸ì§€ ì •í™•í•œ ìœ„ì¹˜ë‚˜ ì´ìœ ê°€ ì œê³µë˜ì§€ ì•Šì•„ ë””ë²„ê¹…í•˜ê¸°ë„ í˜ë“¤ì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ë¶ˆí¸í•œ struct tag ê¸°ë°˜ì˜ í…Œì´ë¸”, ì»¬ëŸ¼ ì„¤ì •&lt;/strong>&lt;/p>
&lt;p>Goê°€ ê°•ë ¥íˆ typeì„ ê°•ì œí•˜ë©´ì„œ ë†’ì€ ì•ˆì •ì„±ê³¼ í¸ì˜ì„±ì„ ì œê³µí•˜ëŠ” ë°˜ë©´ gormì€ struct tagë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì—¬ëŸ¬ ì„¤ì •ë“¤ì„ ê´€ë¦¬í•˜ë„ë¡ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤. Go ì–¸ì–´ë¥¼ ì¢‹ì•„í•˜ì§€ë§Œ struct tagì— ëŒ€í•´ì„œëŠ” ê°€ëœ©ì´ë‚˜ ì¡°ê¸ˆì˜ ë¶ˆë§Œì„ ê°–ê³  ìˆì—ˆëŠ”ë° ì´ëŸ° ì €ëŸ° ì»¬ëŸ¼ ì„¤ì •ë“¤ë§ˆì € struct tagë¡œ ì´ìš©í•˜ë‹ˆ ì •í™•íˆ ì´ tagê°€ ë™ì‘í•˜ëŠ” íƒœê·¸ì¸ì§€, ì™œ ì—ëŸ¬ê°€ ë‚˜ê±°ë‚˜ ì ìš©ì´ ì•ˆë˜ëŠ”ì§€ë„ ì•ˆì „í•˜ê²Œ í™•ì¸í•  ìˆ˜ ì—†ì—ˆê³  ë¬´ì—‡ë³´ë‹¤ ê°€ë…ì„±ì´ ë„ˆë¬´ ë„ˆë¬´~! ì¢‹ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ì œê³µë˜ëŠ” ë©”ì†Œë“œê°€ ë³„ë¡œ ì—†ë‹¤.&lt;/strong>&lt;/p>
&lt;p>gormì€ ì•„ì£¼ ê°€ë²¼ìš´ ëŠë‚Œì´ì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë°ì´í„°ë² ì´ìŠ¤ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•¨ì—ë„ ë¶ˆêµ¬í•˜ê³  ë„ˆë¬´ë‚˜ ì œê³µë˜ëŠ” ë©”ì†Œë“œê°€ ì—†ë‹¤ê³  ëŠê»´ì¡ŒìŠµë‹ˆë‹¤. JPAë‚˜ DjangoëŠ” ì¡°ê¸ˆì˜ ì„¤ì •ë§Œ í•´ì£¼ë©´ CRUDì™€ Joinê¹Œì§€ ì œê³µí•´ì£¼ëŠ”ë° gormì€ ê±°ì˜ ì •ë§ ì •ë§ ê¸°ë³¸ì ì¸ ê¸°ëŠ¥ì„ í•˜ëŠ” ë©”ì†Œë“œì— ì ì ˆí•œ ì¸ìë¥¼ ì „ë‹¬í•¨ìœ¼ë¡œì¨ ë™ì‘ì‹œì¼œì•¼í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë©”ì†Œë“œê°€ ì–´ë–¤ ë§¤ê°œë³€ìˆ˜ë¥¼ ì™œ í•„ìš”ë¡œ í•˜ëŠ”ì§€ì— ë‚´ìš©ì´ ê·¸ë‹¥ ì—†ê³  ê·¸ëƒ¥ í†µìœ¼ë¡œ Createë©”ì†Œë“œì— ì•Œì•„ì„œ ì ì ˆí•œ inteface{}ì¸ìë¥¼ ì „ë‹¬í•´ì•¼í•˜ëŠ” í˜•íƒœë¼ Goì˜ ì¥ì ì¸ ê°•ë ¥í•œ typeì„ ë°”íƒ•ìœ¼ë¡œí•œ ì•ˆì •ì„±, í¸ì˜ì„±ì„ ëˆ„ë¦´ ìˆ˜ë„ ì—†ì—ˆê³  ì´ëŸ´êº¼ë©´ íŒŒì´ì¬ ì“°ì§€&amp;hellip; ì‹¶ì€ ìƒê°ì´ ìì£¼ ë“¤ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="-ì¶”ì²œí•˜ëŠ”-í”„ë ˆì„ì›Œí¬---ent">ğŸ‘ ì¶”ì²œí•˜ëŠ” í”„ë ˆì„ì›Œí¬ - ent&lt;/h3>
&lt;p>ë¬¼ë¡  ìœ„ì˜ Github star historyë§Œ ë´ë„ ì•„ì‹¤ ìˆ˜ ìˆê² ì§€ë§Œ entëŠ” ë§¤ìš° ë¬´ì„­ê²Œ ì„±ì¥ ì¤‘ì¸ Golangì˜ ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤. ê²Œë‹¤ê°€ ì•„ë§ˆ Facebookì—ì„œ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•˜ë‹¤ê°€ ì˜¤í”ˆì†ŒìŠ¤í™”í•œ í”„ë¡œì íŠ¸ì¸ ê±¸ë¡œ ì•Œê³  ìˆëŠ”ë° ë”°ë¼ì„œ ì–´ëŠ ì •ë„ì˜ ì™„ì„±ë„ë‚˜ í¸ì˜ì„±ì´ ë³´ì¥ë˜ê² ì£ . ã…ã… ì €ëŠ” ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ì—ì„œ gormì„ ì‚¬ìš©í•˜ë‹¤ê°€ ë§ì€ ë¶ˆí¸ì„ ëŠê¼ˆê³ , Go ê°œë°œ ì»¤ë®¤ë‹ˆí‹°ì—ì„œ entê°€ ê·¸ë ‡ê²Œë‚˜ í•«í•˜ë‹¤ê¸¸ë˜ entë¡œ data access layerë¥¼ ë§ˆì´ê·¸ë ˆì´ì…˜í–ˆê³  ë§Œì¡± ì¤‘ì…ë‹ˆë‹¤. ã…ã…&lt;/p>
&lt;p>&lt;strong>entì˜ ì‚¬ìš© í›„ê¸° ë° íŠ¹ì§•&lt;/strong>ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>íƒ€ì…ì„ ë°”íƒ•ìœ¼ë¡œ ì•ˆì „í•˜ê³  í¸ë¦¬í•˜ê²Œ í…Œì´ë¸”ì„ ì„¤ê³„í•  ìˆ˜ ìˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>í…Œì´ë¸”, ì»¬ëŸ¼ ì •ì˜ë“¤ì´ ëª¨ë‘ ent íŒ¨í‚¤ì§€ì˜ ì»¬ëŸ¼ type í˜¹ì€ í…Œì´ë¸” type, ê´€ê³„ type ë“±ë“±ì„ ì´ìš©í•´ì„œ ì •ì˜í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë„ˆë¬´ ë„ˆë¬´ í¸ë¦¬í•˜ì£ . ê²Œë‹¤ê°€ ë³µì¡í•œ struct tagë„ ì•ˆë…•~! &lt;code>ent&lt;/code>ëŠ” ë¯¸ë¦¬ ì •ì˜ëœ íƒ€ì…ê³¼ ë©”ì†Œë“œë“¤ë¡œ ë‹¤ì–‘í•œ ì„¤ì •ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ë‹¤ì–‘í•œ ë©”ì†Œë“œ ì œê³µ&lt;/strong>&lt;/p>
&lt;p>go generateë¼ê³  í•˜ëŠ” ê¸°ëŠ¥ì„ í†µí•´ ìš°ë¦¬ê°€ ì •ì˜í•œ ìŠ¤í‚¤ë§ˆ(í…Œì´ë¸” ë° í•„ë“œ ì„¤ì •)ì„ ë°”íƒ•ìœ¼ë¡œ ë‹¤ì–‘í•œ íƒ€ì…ê³¼ ë©”ì†Œë“œë“¤ì„ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤. ì´ ë¶€ë¶„ìœ¼ë¡œ ì¸í•´ ê½¤ ë¹Œë“œ ì‹œê°„ì´ ëŠ˜ì–´ë‚˜ëŠ” ëŠë‚Œì´ê¸´í•œë° ê·¸ë˜ë´¤ì 2ì´ˆ ì •ë„ì¸ë° entê°€ ì œê³µí•´ì£¼ëŠ” ë©”ì†Œë“œë“¤ë¡œ ì¸í•´ ê°œë°œì  í¸ì˜ì™€ ì•ˆì •ì„±ì´ í›¨ì”¬ í¬ë‹¤ê³  ëŠë¼ê¸° ë•Œë¬¸ì— ë§Œì¡±í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ë³„ ë‹¤ë¥¸ ë¬¸ì„œê°€ í•„ìš” ì—†ë‹¤..?&lt;/strong>&lt;/p>
&lt;p>ê·¸ëƒ¥ ë©”ì†Œë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì´ìš©í•  ìˆ˜ ìˆë‹¤ë³´ë‹ˆ ê·¸ ì‚¬ìš© ë°©ë²•ì´ ì§ê´€ì ì¸ í¸ì´ê³ , ê²½ìš°ì— ë”°ë¼ì„œëŠ” ì½”ë“œ ìì²´ë¥¼ ê¹Œë³´ë©´ ì´í•´ë˜ëŠ” ë³„ ë‹¤ë¥¸ ë¬¸ì„œ ì—†ì´ë„ ì´ìš©í•  ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ì°¸ì¡° ê´€ê³„ ì„¤ì •ì´ ì¢€ í—·ê°ˆë¦°ë‹¤&lt;/strong> (ëª‡ ì•ˆ ë˜ëŠ” ë‹¨ì  ì¤‘ í•˜ë‚˜)&lt;/p>
&lt;p>ë­”ê°€ Fromì´ë‚˜ Toë“±ì„ í†µí•´ ì°¸ì¡° ê´€ê³„ë¥¼ ì •ì˜í•˜ëŠ”ë° ì´ Fromì´ ì–´ë–¤ í…Œì´ë¸”ì„ Fromìœ¼ë¡œ ìƒê°í•˜ëŠ”ê±´ì§€ ë­”ê°€ ë§ì´ ì• ë§¤í•©ë‹ˆë‹¤. ì»¤ë®¤ë‹ˆí‹°ë¥¼ ë³´ë©´ ì´ë¡œ ì¸í•´ ë§ì€ ë¶„ë“¤ë„ í˜¼ë€ì„ ê²ªê³  ìˆëŠ” í˜„í™©ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ë„ˆë¬´ ê±±ì •ì€ ë§ˆì„¸ìš”~! ì´ë²ˆ ê¸€ì—ì„œ ì •ë¦¬í•´ë“œë¦¬ë ¤í•˜ë‹ˆê¹Œìš”~! ã…ã…&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="ent-íŒ¨í‚¤ì§€ë¥¼-í†µí•´-database-ì‘ì—…í•´ë³´ê¸°">Ent íŒ¨í‚¤ì§€ë¥¼ í†µí•´ Database ì‘ì—…í•´ë³´ê¸°&lt;/h2>
&lt;p>&amp;ldquo;&lt;strong>ì‹œì‘í•˜ë©°&lt;/strong>&amp;ldquo;ì—ì„œë„ ë§ì”€ë“œë ¸ë‹¤ì‹œí”¼ ì‚¬ì‹¤ Go ì–¸ì–´ë¡œ ê°œë°œí•˜ì‹œëŠ” ë¶„ë“¤ ì¤‘ì— ì •ë§ ê°œë°œ ìì²´ê°€ ìµìˆ™í•˜ì§€ ì•Šì€ ë¶„ë“¤ì€ ì •ë§ ì ìœ¼ë¦¬ë¼ ìƒê°í•©ë‹ˆë‹¤&amp;hellip;ã…ã… ë”°ë¼ì„œ ë„ˆë¬´ ë””í…Œì¼í•œ ë‚´ìš©ì„ ì§ì ‘ ì•Œë ¤ë“œë¦¬ê¸° ë³´ë‹¤ëŠ” ì»¤ë‹¤ë€ íë¦„ì´ë‚˜ í—·ê°ˆë¦¬ëŠ” ìš”ì†Œë“¤ì„ ì§šì–´ë“œë¦¬ëŠ” ë°©í–¥ìœ¼ë¡œ ê¸€ì„ ì‘ì„±í•´ ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ì˜ˆì‹œ-application---ì—¬í–‰-ìƒí’ˆ-ê´€ë¦¬-crud-ì„œë¹„ìŠ¤">ì˜ˆì‹œ Application - ì—¬í–‰ ìƒí’ˆ ê´€ë¦¬ CRUD ì„œë¹„ìŠ¤&lt;/h3>
&lt;ul>
&lt;li>1:Nì˜ ì—¬í–‰ ìƒí’ˆ ë‹´ë‹¹ì ê´€ê³„ - ë‹´ë‹¹ì(ì¼ì¢…ì˜ ìœ ì €)ëŠ” ì—¬í–‰ ìƒí’ˆê³¼ 1:N ê´€ê³„&lt;/li>
&lt;/ul>
&lt;p>ìœ„ì˜ ê´€ê³„ë¥¼ ê°–ëŠ” ì—¬í–‰ ìƒí’ˆ ê´€ë¦¬ CRUD ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤. ë³¸ ê¸€ì—ì„œëŠ” ì½”ë“œë¥¼ ì§§ê²Œ ì§§ê²Œ ì˜ë¼ì„œ ì˜¬ë¦´í…Œë‹ˆ ì›ë³¸ ì½”ë“œë¥¼ ë³´ê³ ì‹¶ìœ¼ì‹  ë¶„ë“¤ì€ ì œ ê¹ƒí—™ì„ ì°¸ê³ í•´ì£¼ì„¸ìš”.&lt;/p>
&lt;p>ì›ë³¸ ì½”ë“œ - &lt;a class="link" href="https://github.com/umi0410/how-to-backend-in-go" target="_blank" rel="noopener"
>https://github.com/umi0410/how-to-backend-in-go&lt;/a>&lt;/p>
&lt;h3 id="1-ent-package-ì„¤ì¹˜">1. ent package ì„¤ì¹˜&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ì°¸ê³ : https://entgo.io/docs/tutorial-setup/#installation&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ go get entgo.io/ent/cmd/ent
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ìš°ì„  entëŠ” ë‹¤ì–‘í•œ ëª…ë ¹ ê¸°ëŠ¥ë„ ì œê³µí•˜ê³  ì €í¬ëŠ” ê·¸ê±¸ í•„ìš”ë¡œ í•˜ê¸° ë•Œë¬¸ì— entë¥¼ ì„¤ì¹˜í•´ì£¼ì–´ì•¼í•©ë‹ˆë‹¤. ìŠ¤í‚¤ë§ˆ ì •ì˜ ì½”ë“œ ë˜í•œ ent ë¥¼ ì´ìš©í•´ ìë™ìœ¼ë¡œ ê¸°ë³¸ í˜•íƒœë¥¼ ì œê³µ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ent íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•œ ì´í›„ ì €í¬ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ëª…ë ¹ì„ ìˆ˜í–‰í•˜ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>&lt;code>$ go run entgo.io/ent/cmd/ent init {{ì—”í‹°í‹° ì´ë¦„}}&lt;/code> - ì—”í‹°í‹° ì´ë¦„ì„ ë°”íƒ•ìœ¼ë¡œí•œ ì´ˆê¸° ìŠ¤í‚¤ë§ˆ ì½”ë“œ ìƒì„±&lt;/li>
&lt;li>&lt;code>$ go generate ./ent&lt;/code> - ì •ì˜í–ˆë˜ ìŠ¤í‚¤ë§ˆë¥¼ ë°”íƒ•ìœ¼ë¡œ í•œ ë§ì€ boilerplate ì½”ë“œë¥¼ ìë™ìœ¼ë¡œ ìƒì„±&lt;/li>
&lt;/ol>
&lt;h3 id="2-ìŠ¤í‚¤ë§ˆ-ì„¤ì •">2. ìŠ¤í‚¤ë§ˆ ì„¤ì •&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ go run entgo.io/ent/cmd/ent init User &lt;span class="c1"># or shortly $ ent init User&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ go run entgo.io/ent/cmd/ent init TourProduct &lt;span class="c1"># or shortly $ ent init TourProduct&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ìœ„ì˜ ëª…ë ¹ì–´ë“¤ì„ í†µí•´ Userì™€ Userê°€ ê´€ë¦¬í•˜ëŠ” TourProductë¼ëŠ” ì—”í‹°í‹°ë“¤ì˜ ìŠ¤í‚¤ë§ˆë¥¼ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì •í™•í•œ ìŠ¤í‚¤ë§ˆ ì‘ì„±ì— ëŒ€í•œ ì„¤ëª…ì€ ìƒëµí•˜ê² ìŠµë‹ˆë‹¤. &lt;a class="link" href="https://entgo.io/docs/schema-def" target="_blank" rel="noopener"
>ent ê³µì‹ ë¬¸ì„œ&lt;/a>ì— ë§¤ìš° ì˜ ì„¤ëª…ë˜ì–´ìˆê³ , &lt;a class="link" href="https://github.com/ent/ent/tree/master/examples" target="_blank" rel="noopener"
>examples in ent github&lt;/a>ì—ì„œ ëŒ€ë¶€ë¶„ì˜ ì˜ˆì‹œ ì½”ë“œë„ í™•ì¸í•´ë³¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p>
&lt;h4 id="-ì°¸ì¡°-ê´€ê³„-ì„¤ì •-ì‹œì˜-fromê³¼-to">â­ ì°¸ì¡° ê´€ê³„ ì„¤ì • ì‹œì˜ Fromê³¼ To&lt;/h4>
&lt;p>ë‹¤ë§Œ í•œ ê°€ì§€. Edgeë¥¼ ì´ìš©í•´ &lt;strong>ì°¸ì¡° ê´€ê³„ë¥¼ ì„¤ì •í•  ë•Œ &lt;code>From&lt;/code>ê³¼ &lt;code>To&lt;/code>ì˜ ì‚¬ìš©ì— ëŒ€í•´&lt;/strong> í•œ ê°€ì§€ë§Œ ì§šê³  ë„˜ì–´ê°€ë ¤ í•©ë‹ˆë‹¤. ì €ë¥¼ í¬í•¨í•´ ë§ì€ ent ì‚¬ìš©ìë¶„ë“¤ê»˜ì„œ Edge ì„¤ì • ì‹œì— ë§ì€ í˜¼ë€ì„ ê²ªìŠµë‹ˆë‹¤. ê·¸ ì´ìœ ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ìš°ë¦¬ëŠ” &lt;strong>1:N ê´€ê³„ì—ì„œ Nìª½ì´ From, 1ìª½ì´ Toê°€ ë˜ë©° Nìª½ í…Œì´ë¸”ì—ì„œ 1ì„ ì°¸ì¡°í•˜ëŠ” ë‚´ìš©ì„ ì •ì˜í•˜ëŠ” ë°˜ë©´ entëŠ” ê·¸ ë°˜ëŒ€ë¡œ ë™ì‘&lt;/strong>í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;em>(entì—ì„œì˜ ì°¸ì¡° ê´€ê³„ ì •ì˜ ë°©ì‹ì— ëŒ€í•´ ê¶ê¸ˆí•˜ì§€ ì•Šìœ¼ì‹  ë¶„ë“¤ì€ ë„˜ì–´ê°€ì…”ë„ ë©ë‹ˆë‹¤.)&lt;/em>&lt;/p>
&lt;p>&lt;figure style="flex-grow: 296; flex-basis: 711px">
&lt;a href="https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/o2m-relation.png" data-size="560x189">&lt;img src="https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/o2m-relation.png"
srcset="https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/o2m-relation_huda98d5d877ff5063fa9c786910881686_21160_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/how-to-backend-in-go-db/o2m-relation_huda98d5d877ff5063fa9c786910881686_21160_1024x0_resize_box_3.png 1024w"
width="560"
height="189"
loading="lazy"
alt="o2m-relation.png">
&lt;/a>
&lt;figcaption>o2m-relation.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;em>ì¶œì²˜: &lt;a class="link" href="https://entgo.io/docs/schema-edges" target="_blank" rel="noopener"
>https://entgo.io/docs/schema-edges&lt;/a>&lt;/em>&lt;/p>
&lt;p>ìœ„ì™€ ê°™ì€ ê²½ìš° ë°ì´í„°ë² ì´ìŠ¤ìƒìœ¼ë¡œëŠ” &lt;code>Pet&lt;/code> í…Œì´ë¸”ì´ ìì‹ ì˜ &lt;code>owner_id&lt;/code> ì»¬ëŸ¼ì„ í†µí•´ &lt;code>User&lt;/code>ì„ ì°¸ì¡°í•˜ë¯€ë¡œ &lt;code>Pet&lt;/code>ì´ &lt;code>From&lt;/code>, &lt;code>User&lt;/code>ê°€ &lt;code>To&lt;/code>ê°€ ë˜ë©° ì´ë¥¼ í†µí•´ ownerë¼ëŠ” ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ &lt;code>ent&lt;/code>ëŠ” ê·¸ ë°˜ëŒ€ë¡œ &lt;code>User&lt;/code>ê°€ &lt;code>Pet&lt;/code>ì„ ê´€ë¦¬(ì°¸ì¡°)í•œë‹¤ëŠ” ì˜ë¯¸ë¡œ &lt;code>User&lt;/code>ê°€ &lt;code>From&lt;/code>, &lt;code>Pet&lt;/code>ì´ &lt;code>To&lt;/code>ê°€ ë˜ì–´ &lt;code>pets&lt;/code>ë¼ëŠ” ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì‹ìœ¼ë¡œ ì •ì˜í•˜ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.
ì´ë ‡ê²Œ ê¸°ì¡´ì˜ í…Œì´ë¸” ì„¤ê³„ ë°©ì‹ê³¼ëŠ” ëŒ€ì¡°ë˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì¸í•´ ë§ì€ ì‚¬ëŒë“¤ì´ í˜¼ë€ì„ ê²ªëŠ” ê²ƒ ê°™ì•„ìš”.&lt;/p>
&lt;p>ì´ë ‡ê²Œ í…Œì´ë¸”ì„ ì •ì˜í•˜ë„ë¡ entë¥¼ ê°œë°œí•œ ê°œë°œìë“¤ì˜ ì˜ë„ë‚˜ ì² í•™ì€ ë­”ì§€ ì˜ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤. í˜¹ì‹œ ì•„ì‹œëŠ” ë¶„ì´ ìˆë‹¤ë©´ ì•Œë ¤ì£¼ì‹œë©´ ì¢€ ë” entfë¥¼ ì´í•´í•˜ëŠ” ë°ì— ë„ì›€ì´ ë  ê²ƒ ê°™ì•„ìš”!&lt;/p>
&lt;p>ì•„ë¬´íŠ¼ entì—ì„œëŠ” &lt;strong>1:N ë°©ì‹ì—ì„œ 1ì´ ì—°ê´€ ê´€ê³„ì˜ ì£¼ì¸ì²˜ëŸ¼ ë™ì‘/ì •ì˜í•œë‹¤&lt;/strong>ê³  ìƒê°í•˜ê³  ì‘ì—…í•˜ê³  ìˆìŠµë‹ˆë‹¤.(ì‹¤ì œ ë¬¸ì„œì—ì„œë„ Fromìª½. ì¦‰ 1 í˜¹ì€ User ìª½ì´ ì—°ê´€ ê´€ê³„ì˜ ì£¼ì¸ì´ë¼ê³  ê¸°ìˆ ë˜ì–´ìˆëŠ”ë°, ì´ ë¶€ë¶„ì€ JPAì™€ëŠ” ê±°ì˜ ë°˜ëŒ€ë¼ê³  ë³¼ ìˆ˜ ìˆì£ .)
ì €ëŠ” ê·¸ëƒ¥ &lt;strong>ì˜ˆì‹œë¥¼ ì°¸ê³ í•˜ë©´ì„œ ì‹¤ì œ í…Œì´ë¸”ì˜ ì°¸ì¡° ê´€ê³„ë‘ ë°˜ëŒ€ë¼ê³  ì™¸ì› ì–´ìš”.&lt;/strong>(ã…ã…&amp;hellip;.;;)&lt;/p>
&lt;h4 id="ìŠ¤í‚¤ë§ˆ-ì •ì˜-ë°-ì ìš©">ìŠ¤í‚¤ë§ˆ ì •ì˜ ë° ì ìš©&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ent/schema/user.go
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kn">package&lt;/span> &lt;span class="nx">schema&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;entgo.io/ent&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;entgo.io/ent/schema/edge&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;entgo.io/ent/schema/field&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// User holds the schema definition for the User entity.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">type&lt;/span> &lt;span class="nx">User&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Schema&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Fields of the User.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">User&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Fields&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Field&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Field&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// íƒ€ì…ì„ ê¸°ë°˜ìœ¼ë¡œ ì•ˆì „í•˜ê³  í¸ë¦¬í•˜ê²Œ ì»¬ëŸ¼ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">field&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">field&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">field&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Bool&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;isActivated&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nf">Default&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Edges of the User.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">User&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Edges&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Edge&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Edge&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// entì—ì„œëŠ” Toë¥¼ ì •ì˜í•˜ëŠ” ìŠ¤í‚¤ë§ˆ, ì¦‰ ì—¬ê¸°ì„  User
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ê°€ ì°¸ì¡° ê´€ê³„ì˜ ì£¼ì¸ì´ë¼ê³  ì •ì˜í•©ë‹ˆë‹¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ì¼ë°˜ì ì¸ JPAì˜ ë°©ì‹ê³¼ëŠ” ë°˜ëŒ€ì…ë‹ˆë‹¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">edge&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">To&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;products&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">TourProduct&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Type&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ go generate ./ent
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì•„ë¬´íŠ¼ ì €ëŠ” User ìŠ¤í‚¤ë§ˆë¥¼ ì´ë ‡ê²Œ ì„¤ì •í–ˆê³  ì´ ìŠ¤í‚¤ë§ˆë“¤ì„ ì ìš©í•´ entê°€ generateí•´ì¤€ ì½”ë“œë“¤ì„ ì´ìš©í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>(TourProduct ìŠ¤í‚¤ë§ˆëŠ” ìƒëµí–ˆìŠµë‹ˆë‹¤. ì›ë³¸ ì½”ë“œë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”.)&lt;/p>
&lt;h3 id="3-repository-ì •ì˜">3. repository ì •ì˜&lt;/h3>
&lt;p>entê°€ ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ì‘ì—…ì„ ìœ„í•œ ë‹¤ì–‘í•œ ë©”ì†Œë“œë¥¼ ì§€ì›í•´ì¤ë‹ˆë‹¤. í•˜ì§€ë§Œ entëŠ” ê°„ë‹¨ ê°„ë‹¨í•œ ë©”ì†Œë“œë“¤ì„ ì¡°í•©í•´ì„œ ì‚¬ìš©í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ êµ¬í˜„í•˜ëŠ” ê³„ì¸µì—ì„œ ë§¤ë²ˆ entì˜ ë©”ì†Œë“œë¥¼ ì¡°í•©í•˜ë©° ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ê³„ì¸µì˜ ê´€ì‹¬ì‚¬ì™€ ì±…ì„ì„ íë¦¬ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ëª‡ ê°€ì§€ ë©”ì†Œë“œë“¤ì„ &lt;code>data access layer&lt;/code>ì¸ &lt;code>repository&lt;/code>ì— ì •ì˜í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì˜ˆë¥¼ ë“¤ë©´ íŠ¹ì • userê°€ ê´€ë¦¬í•˜ëŠ” ì—¬í–‰ ìƒí’ˆì„ ëª¨ë‘ ì¡°íšŒí•˜ëŠ” &lt;code>FindAllByManager(managerID string)&lt;/code>ì™€ ê°™ì€ ë©”ì†Œë“œ ë§ì´ì£ . ì´ ì‘ì—…ì„ ìœ„í•´ì„œëŠ” User í…Œì´ë¸”ê³¼ TourProduct í…Œì´ë¸”ì„ ì¡°ì¸í•´ì•¼í•˜ëŠ”ë° entê°€ ì—­ì‹œ ì´ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// repository.go
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">TourProductRepository&lt;/span> &lt;span class="kd">struct&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Client&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">TourProductClient&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">repo&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">TourProductRepository&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">FindAllByManager&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">managerID&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">ent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">TourProduct&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">result&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">repo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Query&lt;/span>&lt;span class="p">().&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// íŠ¹ì • manager_idì˜ TourProductë¥¼ ì¡°íšŒí•˜ë„ë¡ ì¡°ì¸
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nf">Where&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tourproduct&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">HasManagerWith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ID&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">managerID&lt;/span>&lt;span class="p">))).&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">WithManager&lt;/span>&lt;span class="p">().&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">AllX&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">TODO&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">result&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="4-ì‹¤í–‰">4. ì‹¤í–‰&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// main.go
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ì „ì²´ ìœ ì € ì¡°íšŒ&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">userRepository&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">FindAll&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;User(id=%s, name=%s)\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ID&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;--------------------------------------------------------------------------&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ì „ì²´ ì—¬í–‰ ìƒí’ˆ ì¡°íšŒ&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tour&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">tourProductRepository&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">FindAll&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;TourProduct(id=%d, name=%s, manager=%s)\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tour&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ID&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tour&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tour&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Edges&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Manager&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ID&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;--------------------------------------------------------------------------&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">user1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ID&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;ê°€ ê´€ë¦¬í•˜ëŠ” ì „ì²´ ì—¬í–‰ ìƒí’ˆ ì¡°íšŒ&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tour&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">tourProductRepository&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">FindAllByManager&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">user1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ID&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;TourProduct(id=%d, name=%s, manager=%s)\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tour&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ID&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tour&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tour&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Edges&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Manager&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ID&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>ì „ì²´ ìœ ì € ì¡°íšŒ
User(id=umi0410, name=ë°•ì§„ìˆ˜)
User(id=devumi, name=ê°œë°œì)
--------------------------------------------------------------------------
ì „ì²´ ì—¬í–‰ ìƒí’ˆ ì¡°íšŒ
TourProduct(id=1, name=ë¯¸êµ­ ë‰´ìš• ì—¬í–‰, manager=umi0410)
TourProduct(id=2, name=ìœ ëŸ½ ì—¬í–‰, manager=devumi)
--------------------------------------------------------------------------
umi0410ê°€ ê´€ë¦¬í•˜ëŠ” ì „ì²´ ì—¬í–‰ ìƒí’ˆ ì¡°íšŒ
TourProduct(id=1, name=ë¯¸êµ­ ë‰´ìš• ì—¬í–‰, manager=umi0410)
&lt;/code>&lt;/pre>&lt;p>ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œ 2ëª…ì˜ ìœ ì €ë¥¼ ë§Œë“¤ì—ˆê³ , ê°ê°ì˜ ìœ ì €ê°€ ê´€ë¦¬í•˜ëŠ” 2ê°œì˜ ì—¬í–‰ ìƒí’ˆì„ ë§Œë“¤ì–´ì„œ ì¡°íšŒí•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ë§Œë“¤ì–´ë³´ì•˜ìŠµë‹ˆë‹¤. repository ê³„ì¸µì—ì„œ ë§Œë“  FindAll()ì´ë‚˜ FindAllByManager()ì™€ ê°™ì€ ë©”ì†Œë“œë“¤ì„ í†µí•´ í¸ë¦¬í•˜ê²Œ ì‘ì—…í•  ìˆ˜ ìˆë„¤ìš”!&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>ê¸€ì„ ì“°ë‹¤ë³´ë‹ˆ ë°±ì—”ë“œ ê°œë°œì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì™œ í•„ìš”í•˜ê³  ì–´ë–¤ ì‹ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ”ì§€ë¥¼ ë‹¤ë£¨ëŠ” ê¸€ë„ ì•„ë‹ˆê³ , Golangì—ì„œ ent í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ìì„¸íˆ ì•Œë ¤ì£¼ëŠ” ê¸€ë„ ì•„ë‹Œ ì´ë„ ì €ë„ ì•„ë‹Œ ê¸€ì´ ëœ ê±´ ì•„ë‹Œê°€ ì‹¶ê¸°ë„ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ë˜ë„ ì•ìœ¼ë¡œ Golangìœ¼ë¡œ ë°±ì—”ë“œ ê°œë°œí•˜ëŠ” ê²ƒì— ëŒ€í•´ ì²œì²œíˆ í•œ 5~6í¸ ì •ë„ì˜ ê¸€ì„ ì¨ë‚˜ê°€ë³¼ê¹Œí•˜ëŠ”ë° ì´ë•Œ DB ê´€ë ¨ëœ ë‚´ìš©ì„ ìš°ì„  ì§šê³ ëŠ” ë„˜ì–´ê°€ì•¼í•  ê²ƒ ê°™ê¸°ë„ í–ˆê³ , ë¬´ì—‡ë³´ë‹¤ í•œê¸€ë¡œ ëœ ent ìë£Œë¥¼ í•˜ë‚˜ë„ ì°¾ì„ ìˆ˜ ì—†ë‹¤ëŠ” ì ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ í”„ë ˆì„ì›Œí¬ì¸ entë¥¼ ì†Œê°œí•´ë³´ê³ ì í–ˆìŠµë‹ˆë‹¤! ã…ã…&lt;/p>
&lt;p>ì§€ë©´ ì‚¬ì • ìƒ ì½”ë“œë“¤ì„ ì˜ë¼ì„œ ì˜¬ë ¸ëŠ”ë° ì›ë³¸ ì½”ë“œëŠ” &lt;a class="link" href="https://github.com/umi0410/how-to-backend-in-go" target="_blank" rel="noopener"
>https://github.com/umi0410/how-to-backend-in-go&lt;/a> ì— ì˜¬ë ¤ë†“ì„í…Œë‹ˆ ì°¸ê³ í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì°¸ê³ ">ì°¸ê³ &lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://entgo.io/" target="_blank" rel="noopener"
>https://entgo.io/&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/ent/ent" target="_blank" rel="noopener"
>https://github.com/ent/ent&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>2020 ì¹´ì¹´ì˜¤ ì¸í„´ì‰½ ì½”ë”© í…ŒìŠ¤íŠ¸ - ë³´ì„ ì‡¼í•‘ í’€ì´</title><link>https://umi0410.github.io/blog/algorithm/kakao-gem-shopping/</link><pubDate>Sun, 06 Sep 2020 19:11:07 +0900</pubDate><guid>https://umi0410.github.io/blog/algorithm/kakao-gem-shopping/</guid><description>&lt;img src="https://umi0410.github.io/blog/algorithm/kakao-gem-shopping/illust.jpg" alt="Featured image of post 2020 ì¹´ì¹´ì˜¤ ì¸í„´ì‰½ ì½”ë”© í…ŒìŠ¤íŠ¸ - ë³´ì„ ì‡¼í•‘ í’€ì´" />&lt;h2 id="ë¬¸ì œ-ì„¤ëª…">ë¬¸ì œ ì„¤ëª…&lt;/h2>
&lt;p>ë¬¸ì œ ì¶œì²˜: &lt;a class="link" href="https://programmers.co.kr/learn/courses/30/lessons/67258" target="_blank" rel="noopener"
>https://programmers.co.kr/learn/courses/30/lessons/67258&lt;/a>&lt;/p>
&lt;ul>
&lt;li>ê°ê°ì˜ ë³´ì„ìƒì€ í•˜ë‚˜ì˜ ë³´ì„ì„ íŒë§¤&lt;/li>
&lt;li>ì—°ì†ëœ ë³´ì„ìƒë“¤ì„ ì‡¼í•‘í•˜ë©´ì„œ ë°©ë¬¸í•  ë•Œë§ˆë‹¤ ë³´ì„ì„ êµ¬ë§¤&lt;/li>
&lt;li>ëª¨ë“  ì¢…ë¥˜ì˜ ë³´ì„ì„ êµ¬ë§¤í•  ë•Œê¹Œì§€ ì§„í–‰&lt;/li>
&lt;li>ëª¨ë“  ì¢…ë¥˜ì˜ ë³´ì„ì„ êµ¬ë§¤í•˜ëŠ” ê²½ìš° ì¤‘ ê°€ì¥ ì¡°ê¸ˆì˜ ë³´ì„ì„ ê°€ì¥ ì•ì„  ë³´ì„ìƒì—ì„œ êµ¬ë§¤í•˜ëŠ” ê²½ìš°ë¥¼ êµ¬í•˜ê¸°&lt;/li>
&lt;/ul>
&lt;h2 id="ë¬¸ì œ-ì ‘ê·¼">ë¬¸ì œ ì ‘ê·¼&lt;/h2>
&lt;p>&lt;img src="https://umi0410.github.io/home/jinsu/workspace/umi0410/umi0410.github.io/content/blog/algorithm/kakao-gem-shopping/illust.jpg" alt="illust.jpg" />&lt;/p>
&lt;p>ìš°ì„  ë‹¨ìˆœí•˜ê²Œ ë¬¸ì œì˜ ì¡°ê±´ì„ ê·¸ë¦¼ìœ¼ë¡œ ë‚˜íƒ€ë‚´ë©´ ìœ„ì™€ ê°™ë‹¤. ê²°êµ­ 1ë²ˆ ìƒì ë¶€í„° ë°©ë¬¸í•˜ëŠ” ê²½ìš°, 2ë²ˆ ìƒì ë¶€í„° ë°©ë¬¸í•˜ëŠ” ê²½ìš°, &amp;hellip; ì´ëŸ° ì‹ìœ¼ë¡œ ì§„í–‰í•´ë‚˜ê°„ ë’¤ ê°€ì¥ ë³´ì„ì„ ì ê²Œ, ì•ì˜ ìƒì ì—ì„œ ì‚¬ëŠ” ê²½ìš°ë¥¼ êµ¬í•˜ë©´ ëœë‹¤.&lt;/p>
&lt;h3 id="-ì²«-ë²ˆì§¸-ì ‘ê·¼">ğŸ‘ ì²« ë²ˆì§¸ ì ‘ê·¼&lt;/h3>
&lt;p>&lt;em>&amp;lsquo;&amp;lsquo;ê° ê²½ìš°ë§ˆë‹¤ ì§ì ‘ êµ¬í•´ë³¼ê¹Œ?&amp;rsquo;&lt;/em>&lt;/p>
&lt;p>í—ˆê±±.. ë³´ì„ìƒì€ ìµœëŒ€ 10ë§Œê°œë¥¼ ì…ë ¥ìœ¼ë¡œ ì¤€ë‹¤. ê° ê²½ìš°ë¥¼ ë§¤ë²ˆ ì§ì ‘ Në²ˆ ìƒì ë¶€í„° ì‹œì‘í•´ì„œ ëª¨ë“  ì¢…ë¥˜ì˜ ë³´ì„ì„ ì‚¬ëŠ” ê²½ìš°ë¥¼ êµ¬í•˜ëŠ” ê²ƒì€ ë„ˆë¬´ ë¹„íš¨ìœ¨ì ì¼ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;h3 id="-ë‘-ë²ˆì§¸-ì ‘ê·¼">ğŸ‘ ë‘ ë²ˆì§¸ ì ‘ê·¼&lt;/h3>
&lt;p>&lt;em>&amp;ldquo;ê·¸ëŸ¬ê³ ë³´ë‹ˆ ì•ì˜ ê²½ìš°ì™€ ë¹„êµí•˜ë©´ì„œ ë°©ê¸ˆ ì œì™¸ëœ ë³´ì„ë§Œ ì¶”ê°€ë˜ëŠ” ê²½ìš°ë¥¼ ì°¸ê³ í•˜ë©° êµ¬í•˜ë©´ ë˜ì§€ ì•Šì„ê¹Œ?&amp;rdquo;&lt;/em>&lt;/p>
&lt;p>ì¦‰ ê·¸ë¦¼ì„ ë³´ë©´ ë‘ ë²ˆì§¸ ê²½ìš°ëŠ” ì•ì˜ ê²½ìš°(ì²« ë²ˆì§¸ ê²½ìš°)ì™€ ë¹„êµí–ˆì„ ë•Œ Aê°€ ì¤„ì—ˆê³ , ë‚´ê°€ ë°©ë¬¸í•œ ë³´ì„ìƒ ì¤‘ Aê°€ ì—†ë‹¤ë©´ Aë¥¼ êµ¬ë§¤í•  ë•Œê¹Œì§€ ë³´ì„ìƒì„ ë°©ë¬¸í•˜ë©´ ëœë‹¤. ì„¸ ë²ˆì§¸ ê²½ìš°ëŠ” ê·¸ì™€ ë°˜ëŒ€ë¡œ ì•ì˜ ê²½ìš°(ë‘ ë²ˆì§¸ ê²½ìš°)ì™€ ë¹„êµí–ˆì„ ë•Œ Bê°€ ì¤„ì—ˆì§€ë§Œ ë‚´ê°€ ë°©ë¬¸í•œ ë³´ì„ìƒ ì¤‘ Bë¥¼ íŒë§¤í•˜ëŠ” ê³³ì´ ìˆê¸°ì— ìƒˆë¡œìš´ ë³´ì„ìƒì„ ë°©ë¬¸í•  í•„ìš”ê°€ ì—†ë‹¤.&lt;/p>
&lt;p>=&amp;gt; ì˜¤í˜¸ë¼&amp;hellip; ì¶”ìƒì ìœ¼ë¡œ ì ‘ê·¼ ë°©ì‹ì„ ë°”ë¼ë´¤ì„ ë•ŒëŠ” íš¨ìœ¨ì ì¸ ê²ƒ ê°™ë‹¤! ì´ì œ êµ¬í˜„ì—ì„œë§Œ ì˜ êµ¬í˜„í•˜ë©´ ë˜ê² ë‹¤.&lt;/p>
&lt;h2 id="êµ¬í˜„">êµ¬í˜„&lt;/h2>
&lt;h3 id="-ì˜¬ë°”ë¥¸-êµ¬í˜„">ğŸ‘ ì˜¬ë°”ë¥¸ êµ¬í˜„&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># í’€ì´ë²•ì´ ë– ì˜¤ë¥´ì§€ ì•ŠëŠ”ë‹¤. ì²˜ìŒ ë³´ëŠ” ìœ í˜•ì´ë‹¤...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ê·¸ëƒ¥ 1ë²ˆì—ì„œ ì‹œì‘í•´ì„œ ë‹¤ í¬í•¨í•˜ëŠ” ê²½ìš°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2ë²ˆì—ì„œ ì‹œì‘í•´ì„œ ë‹¤ í¬í•¨í•˜ëŠ” ê²½ìš° ì´ë ‡ê²Œ ë‹¤ ì„¸ë³´ë©´ íš¨ìœ¨ì„±ì´ ì˜¤ë°”ì¼ê¹Œ..? ìµœëŒ€ 10ë§Œì¹¸ì„...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ì•½ê°„ dpìŠ¤ëŸ½ê²Œ ì „êº¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìƒê°í•˜ëŠ” ê²Œ ì¢‹ê² ë‹¤.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ì „êº¼ë¥¼ ì—†ì•¤ ëŒ€ì‹  ê±”ê°€ í¬í•¨ë˜ì–´ìˆìœ¼ë©´ ã„±ã…Šì€ ê±°ë‹ˆê¹Œ.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">solution&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">gems&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">end&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">gems_set&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">gems&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">shopping_bag&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">gem&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">gems_set&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">shopping_bag&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">gem&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">gems&lt;/span>&lt;span class="p">)):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">gem&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">gems&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">gems_set&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">discard&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">gem&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">shopping_bag&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">gem&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">gems_set&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">end&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">answers&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[(&lt;/span>&lt;span class="n">end&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">end&lt;/span>&lt;span class="p">)]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">gems&lt;/span>&lt;span class="p">)):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">found&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">end&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">shop&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">gems&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">end&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">shopping_bag&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">found&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">length&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">end&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">length&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">answers&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">answers&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">length&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">end&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">elif&lt;/span> &lt;span class="n">length&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">answers&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">answers&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[(&lt;/span>&lt;span class="n">length&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">end&lt;/span>&lt;span class="p">)]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># print(answers)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">answer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">sorted&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">answers&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">answer&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">answer&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># end í¬í•¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">shop&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">gems&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">start&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">end&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">shopping_bag&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">left_gem&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">gems&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">is_complete&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">new_end&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">shopping_bag&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">left_gem&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">shopping_bag&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">left_gem&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">end&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">gems&lt;/span>&lt;span class="p">)):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">shopping_bag&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">gems&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]]&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ì´ì „ì— ëº¸ ë…€ì„ì„ ì°¾ì€ ê²½ìš°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">gems&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">left_gem&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">is_complete&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">True&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">new_end&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">is_complete&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">True&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">new_end&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">is_complete&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">new_end&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ë‚´ê°€ ë°©ë¬¸í•˜ë©´ì„œ êµ¬ë§¤í•œ ë³´ì„ë“¤ì˜ ê°ê°ì˜ ê°œìˆ˜ë¥¼ ë”•ì…”ë„ˆë¦¬ë¥¼ í†µí•´ ê´€ë¦¬í–ˆë‹¤.&lt;/p>
&lt;p>ì´ì „ ì‹œë„ ë•Œ êµ¬ë§¤í•œ ë³´ì„ë“¤ì˜ ê°ê°ì˜ ê°œìˆ˜ë¥¼ ì°¸ê³ í•´ ë§Œì•½ ì´ì „ì— 1ë²ˆ ë³´ì„ìƒì—ì„œ A ë³´ì„ì„ êµ¬ë§¤í•˜ëŠ” ê²ƒì„ ì‹œì‘ìœ¼ë¡œ í–ˆë‹¤ë©´ ì´ë²ˆ ì‹œë„ì—ëŠ” 2ë²ˆ ë³´ì„ìƒì—ì„œ ì–´ë–¤ ë³´ì„ì„ êµ¬ë§¤í•˜ê²Œ ë  ê²ƒì´ë‹¤. ì´ ê²½ìš° ì´ì   1ë²ˆ ë³´ì„ìƒì—ì„œ A ë³´ì„ì„ êµ¬ë§¤í•  ì¼ì´ ì—†ìœ¼ë‹ˆ ë”•ì…”ë„ˆë¦¬ì—ì„œ A ë³´ì„ì˜ ê°œìˆ˜ë¥¼ 1ê°œ ì¤„ì—¬ì£¼ê³  ì‹œì‘ì„ í•˜ëŠ” ê²ƒì´ë‹¤. ì´í›„ êµ¬ë§¤ ê°œìˆ˜ê°€ 0ê°œê°€ ë˜ëŠ” ë³´ì„ì´ ì—†ëŠ”ì§€ í™•ì¸í•˜ê³  ì¡´ì¬í•œë‹¤ë©´ í•´ë‹¹ ë³´ì„ì„ êµ¬ë§¤í•  ë•Œê¹Œì§€ ê³„ì†í•´ì„œ ë³´ì„ìƒì„ ë°©ë¬¸í•´ë‚˜ê°€ë©´ ëœë‹¤.&lt;/p>
&lt;ul>
&lt;li>ë³´ì„ì˜ ëª¨ë“  ì¢…ë¥˜ë¥¼ êµ¬í•˜ê¸° ìœ„í•´ì„œëŠ” Set ìë£Œ êµ¬ì¡°ë¥¼ ì´ìš©í–ˆë‹¤.&lt;/li>
&lt;li>êµ¬ë§¤í•œ ë³´ì„ì„ ìˆœì„œëŒ€ë¡œ ë¦¬ìŠ¤íŠ¸ë¡œ ê´€ë¦¬í•˜ë©° ë¦¬ìŠ¤íŠ¸ì— ë‚´ê°€ êµ¬ë§¤í•œ ë³´ì„ì´ ìˆëŠ”ì§€ ì°¾ëŠ” ë°©ì‹ì€ &lt;code>__contains__&lt;/code> ë¥¼ ì´ìš©í•˜ê²Œ ë˜ê³  ì´ ì‘ì—…ë§Œ ë†“ê³  ë³´ë©´ ì‹œê°„ ë³µì¡ë„ê°€ O(n)ì´ë‹¤. ë°˜ë©´ ë”•ì…”ë„ˆë¦¬ì— ê° ë³´ì„ì˜ êµ¬ë§¤ ê°œìˆ˜ë¥¼ ì´ìš©í•´ êµ¬ë§¤í•˜ì§€ ì•Šì€ ë³´ì„ì´ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ì‘ì—…ì€ O(1)ì´ë‹¤. ë”°ë¼ì„œ ë”•ì…”ë„ˆë¦¬ë¥¼ ì´ìš©í•´ ë³´ì„ì„ êµ¬ë§¤í–ˆëŠ”ì§€ë¥¼ í™•ì¸í•˜ëŠ” ë°©ì‹ì„ ì´ìš©í–ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;h3 id="-ì‹¤íŒ¨í–ˆë˜-êµ¬í˜„">ğŸ‘ ì‹¤íŒ¨í–ˆë˜ êµ¬í˜„&lt;/h3>
&lt;blockquote>
&lt;p>ì´ ë¶€ë¶„ì€ ê°œì¸ì ìœ¼ë¡œ ê¸°ì–µí•˜ë ¤ëŠ” ì˜ë„ë¡œ ì‘ì„±í•œ ê²ƒì´ê¸° ë•Œë¬¸ì— ì„¤ëª…ì´ ì´ìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;/blockquote>
&lt;ol>
&lt;li>listë¥¼ ì´ìš©í•´ ë‚´ê°€ êµ¬ë§¤í•œ ë³´ì„ì„ ìˆœì„œëŒ€ë¡œ ë‹´ì•˜ë˜ ë°©ì‹&lt;/li>
&lt;/ol>
&lt;p>ìœ„ì—ì„œë„ ì–¸ê¸‰ì€ í–ˆì§€ë§Œ listë¥¼ ì´ìš©í•´ ë‚´ê°€ êµ¬ë§¤í•œ ë³´ì„ì„ ìˆœì„œëŒ€ë¡œ ë‹´ì€ ë’¤ ì–´ë–¤ ë³´ì„ì„ ì ì–´ë„ í•œ ë²ˆ êµ¬ë§¤í•œ ì ì´ ìˆëŠ”ì§€ë¥¼ &lt;code>in&lt;/code> ìœ¼ë¡œ ì°¾ëŠ” ë°©ì‹ì„ ì´ìš©í•œ ê²½ìš°ì´ë‹¤. ê²Œë‹¤ê°€ ì´ì „ ì‹œë„ì—ì„œ left_gemì„ ì œê±°í•œ ë’¤ ìƒˆë¡œìš´ &lt;code>shopping_bag&lt;/code>ì„ ëŒ€ì…í•˜ëŠ” ê³¼ì •ì—ì„œ ì•„ë˜ì™€ ê°™ì´ O(n)ì˜ ë³µì¡ë„ë¥¼ ê°–ëŠ” list slicingì„ ì´ìš©í•˜ë‹¤ë³´ë‹ˆ ë”ìš± ë¹„íš¨ìœ¨ì ì´ì—ˆë‹¤. í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ì˜ íš¨ìœ¨ì„± í…ŒìŠ¤íŠ¸ë¥¼ 5ê°œ ì‹¤íŒ¨í–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">shopping_bag&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">shopping_bag&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">:]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="2">
&lt;li>1ë²ˆ ë°©ì‹ì„ ê°œì„ í•´ list slicingì´ ì•„ë‹Œ dequeue ìë£Œêµ¬ì¡° ì´ìš©í•˜ê¸°&lt;/li>
&lt;/ol>
&lt;p>list slicing ì‹œ O(n)ì˜ ì‹œê°„ ë³µì¡ë„ë¥¼ ê°–ëŠ” listê°€ ì•„ë‹Œ ì•ì˜ ìš”ì†Œë¥¼ ì œê±°í•˜ë©´ì„œë„ O(1)ì˜ ì‹œê°„ ë³µì¡ë„ë¥¼ ê°–ëŠ” dequeue ìë£Œêµ¬ì¡°ë¥¼ ì´ìš©í–ˆë‹¤. í•˜ì§€ë§Œ í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ íš¨ìœ¨ì„± í…ŒìŠ¤íŠ¸ë¥¼ 2ê°œ ì‹¤íŒ¨í–ˆë‹¤.&lt;/p>
&lt;p>ì¦‰ ìš”ì ì€ listë“  dequeueë“  ë‘˜ ì¤‘ ë¬´ì—‡ì„ ì´ìš©í•˜ë”ë¼ë„ O(n)ì˜ ì‹œê°„ ë³µì¡ë„ë¥¼ ê°–ëŠ” &lt;code>in&lt;/code>ì„ í†µí•´ íŠ¹ì • ìš”ì†Œê°€ collection ë‚´ì— ì¡´ì¬í•˜ëŠ” ê²ƒì´ ë¹„íš¨ìœ¨ì ì´ë¯€ë¡œ ë”•ì…”ë„ˆë¦¬ë¥¼ ì´ìš©í•´ O(1)ì˜ ì‹œê°„ ë³µì¡ë„ë¥¼ ê°–ëŠ” ë°©ì‹ì„ ì´ìš©í•˜ëŠ” ê²ƒì´ë‹¤.&lt;/p></description></item><item><title>Go ì–¸ì–´ë¡œ ì ìš©í•´ë³´ëŠ” Computer Science - Mutexì™€ Semaphore</title><link>https://umi0410.github.io/blog/golang/go-mutex-semaphore/</link><pubDate>Wed, 20 Jan 2021 15:25:54 +0900</pubDate><guid>https://umi0410.github.io/blog/golang/go-mutex-semaphore/</guid><description>&lt;img src="https://umi0410.github.io/blog/golang/go-mutex-semaphore/mutex-2.png" alt="Featured image of post Go ì–¸ì–´ë¡œ ì ìš©í•´ë³´ëŠ” Computer Science - Mutexì™€ Semaphore" />&lt;p>Go ì–¸ì–´ë¡œ ì ìš©í•´ë³´ëŠ” Computer Scienceì˜ ì²« ë²ˆì§¸ ë‚´ìš©ìœ¼ë¡œ OS ê´€ë ¨ ë‚´ìš© ì¤‘ ì´ë¡ ì ìœ¼ë¡œëŠ” í”í•˜ê²Œ ì ‘í•  ìˆ˜ ìˆì§€ë§Œ ì‹¤ì œ ì ìš©ì— ëŒ€í•œ ë‚´ìš©ì€
ì°¾ì•„ë³´ê¸° í˜ë“¤ì—ˆë˜ &lt;code>Mutex&lt;/code>, &lt;code>Semaphore&lt;/code>ì— ëŒ€í•´ ì•Œì•„ë³´ë ¤í•œë‹¤.&lt;/p>
&lt;p>Mutexì™€ Semaphoreì€ ê°ê°ì˜ ì¶”ìƒì ì¸ ê°œë…ì„ ë°”íƒ•ìœ¼ë¡œ OSë‚˜ Go ë“±ì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìˆê¸°ì— ì„¸ë¶€ì ì¸ ë‚´ìš©ì€ ë¬¸ë§¥ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤ê³  ìƒê°í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ Goì—ì„œì˜ MutexëŠ” ì£¼ë¡œ &lt;code>sync.Mutex&lt;/code>ë¥¼ ì´ìš©í•œ ì„œë¡œ ë‹¤ë¥¸ Goroutineì˜ ë™ì‹œ ì ‘ê·¼ì— ëŒ€í•œ ì œì–´ë¥¼ ì˜ë¯¸í•˜ëŠ” ë°˜ë©´, ë‹¤ë¥¸ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë‚˜ OSì—ì„œëŠ” ì£¼ë¡œ ì„œë¡œ ë‹¤ë¥¸ Kernel threadë‚˜ Processì— ëŒ€í•œ ë™ì‹œ ì ‘ê·¼ ì œì–´ë¥¼ ì˜ë¯¸í•  ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;h2 id="mutex">Mutex&lt;/h2>
&lt;p>&lt;code>Mutex&lt;/code>ëŠ” &lt;strong>Mutual Exclusion&lt;/strong>ì˜ ì¤„ì„ë§ë¡œ &lt;strong>ìƒí˜¸ ë°°ì œ&lt;/strong>ë¥¼ ì˜ë¯¸í•œë‹¤. ì¦‰ &lt;strong>ì„œë¡œ ë‹¤ë¥¸ ì›Œì»¤ê°€ ê³µìœ  ìì›ì— ì ‘ê·¼í•˜ëŠ” ê²ƒì„ ì œí•œ&lt;/strong>í•œë‹¤ëŠ” ë§ì´ë‹¤. &lt;code>Go&lt;/code>ì—ì„œëŠ” ì´ &amp;ldquo;&lt;strong>ì›Œì»¤&lt;/strong>&amp;ldquo;ê°€ &lt;code>Goroutine&lt;/code>ì´ ë˜ê³ , ì»¨í…ìŠ¤íŠ¸ì— ë”°ë¼ í”„ë¡œì„¸ìŠ¤ê°€ ë  ìˆ˜ë„, ìŠ¤ë ˆë“œê°€ ë  ìˆ˜ë„ ê·¸ ì™¸ì˜ ë‹¤ë¥¸ ì¡´ì¬ê°€ ë  ìˆ˜ë„ ìˆë‹¤. &lt;code>ê³µìœ  ìì›&lt;/code>ì´ë€ ì—¬ëŸ¬ ì›Œì»¤ê°€ ë™ì‹œì— ì ‘ê·¼í•˜ëŠ” ìì›ì„ ë§í•˜ê³  ì´ &lt;strong>ê³µìœ  ìì›ì— ëŒ€í•œ ë™ì‹œ ì ‘ê·¼ì„ ì œí•œí•´ thread-safeí•˜ê²Œ ì‘ì—…í•˜ê³ ì í•˜ëŠ” ì˜ì—­&lt;/strong>ì„ &lt;code>Critical section&lt;/code>ì´ë¼ê³  í•œë‹¤. Cricical sectionì€ Mutexê°€ Lockì„ ìˆ˜í–‰í•œ ë’¤ Unlockë˜ê¸° ì „ê¹Œì§€ì˜ ì˜ì—­ì´ë©°, Lockê³¼ Unlockì€ Atomicí•œ ì‘ì—…ì´ê¸°ë•Œë¬¸ì— ì–´ë– í•œ ê²½ìš°ì—ë„ ë™ì‹œì ìœ¼ë¡œ ìˆ˜í–‰ë  ìˆ˜ ì—†ë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 149; flex-basis: 358px">
&lt;a href="https://umi0410.github.io/blog/golang/go-mutex-semaphore/mutex-1.png" data-size="817x547">&lt;img src="https://umi0410.github.io/blog/golang/go-mutex-semaphore/mutex-1.png"
srcset="https://umi0410.github.io/blog/golang/go-mutex-semaphore/mutex-1_hu76213fc7fff91be05fb9c7f7e7037656_79471_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-mutex-semaphore/mutex-1_hu76213fc7fff91be05fb9c7f7e7037656_79471_1024x0_resize_box_3.png 1024w"
width="817"
height="547"
loading="lazy"
alt="mutex-1.png">
&lt;/a>
&lt;figcaption>mutex-1.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ì´í•´í•˜ê¸° ì‰½ê²Œ ì˜ˆì‹œë¥¼ í†µí•´ ì ‘ê·¼í•´ë³´ê² ë‹¤. ì›ë˜ í™”ì¥ì‹¤ ì˜ˆì œë¥¼ ë³´ê³  êµ‰ì¥íˆ ì™€ë‹¿ì•˜ëŠ”ë°, í™”ì¥ì‹¤ë³´ë‹¤ëŠ” í”¼íŒ…ë£¸ì´ ì¢€ ë” ì²­ê²°í•œ ê²ƒ ê°™ì•„ì„œ í”¼íŒ…ë£¸ìœ¼ë¡œ ì˜ˆë¥¼ ë“¤ì–´ë³´ê² ë‹¤. ìš°ë¦¬ ê·€ì—¬ìš´ ê³ í¼ê°€ &lt;strong>í”¼íŒ…ë£¸ì„ í•œ ê°œë§Œ ìš´ì˜í•˜ëŠ” ì˜·ê°€ê²Œì— ë°©ë¬¸&lt;/strong>í–ˆë‹¤ê³  ê°€ì •í•´ë³´ì.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 251; flex-basis: 602px">
&lt;a href="https://umi0410.github.io/blog/golang/go-mutex-semaphore/mutex-2.png" data-size="831x331">&lt;img src="https://umi0410.github.io/blog/golang/go-mutex-semaphore/mutex-2.png"
srcset="https://umi0410.github.io/blog/golang/go-mutex-semaphore/mutex-2_hu253887d6f424b5a6c4c14b3309becda5_68035_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-mutex-semaphore/mutex-2_hu253887d6f424b5a6c4c14b3309becda5_68035_1024x0_resize_box_3.png 1024w"
width="831"
height="331"
loading="lazy"
alt="mutex-2.png">
&lt;/a>
&lt;figcaption>mutex-2.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;ul>
&lt;li>í”¼íŒ…ë£¸ - Critical section&lt;/li>
&lt;li>ê³ í¼ê°€ í”¼íŒ…ë£¸ì— ë“¤ì–´ê°€ì„œ ì˜·ì„ ì…ëŠ” ì‘ì—…ì€ í•˜ë‚˜ì˜ Goroutine&lt;/li>
&lt;/ul>
&lt;p>ë™ì‹œì— ì—¬ëŸ¬ ê³ í¼ê°€ í•˜ë‚˜ì˜ í”¼íŒ…ë£¸ì—ì„œ ì˜·ì„ ê°ˆì•„ì…ìœ¼ë ¤í•œë‹¤ë©´ ğŸ˜Ÿ ë‚œì²˜í•œ ìƒí™©ì´ ë°œìƒí•  ê²ƒì´ë‹¤. ê·¸ë ‡ê¸°ë•Œë¬¸ì— í”¼íŒ…ë£¸ì—ëŠ” Lock, Unlock ê¸°ëŠ¥ì´ ì¡´ì¬í•´ì•¼í•˜ëŠ”ë°, ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤í•´ë„ &lt;strong>Atomic&lt;/strong>í•˜ê²Œ ë™ì‘í•  ìˆ˜ ìˆë„ë¡ ì œëŒ€ë¡œ êµ¬í˜„í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ &lt;strong>í•œ ì›Œì»¤ê°€ Lockì„ í•˜ëŠ” ì‚¬ì´ì— ë‹¤ë¥¸ ì›Œì»¤ê°€ ë™ì‹œì— Lock&lt;/strong>ì„ ê±¸ë ¤í•  ìˆ˜ ìˆê³ , ê·¸ ê²½ìš° ë‘ ì›Œì»¤ê°€ ë™ì‹œì— í•œ í”¼íŒ…ë£¸(Critical Section)ì—ì„œ ì‘ì—…ì„ í•˜ë ¤í•  ê²ƒì´ë‹¤. ê·¸ë ‡ê¸°ë•Œë¬¸ì— &lt;strong>Lock, Unlockì€ Atomicí•´ì•¼í•˜ë©° ì´ë ‡ê²Œ ê° ì›Œì»¤ë¥¼ ìƒí˜¸ ë°°ì œì‹œì¼œ ë™ì‹œì— ì‘ì—…í•  ìˆ˜ ì—†ë„ë¡ í•˜ëŠ” ê²ƒ&lt;/strong>ì´ ë°”ë¡œ &lt;code>Mutex&lt;/code>ì´ë‹¤.&lt;/p>
&lt;h3 id="mutexë¥¼-ì´ìš©í•œ-go-program---counter">Mutexë¥¼ ì´ìš©í•œ Go program - Counter&lt;/h3>
&lt;p>&lt;strong>Count = 0ì—ì„œ ì‹œì‘í•´ ë™ì‹œì ìœ¼ë¡œ +1ì„ 10ë§Œ ë²ˆ, -1ì„ 10ë§Œ ë²ˆ ìˆ˜í–‰í•˜ëŠ” ì¹´ìš´í„° í”„ë¡œê·¸ë¨&lt;/strong>&lt;/p>
&lt;p>ê·¸ëŸ¼ ì‹¤ìƒí™œì— ë¹„ìœ í•œ MutexëŠ” ì´ ì •ë„ë¡œ ë§ˆì¹˜ê³ , Mutexê°€ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ëŠ”ì§€ Goë¡œ ì§  ê°„ë‹¨í•œ Counter í”„ë¡œê·¸ë¨ì„ í†µí•´ ì•Œì•„ë³´ì.&lt;/p>
&lt;ul>
&lt;li>Mutexë¥¼ ì˜ ì ìš©í•œ ê²½ìš° - ëª‡ ë²ˆì„ ìˆ˜í–‰í•˜ë“  ê²°ê³¼ëŠ” 0.&lt;/li>
&lt;li>Mutexê°€ ì ìš©ë˜ì§€ ì•Šì€ safeí•˜ì§€ ì•Šì€ ê²½ìš° - ê²°ê³¼ê°€ 0ì´ ë‚˜ì˜¤ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.&lt;/li>
&lt;/ul>
&lt;p>íŠ¹íˆ &lt;code>Go&lt;/code>ì—ì„œëŠ” &lt;code>sync&lt;/code> íŒ¨í‚¤ì§€ì˜ &lt;code>Mutex&lt;/code>ë¼ëŠ” typeì„ í†µí•´ ê°„ë‹¨í•˜ê²Œ Mutex ê¸°ëŠ¥ì„ ì´ìš©í•  ìˆ˜ ìˆë‹¤. &lt;strong>ë™ì¼í•œ Mutex structë¥¼ ì°¸ì¡°í•œë‹¤ë©´ ê°™ì€ Keyë¥¼ ì´ìš©í•œë‹¤ëŠ” ê°œë…&lt;/strong>ì´ê³ , &lt;code>mutex.Lock()&lt;/code>ì„ í˜¸ì¶œí•œ ë’¤ &lt;code>mutex.Unlock()&lt;/code>ì´ í˜¸ì¶œë˜ê¸° ì´ì „ê¹Œì§€ê°€ Critical sectionì´ ë˜ë©° ë‹¤ë¥¸ goroutineë“¤ì€ ê°™ì€ Mutex(ì¦‰ í‚¤)ì— ì˜í•œ Critical sectionì— ì§„ì…í•  ìˆ˜ ì—†ë‹¤.&lt;/p>
&lt;p>&lt;em>ë‚´ê°€ ì²˜ìŒ Mutexë¥¼ ì²˜ìŒ ì ‘í–ˆì„ ë•Œ í•œ ê°€ì§€ í—·ê°ˆë ¸ë˜ ê²ƒ&lt;/em>ì€ ë‹¹ì‹œ Critical sectionì´ë¼ëŠ” ê°œë…ì´ ì—†ì—ˆê¸° ë•Œë¬¸ì— Lockì„ í˜¸ì¶œí•˜ê¸°ë§Œ í•˜ë©´ ëŸ°íƒ€ì„ì— &lt;del>ì•Œì•„ì„œ ìŠ¤ë§ˆíŠ¸í•˜ê²Œ Lockê³¼ Unlockì‚¬ì´ì˜ ë³€ìˆ˜ë“¤ì— ëŒ€í•œ ì ‘ê·¼ ì¤‘ ë™ì‹œì ì¸ ì ‘ê·¼ë§Œì„ ì ì‹œ ë¸”ë½í•´ì£¼ëŠ” ì¤„&lt;/del> ì•Œì•˜ëŠ”ë°, ì‚¬ì‹¤ ê·¸ ì‚¬ì´ ë³€ìˆ˜ë“¤ì¤‘ ë™ì‹œì ìœ¼ë¡œ ì ‘ê·¼í•˜ë ¤ëŠ” ë³€ìˆ˜ì— ëŒ€í•´ì„œë§Œ ì ì‹œ ë¸”ë½í•´ì£¼ëŠ” ê²Œ ì•„ë‹ˆë¼ &lt;strong>Lockê³¼ Unlock ì‚¬ì´ë¥¼ Critical sectionìœ¼ë¡œ ë§Œë“œëŠ” ê²ƒ&lt;/strong>ì´ì—ˆë‹¤.&lt;/p>
&lt;p>ì ê·¸ëŸ¼ Countë¼ëŠ” í•˜ë‚˜ì˜ intí˜• ë³€ìˆ˜ì— ë™ì‹œì ìœ¼ë¡œ ì ‘ê·¼ì„ í•˜ëŠ” ìƒí™©ì„ ê·¹ëŒ€í™”í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ê³ ë£¨í‹´ìœ¼ë¡œ ì‘ì—…í•´ë³´ê² ë‹¤. +1ì„ 1ë§Œ ë²ˆí•˜ëŠ” ê³ ë£¨í‹´ì„ 10ê°œ, -1ì„ 1ë§Œ ë²ˆí•˜ëŠ” ê³ ë£¨í‹´ì„ ë§ˆì°¬ê°€ì§€ë¡œ 10ê°œ ì´ìš©í•˜ê² ë‹¤.&lt;/p>
&lt;p>ì „ì²´ ì½”ë“œ ì°¸ê³ : &lt;a class="link" href="https://play.golang.org/p/xaLE1YkAdvd" target="_blank" rel="noopener"
>https://play.golang.org/p/xaLE1YkAdvd&lt;/a>&lt;/p>
&lt;p>&lt;figure style="flex-grow: 116; flex-basis: 279px">
&lt;a href="https://umi0410.github.io/blog/golang/go-mutex-semaphore/output-1.png" data-size="516x443">&lt;img src="https://umi0410.github.io/blog/golang/go-mutex-semaphore/output-1.png"
srcset="https://umi0410.github.io/blog/golang/go-mutex-semaphore/output-1_hu6e22a3f3f203a0242d8843396eefee7b_63957_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-mutex-semaphore/output-1_hu6e22a3f3f203a0242d8843396eefee7b_63957_1024x0_resize_box_3.png 1024w"
width="516"
height="443"
loading="lazy"
alt="output-1.png">
&lt;/a>
&lt;figcaption>output-1.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;ul>
&lt;li>ìš°ë¦¬ê°€ ì¼ë°˜ì ìœ¼ë¡œ ìµìˆ™í•œ Sync ì¦‰ ë™ê¸°ì ì¸ ìˆœì°¨ì  ì§„í–‰ ì‹œì—ëŠ” ë‹¹ì—°íˆ 10ë§Œë²ˆ +1, 10ë§Œë²ˆ -1 í›„ì— ê²°ê³¼ê°€ 0ì´ì—ˆë‹¤.&lt;/li>
&lt;li>ë™ì‹œì  ì ‘ê·¼ì„ ìˆ˜í–‰í•˜ì 10ë§Œë²ˆ +1, 10ë§Œë²ˆ -1ì„ í–ˆì§€ë§Œ &lt;code>Count += 1&lt;/code> ì„ ìˆ˜í–‰í•˜ë˜ ì¤‘ ë˜ ë‹¤ë¥¸ &lt;code>Count += 1&lt;/code>ì´ ìˆ˜í–‰ë˜ëŠ” ë“±ì˜ ì›ì¹˜ì•Šë˜ ìƒí™©ì´ ì•¼ê¸°ë  ìˆ˜ ìˆê¸°ì— ê²°ê³¼ê°’ì´ 0ì¸ ê²½ìš°ë¥¼ ì°¾ê¸° í˜ë“¤ë‹¤.&lt;/li>
&lt;li>ì—¬ëŸ¬ Goroutineì´ concurrentí•˜ê²Œ ì§„í–‰í•˜ë˜ &lt;code>Count += 1&lt;/code>, &lt;code>Count -= 1&lt;/code> ê³¼ ê°™ì€ &lt;strong>ë™ì‹œì  ì ‘ê·¼ì´ ìˆ˜í–‰ë˜ì–´ì„œëŠ” ì•ˆë˜ëŠ” ì˜ì—­ì€ Critical Area&lt;/strong>ë¡œ ì„¤ì •í•´ ìƒí˜¸ ë°°ì œì ìœ¼ë¡œ ì‘ì—…ë˜ê²Œ í•˜ê¸° ìœ„í•´ Critical sectionì˜ ì „/í›„ì— &lt;code>sync.Mutex&lt;/code>ë¥¼ ì´ìš©í•´ Lock, Unlock ê¸°ëŠ¥ì„ ë„£ì–´ì£¼ì &lt;strong>ê¸°ëŒ€í–ˆë˜ ëŒ€ë¡œ 0ì˜ ê²°ê³¼&lt;/strong>ë¥¼ ì–»ì„ ìˆ˜ ìˆì—ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;h3 id="-mutex-ê·¸ë˜ì„œ-ì–¸ì œ-ì¨ìš”">ğŸ’¡ Mutex.. ê·¸ë˜ì„œ ì–¸ì œ ì¨ìš”?&lt;/h3>
&lt;p>ì‚¬ì‹¤ Mutexë¼ëŠ” ê°œë…ì´ ê·¸ë ‡ê²Œ ì–´ë ¤ìš´ ê²ƒë„ ì•„ë‹ˆê³ , ì‚¬ìš©ë²• ìì²´ê°€ ì–´ë ¤ìš´ ê²ƒë„ ì•„ë‹ˆë‹¤. ë‚˜ëŠ” í•˜ì§€ë§Œ í•­ìƒ &lt;strong>&amp;ldquo;ì–¸ì œ&amp;rdquo;&lt;/strong>, &lt;strong>&amp;ldquo;ì™œ&amp;rdquo;&lt;/strong> ì¨ì•¼í•˜ëŠ”ì§€ë¥¼ ê¶ê¸ˆí•´í•˜ëŠ” í¸ì´ë‹¤.&lt;/p>
&lt;ol>
&lt;li>Critical sectionì—ì„œ ë§ì€ ì‹œê°„ì´ ì†Œìš”ë˜ëŠ” ê²½ìš°? â‡’ âŒ
ìœ„ì˜ counterì™€ ê°™ì€ ì‘ì—…ì€ ëŒ€ë¶€ë¶„ì˜ ì‘ì—…ì´ critical section ì†ì— ìˆë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. ì´ ê²½ìš° ë™ì‹œì ì¸ ì‘ì—…ê³¼ í•¨ê»˜ Lock, Unlockì„ í•˜ë©° critical sectionì„ ê´€ë¦¬í•˜ëŠ” ê²ƒë³´ë‹¤ ì• ì´ˆì— ì‘ì—… ìì²´ë¥¼ ë™ê¸°ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ê²Œ ë‚˜ì„ ìˆ˜ ìˆë‹¤. ì™œëƒí•˜ë©´ ë™ì‹œì  ì‘ì—… ì†ì—ì„œ Mutexë¥¼ í†µí•´ ë™ê¸°ì ìœ¼ë¡œ ì‘ì—…í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒì—ì„œ ì˜¤ëŠ” ì˜¤ë²„í—¤ë“œëŠ” ë¶„ëª…íˆ ì¡´ì¬í•˜ê³ , Critical section ë°–ì—ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ë™ì‹œì ìœ¼ë¡œ ì‘ì—…ì„ ì§„í–‰í–ˆë‹¤í•˜ë”ë¼ë„ critical sectionì—ì„œ ë³‘ëª©ì´ ë°œìƒí•´ë²„ë ¤ ì „ì²´ì ì¸ Throughputì´ ì•ˆ ì¢‹ì•„ì§ˆ ê²ƒì´ë‹¤.&lt;/li>
&lt;li>&lt;strong>Critical sectionì—ì„œëŠ” ì ì€ ì‹œê°„ì´ ì†Œìš”ë˜ê³ , ëŒ€ë¶€ë¶„ì€ ë™ì‹œì ìœ¼ë¡œ ì‘ì—…ì´ ê°€ëŠ¥í•œ ê²½ìš°&lt;/strong>? â‡’ â­•
ì˜ˆë¥¼ ë“¤ì–´ ì–´ë–¤ APIë¥¼ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œí•œ ë’¤ ê·¸ ì‘ë‹µ ì¤‘ ì¼ë¶€ë¥¼ ê³„ì†í•´ì„œ ë”í•´ ê²°ê³¼ë¥¼ ë‚´ëŠ” Reduce ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤ê³  ì¹˜ì. ìˆœì°¨ì ìœ¼ë¡œ ìˆ˜í–‰í•  ì‹œ ì˜¤ëœ ì‹œê°„ì´ ì†Œìš”ë  API í˜¸ì¶œì€ ë™ì‹œì ìœ¼ë¡œ ì§„í–‰í•˜ê³ , ê²°ê³¼ì— ëŒ€í•œ Reduce ì‘ì—…ë§Œ ì ì‹œ Critical sectionë‚´ì—ì„œ ì‘ì—…í•œë‹¤ë©´ ì•„ì£¼ ì¢‹ì€ ì„±ëŠ¥ê³¼ í•¨ê»˜ ì•ˆì „í•˜ê²Œ ì‘ì—…í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤!&lt;/li>
&lt;/ol>
&lt;h2 id="semaphore">Semaphore&lt;/h2>
&lt;p>&lt;figure style="flex-grow: 142; flex-basis: 342px">
&lt;a href="https://umi0410.github.io/blog/golang/go-mutex-semaphore/semaphore.png" data-size="884x619">&lt;img src="https://umi0410.github.io/blog/golang/go-mutex-semaphore/semaphore.png"
srcset="https://umi0410.github.io/blog/golang/go-mutex-semaphore/semaphore_hu1456e527b7729559b12f99ce1b9bda34_227201_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-mutex-semaphore/semaphore_hu1456e527b7729559b12f99ce1b9bda34_227201_1024x0_resize_box_3.png 1024w"
width="884"
height="619"
loading="lazy"
alt="semaphore.png">
&lt;/a>
&lt;figcaption>semaphore.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>Mutexì—ì„œ ëŒ€ë¶€ë¶„ì˜ Lockì´ë‚˜ Critical sectionì— ëŒ€í•œ ë‚´ìš©ì„ ì„¤ëª…í–ˆê¸° ë•Œë¬¸ì— Semaphoreì—ì„œ ë” ì„¤ëª…í•  ë‚´ìš©ì´ ë§ì§€ëŠ” ì•Šë‹¤. Semaphoreì˜ ë™ì‘ì— ëŒ€í•œ ê°„ë‹¨í•œ ì˜ˆì‹œëŠ” ìœ„ì˜ ê·¸ë¦¼ê³¼ ê°™ì€ë°, 5ë§ˆë¦¬ì˜ ê³ í¼ê°€ ì¡´ì¬í•œë‹¤í•´ë„ ë™ì‹œì— ì ‘ê·¼í•  ìˆ˜ ìˆê²Œí•˜ëŠ” ê³ í¼ë¥¼ 3ê°œë¡œ ì œí•œí•œë‹¤ë©´ 2ë§ˆë¦¬ì˜ ê³ í¼ëŠ” í”¼íŒ…ë£¸ì— ë“¤ì–´ê°€ì§€ ëª»í•˜ê³  ë¸”ë½ëœë‹¤. Lockedì™€ Unlocked ìƒíƒœ ë¿ì¸ &lt;code>Mutex&lt;/code>ì™€ ë‹¬ë¦¬ &lt;code>Semaphore&lt;/code>ëŠ” &lt;strong>ì„ì˜ì˜ ê°œìˆ˜ë¥¼ ì„¸ëŠ” Counterì²˜ëŸ¼ ë™ì‘í•´ ì„ì˜ì˜ ê°œìˆ˜ì˜ ì›Œì»¤ë§Œì´ Critical sectionì— ë™ì‹œì ìœ¼ë¡œ ì ‘ê·¼&lt;/strong>í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.&lt;/p>
&lt;p>Counterë¥¼ ì˜ˆë¡œ ë“¤ìë©´ 10ê°œì˜ ì›Œì»¤ê°€ ì¡´ì¬í•œë‹¤í•´ë„ &amp;ldquo;5&amp;quot;ë¥¼ ì„¸ëŠ” SemaphoreëŠ” í•œ ì›Œì»¤ê°€ Critical sectionì— ì§„ì…í•  ë•Œë§ˆë‹¤ Counter ê°’ì„ 1ì”© ë‚®ì¶”ê³ , Critical sectionì„ íƒˆì¶œí•  ë•Œë§ˆë‹¤ Counter ê°’ì„ ë‹¤ì‹œ 1ì”© ë†’ì¸ë‹¤. ë§Œì•½ ì–´ë–¤ ì›Œì»¤ê°€ Critical sectionì— ì§„ì…í•˜ë ¤ëŠ”ë° Count ê°’ì´ 0ì´ë¼ë©´ ì´ˆê¸°ì— ê³„íší–ˆë˜ ëŒ€ë¡œ 5ê°œì˜ ì›Œì»¤ê°€ ì´ë¯¸ ë™ì‹œì ìœ¼ë¡œ ì‘ì—…ì¤‘ì´ë¼ëŠ” ì˜ë¯¸ì´ë¯€ë¡œ ì´ ì›Œì»¤ëŠ” í•œ ì›Œì»¤ê°€ Critical sectionì„ ë‚˜ì˜¤ë©´ì„œ Counter ê°’ì„ ë‹¤ì‹œ 1 ì¦ê°€ì‹œí‚¬ ë•Œê¹Œì§€ Blockëœë‹¤.&lt;/p>
&lt;p>Mutexì˜ Lockê³¼ Unlockì´ Atomicí•˜ê¸°ì— ì–´ë– í•œ ê²½ìš°ì—ë„ ë™ì‹œì ìœ¼ë¡œ ìˆ˜í–‰ë  ìˆ˜ ì—†ì—ˆë“¯ì´ Semaphoreì˜ Counting ì‘ì—… ë˜í•œ Atomicí•´ì•¼í•˜ê³  ê·¸ë˜ì•¼ë§Œ Thread-safeí•œ counterë¡œ ë™ì‘í•  ìˆ˜ ìˆë‹¤. Semaphoreê°€ ìˆ˜í–‰í•˜ëŠ” Counting ì‘ì—…ì€ ì£¼ë¡œ tryë¥¼ ëœ»í•˜ëŠ” ë„¤ëœë€ë“œì–´ Proberenì˜ ì• ê¸€ìë¥¼ ë”´ &lt;code>P&lt;/code>ì™€ incrementë¥¼ ëœ»í•˜ëŠ” Verhogenì˜ ì• ê¸€ìë¥¼ ë”´ &lt;code>V&lt;/code>ë¡œ ë‘ ê°€ì§€ê°€ í‘œí˜„í•˜ëŠ” ë“¯í•˜ë‹¤. &lt;code>P&lt;/code>ëŠ” Count ê°’ì´ 0ì´ ì•„ë‹ˆë©´ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê² ë‹¤ëŠ” ì˜ë¯¸í•˜ë©° ë§Œì•½ Count ê°’ì´ 0ì´ë¼ë©´ 0ì´ ì•„ë‹Œ ê°’ì´ ë  ë•Œê¹Œì§€ waití–ˆë‹¤ê°€ 0 ì•„ë‹Œ ê°’ì´ ë˜ë©´ count ê°’ì„ 1 ê°ì†Œì‹œí‚¤ë©° ì‘ì—…ì„ ì‹œì‘í•œë‹¤. &lt;code>V&lt;/code>ëŠ” ì‘ì—…ì„ ë§ˆì¹˜ë©° count ê°’ì„ ë‹¤ì‹œ 1 ì¦ê°€ì‹œí‚¤ê² ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.&lt;/p>
&lt;h3 id="mutexì™€-binary-semaphoreì˜-ìœ ì‚¬í•œ-ì ">Mutexì™€ Binary semaphoreì˜ ìœ ì‚¬í•œ ì &lt;/h3>
&lt;p>ë™ì‹œ ì ‘ê·¼ ì›Œì»¤ë¥¼ 1ê°œë¡œ ì œí•œí•˜ëŠ” Semaphoreì˜ ê²½ìš° Count ê°’ì´ 0ê³¼ 1 ë‘ ê°œë¡œë§Œ ì¡´ì¬í•  ìˆ˜ ìˆëŠ”ë° ì´ë¥¼ Binary semaphoreë¼ê³ í•œë‹¤. íŠ¹íˆ ì´ëŠ” Lockedì™€ Unlockedë¼ëŠ” ë‘ ê°€ì§€ì˜ ìƒíƒœë§Œì„ ê°–ëŠ” Mutexì™€ ìœ ì‚¬í•˜ë‹¤. í•˜ì§€ë§Œ Binary semaphoreëŠ” mutexê°€ ìœ ì‚¬í•œ ê¸°ëŠ¥ì„ í•  ë¿ ë™ì¼í•˜ì§€ëŠ” ì•Šë‹¤ëŠ” ì˜ê²¬ì´ ë§ë‹¤. ê·¸ ì´ìœ ëŠ” &lt;strong>MutexëŠ” Lock ë°©ì‹ì„ ì´ìš©í•˜ê³  SemaphoreëŠ” Signal(ì‹ í˜¸) ë°©ì‹ì„ ì´ìš©&lt;/strong>í•˜ê¸° ë•Œë¬¸ì´ë‹¤. Lock ë°©ì‹ì˜ ê²½ìš° Lockì„ ìˆ˜í–‰í•œ ì›Œì»¤ë§Œì´ Unlockì„ í•  ìˆ˜ ìˆëŠ” ë°˜ë©´ Signal ë°©ì‹ì€ try(ì‘ì—… ì‹œë„)ë¥¼ ìˆ˜í–‰í•œ ì›Œì»¤ê°€ ì•„ë‹ˆë”ë¼ë„ increment(ì‘ì—… ì™„ë£Œ) ì‹ í˜¸ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆê¸°ì— ì„œë¡œ ëª…ë°±íˆ ë™ì‘ ë°©ì‹ì´ ë‹¤ë¥´ë‹¤ëŠ” ê²ƒì´ë‹¤. (í•˜ì§€ë§Œ ì´ ë¶€ë¶„ì— ëŒ€í•´ì„œëŠ” ì§ì ‘ ì‹¤ìŠµí•´ë³´ì§€ëŠ” ëª»í–ˆë‹¤.)&lt;/p>
&lt;p>*Semaphoreë¥¼ ì´í•´í•˜ëŠ” ë°ì— ìˆì–´ ë‚´ê°€ ì°©ê°í•´ì„œ í—¤ë§¸ë˜ ë¶€ë¶„ì€ ë°”ë¡œ &lt;del>Semaphoreì˜ ìš”ì ì´ thread-safeí•œ countë¼ê³  ì°©ê°&lt;/del>*í–ˆë˜ ê²ƒì´ë‹¤. í•˜ì§€ë§Œ semaphoreì˜ ìš”ì ì€ ì—¬ëŸ¬ ì›Œì»¤ì— ëŒ€í•´ì„œ thread safeí•œ count ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì„ì˜ì˜ ìˆ«ìë§Œí¼ì˜ ë™ì‹œì  ì ‘ê·¼ì„ í—ˆìš©í•˜ê³ , ê·¸ ì´ìƒì€ Block ìƒíƒœë¡œ ëŒ€ê¸°ì‹œí‚¨ë‹¤ëŠ” ê²ƒì´ë‹¤.&lt;/p>
&lt;h3 id="semaphoreë¥¼-ì´ìš©í•œ-go-program-1---counter">Semaphoreë¥¼ ì´ìš©í•œ Go Program 1 - Counter&lt;/h3>
&lt;p>goì—ì„œ Semaphoreë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•ì€ í¬ê²Œ 2ê°€ì§€ê°€ ìˆëŠ” ê²ƒ ê°™ë‹¤. ì•„ë˜ ë‘ ê°€ì§€ ë°©ë²• ì¤‘ ì¢€ ë” GoìŠ¤ëŸ¬ìš´ &lt;code>channel&lt;/code>ì„ ì´ìš©í•´ë³´ê² ë‹¤.&lt;/p>
&lt;ol>
&lt;li>Go íŠ¹ìœ ì˜ ìë£Œí˜•ì¸ &lt;code>channel&lt;/code>ì„ ì´ìš©í•˜ê¸° - channelì€ ì—¬ëŸ¬ goroutineì˜ concurrentí•œ ì‘ì—…ê°„ ë°ì´í„° ì „ì†¡ì€ ë¬¼ë¡ ì´ê³  ë™ì‹œì ì¸ ì‘ì—… ì¤‘ ë°ì´í„°ë¥¼ í¸ë¦¬í•˜ê²Œ ë™ê¸°í™”í•´ì£¼ëŠ” ë…€ì„ì´ë‹¤. ë”°ë¼ì„œ ë™ê¸°ì ì¸ countì™€ ìœ ì‚¬í•œ ê¸°ëŠ¥ì„ ë‚´ì¬í•˜ê³ ìˆë‹¤.&lt;/li>
&lt;li>&lt;a class="link" href="http://golang.org/x/sync/semaphore" target="_blank" rel="noopener"
>golang.org/x/sync/semaphore&lt;/a>ì˜ Weightedë¥¼ ì´ìš©í•˜ê¸° - Semaphoreì˜ Pë¥¼ Acquire, Vë¥¼ Releaseë¡œ êµ¬í˜„í•´ ì´ìš©í•  ìˆ˜ ìˆê²Œ í–ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;p>ì „ì²´ ì½”ë“œëŠ” Mutexì™€ ë™ì¼í•˜ë©° ë§ˆì°¬ê°€ì§€ë¡œ ë‹¤ìŒ ë§í¬ë¡œ ì°¸ê³ í•´ë³¼ ìˆ˜ ìˆë‹¤: &lt;a class="link" href="https://play.golang.org/p/xaLE1YkAdvd" target="_blank" rel="noopener"
>https://play.golang.org/p/xaLE1YkAdvd&lt;/a>&lt;/p>
&lt;h3 id="buffered-channelì„-ì´ìš©í•œ-semaphore-in-go">Buffered channelì„ ì´ìš©í•œ Semaphore in Go&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">DoSemaphore&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">maxConcurrent&lt;/span> &lt;span class="kt">int64&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Count&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wg&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">sync&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">WaitGroup&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sem&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">make&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">chan&lt;/span> &lt;span class="kd">struct&lt;/span>&lt;span class="p">{},&lt;/span> &lt;span class="nx">maxConcurrent&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wg&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">20&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="nf">Add1Sem&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sem&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="nf">Sub1Sem&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sem&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wg&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Wait&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Concurrent goroutines + Semaphore&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">maxConcurrent&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Result(Desired 0):&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Count&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;=====================================&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">Sub1Sem&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wg&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">sync&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">WaitGroup&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sem&lt;/span> &lt;span class="kd">chan&lt;/span> &lt;span class="kd">struct&lt;/span>&lt;span class="p">{}){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">defer&lt;/span> &lt;span class="nx">wg&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Done&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="mi">10000&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sem&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="kd">struct&lt;/span>&lt;span class="p">{}{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Count&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;-&lt;/span>&lt;span class="nx">sem&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>channelì„ ì´ìš©í•œ Semaphore ì½”ë“œë¥¼ ì„¤ëª…í•˜ê¸° ìœ„í•´ ì „ì²´ ì½”ë“œ ì¤‘ ì¼ë¶€ë¥¼ ê°€ì ¸ì™€ë³´ì•˜ë‹¤. Semaphoreë¥¼ ì´ìš©í•˜ê¸° ìœ„í•´ &lt;code>Unbuffered channel&lt;/code>ì´ ì•„ë‹Œ &lt;code>Buffered channel&lt;/code>ì„ ì´ìš©í•˜ëŠ” ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ì€ Unbuffered channelì˜ ë™ì‘ ë°©ì‹ì´ Semaphoreì˜ ë™ì‘ ë°©ì‹ê³¼ ë™ì¼í•˜ê¸° ë•Œë¬¸ì´ë‹¤.&lt;/p>
&lt;ul>
&lt;li>Bufferì˜ í¬ê¸°ë§Œí¼ì€ ë™ì‹œì ìœ¼ë¡œ channelì— ê°’ì„ ë„£ìœ¼ë ¤ëŠ” ì‹œë„ê°€ í—ˆìš©ë¨.&lt;/li>
&lt;li>buffered channelì´ ê½‰ ì°¬ ê²½ìš° ì±„ë„ì—ì„œ ê°’ì„ êº¼ë‚´ì§€ ì•ŠëŠ” ì´ìƒì€ ì¶”ê°€ì ìœ¼ë¡œ Channelì— ê°’ì„ ë„£ìœ¼ë ¤ì‹œë„í•˜ëŠ” goroutineì€ Blockë¨.&lt;/li>
&lt;/ul>
&lt;p>&lt;figure style="flex-grow: 170; flex-basis: 409px">
&lt;a href="https://umi0410.github.io/blog/golang/go-mutex-semaphore/output-2.png" data-size="534x313">&lt;img src="https://umi0410.github.io/blog/golang/go-mutex-semaphore/output-2.png"
srcset="https://umi0410.github.io/blog/golang/go-mutex-semaphore/output-2_hu5c9eb1f96e3e02a52a6b354b1459125f_26935_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-mutex-semaphore/output-2_hu5c9eb1f96e3e02a52a6b354b1459125f_26935_1024x0_resize_box_3.png 1024w"
width="534"
height="313"
loading="lazy"
alt="output-2.png">
&lt;/a>
&lt;figcaption>output-2.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>(ì•ì„œ ì½”ë“œë¥¼ ë§í¬í•œ go playgroundì—ì„œ ì½”ë“œë¥¼ ë°”ë¡œ ì‹¤í–‰í•´ë³¼ ìˆ˜ ìˆë‹¤.)&lt;/p>
&lt;p>ë™ì‹œ ì ‘ê·¼ ì›Œì»¤ë¥¼ 1ê°œë¡œ ì œí•œí•˜ëŠ” SemaphoreëŠ” &lt;strong>Binary Semaphoreë¡œì„œ Mutexë¥¼ ì´ìš©í–ˆì„ ë•Œì™€ ìœ ì‚¬í•˜ë‹¤ê³  ë§í–ˆë“¯ì´ thread-safeí•˜ê²Œ count ì‘ì—…ì´ ì´ë£¨ì–´ì ¸ ì˜ˆìƒë˜ëŠ” ê°’ì´ì—ˆë˜ 0ì´ ì¶œë ¥ë¨&lt;/strong>ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ë™ì‹œì ‘ê·¼ì´ ê°€ëŠ¥í•œ ì›Œì»¤ê°€ 1ê°œ ì´ìƒì´ ë˜ë©´ thread-safeí•˜ì§€ ì•Šê²Œ ë˜ê³ , ë™ì‹œì ‘ê·¼ ì›Œì»¤ ê°œìˆ˜ê°€ ë§ì•„ì§ˆìˆ˜ë¡ ê²°ê³¼ê°€ ë” ë¶€ì •í™•í•œ ê²½í–¥ì´ ìˆëŠ” ê²ƒìœ¼ë¡œ ë‚˜íƒ€ë‚¬ë‹¤.&lt;/p>
&lt;h3 id="-semaphore-ê·¸ë˜ì„œ-ì–¸ì œ-ì“°ë‚˜ìš”">ğŸ’¡ Semaphore.. ê·¸ë˜ì„œ ì–¸ì œ ì“°ë‚˜ìš”?&lt;/h3>
&lt;blockquote>
&lt;p>MutexëŠ” thread-safeí•œ ì‘ì—…ì„ í•  ë•Œ ì‚¬ìš©í•˜ë©´ ë˜ëŠ” ê²ƒ ê°™ì€ë° SemaphoreëŠ” ê°œë…ì€ ì•Œê² ëŠ”ë° ì–¸ì œ ì¨ì•¼í•  ì§€ë¥¼ ì˜ ëª¨ë¥´ê² ë„¤ìš”. ì¼ì • ê°œìˆ˜ë§Œí¼ë§Œ ë™ì‹œ ì ‘ê·¼ì„ í—ˆìš©í•˜ë ¤ëŠ” ê²½ìš°ê°€ ìˆì„ê¹Œìš”?&lt;/p>
&lt;/blockquote>
&lt;p>Semaphoreì„ ì‚¬ìš©í•˜ê¸° ì¢‹ì€ ì¼€ì´ìŠ¤ëŠ” &lt;strong>ë™ì‹œì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì›Œì»¤ ìˆ˜ë¥¼ ì œí•œí•˜ëŠ” ê²½ìš°&lt;/strong>ì´ê³ , ì´ëŠ” ì£¼ë¡œ &lt;strong>ì „ì²´ ì‘ì—…ì´ ëŠ˜ì–´ì§€ëŠ” ê²ƒì„ ë°©ì§€í•˜ê³ ì í•˜ëŠ” ê²½ìš°&lt;/strong>ì— ì´ìš©ëœë‹¤. ë§ì€ ì‘ì—…ì„ ë™ì‹œì— ìˆ˜í–‰í•˜ë ¤í•˜ë©´ ë¨¼ì € ìˆ˜í–‰ë  ìˆ˜ ìˆëŠ” ì‘ì—…ì€ ë¨¼ì € ìˆ˜í–‰ë˜ë„ë¡ í•˜ê¸°ë³´ë‹¤ëŠ” ì „ì²´ì ìœ¼ë¡œ ëª¨ë“  ì‘ì—…ì´ ëŠ˜ì–´ì§€ê²Œ ë˜ê³  CPUë‚˜ Memory ë¦¬ì†ŒìŠ¤ë¥¼ ë§ì´ ì†Œëª¨í•˜ê²Œ ë˜ê³  ì´ëŠ” ì„œë²„ì˜ ì•ˆì •ì„±ì—ë„ ì¢‹ì§€ ì•Šë‹¤. Semaphoreë¥¼ ì´ìš©í•´ ë™ì‹œ ì ‘ê·¼ ì›Œì»¤ ìˆ˜ë¥¼ ì œí•œí•˜ê³ ìí•˜ëŠ” ì¼€ì´ìŠ¤ëŠ” Goì˜ Worker pool íŒ¨í„´ì„ ì´ìš©í•˜ëŠ” ê²½ìš°ë‚˜ Pipeline patternì„ ì´ìš©í•˜ëŠ” ê²½ìš°ì™€ ìœ ì‚¬í•˜ë‹¤.(&lt;em>ì²˜ìŒì—” Goì˜ ëª¨ë“  Concurrent patternë“¤ì„ ê°œë³„ì ìœ¼ë¡œ êµ¬ë³„ì§€ìœ¼ë ¤í–ˆì—ˆëŠ”ë°, ê³µë¶€í•˜ë‹¤ë³´ë‹ˆ ì¼ì •í•œ ê°œìˆ˜ì˜ Workerë¥¼ ì´ìš©í•˜ëŠ” Worker Pool pattern, Channelì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ì—… ë‚´ì—­ì„ ìª¼ê°œì–´ ì‹¤ì‹œê°„ ì²˜ë¦¬í•˜ëŠ” Pipeline, í•œ ì±„ë„, ì—¬ëŸ¬ Goroutineì„ ì´ìš©í•˜ëŠ” Fan-in Fan-out pattern ë“±ë“± ë‹¤ë“¤ ìœ ì‚¬í•˜ê³  ì—°ê´€ì´ ë˜ì–´ìˆë”ë¼.&lt;/em>)&lt;/p>
&lt;p>&lt;strong>Semaphoreë¡œ ë™ì‹œ ì ‘ê·¼ Worker ìˆ˜ë¥¼ ì œí•œí•˜ì§€ ì•Šê³  ëª¨ë“  Goroutineì„ ë™ì‹œì ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ê²½ìš°ì—” ì–´ë–»ê²Œ ë ê¹Œ?&lt;/strong>&lt;/p>
&lt;p>Logical Processor ê°œìˆ˜ë¥¼ í›¨ì”¬ ë„˜ëŠ” ëª¨ë“  Goroutine ë™ì‹œì ìœ¼ë¡œ ì‘ì—…ì„ ì§„í–‰í•  ê²½ìš° ì•„ë¬´ë¦¬ Goroutineì´ concurrentí•œ ì‘ì—… ìˆ˜í–‰ì— ë›°ì–´ë‚œ ì„±ëŠ¥ì„ ë³´ì¸ë‹¤í• ì§€ë¼ë„ ê³¼í•˜ê²Œ ë§ì€ ìˆ˜ì˜ Goroutineì€ ì„±ëŠ¥ ì €í•˜ë¥¼ ì•¼ê¸°í•˜ì§€ ì•Šì„ê¹Œ ì˜ˆìƒí–ˆë‹¤. í•˜ì§€ë§Œ user-level thread í˜¹ì€ green level threadì˜ ì¼ì¢…ì¸ Goroutineì€ OS(í˜¹ì€ Kernel) threadì™€ ë‹¬ë¦¬ Context switchë¡œ ì¸í•œ penaltyê°€ ê±°ì˜ ì—†ì–´ì„œì¸ì§€ ê±°ì˜ Throughput ë©´ì—ì„œì˜ ì„±ëŠ¥ ì°¨ì´ê°€ ì—†ì—ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>Kernel level threadëŠ” OSê°€ ìŠ¤ì¼€ì¥´ë§ì„ ë‹´ë‹¹í•˜ê¸° ë•Œë¬¸ì— Go í”„ë¡œê·¸ë¨ì´ ë­ ì–´ë–»ê²Œ í•  ìˆ˜ ìˆëŠ” ê²Œ ì•„ë‹ˆì§€ë§Œ Goroutineì€ í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ Go ëŸ°íƒ€ì„ì´ ìŠ¤ì¼€ì¥´ë§ì„ ë‹´ë‹¹í•œë‹¤. ê°™ì€ Kernel level threadì— ì†í•œ User level threadì¸ goroutineê°„ì˜ switchëŠ” costê°€ ê±°ì˜ ì—†ë‹¤. ì¦‰ goroutineì´ ë§ë“  ì ë“  Kernel level threadê°„ì˜ context switch costëŠ” ë™ì¼í•˜ë‹¤ê³  ë³¼ ìˆ˜ ìˆê³ , í•´ë‹¹ Kernel level threadì— ì†í•œ goroutineê°„ì˜ context switch costëŠ” ê±°ì˜ ì—†ë‹¤.&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>ì°¸ê³ : Kernel level threadì— ëŒ€í•œ ìŠ¤ì¼€ì¥´ë§ì€ ì£¼ë¡œ Preemptive ë°©ì‹ì„, User level threadì— ëŒ€í•œ ìŠ¤ì¼€ì¥´ë§ì€ ì£¼ë¡œ Cooperativeí•œ ë°©ì‹ì„ ì´ìš©í•˜ì§€ë§Œ Goroutineì€ User level threadì„ì—ë„ Go 1.14 ë²„ì „ë¶€í„°ëŠ” 10nsë¥¼ ê¸°ì¤€ìœ¼ë¡œ goroutineì„ switch í•  ìˆ˜ ìˆëŠ” asynchronously preemptiveí•œ ìŠ¤ì¼€ì¥´ ë°©ì‹ì„ ì§€ì›í•œë‹¤ê³  í•œë‹¤. í•˜ì§€ë§Œ Go 1.14ê°€ ë¦´ë¦¬ì¦ˆëœ ì§€ ì–¼ë§ˆë˜ì§€ ì•Šì•„ì„œì¸ì§€, asynchorously preemptive schedulingì— ëŒ€í•´ì„œëŠ” ëª…í™•íˆ ì„¤ëª…ëœ ë¬¸ì„œë¥¼ ì°¾ê¸° í˜ë“¤ì—ˆë‹¤.
User level threadì˜ ì˜ˆë¡œëŠ” RxJava in Java, Coroutine in Kotlin, Goroutine in Golangì´ ìˆë‹¤.&lt;/p>
&lt;/blockquote>
&lt;p>í•˜ì§€ë§Œ Throughput ì ì¸ ì¸¡ë©´ë³´ë‹¤ëŠ” Machineì˜ Resource ì†Œëª¨ ì¸¡ë©´ì—ì„œëŠ” ëª¨ë“  Goroutineì´ ë™ì‹œì ìœ¼ë¡œ ìˆ˜í–‰ë˜ëŠ” êµ¬ì¡°ë³´ë‹¤ëŠ” &lt;strong>Semaphoreì„ ë°”íƒ•ìœ¼ë¡œí•œ ë™ì‹œì— ì¼ì • ê°œìˆ˜ì˜ ì›Œì»¤ë§Œì´ ì‘ì—…í•˜ëŠ” Worker Pool êµ¬ì¡°ê°€ í›¨ì”¬ Memoryë‚˜ CPU ë¦¬ì†ŒìŠ¤ë¥¼ ì ê²Œ ì†Œëª¨&lt;/strong>í•˜ëŠ” ë“¯ í–ˆë‹¤. ë˜í•œ 100ê°œì˜ ë™ì‹œ ìš”ì²­ì„ ìˆ˜í–‰í•˜ëŠ”ë° ë™ì¼í•œ Throughputìœ¼ë¡œ ì•½ 10ì´ˆê°€ ê±¸ë¦°ë‹¤ê³  ì¹˜ë©´, ìš”ì²­ë‹¹ goroutineì„ ìƒì„±í•˜ëŠ” ê²½ìš°ëŠ” ì²« ë²ˆì§¸ ìš”ì²­ë„ ê±°ì˜ 10ì´ˆê°€ ê±¸ë¦° ë°˜ë©´ Semaphoreì„ ì´ìš©í•œ ê²½ìš°ëŠ” ë¨¼ì € ì˜¨ ìš”ì²­ì€ ëŒ€ì²´ë¡œ ë¹ ë¥´ê²Œ ë¨¼ì € ì²˜ë¦¬ë˜ëŠ” ê²½í–¥ì„ ë³´ì˜€ë‹¤. ì´ ì°¨ì´ëŠ” &lt;strong>ì²˜ìŒ ìš”ì²­ì„ ë³´ë‚¸ ì‚¬ìš©ì ë§ˆì € 10ì´ˆë¥¼ ê¸°ë‹¤ë¦¬ê²Œ í•  ê²ƒì´ëƒ, 0.1ì´ˆë§Œì— ì‘ë‹µì„ ë°›ë„ë¡ í•  ê²ƒì´ëƒì˜ ì°¨ì´&lt;/strong>ì´ë‹¤. ë˜í•œ &lt;strong>ì „ì²´ ì‘ì—…ì´ ëŠ˜ì–´ì§€ë©´ ê·¸ ì‘ì—…ì— ëŒ€í•œ ë©”ëª¨ë¦¬ ì ìœ ê°€ ì§€ì†&lt;/strong>ë˜ê¸°ì— ë©”ëª¨ë¦¬ ì¸¡ë©´ì—ì„œë„ ë¹„íš¨ìœ¨ì ì´ë‹¤.&lt;/p>
&lt;h3 id="semaphoreì„-ì´ìš©í•œ-go-program-2---ì´ë¯¸ì§€-í¬ê¸°-ë³€í™˜ê¸°">Semaphoreì„ ì´ìš©í•œ Go Program 2 - ì´ë¯¸ì§€ í¬ê¸° ë³€í™˜ê¸°&lt;/h3>
&lt;p>ë§ˆì¹¨ ì´ë²ˆì— í”„ë¡œì íŠ¸ì—ì„œ thumbnail ìƒì„±, image í¬ê¸° ë³€í™˜, hashed uri ìƒì„± ì‘ì—… ë“±ì„ ë‹´ë‹¹í•˜ëŠ” &lt;code>image processing ì„œë²„&lt;/code>ë¥¼ ê°œë°œí•˜ë ¤í–ˆëŠ”ë°, imageë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” I/O ì‘ì—… ì´í›„ì˜ image processingì€ CPU Bound í•œ ì‘ì—…ì´ê¸° ë•Œë¬¸ì— ë™ì‹œì ìœ¼ë¡œ ë™ì‘í•˜ëŠ” Goroutineì´ ì¼ì • ìˆ«ì(ëŒ€ê²Œ Logical Processor ê°œìˆ˜) ì´ìƒìœ¼ë¡œëŠ” ë§ì•„ì ¸ë´¤ì í¬ê²Œ íš¨ìœ¨ì´ ì—†ì„ ê²ƒì´ë¼ ì˜ˆìƒí–ˆê³ , ê·¸ì™€ ê´€ë ¨í•´ ê°„ë‹¨í•˜ê²Œ ì´ë¯¸ì§€ í¬ê¸° ë³€í™˜ í”„ë¡œê·¸ë¨ì„ í•˜ë‚˜ ë§Œë“¤ì–´ í…ŒìŠ¤íŠ¸ í•´ë³´ì•˜ë‹¤.&lt;/p>
&lt;p>ì•½ 2MBì˜ ì´ë¯¸ì§€ì— ëŒ€í•œ í¬ê¸° ë³€í™˜ ì‘ì—… ìš”ì²­ì´ ë™ì‹œì— 30ê°œ ë“¤ì–´ì™”ë‹¤ëŠ” ê°€ì •ì„ í–ˆê³ , semaphoreì„ ì´ìš©í•œ ê²½ìš° ë™ì‹œì ìœ¼ë¡œ ìµœëŒ€ 4ê°œì˜ worker(goroutine)ì´ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ, concurrentë¥¼ ì´ìš©í•œ ê²½ìš°ëŠ” 30ê°œì˜ ìš”ì²­ ëª¨ë‘ ë™ì‹œì ìœ¼ë¡œ ì‘ì—…ì„ í•˜ëŠ” ê²½ìš°ì´ë‹¤.&lt;/p>
&lt;p>(ì½”ë“œ ì°¸ê³ (ì¸í„°ë„· ì•¡ì„¸ìŠ¤ë¥¼ í•˜ëŠ” ê²½ìš° Playgroundì—ì„œ ë™ì‘í•˜ì§€ëŠ” ì•ŠëŠ”ë“¯í•˜ë‹¤): &lt;a class="link" href="https://play.golang.org/p/Vfyw6uCOIuL" target="_blank" rel="noopener"
>https://play.golang.org/p/Vfyw6uCOIuL&lt;/a>)&lt;/p>
&lt;blockquote>
&lt;p>ì‚¬ì‹¤ Logical Processor 8ê°œ, RAM 16GBì˜ ê°œì¸ ë…¸íŠ¸ë¶ìœ¼ë¡œëŠ” ê·¸ ì°¨ì´ê°€ ë§ì´ ë‚˜ì§€ëŠ” ì•Šì•„ì„œ AWS EC2 t2.micro instanceì—ì„œ ì„±ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•´ë´¤ë‹¤.&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">ubuntu&lt;/span>&lt;span class="err">@&lt;/span>&lt;span class="nx">ip&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">172&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">31&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">12&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="err">~$&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">sem&lt;/span> &lt;span class="nx">semaphore&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">ë³€í™˜í•˜ê³ ìí•˜ëŠ”&lt;/span> &lt;span class="nx">Image&lt;/span>&lt;span class="err">ë“¤ì„&lt;/span> &lt;span class="err">ë©”ëª¨ë¦¬ì—&lt;/span> &lt;span class="nx">Load&lt;/span>&lt;span class="err">í–ˆìŠµë‹ˆë‹¤&lt;/span>&lt;span class="p">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mi">2021&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mo">01&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">18&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">28&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">13&lt;/span> &lt;span class="nx">Elapsed&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">1.974380959&lt;/span>&lt;span class="nx">s&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">...&lt;/span> &lt;span class="err">ìƒëµ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mi">2021&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mo">01&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">18&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">28&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span> &lt;span class="nx">Elapsed&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">1.159552779&lt;/span>&lt;span class="nx">s&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mi">2021&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mo">01&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">18&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">28&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span> &lt;span class="nx">Elapsed&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">1.016627316&lt;/span>&lt;span class="nx">s&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mi">2021&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mo">01&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">18&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">28&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span> &lt;span class="nx">Total&lt;/span> &lt;span class="nx">elapsed&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">14.959516003&lt;/span>&lt;span class="nx">s&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">ubuntu&lt;/span>&lt;span class="err">@&lt;/span>&lt;span class="nx">ip&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">172&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">31&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">12&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="err">~$&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">sem&lt;/span> &lt;span class="nx">concurrent&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">ë³€í™˜í•˜ê³ ìí•˜ëŠ”&lt;/span> &lt;span class="nx">Image&lt;/span>&lt;span class="err">ë“¤ì„&lt;/span> &lt;span class="err">ë©”ëª¨ë¦¬ì—&lt;/span> &lt;span class="nx">Load&lt;/span>&lt;span class="err">í–ˆìŠµë‹ˆë‹¤&lt;/span>&lt;span class="p">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">Killed&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ë†€ëê²Œë„ ë™ì‹œì ìœ¼ë¡œ 30ê°œì˜ ìš”ì²­ì„ ë³´ë‚´ëŠ” ê²½ìš°ì— 30ê°œì˜ ëª¨ë“  goroutineì´ ë™ì‹œì— ì‘ì—…ì„ ì‹œë„í•  ë•Œì—ëŠ” ê³¼ë„í•œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ìœ¼ë¡œ ì¸í•´ ì•„ì˜ˆ OSê°€ í”„ë¡œì„¸ìŠ¤ë¥¼ Killí•´ë²„ë ¸ë‹¤. ì¦‰ &lt;strong>Semaphoreë¡œ ë™ì‹œ ì ‘ê·¼ Worker ìˆ˜ë¥¼ ì œí•œí•˜ì§€ ì•ŠëŠ” ê²½ìš° t2.micro ì¸ìŠ¤í„´ìŠ¤ë¡œ ëŒë¦¬ëŠ” image ì„œë²„ì— ë™ì‹œì— 30ê°œì˜ image resizing ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ processê°€ ì£½ì–´ë²„ë¦°ë‹¤&lt;/strong>ëŠ” ë§ì´ë‹¤&amp;hellip;!&lt;/p>
&lt;p>ë˜í•œ ì•ì„œ ë§í–ˆë“¯ì´ ë™ì‹œì— ìš”ì²­í•˜ëŠ” ì‚¬ìš©ìê°€ ë§ì•„ì§€ë”ë¼ë„ Semaphoreì„ ì´ìš©í•œ ê²½ìš°ëŠ” ë‚˜ì¤‘ì— ë“¤ì–´ì˜¨ ìš”ì²­ì¼ ìˆ˜ë¡ ì²˜ë¦¬ê°€ ëŠ˜ì–´ì§€ì§€ë§Œ, Semaphoreë¥¼ í†µí•´ ë™ì‹œ ì‘ì—…ì„ ì œí•œí•˜ì§€ ì•ŠëŠ” ê²½ìš°ëŠ” ì „ì²´ ì‘ì—…ì´ ëŠ˜ì–´ì§„ë‹¤.&lt;/p>
&lt;p>ì´ë ‡ê²Œ SemaphoreëŠ” ë™ì‹œ ì ‘ê·¼ ì›Œì»¤ ìˆ˜ë¥¼ ì œí•œí•˜ì—¬ ì „ì²´ì ì¸ Throughput ì¸¡ë©´ë³´ë‹¤ëŠ” ë¦¬ì†ŒìŠ¤ ì†Œëª¨ì ì¸ ì¸¡ë©´ê³¼ ë¨¼ì € ì²˜ë¦¬ë  ìˆ˜ ìˆëŠ” ì‘ì—…ì€ ë¨¼ì € ì²˜ë¦¬ë˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤ëŠ” ë©´ì—ì„œ ì¥ì ì´ ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>Mutexë‚˜ Semaphoreì˜ ê°œë…ì´ë‚˜ ì„¤ëª…ê³¼ ê°™ì€ ì´ë¡ ì ì¸ ë‚´ìš©ì€ êµ¬ê¸€ë§ì„ í†µí•´ ì–´ë µì§€ ì•Šê²Œ ì–»ì„ ìˆ˜ ìˆëŠ” í”í•œ ì§€ì‹ì¸ ë°˜ë©´, ì •í™•íˆ ì–¸ì œ ì“°ë©´ ì¢‹ì„ì§€, ì–¸ì œ ì“°ì¼ ìˆ˜ ìˆì„ì§€ì™€ ê°™ì€ ì‹¤ìš©ì ì¸ ë‚´ìš©ì€ ì°¾ì•„ë³´ê¸° ì–´ë ¤ì› ê¸°ë•Œë¬¸ì— Goë¥¼ í†µí•´ Mutexì™€ Semaphoreì„ ì´ìš©í•´ë³´ëŠ” ê°„ë‹¨í•œ í”„ë¡œê·¸ë¨ì„ ë§Œë“¤ì–´ ì‹¤ìŠµí•´ë³´ì•˜ë‹¤.&lt;/p>
&lt;p>ì˜ˆì œ í”„ë¡œê·¸ë¨ìœ¼ë¡œì„œ ì½”ë“œë¥¼ ê°„ê²°í•˜ê³  ì½ê¸° ì‰½ê²Œ ê¹”ë”í•˜ê²Œ ì œê³µí•´ë³´ê³ ìí–ˆëŠ”ë°, ê·¸ëŸ¬ê¸° ì‰½ì§€ ì•Šì•˜ë˜ ê²ƒ ê°™ì•„ ì•„ì‰½ë‹¤. ë‹¤ìŒì—” ê¸°íšŒê°€ ë˜ë©´ goì˜ benchmark testë¥¼ ì´ìš©í•´ë³´ë©´ ì–´ë–¨ê¹Œì‹¶ë‹¤.&lt;/p>
&lt;h2 id="ì°¸ê³ ">ì°¸ê³ &lt;/h2>
&lt;p>&lt;strong>Goroutineê³¼ Goroutine schedulingì— ëŒ€í•´&lt;/strong> - &lt;a class="link" href="https://thegopher.tistory.com/3" target="_blank" rel="noopener"
>https://thegopher.tistory.com/3&lt;/a>&lt;/p>
&lt;p>í™”ì¥ì‹¤ì— ë¹„ìœ í•œ ë®¤í…ìŠ¤ì™€ ì„¸ë§ˆí¬ì–´ - &lt;a class="link" href="https://worthpreading.tistory.com/90" target="_blank" rel="noopener"
>https://worthpreading.tistory.com/90&lt;/a>&lt;/p>
&lt;p>semaphore in Go &lt;a class="link" href="https://medium.com/@deckarep/gos-extended-concurrency-semaphores-part-1-5eeabfa351ce" target="_blank" rel="noopener"
>https://medium.com/@deckarep/gos-extended-concurrency-semaphores-part-1-5eeabfa351ce&lt;/a>&lt;/p>
&lt;p>cooperative vs preemptive - &lt;a class="link" href="https://medium.com/traveloka-engineering/cooperative-vs-preemptive-a-quest-to-maximize-concurrency-power-3b10c5a920fe" target="_blank" rel="noopener"
>https://medium.com/traveloka-engineering/cooperative-vs-preemptive-a-quest-to-maximize-concurrency-power-3b10c5a920fe&lt;/a>&lt;/p>
&lt;p>preemptive scheduling in go - &lt;a class="link" href="https://blog.puppyloper.com/menus/Golang/articles/Goroutine%EA%B3%BC%20Go%20scheduler" target="_blank" rel="noopener"
>https://blog.puppyloper.com/menus/Golang/articles/Goroutineê³¼ Go scheduler&lt;/a>&lt;/p></description></item><item><title>Go vs Java - Goì—ì„œì˜ ê°ì²´ ì§€í–¥</title><link>https://umi0410.github.io/blog/golang/go-vs-java-oop/</link><pubDate>Sat, 09 Jan 2021 12:46:54 +0900</pubDate><guid>https://umi0410.github.io/blog/golang/go-vs-java-oop/</guid><description>&lt;img src="https://umi0410.github.io/blog/golang/go-vs-java-oop/declaration.png" alt="Featured image of post Go vs Java - Goì—ì„œì˜ ê°ì²´ ì§€í–¥" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>ìš”ì¦˜ &lt;code>Go&lt;/code>ì™€ &lt;code>Java&lt;/code> ëª¨ë‘ë¥¼ ì´ìš©í•´ ê°œë°œì„ í•˜ë‹¤ë³´ë‹ˆ ê°ê°ì˜ ì¥ë‹¨ì ì— ëŒ€í•´ ëŠê»´ë³¼ ìˆ˜ ìˆì—ˆë‹¤. &lt;code>Go&lt;/code>ëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ì ê²Œ ë¨¹ìœ¼ë©° ì½”ë“œê°€ ê°„ê²°í•˜ê³  ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ í”„ë ˆì„ì›Œí¬ ë˜í•œ ì‹¬í”Œí•´ì„œ ì ìš©í•˜ê¸° í¸í•˜ë‹¤. &lt;code>Java&lt;/code>ëŠ” ì´ëŸ° ì €ëŸ° ê¸°ëŠ¥ì´ ë§ì€ ë°˜ë©´ ê·¸ëŸ° ê¸°ëŠ¥ì„ ì´ìš©í•˜ê¸° ìœ„í•´ ì´í•´í•´ì•¼í•˜ëŠ” ë‚´ìš©ë“¤ì´ ë§ê³ , ì½”ë“œê°€ íˆ¬ëª…í•˜ì§€ëŠ” ì•Šë‹¤(ë‹¤ì–‘í•œ Annotationì„ ì´ìš©í•˜ê²Œ ë˜ë©´ì„œ ì½”ë“œê°€ íˆ¬ëª…í•˜ê²Œ ê·¸ ë™ì‘ì„ ë‚˜íƒ€ë‚´ì§€ ì•ŠìŒ). Javaì˜ ì¥ì  ì¤‘ì—ì„œëŠ” íŠ¹íˆë‚˜ &lt;strong>ê°ì²´ì§€í–¥ì˜ ëŒ€í‘œì ì¸ ì–¸ì–´ë‹µê²Œ ìƒì†ê³¼ ë‹¤í˜•ì„±ì„ ëŠ¥ë ¥ì— ë”°ë¼ ììœ ìì¬ë¡œ ì´ìš©&lt;/strong>í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ ë§¤ë ¥ì ì´ì—ˆë‹¤.&lt;/p>
&lt;p>Go ì–¸ì–´ë¥¼ ì¢‹ì•„í•˜ëŠ” ì…ì¥ì—ì„œ ê°œì¸ì ìœ¼ë¡œ ì´ëŸ° ê°ì²´ì§€í–¥ì ì¸ íŠ¹ì§•ì´ë‚˜ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ì œì™¸í•˜ê³ ëŠ” ë”±íˆ Javaê°€ Goì— ë¹„í•´ ê°–ëŠ” ì¥ì ì´ í¬ê²Œ ëŠê»´ì§€ì§€ ì•Šì•˜ë‹¤. ì˜ˆì™¸ ì²˜ë¦¬ëŠ” Goê°€ ë°”ë¼ë³´ëŠ” ë°©í–¥ì´ ì¼ë°˜ì ì¸ ì˜ˆì™¸ ì²˜ë¦¬ì™€ ë‹¤ë¥´ê¸°ì— ì–´ì©” ìˆ˜ ì—†ì§€ë§Œ, ê°ì²´ì§€í–¥ì ì˜ íŠ¹ì§•ë“¤ì€ ì–´ë–»ê²Œ ì ìš©í•´ë³¼ ìˆ˜ ìˆì„ê¹Œí•˜ëŠ” ìƒê°ì— ê³µë¶€ë¥¼ ì¢€ í•´ë´¤ê³  ê·¸ ë‚´ìš©ì„ ì •ë¦¬í•´ë³¸ë‹¤. (&lt;em>ê¸°íšŒê°€ ëœë‹¤ë©´ Goì—ì„œ errorë¥¼ ë‹¤ë£¨ëŠ” ì² í•™ì— ëŒ€í•´ ì¶”ê°€ì ìœ¼ë¡œ ê³µë¶€í•´ë³´ê³ ì‹¶ë‹¤.&lt;/em>)&lt;/p>
&lt;p>â—&lt;strong>Goì— ëŒ€í•œ ê¸°ë³¸ì ì¸ ë‚´ìš©ì„ ì •ë¦¬í•´ë³´ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ê°ì²´ ì§€í–¥ ê´€ì ì—ì„œ ë°”ë¼ë³¸ Goì— ëŒ€í•œ ë‚´ìš©ì„ ì •ë¦¬í•´ë³´ëŠ” ê²ƒì´ë¯€ë¡œ Goì˜ ê¸°ì´ˆ ë‚´ìš©ì— ëŒ€í•œ ì„¤ëª…ì€ ìƒëµí•  ê²ƒì´ë¯€ë¡œ Goì— ëŒ€í•œ ê¸°ì´ˆ ì´í•´ê°€ ì—†ë‹¤ë©´, ê·¸ ë¶€ë¶„ì„ ë¨¼ì € ì•Œì•„ë³´ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤!&lt;/strong>&lt;/p>
&lt;h3 id="ì˜ˆì‹œ-ì½”ë“œ">ì˜ˆì‹œ ì½”ë“œ&lt;/h3>
&lt;p>Goì—ì„œ ê°ì²´ ì§€í–¥ì„ ì ìš©í•œ ê°„ë‹¨í•œ ê³„ì‚°ê¸° í”„ë¡œê·¸ë¨ì„ ì˜ˆì‹œë¡œ ì‘ì„±í•´ë³´ì•˜ë‹¤. ì „ì²´ ì†ŒìŠ¤ì½”ë“œë¥¼ ë‹¤ ë³¼ í•„ìš”ëŠ” ì—†ê² ì§€ë§Œ í•„ìš”ì— ë”°ë¼ ì°¸ê³ í•  ìˆ˜ ìˆë„ë¡ ì•„ë˜ì™€ ê°™ì´ ì²¨ë¶€í•œë‹¤.&lt;/p>
&lt;p>&lt;strong>main íŒ¨í‚¤ì§€ - /main.go&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;bufio&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;calculator/calc&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;os&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;strconv&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;strings&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">calculator&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">calc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Calculator&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">calc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewCalculator&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// ê³„ì‚°ê¸° struct
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">operationUnit&lt;/span> &lt;span class="nx">calc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">OperationUnit&lt;/span> &lt;span class="c1">// OperationUnitì´ë¼ëŠ” interface typeì„ í†µí•´ Polymorphism ì´ìš©
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">operationResult&lt;/span> &lt;span class="kt">float64&lt;/span> &lt;span class="c1">// ê³„ì‚° ê²°ê³¼ë¥¼ ë‹´ìŒ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">operationErr&lt;/span> &lt;span class="kt">error&lt;/span> &lt;span class="c1">// ê³„ì‚° ìˆ˜í–‰ì— ëŒ€í•œ errorì„ ë‹´ìŒ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// main packageì—ì„œëŠ” calc packageì— ì •ì˜ëœ unexported nameì¸ idì— ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//calculator.id = &amp;#34;Jinsu Park&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">scanner&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">bufio&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewScanner&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">os&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Stdin&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ì—°ì‚° optionì„ ìœ„í•´ ê°’ì„ ì…ë ¥ë°›ê¸° (e.g. 1)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">`A simple calculator program.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">=======================================================
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">Operation options
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> 1. Mulitply a, b float 64
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> 2. Sqaure val, square float64
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">Please input an int for your desired operation.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">&amp;gt;&amp;gt;&amp;gt; `&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">scanner&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Scan&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">option&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">_&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">strconv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Atoi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">scanner&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Text&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// argsë¥¼ ìœ„í•´ ì…ë ¥ë°›ê¸° (e.g. 10 20)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Please input floats as args.\n&amp;gt;&amp;gt;&amp;gt; &amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">scanner&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Scan&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">inputs&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">make&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">input&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">strings&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">scanner&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Text&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="s">&amp;#34; &amp;#34;&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">f&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">_&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">strconv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ParseFloat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">64&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">inputs&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">inputs&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">f&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ì—°ì‚°ì— ëŒ€í•œ multiplexing. ì¦‰ optionì— ë”°ë¥¸ ì—°ì‚°ì„ ìˆ˜í–‰í•œë‹¤ëŠ” ì˜ë¯¸
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// operationUnitì´ë¼ëŠ” OperationUnit interface typeì„ í†µí•´ Polymorphism ì´ìš©
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">switch&lt;/span> &lt;span class="nx">option&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">operationUnit&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">calculator&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Multiplier&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">operationUnit&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">calculator&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">SquareMultiplier&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Operateë¼ëŠ” ê¸°ëŠ¥ì„ ë‹¤ì–‘í•œ ë™ì‘ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">operationResult&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">operationErr&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">operationUnit&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Operate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">inputs&lt;/span>&lt;span class="o">...&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// result
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="nx">operationErr&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;[Error]&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">operationErr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Result:&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">operationResult&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>calc íŒ¨í‚¤ì§€ - /calc/calc.go&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">calc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;errors&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">autoIncrementID&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">Calculator&lt;/span> &lt;span class="kd">struct&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="c1">// ì œì¡°ëœ Calculatorì„ ì‹ë³„í•˜ê¸° ìœ„í•œ ID. ë³€ìˆ˜ëª…ì´ ì†Œë¬¸ìë¡œ ì‹œì‘í•˜ë¯€ë¡œ export ë˜ì§€ ì•ŠëŠ”ë‹¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">Multiplier&lt;/span> &lt;span class="nx">OperationUnit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">SquareMultiplier&lt;/span> &lt;span class="nx">OperationUnit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">OperationUnit&lt;/span> &lt;span class="kd">interface&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">IsValidInput&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span> &lt;span class="o">...&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">bool&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">Operate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span> &lt;span class="o">...&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">MultiplyOperationUnit&lt;/span> &lt;span class="kd">struct&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">SquareOperationUnit&lt;/span> &lt;span class="kd">struct&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">MultiplyOperationUnit&lt;/span> &lt;span class="c1">// Embedì˜ ì˜ˆì‹œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">NewCalculator&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">Calculator&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">c&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">Calculator&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">autoIncrementID&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Multiplier&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">MultiplyOperationUnit&lt;/span>&lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">SquareMultiplier&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">SquareOperationUnit&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">MultiplyOperationUnit&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">MultiplyOperationUnit&lt;/span>&lt;span class="p">{}},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">autoIncrementID&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">c&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">unit&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">MultiplyOperationUnit&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">IsValidInput&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span> &lt;span class="o">...&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">bool&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">unit&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">MultiplyOperationUnit&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Operate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span> &lt;span class="o">...&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">!&lt;/span>&lt;span class="nx">unit&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">IsValidInput&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="o">...&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;MultiplyOperationUnitì˜ argsê°€ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">args&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">args&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//func (unit *SquareOperationUnit) IsValidInput(args ...float64) bool{
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ... í•„ìš”ì— ë”°ë¼ ì •ì˜í•˜ë©´ Overrideì²˜ëŸ¼ ì´ìš© ê°€ëŠ¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">unit&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">SquareOperationUnit&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Operate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span> &lt;span class="o">...&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// *SquareOperationUnitì— ëŒ€í•œ IsValidInput ë©”ì†Œë“œëŠ” ì •ì˜í•œ ì  ì—†ì§€ë§Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Embeddingì„ í†µí•´ ì¼ë°˜ì ì¸ OOPì—ì„œ ë¶€ëª¨ì˜ ë©”ì†Œë“œë¥¼ ì´ìš©í•˜ë“¯ì´ ì´ìš© ê°€ëŠ¥.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">!&lt;/span>&lt;span class="nx">unit&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">IsValidInput&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="o">...&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;SquareOperationUnitì˜ argsê°€ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// val^square ì¦‰ &amp;#34;valì˜ square ì œê³±&amp;#34;ì— ëŒ€í•œ ê³„ì‚°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">val&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">args&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">square&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">args&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">reduced&lt;/span> &lt;span class="kt">float64&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">val&lt;/span> &lt;span class="c1">// ì œê³± ì—°ì‚° ì¤‘ ê°’ì„ ë‹´ì•„ ë†“ëŠ” ë³€ìˆ˜
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">cnt&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">float64&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// ì œê³± ì—°ì‚° ë£¨í”„ë¥¼ ìœ„í•œ counter
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="kt">error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">;&lt;/span>&lt;span class="nx">cnt&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">square&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">cnt&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">reduced&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">unit&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">MultiplyOperationUnit&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Operate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">reduced&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">reduced&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;figure style="flex-grow: 181; flex-basis: 435px">
&lt;a href="https://umi0410.github.io/blog/golang/go-vs-java-oop/preview.png" data-size="557x307">&lt;img src="https://umi0410.github.io/blog/golang/go-vs-java-oop/preview.png"
srcset="https://umi0410.github.io/blog/golang/go-vs-java-oop/preview_hu606630559448eebea4de9d8c902ece24_23429_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-vs-java-oop/preview_hu606630559448eebea4de9d8c902ece24_23429_1024x0_resize_box_3.png 1024w"
width="557"
height="307"
loading="lazy"
alt="preview.png">
&lt;/a>
&lt;figcaption>preview.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure style="flex-grow: 114; flex-basis: 274px">
&lt;a href="https://umi0410.github.io/blog/golang/go-vs-java-oop/declaration.png" data-size="406x355">&lt;img src="https://umi0410.github.io/blog/golang/go-vs-java-oop/declaration.png"
srcset="https://umi0410.github.io/blog/golang/go-vs-java-oop/declaration_hu2809de309117ad963d612eaa5a399aab_35836_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-vs-java-oop/declaration_hu2809de309117ad963d612eaa5a399aab_35836_1024x0_resize_box_3.png 1024w"
width="406"
height="355"
loading="lazy"
alt="declaration.png">
&lt;/a>
&lt;figcaption>declaration.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;ul>
&lt;li>Calculatorë¼ëŠ” ê³„ì‚°ê¸° &lt;code>struct&lt;/code>ê°€ ì¡´ì¬
&lt;ul>
&lt;li>âœ¨ &lt;code>id&lt;/code> fieldëŠ” ì†Œë¬¸ìë¡œ ì‹œì‘í•˜ê¸°ë•Œë¬¸ì— ì™¸ë¶€ì—ì„œ í•¨ë¶€ë¡œ ì ‘ê·¼í•  ìˆ˜ ì—†ë„ë¡ dataë¥¼ &lt;code>ìº¡ìŠí™”&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ê³„ì‚°ê¸°ì—ì„œ ê°ê°ì˜ ì—°ì‚°ì„ ë‹´ë‹¹í•˜ëŠ” OperationUnit &lt;code>interface&lt;/code>ì¡´ì¬&lt;/li>
&lt;li>OperationUnit &lt;code>interface&lt;/code>ëŠ” Inputì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ëŠ” IsValidInput ë©”ì†Œë“œì™€ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ëŠ” Operate ë©”ì†Œë“œ ì¡´ì¬&lt;/li>
&lt;li>ê°ê°ì˜ ì—°ì‚°ì„ ë‹´ë‹¹í•˜ëŠ” Unitì€ OperationUnit interfaceê°€ ì •ì˜í•œ ë©”ì†Œë“œë“¤ì„ êµ¬í˜„í•¨ìœ¼ë¡œì¨ duck-typingì„ í†µí•´ OperationUnit interfaceë¡œ ì‚¬ìš©ëœë‹¤. â‡’ âœ¨ interfaceë¥¼ í†µí•œ &lt;code>ì¶”ìƒí™”&lt;/code>ì™€ &lt;code>ë‹¤í˜•ì„±&lt;/code> ì´ìš© ê°€ëŠ¥
&lt;ul>
&lt;li>OperationUnit interfaceë¡œ ì‚¬ìš©ì´ ê°€ëŠ¥í•œ structì˜ ì˜ˆì‹œ
&lt;ul>
&lt;li>MultiplyOperationUnit struct - ê³±ì…ˆ ì—°ì‚°ì„ ë‹´ë‹¹&lt;/li>
&lt;li>SquareOperationUnit struct - ì œê³±ì…ˆ ì—°ì‚°ì„ ë‹´ë‹¹
&lt;ul>
&lt;li>âœ¨ &lt;code>Embed&lt;/code>ë¥¼ í†µí•´ MultiplyOperationUnitì„ &lt;code>ìƒì†&lt;/code>í•œ ê²ƒì²˜ëŸ¼ fieldì™€ methodë¥¼ ì‚¬ìš© ê°€ëŠ¥&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="ê°ì²´ì§€í–¥ì -ê´€ì ì—ì„œì˜-goì—-ëŒ€í•´">ê°ì²´ì§€í–¥ì  ê´€ì ì—ì„œì˜ Goì— ëŒ€í•´&lt;/h2>
&lt;p>GoëŠ” ì•„ë¬´ë˜ë„ ê°ì²´ ì§€í–¥ ì–¸ì–´ë¼ê³  í•˜ì§€ëŠ” ì•ŠëŠ” ë“¯í•˜ë‹¤. ì´ì— ëŒ€í•´ì„  ë‹¤ì–‘í•œ ì˜ê²¬ì´ ìˆëŠ” ê²ƒ ê°™ì€ë° Post-OOP ì–¸ì–´ë¼ëŠ” ì‚¬ëŒë„ ìˆê³  OOP ì–¸ì–´ëŠ” ì•„ë‹ˆì§€ë§Œ Object-Orientedí•˜ê²Œ í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ OOP ì–¸ì–´ì´ë©´ì„œ OOPì–¸ì–´ê°€ ì•„ë‹ˆë¼ëŠ” ì‚¬ëŒë„ ìˆë‹¤.&lt;/p>
&lt;p>OOPì—ëŠ” í¬ê²Œ 4ê°€ì§€ ì›ì¹™ì´ ìˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ì—°ê´€ëœ ë³€ìˆ˜ì™€ í•¨ìˆ˜ë¥¼ í´ë˜ìŠ¤ë¡œ ë¬¶ìœ¼ë©° ì™¸ë¶€ì—ì„œ íŠ¹ì • ë°ì´í„°ë‚˜ ê¸°ëŠ¥ì— ì ‘ê·¼í•˜ì§€ ëª»í•˜ë„ë¡ í•˜ëŠ” ì •ë³´ë¥¼ ì€ë‹‰í•´ì£¼ëŠ” &lt;strong>ìº¡ìŠí™”&lt;/strong>&lt;/li>
&lt;li>ë¶€ëª¨ ê°ì²´ì˜ field, methodë¥¼ ìì‹ ê°ì²´ê°€ ì´ìš©í•  ìˆ˜ ìˆë„ë¡í•´ì£¼ê³ , Overrideí•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” &lt;strong>ìƒì†&lt;/strong>&lt;/li>
&lt;li>ì„¸ë¶€ ì‚¬í•­ì€ ì œì™¸í•˜ê³ , ì–´ë–¤ ê¸°ëŠ¥ì´ ì¡´ì¬í•˜ëŠ”ì§€ ë“±ì˜ ì¶”ìƒì ì¸ ì •ë³´ë§Œìœ¼ë¡œë„ ì´ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” &lt;strong>ì¶”ìƒí™”&lt;/strong>&lt;/li>
&lt;li>ì¦‰ í•˜ë‚˜ì˜ íƒ€ì…ì´ ì—¬ëŸ¬ íƒ€ì…ìœ¼ë¡œ ì´ìš©ë  ìˆ˜ ìˆìœ¼ë©°, ê°ê°ì´ ë‹¤ì–‘í•˜ê²Œ ë™ì‘í•  ìˆ˜ ìˆëŠ” &lt;strong>ë‹¤í˜•ì„±&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>ê·¸ë¦¬ê³  ëŒ€í‘œì ì¸ OOP ì–¸ì–´ì¸ &lt;code>Java&lt;/code>ëŠ” ì´ëŸ¬í•œ ë‚´ìš©ë“¤ì„ ì•„ì£¼ ì˜ ì´ìš©í•  ìˆ˜ ìˆê²Œë” ë˜ì–´ìˆë‹¤. OOP ì–¸ì–´ê°€ ì•„ë‹Œ &lt;code>Go&lt;/code>ì—ì„œ ì´ëŸ¬í•œ &lt;strong>OOPì˜ íŠ¹ì§•ì´ì ì¥ì ì¸ ìš”ì†Œë“¤ì„ ì–´ë–»ê²Œ ì ìš©í•  ìˆ˜ ìˆì„ì§€&lt;/strong> ì•Œì•„ë³´ë„ë¡í•˜ê² ë‹¤.&lt;/p>
&lt;h2 id="-encapsulationìº¡ìŠí™”">ğŸ’Š Encapsulation(ìº¡ìŠí™”)&lt;/h2>
&lt;p>Goì—ì„œëŠ” Exportë¥¼ í†µí•´ ìº¡ìŠí™”ë¥¼ ì´ìš©í•  ìˆ˜ ìˆë‹¤. Exportì— ëŒ€í•´ ê°„ë‹¨íˆ ì„¤ëª…í•˜ìë©´ private, public ì„ ì´ìš©í•´ ë³€ìˆ˜ë‚˜ í•¨ìˆ˜ì— ì ‘ê·¼ ì œí•œì„ ë‘ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì´ë¦„ì´ ëŒ€ë¬¸ìëƒ ì†Œë¬¸ìëƒì— ë”°ë¼ íŒ¨í‚¤ì§€ ì™¸ë¶€ì—ì„œ ì ‘ê·¼ì„ ì œì–´í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤.&lt;/p>
&lt;p>Goì˜ Export ì´ìš© ë°©ë²•ì€ ë§ì´ ì°¾ì•„ë³¼ ìˆ˜ ìˆìœ¼ë‹ˆ ìº¡ìŠí™”ì— ì´ˆì ì„ ë§ì¶˜ ê·¸ ì“°ì„ì— ëŒ€í•´ ì•Œì•„ë³¸ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">// Calculatorì— ëŒ€í•œ ì •ì˜ì™€ êµ¬í˜„ì„ ë‹´ë‹¹í•˜ëŠ” calc íŒ¨í‚¤ì§€
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">package calc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">type&lt;/span> Calculator struct&lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ID int // ì œì¡°ëœ Calculatorì„ ì‹ë³„í•˜ê¸° ìœ„í•œ ID. ë³€ìˆ˜ëª…ì´ ì†Œë¬¸ìë¡œ ì‹œì‘í•˜ë¯€ë¡œ &lt;span class="nb">export&lt;/span> ë˜ì§€ ì•ŠëŠ”ë‹¤.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ìœ„ì™€ ê°™ì´ Calculatorë¥¼ ì •ì˜í•˜ëŠ” calcë¼ëŠ” íŒ¨í‚¤ì§€ê°€ ìˆë‹¤ê³  ê°€ì •í•˜ë‹¤. Calculatorë¥¼ ì‹ë³„í•˜ëŠ” IDì— ëŒ€í•œ ì‘ì—…ì€ calc íŒ¨í‚¤ì§€ì—ì„œ ë‹´ë‹¹í•˜ê³  í•¨ë¶€ë¡œ ì™¸ë¶€ì—ì„œ ê°’ì„ ë°”ê¾¸ì§€ ëª»í•˜ë„ë¡í•˜ê³ ì‹¶ì€ ê²½ìš° fieldê°€ ì†Œë¬¸ìë¡œ ì‹œì‘í•˜ë„ë¡ í•¨ìœ¼ë¡œì¨ ì™¸ë¶€ íŒ¨í‚¤ì§€ì—ì„œ ì§ì ‘ ì ‘ê·¼í•˜ì§€ ëª»í•˜ë„ë¡í•  ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>í•„ìš”ì— ë”°ë¼ Javaì—ì„œ ê·¸ëŸ¬í•˜ë“¯ getterì™€ setterë¥¼ ì •ì˜í•´ì¤„ ìˆ˜ë„ ìˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">package main
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">func main&lt;span class="o">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> var &lt;span class="o">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> calculator *calc.Calculator &lt;span class="o">=&lt;/span> calc.NewCalculator&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> // main packageì—ì„œëŠ” calc packageì— ì •ì˜ëœ unexported nameì¸ idì— ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> //calculator.id &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Jinsu Park&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì•ì„œ ë§í–ˆë“¯ì´ ì´ë ‡ê²Œ calc íŒ¨í‚¤ì§€ê°€ ì•„ë‹Œ ì™¸ë¶€ íŒ¨í‚¤ì§€(ì˜ˆë¥¼ ë“¤ì–´ main íŒ¨í‚¤ì§€)ì—ì„œëŠ” unexported nameì¸ idì— ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤.&lt;/p>
&lt;p>ì£¼ë¡œ ìº¡ìŠí™”ì™€ Goì— ëŒ€í•´ì„  ì€ë‹‰ì„ ì–´ë–»ê²Œ í•˜ëŠ”ê°€ê°€ ìš”ì ì´ë¼ê³  ìƒê°í•´ ì´ ë¶€ë¶„ì— ëŒ€í•´ ë‹¤ë¤„ë³´ì•˜ë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ìì„¸í•œ ë‚´ìš©ì€? - ì—°ê´€ëœ ë³€ìˆ˜ì™€ í•¨ìˆ˜ë¥¼ ë¬¶ì–´ì£¼ëŠ” ë‚´ìš©ì€ Goì˜ struct, receiverì™€ method ë“±ì— ëŒ€í•´ ê²€ìƒ‰í•´ë³´ë©´ ë” ê¹Šì´ ì•Œì•„ë³¼ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;/blockquote>
&lt;h2 id="-inheriatanceìƒì†">ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Inheriatance(ìƒì†)&lt;/h2>
&lt;p>GoëŠ” Compositionì„ ì´ìš©í•œ Embeddingì´ë¼ëŠ” ë°©ì‹ì„ í†µí•´ Inheritanceì™€ ê°™ì€ ê¸°ëŠ¥ì„ ì´ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤ëŠ” ì‹ìœ¼ë¡œ ë§ì´ë“¤ ì„¤ëª…ì„ í•˜ëŠ” ê²ƒ ê°™ì•˜ìœ¼ë‚˜ ì£¼ê´€ì ì¸ í•´ì„ì„ í•´ë³´ìë©´ Goì˜ &lt;code>Embedding&lt;/code>ì€ &lt;strong>Compositionì´ë©´ì„œ ìë™ìœ¼ë¡œ embedëœ fieldì˜ methodì™€ ë³¸ì¸ì˜ methodì¸ ê²ƒì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ê¸°ì— Inheritanceì²˜ëŸ¼ ì´ìš©&lt;/strong>í•  ìˆ˜ ìˆë‹¤ê³  ë³¼ ìˆ˜ ìˆê² ë‹¤.&lt;/p>
&lt;p>Goì˜ Embeddingì€ structì˜ fieldì— ë³„ë„ì˜ nameì´ ì•„ë‹Œ typeë§Œì„ ì ì–´ì¤Œìœ¼ë¡œì¨ ì´ìš©í•  ìˆ˜ ìˆë‹¤. Bë¼ëŠ” typeì´ ëŠ” ë©”ì†Œë“œ Say()ë¥¼ ê°€ì§€ê³  ìˆëŠ” ê²½ìš° struct Aê°€ type Bë¥¼ Embedí•œë‹¤ë©´ AëŠ” Bì˜ Say ë©”ì†Œë“œë¥¼ ë‘ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ì´ìš© ê°€ëŠ¥í•˜ë‹¤.&lt;/p>
&lt;ol>
&lt;li>&lt;code>A.Say()&lt;/code> - ì´ê²½ìš° ì•”ë¬µì ìœ¼ë¡œ 2.ë¡œ ë³€í™˜ë˜ì–´ ìˆ˜í–‰ë˜ëŠ” ì…ˆ&lt;/li>
&lt;li>&lt;code>A.B.Say()&lt;/code> - ì´ë ‡ê²Œ ëª…ì‹œì ìœ¼ë¡œ &lt;code>Selector&lt;/code>(ì—¬ê¸°ì„  B)ë¥¼ ì ì–´ì¤„ ìˆ˜ë„ ìˆë‹¤. ì¼ë°˜ì ì¸ &lt;code>Composition&lt;/code>ê³¼ ë™ì¼í•˜ë‹¤.&lt;/li>
&lt;/ol>
&lt;p>&lt;em>Goì—ì„œ Embeddingì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²• ìì²´ ë˜í•œ ë§ì€ ë‚´ìš©ì„ ì¸í„°ë„·ì—ì„œ ì°¾ì•„ë³¼ ìˆ˜ ìˆìœ¼ë‹ˆ &lt;strong>ìƒì†ê³¼ Embeddingì— ì´ˆì ì„ ë§ì¶° ì„¤ëª…í•´ë³´ë„ë¡í•˜ê² ë‹¤.&lt;/strong>&lt;/em>&lt;/p>
&lt;p>ì¼ë°˜ì ì¸ ê°ì²´ ì§€í–¥ì ì¸ ë°©ì‹ì—ì„œëŠ” &lt;code>type MultiplyOperationUnit struct&lt;/code> ë¼ëŠ” typeì´ ì¡´ì¬í•˜ê³ &lt;/p>
&lt;p>&lt;code>type SquareOperationUnit struct&lt;/code> ê°€ &lt;code>MultiplyOperationUnit&lt;/code> typeì„ ìƒì†ë°›ëŠ”ë‹¤ë©´ SquareOperationUnitì€ IsValidCheck ë©”ì†Œë“œë¥¼ ë¹„ë¡¯í•œ MultiplyOperationUnitì˜ ë©”ì†Œë“œì™€ ë©¤ë²„ ë³€ìˆ˜ë¥¼ ì´ìš©í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">MultiplyOperationUnit&lt;/span> &lt;span class="kd">struct&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">SquareOperationUnit&lt;/span> &lt;span class="kd">struct&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">MultiplyOperationUnit&lt;/span> &lt;span class="c1">// typeë§Œì„ ì „ë‹¬í•¨ìœ¼ë¡œì¨ Embed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ê³±ì…ˆ ì—°ì‚°ì— ëŒ€í•œ Input validation
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">unit&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">MultiplyOperationUnit&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">IsValidInput&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span> &lt;span class="o">...&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">bool&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">unit&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">MultiplyOperationUnit&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Operate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span> &lt;span class="o">...&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">!&lt;/span>&lt;span class="nx">unit&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">IsValidInput&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="o">...&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;MultiplyOperationUnitì˜ argsê°€ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">unit&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">SquareOperationUnit&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Operate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span> &lt;span class="o">...&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// *SquareOperationUnitì— ëŒ€í•œ IsValidInput ë©”ì†Œë“œëŠ” ì •ì˜í•œ ì  ì—†ì§€ë§Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Embeddingì„ í†µí•´ ì¼ë°˜ì ì¸ OOPì—ì„œ ë¶€ëª¨ì˜ ë©”ì†Œë“œë¥¼ ì´ìš©í•˜ë“¯ì´ ì´ìš© ê°€ëŠ¥.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">!&lt;/span>&lt;span class="nx">unit&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">IsValidInput&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="o">...&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;SquareOperationUnitì˜ argsê°€ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì´ ê²½ìš° Goì—ì„œëŠ” SquareOperationUnitì´ MultiplyOperationUnitì„ Embedí•˜ë„ë¡ í•œë‹¤. í‰ë²”í•œ Compostion ë°©ì‹ìœ¼ë¡œ ì´ìš©í•  ìˆ˜ ìˆê² ì§€ë§Œ Goì˜ íŠ¹ì´í•œ Embed ë°©ì‹ì„ ì´ìš©í•¨ìœ¼ë¡œì¨ &lt;code>*SquareOperationUnit&lt;/code> ì— ëŒ€í•œ &lt;code>IsValidInput&lt;/code> &lt;strong>ë©”ì†Œë“œë¥¼ ì •ì˜í•œ ì  ì—†ì§€ë§Œ ì¼ë°˜ OOPì—ì„œ ë¶€ëª¨ í´ë˜ìŠ¤ì— ì •ì˜ëœ ë©”ì†Œë“œë¥¼ ì´ìš©í•˜ë“¯&lt;code>unit *SquareOperationUnit&lt;/code>ê³¼ ê°™ì´ ì´ìš© ê°€ëŠ¥&lt;/strong>í•˜ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">unit&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">SquareOperationUnit&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">IsValidInput&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span> &lt;span class="o">...&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>OOPì—ì„œì˜ Method Overrideì™€ ê°™ì€ ì‘ì—…ì„ Goì—ì„œ í•˜ê³ ì‹¶ë‹¤ë©´ ìœ„ì™€ ê°™ì´ ì¶”ê°€ì ìœ¼ë¡œ ìì‹ ì˜ íƒ€ì…ì— ëŒ€í•œ methodë¥¼ ì •ì˜í•˜ë©´ëœë‹¤. ë©”ì†Œë“œë¥¼ ì¶”ê°€ì ìœ¼ë¡œ ì •ì˜í•´ì¤€ ë’¤ Selectorë¥¼ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ë‹¹ì—°íˆ ìš°ë¦¬ê°€ ë°”ë€ëŒ€ë¡œ Embedëœ typeì˜ methodê°€ ì•„ë‹Œ ìê¸° ìì‹ ì˜ methodë¥¼ í˜¸ì¶œí•˜ê²Œ ëœë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ìì„¸í•œ ë‚´ìš©ì€? - ì•„ë¬´ë˜ë„ Goì˜ Embeddingê³¼ Compositionì— ëŒ€í•œ ì´í•´ê°€ ì—†ë‹¤ë©´ ë¬´ìŠ¨ ë§ì¸ì§€ ì´í•´í•˜ê¸° í˜ë“¤ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ í•´ë‹¹ ë‚´ìš©ë“¤ì— ëŒ€í•´ ì•Œì•„ë³¼ ê²ƒì„ ì¶”ì²œ!&lt;/p>
&lt;/blockquote>
&lt;h2 id="abstractionì¶”ìƒí™”">Abstraction(ì¶”ìƒí™”)&lt;/h2>
&lt;p>ì¶”ìƒí™”ëŠ” ê·¸ ê°ì²´ì˜ ì„¸ë¶€ ë‚´ìš©ì´ ì•„ë‹Œ ê³µí†µëœ ê¸°ëŠ¥ì„ ë°”íƒ•ìœ¼ë¡œ ì¶”ë ¤ë‚´ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.&lt;/p>
&lt;p>ì¶”ìƒí™”ì— ìˆì–´ì„œëŠ” Javaì™€ Goê°€ interfaceë¥¼ ì´ìš©í•œë‹¤ëŠ” ì ì—ì„œ í¬ê²Œ ë‹¤ë¥´ì§„ ì•Šë‹¤.&lt;/p>
&lt;p>interfaceì— ì¶”ìƒì ìœ¼ë¡œ í•´ë‹¹ interfaceë¥¼ êµ¬í˜„í•˜ëŠ” typeë“¤ì´ êµ¬í˜„í•˜ê¸°ë¥¼ ë°”ë¼ëŠ” methodë¥¼ ì •ì˜ë§Œí•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">OperationUnit&lt;/span> &lt;span class="kd">interface&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">IsValidInput&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span> &lt;span class="o">...&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">bool&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">Operate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span> &lt;span class="o">...&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì´ ê²½ìš° OperationUnitëŠ” &amp;ldquo;IsValidInputê³¼ Operate ê¸°ëŠ¥ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ë¬´ì–¸ê°€&amp;rdquo; ì´ë¼ê³  ì¶”ìƒí™”ëœ ê²ƒì´ë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ìì„¸í•œ ë‚´ìš©ì€? - ì¶”ìƒí™”ì˜ ì“°ì„ì€ ë‹¤í˜•ì„±ì˜ ì“°ì„ê³¼ë„ ë°€ì ‘í•œ ì—°ê´€ì´ ìˆë‹¤. Goì—ì„œ interfaceë¥¼ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ê³¼ ì‚¬ìš©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;/blockquote>
&lt;h2 id="-polymorphismë‹¤í˜•ì„±">ğŸŒ’ğŸŒ“ğŸŒ• Polymorphism(ë‹¤í˜•ì„±)&lt;/h2>
&lt;p>&lt;code>ë‹¤í˜•ì„±&lt;/code>ì´ë€ &lt;strong>í•œ ê°€ì§€ íƒ€ì…ì´ ê²½ìš°ì— ë”°ë¼ ê°™ì€ ê¸°ëŠ¥ì— ëŒ€í•´ ë‹¤ì–‘í•œ ë™ì‘ì„ ìˆ˜í–‰&lt;/strong>í•  ìˆ˜ ìˆëŠ” ê²ƒì„ ë§í•œë‹¤. &lt;strong>ì¶”ìƒí™”ëŠ” interfaceì— ëŒ€í•œ ì •ì˜&lt;/strong>ì— í•´ë‹¹í•˜ê³  &lt;strong>ë‹¤í˜•ì„±ì€ interface í™œìš©&lt;/strong>ì— í•´ë‹¹í•˜ëŠ” ë“¯í•˜ë‹¤.&lt;/p>
&lt;p>ì¼ë°˜ì ì¸ OOP ì–¸ì–´ì—ì„œëŠ” interfaceê°€ ì•„ë‹Œ ìƒì† ê´€ê³„ì—ì„œë„ ë¶€ëª¨â‡’ìì‹ìœ¼ë¡œ íƒ€ì… ë³€í™˜ì„ í†µí•´ ë‹¤í˜•ì„± í™œìš©ì´ ê°€ëŠ¥í•˜ë‹¤. í•˜ì§€ë§Œ GoëŠ” ì´ë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ìœ ëŠ” ëŸ°íƒ€ì„ì— ë™ì ìœ¼ë¡œ method dispatch(í•´ë‹¹ typeì˜ ê°ì²´ í˜¹ì€ valueê°€ ì–´ë–¤ í•¨ìˆ˜ë¥¼ ë©”ì†Œë“œë¡œ í•  ì§€ ê²°ì •í•˜ëŠ” ê²ƒ)ì„ ìˆ˜í–‰í•¨ìœ¼ë¡œ ì¸í•œ ì˜¤ë²„í—¤ë“œë¥¼ ì¤„ì´ê¸° ìœ„í•´ì„œ ì»´íŒŒì¼ íƒ€ì„ì— ì •ì ìœ¼ë¡œ method dispatchí•  ìˆ˜ ìˆê²Œ í•˜ê¸° ìœ„í•´ì„œë¼ê³ í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">OperationUnit&lt;/span> &lt;span class="kd">interface&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">IsValidInput&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span> &lt;span class="o">...&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">bool&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">Operate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span> &lt;span class="o">...&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">float64&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">MultiplyOperationUnit&lt;/span> &lt;span class="kd">struct&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">SquareOperationUnit&lt;/span> &lt;span class="kd">struct&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">MultiplyOperationUnit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">...&lt;/span> &lt;span class="err">ê°ì¢…&lt;/span> &lt;span class="err">ë©”ì†Œë“œ&lt;/span> &lt;span class="err">ì •ì˜&lt;/span> &lt;span class="err">ìƒëµ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">calculator&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">calc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Calculator&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">calc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewCalculator&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">operationUnit&lt;/span> &lt;span class="nx">calc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">OperationUnit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">operationResult&lt;/span> &lt;span class="kt">float64&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">operationErr&lt;/span> &lt;span class="kt">error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ì—°ì‚°ì— ëŒ€í•œ multiplexing. ì¦‰ optionì— ë”°ë¥¸ ì—°ì‚°ì„ ìˆ˜í–‰í•œë‹¤ëŠ” ì˜ë¯¸
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">switch&lt;/span> &lt;span class="nx">option&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">operationUnit&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">calculator&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Multiplier&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">operationUnit&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">calculator&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">SquareMultiplier&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">operationResult&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">operationErr&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">operationUnit&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Operate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">inputs&lt;/span>&lt;span class="o">...&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// result
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="nx">operationErr&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;[Error]&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">operationErr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Result:&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">operationResult&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>operationUnitì´ë¼ëŠ” Interfaceì— ë‹¤ë¥¸ typeì˜ structì¸ calculator.Multiplierì™€ calculator.SquareMultiplierê°€ ë‹´ê¸¸ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>ì´ë¥¼ í†µí•´ &lt;code>operationUnit.Operate()&lt;/code> ëŠ” &lt;strong>ê²½ìš°ì— ë”°ë¼ &amp;ldquo;&lt;em>ì—°ì‚°&lt;/em>&amp;ldquo;ì´ë¼ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ &lt;em>Multipliy&lt;/em> ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ë„ ìˆê³ , &lt;em>SqaureMultipliy&lt;/em> ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ë„ ìˆëŠ”ë°, ì´ë¥¼ ë‹¤í˜•ì„±&lt;/strong>ì´ë¼ê³  í•œë‹¤.&lt;/p>
&lt;h2 id="goì—ì„œì˜-ê°ì²´-ì§€í–¥ì˜-í•œê³„ì ê³¼-ì¥ì ">Goì—ì„œì˜ ê°ì²´ ì§€í–¥ì˜ í•œê³„ì ê³¼ ì¥ì &lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">public&lt;/span> &lt;span class="nx">class&lt;/span> &lt;span class="nx">Example&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">public&lt;/span> &lt;span class="nx">static&lt;/span> &lt;span class="nx">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">String&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="nx">args&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Parent classì™€ Parentë¥¼ extendsí•œ Child classì— ëŒ€í•œ êµ¬í˜„ì€ ìƒëµí•œë‹¤.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">Parent&lt;/span> &lt;span class="nx">parent&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">new&lt;/span> &lt;span class="nf">Parent&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Parent&lt;/span> &lt;span class="nx">child&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">new&lt;/span> &lt;span class="nf">Child&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">parent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ShowMetaData&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// parent.GetName() ì´ìš©
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="cm">/* Output
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> =======================================
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> Name: Parent
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> =======================================
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">child&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ShowMetaData&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// child.GetName()ì´ìš©.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ì´ ë•Œì—ëŠ” .ShowMetaData()ê°€ Parent classê°€ ì•„ë‹Œ Child classê°€ Overrideí•œ GetName() ì´ìš©
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="cm">/* Output
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> =======================================
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> Name: Child of Parent
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> =======================================
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì—ì„  &lt;strong>ë¶€ëª¨ í´ë˜ìŠ¤ì— ì •ì˜ëœ ë©”ì†Œë“œê°€ ë‚´ë¶€ì—ì„œ ìì‹ì´ Overrideí•œ ë©”ì†Œë“œë¥¼ ì´ìš©í•  ìˆ˜ë„ ìˆëŠ”ë°, GoëŠ” ê·¸ëŸ° ê¸°ëŠ¥ì€ ì´ìš©í•  ìˆ˜ ì—†ë‹¤ëŠ” ì ì´ ê°€ì¥ í° í•œê³„ì &lt;/strong>ì¸ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>ì˜ˆë¥¼ ë“¤ì–´ Parent classì˜ .ShowMetaData()ë¼ëŠ” methodê°€ .GetName()ì´ë¼ëŠ” ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²½ìš°, javaì—ì„œëŠ” Childê°€ GetNameì„ Overrideí•˜ë©´ child.ShowMetaData() í˜¸ì¶œ ì‹œì— Childê°€ Overrideí•œ child.GetName()ì„ ì´ìš©í•˜ì§€ë§Œ, GoëŠ” ê·¸ëŸ´ ìˆ˜ ì—†ë‹¤. í•„ìš”í•œ ê²½ìš° í•¨ìˆ˜ë¥¼ ì¸ìë‚˜ fieldë¡œ ì „ë‹¬í•¨ìœ¼ë¡œì¨ ì‚¬ìš©í•  ìˆ˜ ìˆê² ì§€ë§Œ, ì‚¬ìš©ì„±ì´ ì œí•œì ì´ë‹¤. ì´ ë‚´ìš©ì— ëŒ€í•´ ì—¬ê¸°ì„œ ì„¤ëª…í•˜ë©´ ê¸€ì´ ê¸¸ì–´ì§ˆ ê²ƒ ê°™ì•„ ìì„¸í•œ ë¬˜ì‚¬ëŠ” ìƒëµí•˜ê² ë‹¤.&lt;/p>
&lt;p>ë°˜ë©´ Goì—ì„œì˜ ê°ì²´ ì§€í–¥ì€ &lt;strong>ì¥ì &lt;/strong>ì€ ì´ ê¸€(&lt;a class="link" href="https://www.toptal.com/go/golang-oop-tutorial" target="_blank" rel="noopener"
>https://www.toptal.com/go/golang-oop-tutorial&lt;/a>)ì˜ í›„ë°˜ë¶€ì— ì˜ ë‚˜ì™€ìˆëŠ”ë°, &lt;strong>êµ³ì´ Javaë¥¼ ì´ìš©í•˜ì§€ ì•Šì•„ë„ ì´ë ‡ê²Œ OOPê°€ ì¶©ë¶„íˆ ê°€ëŠ¥í•˜ë‹¤&lt;/strong>ëŠ” ê²ƒì´ í•µì‹¬ì´ë‹¤. Javaì˜ VM/JITìœ¼ë¡œ ì¸í•œ ë¦¬ì†ŒìŠ¤ ë¶€ì¡±, ììœ ë„ê°€ ë–¨ì–´ì§€ëŠ” í”„ë ˆì„ì›Œí¬, ë§ì€ annotation, &amp;hellip; ë“±ë“±ì˜ ë‹¨ì  ì—†ì´ë„ ì¶©ë¶„íˆ Goë¥¼ í†µí•´ ê°€ë³ê²Œ OOP í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ ì¥ì ì´ë‹¤.&lt;/p>
&lt;h2 id="ë§ˆë¬´ë¦¬">ë§ˆë¬´ë¦¬&lt;/h2>
&lt;p>ì•„ë¬´ë˜ë„ ê°ì²´ ì§€í–¥ì  ê°œë°œì„ í•˜ëŠ” ë°ì— ìˆì–´ì„œëŠ” Javaê°€ ì¢€ ë” ì§ê´€ì ìœ¼ë¡œ ê·¸ëŒ€ë¡œ ì„¤ê³„, êµ¬í˜„í•´ì„œ ì´ìš©ì´ ê°€ëŠ¥í•œ ê²ƒ ê°™ë‹¤. ì²˜ìŒ Javaë¥¼ ê³µë¶€í–ˆì„ ë•Œë¶€í„° JavaëŠ” ê°ì²´ì§€í–¥ì ìœ¼ë¡œ ê°œë°œí•˜ëŠ” íŒ¨í„´ì— ëŒ€í•´ ìˆ˜ì—†ì´ ë§ì€ ì˜ˆì œê°€ ì¡´ì¬í–ˆê³ , ê·¸ íŒ¨í„´ì´ ëª…í™•í–ˆë˜ ë°˜ë©´ GoëŠ” ëª…í™•í•œ íŒ¨í„´ì´ë‚˜ ê¹”ë”í•˜ê²Œ ì •ì˜ê°€ ì—†ë‹¤(&lt;em>ì´ëŸ° ì‹ìœ¼ë¡œ OOP ì›ì¹™ì„ ì´ìš©í•´ë³¼ ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ~ ì •ë„&lt;/em>). ì•„ë§ˆ ì• ì´ˆì— GoëŠ” ê°ì²´ ì§€í–¥ ì–¸ì–´ë¡œ ì„¤ê³„í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì´ ì•„ë‹ê¹Œì‹¶ë‹¤.&lt;/p>
&lt;p>ì´ë¥¼ ê³„ê¸°ë¡œ Goì—ì„œëŠ” OOP ì›ì¹™ë“¤ì´ ì–´ë–»ê²Œ ë‹¤ì–‘í•˜ê²Œ ì ìš©í•  ìˆ˜ ìˆëŠ”ì§€ ì¢€ ë” ìì„¸íˆ ì•Œì•„ë³¼ ìˆ˜ ìˆì—ˆë‹¤.&lt;/p>
&lt;h2 id="ì°¸ê³ ">ì°¸ê³ &lt;/h2>
&lt;ul>
&lt;li>[ë²ˆì—­] Goì™€ OOP - &lt;a class="link" href="https://mingrammer.com/translation-go-and-oop/" target="_blank" rel="noopener"
>https://mingrammer.com/translation-go-and-oop/&lt;/a>&lt;/li>
&lt;li>Golang OOP tutorial - &lt;a class="link" href="https://www.toptal.com/go/golang-oop-tutorial" target="_blank" rel="noopener"
>https://www.toptal.com/go/golang-oop-tutorial&lt;/a>&lt;/li>
&lt;li>go object-oriented - &lt;a class="link" href="https://golangkorea.github.io/post/go-start/object-oriented/" target="_blank" rel="noopener"
>https://golangkorea.github.io/post/go-start/object-oriented/&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Go ì–¸ì–´ë¡œ ì ìš©í•´ë³´ëŠ” Computer Science - Deadlock</title><link>https://umi0410.github.io/blog/golang/go-deadlock/</link><pubDate>Sun, 31 Jan 2021 18:25:54 +0900</pubDate><guid>https://umi0410.github.io/blog/golang/go-deadlock/</guid><description>&lt;img src="https://umi0410.github.io/blog/golang/go-deadlock/pprof-debugging-1.png" alt="Featured image of post Go ì–¸ì–´ë¡œ ì ìš©í•´ë³´ëŠ” Computer Science - Deadlock" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>ê°œë°œ ê³µë¶€ë¥¼ ì‹œì‘í•˜ê³  ì—¬íƒœê¹Œì§€ ëª‡ ë…„ê°„ ë°ë“œë½ì„ ì‹¤ì œë¡œ ì ‘í•  ì¼ì€ ì—†ì—ˆë‹¤. ì‚¬ì‹¤ ë™ì‹œì„±ì„ ì£¼ì˜í•´ì•¼í•˜ëŠ” ì‘ì—…ì„ í•´ë³¸ ì ë„ ì—†ì—ˆê³ , íŠ¸ëœì­ì…˜ì— ëŒ€í•œ ê°œë…ë„ ì—†ì—ˆê¸° ë•Œë¬¸ì¼ ìˆ˜ë„ ìˆë‹¤. ì „ê³µ ê³¼ëª©ì—ì„œ ë°ë“œë½ì— ëŒ€í•œ ë‚´ìš©ì„ ë“£ê³ ì„œë„ &amp;lsquo;&lt;em>ì•„ ì´ëŸ° ê²Œ ìˆêµ¬ë‚˜&lt;/em>&amp;rsquo; ì •ë„ë¡œë§Œ ìƒê°í•˜ê³  ë„˜ê²¼ì—ˆë‹¤. í•˜ì§€ë§Œ Go ì–¸ì–´ë¥¼ í†µí•´ ê°œë°œì„ í•˜ë˜ ë„ì¤‘ &lt;code>Channel&lt;/code>ì´ë‚˜ &lt;code>Mutex&lt;/code>ë¡œ ì¸í•´ ì¢…ì¢… ë°ë“œë½ì„ ê²½í—˜í•  ìˆ˜ ìˆì—ˆê³ , ì´ ê²½ìš° í”„ë¡œê·¸ë¨ì´ ì™„ì „íˆ ë©ˆì¶°ë²„ë¦¬ëŠ” í¬ë¦¬í‹°ì»¬í•œ ë¬¸ì œê°€ ë°œìƒí•˜ê¸°ë„ í–ˆê³ , ë””ë²„ê¹…í•˜ê¸° í˜ë“  ê²½ìš°ë„ ìˆì—ˆë‹¤. ê·¸ëŸ° ê²½í—˜ì„ í•˜ë©´ì„œ &amp;lsquo;&lt;em>ë°ë“œë½ ì´ ë…€ì„&amp;hellip; ë§Œë§Œì¹˜ ì•Šêµ¬ë‚˜&lt;/em>&amp;lsquo;ë¼ëŠ” ìƒê°ì„ í•˜ê³¤ í–ˆë‹¤.&lt;/p>
&lt;p>ì´ë²ˆ ê¸€ì—ì„œëŠ” &lt;strong>&lt;code>Golang&lt;/code> ì¦‰ &lt;code>Go&lt;/code> ì–¸ì–´ë¥¼ í†µí•´ ì–´ë–¤ ê²½ìš°ì— &lt;code>Deadlock&lt;/code>ì´ ë°œìƒí•  ìˆ˜ ìˆëŠ”ì§€ ì‹¤ì œ í”„ë¡œê·¸ë¨ì„ í†µí•´ ì•Œì•„ë³´ë ¤í•œë‹¤.&lt;/strong> Mutexì— ëŒ€í•œ &lt;code>Lock&lt;/code>ê³¼ ê°™ì´ ì¼ë°˜ì ìœ¼ë¡œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë°ë“œë½ë¶€í„° &lt;code>channel&lt;/code>ì´ë‚˜ &lt;code>goroutine&lt;/code>ì— ëŒ€í•œ &lt;code>Cooperative scheduling&lt;/code>ê³¼ ê°™ì€ Go ì–¸ì–´ì— íŠ¹í™”ëœ ë‚´ìš©ê¹Œì§€ë¥¼ ì •ë¦¬í•´ë³´ì•˜ë‹¤.&lt;/p>
&lt;h2 id="deadlockì´ë€">Deadlockì´ë€&lt;/h2>
&lt;blockquote>
&lt;p>Deadlockì´ë€ êµì°©ìƒíƒœë¥¼ ì˜ë¯¸í•˜ë©° ë‘ ê°œ ì´ìƒì˜ ì‘ì—…ì´ ì„œë¡œ ìƒëŒ€ë°©ì˜ ì‘ì—…ì´ ëë‚˜ê¸°ë§Œì„ ê¸°ë‹¤ë¦¬ê³  ìˆê¸° ë•Œë¬¸ì— ê²°ê³¼ì ìœ¼ë¡œ ì•„ë¬´ê²ƒë„ ì™„ë£Œë˜ì§€ ëª»í•˜ëŠ” ìƒíƒœë¥¼ ê°€ë¦¬í‚¨ë‹¤. - ìœ„í‚¤ë°±ê³¼ -&lt;/p>
&lt;/blockquote>
&lt;p>ë°ë“œë½ì˜ ê°œë… ìì²´ëŠ” ê·¸ë¦¬ ì–´ë µì§€ ì•Šê³ , ì˜ˆì‹œë¥¼ í†µí•´ì„œ ì‰½ê²Œ ì´í•´ê°€ ê°€ëŠ¥í•˜ë‹¤. ìœ„í‚¤ ë°±ê³¼ì— ë‚˜ì˜¨ ì˜ˆì‹œë¥¼ ì¸ìš©í•˜ìë©´ í•˜ë‚˜ì˜ ì‚¬ë‹¤ë¦¬ì— ìœ„ì—ì„œ ë‚´ë ¤ì˜¤ë ¤ëŠ” ì‚¬ëŒ, ì•„ë˜ì—ì„œ ì˜¬ë¼ê°€ëŠ” ì‚¬ëŒì´ ë™ì‹œì— ì˜¬ë¼ê°€ìˆìœ¼ë©´ ì•„ë¬´ë„ ë‚´ë ¤ì˜¤ê±°ë‚˜ ì˜¬ë¼ê°€ì§€ ëª»í•˜ëŠ” ê²½ìš°ë¥¼ ì˜ˆë¡œ ë“¤ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;h3 id="êµì°©-ìƒíƒœì˜-ì¡°ê±´">êµì°© ìƒíƒœì˜ ì¡°ê±´&lt;/h3>
&lt;p>ë” ìì„¸íˆ ì •ì˜ë‚˜ ì˜ë¯¸ì— ëŒ€í•´ ì„¤ëª…í•  ê²ƒì€ ì—†ì„ ë“¯í•˜ê³ , í•™ë¬¸ì ìœ¼ë¡œëŠ” ì£¼ë¡œ ì•„ë˜ì˜ 4ê°€ì§€ ì¡°ê±´ì„ í†µí•´ ë°œìƒí•œë‹¤ê³  ì„¤ëª…í•˜ëŠ” ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;ol>
&lt;li>ìƒí˜¸ ë°°ì œ (Mutual exclusion) - í•˜ë‚˜ì˜ ìì›ì„ ë™ì‹œì— ì‚¬ìš©í•˜ì§€ ëª»í•˜ë„ë¡ í•˜ëŠ” ê²ƒ&lt;/li>
&lt;li>ì ìœ  ìƒíƒœë¡œ ëŒ€ê¸° (Hold and wait) - í•˜ë‚˜ì˜ ìì›ì„ ì†Œìœ í•œ ìƒíƒœë¡œ ë‹¤ë¥¸ ìì›ì„ ê¸°ë‹¤ë¦¬ê³  ìˆëŠ” ìƒíƒœ&lt;/li>
&lt;li>ì„ ì  ë¶ˆê°€ (No preemption) - ì»´í“¨í„° ë¶„ì•¼ì—ì„œì˜ ì„ ì ì€ í•œêµ­ë§ì˜ ì„ ì ê³¼ ë‹¤ì†Œ ë‹¤ë¥¸ ì˜ë¯¸. process í˜¹ì€ goroutineì˜ ìì›ì„ ë¹¼ì•—ëŠ” ê²ƒì„ ì„ ì ì´ë¼ê³  í•¨. ì„ ì  ë¶ˆê°€ë€ ê·¸ëŸ´ ìˆ˜ ì—†ëŠ” ìƒíƒœ.&lt;/li>
&lt;li>ìˆœí™˜ì„± ëŒ€ê¸° (Circular wait) - ê° í”„ë¡œì„¸ìŠ¤ê°€ ìˆœí™˜ì ìœ¼ë¡œ ë‹¤ìŒ í”„ë¡œì„¸ìŠ¤ê°€ ìš”êµ¬í•˜ëŠ” ìì›ì„ ê°€ì§€ê³ ìˆë‹¤. ì‰½ê²Œ 2ê°œì˜ í”„ë¡œì„¸ìŠ¤ë¥¼ ì˜ˆë¡œ ë“¤ë©´ AëŠ” Bê°€ ì†Œìœ  ì¤‘ì¸ ìì›ì„, BëŠ” Aê°€ ì†Œìœ  ì¤‘ì¸ ìì›ì„ ì–»ìœ¼ë ¤ê³  ëŒ€ê¸° ì¤‘ì¸ ìƒí™©ì„ ë§í•¨.&lt;/li>
&lt;/ol>
&lt;p>Deadlockì˜ ê°œë… ìì²´ê°€ ì–´ë µë‹¤ê±°ë‚˜ ìœ„ì˜ 4ê°€ì§€ ì¡°ê±´ì„ ì•”ê¸°í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•œ ê²ƒì€ ì•„ë‹ˆë¼ê³  ìƒê°í•œë‹¤. ì¤‘ìš”í•œ ê²ƒì€ ì‹¤ì œë¡œ ì–´ë–¤ ê²½ìš°ì— ë°ë“œë½ì´ ë°œìƒí•  ìˆ˜ ìˆì„ ì§€ íŒŒì•…í•˜ê³  ì£¼ì˜í•˜ëŠ” ê²ƒê³¼ ê·¸ ê²½ìš° ì–´ë–»ê²Œ í•´ê²°í•  ìˆ˜ ìˆì„ì§€ ì¸ì§€í•˜ëŠ” ê²ƒì´ë¼ê³  ìƒê°í•œë‹¤. ê·¸ëŸ¼ Go ì–¸ì–´ë¡œ ê°„ë‹¨í•œ í”„ë¡œê·¸ë¨ì„ ì§œë³´ë©° ì•Œì•„ë³´ì.&lt;/p>
&lt;h2 id="goì—ì„œ-ë°œìƒí• -ìˆ˜-ìˆëŠ”-deadlock">Goì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” Deadlock&lt;/h2>
&lt;h3 id="channel">Channel&lt;/h3>
&lt;p>ì£¼ë¡œ ì±„ë„ì„ ì ‘í•œ ì§€ ì–¼ë§ˆ ì•ˆ ë˜ì–´ ê·¸ ë™ì‘ ë°©ì‹ì„ ì˜ ì´í•´í•˜ì§€ ëª»í•œ ì±„ ì‚¬ìš©í•  ê²½ìš° ì±„ë„ë¡œ ì¸í•œ ë°ë“œë½ì´ ë°œìƒí•œë‹¤.&lt;/p>
&lt;h4 id="unbuffered-channel">Unbuffered channel&lt;/h4>
&lt;p>&lt;figure style="flex-grow: 125; flex-basis: 301px">
&lt;a href="https://umi0410.github.io/blog/golang/go-deadlock/unbuffered-channel-1.png" data-size="658x523">&lt;img src="https://umi0410.github.io/blog/golang/go-deadlock/unbuffered-channel-1.png"
srcset="https://umi0410.github.io/blog/golang/go-deadlock/unbuffered-channel-1_hu10a616b58d6a106d3f4b8196ebfc4c11_56914_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-deadlock/unbuffered-channel-1_hu10a616b58d6a106d3f4b8196ebfc4c11_56914_1024x0_resize_box_3.png 1024w"
width="658"
height="523"
loading="lazy"
alt="unbuffered-channel-1.png">
&lt;/a>
&lt;figcaption>unbuffered-channel-1.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>íŠ¹íˆë‚˜ unbuffered channelì— ëŒ€í•œ ë¯¸ìˆ™í•œ ì‚¬ìš©ì€ ìì£¼ ë°ë“œë½ì„ ì•¼ê¸°í•œë‹¤. &lt;code>unbuffered channel&lt;/code>ì—ì„œ ë°œìƒí•˜ëŠ” ì¼ë°˜ì ì¸ ë°ë“œë½ì˜ ì˜ë¯¸ì¸ 2ê°œ ì´ìƒì˜ ì‘ì—… ì„œë¡œì˜ ì‘ì—…ì´ ì™„ë£Œë˜ê¸°ë¥¼ ëŒ€ê¸°í•˜ëŠ” êµì°© ìƒíƒœì™€ëŠ” ì•½ê°„ ë‹¤ë¥´ë‹¤ê³  ë³¼ ìˆ˜ë„ ìˆë‹¤. ì™œëƒí•˜ë©´ &lt;code>sender&lt;/code>ì™€ &lt;code>receiver&lt;/code> ì¤‘ ëˆ„êµ°ê°€ê°€ ë¨¼ì € ì‘ì—…ì„ ëë‚´ì•¼ì§€ ê·¸ ë‹¤ìŒìœ¼ë¡œ ëˆ„êµ°ê°€ê°€ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ê²ƒì´ ì•„ë‹ˆë¼ &lt;strong>ì„œë¡œ ë™ì‹œì— í˜‘ë ¥í•´ì•¼ë§Œ unbuffered channelì— ëŒ€í•œ ëŒ€ê¸°ë¥¼ ëë‚¼ ìˆ˜ ìˆëŠ”ë° ì´ ê²½ìš°ëŠ” ë™ì‹œì— í˜‘ë ¥í•´ì¤„ ê·¸ ëˆ„êµ°ê°€(receiver)ê°€ ì—†ëŠ” ê²½ìš°&lt;/strong>ì´ê¸° ë•Œë¬¸ì´ë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 187; flex-basis: 449px">
&lt;a href="https://umi0410.github.io/blog/golang/go-deadlock/unbuffered-channel-2.png" data-size="524x280">&lt;img src="https://umi0410.github.io/blog/golang/go-deadlock/unbuffered-channel-2.png"
srcset="https://umi0410.github.io/blog/golang/go-deadlock/unbuffered-channel-2_huc23feddb7907332ddbd012773a8469b8_20930_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-deadlock/unbuffered-channel-2_huc23feddb7907332ddbd012773a8469b8_20930_1024x0_resize_box_3.png 1024w"
width="524"
height="280"
loading="lazy"
alt="unbuffered-channel-2.png">
&lt;/a>
&lt;figcaption>unbuffered-channel-2.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ê·¸ë ‡ë‹¤ê³ í•´ì„œ ìœ„ì™€ ê°™ì´ ìê¸° í˜¼ì sendì™€ receiveë¥¼ í•˜ë ¤í•´ë´¤ì Unbuffered channelì€ senderì™€ receiverê°€ ëª¨ë‘ readyì—¬ì•¼ ì‘ì—…ì„ ì§„í–‰í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë¶ˆê°€ëŠ¥í•˜ë‹¤. (&lt;em>Unbuffered channelì˜ ë™ì‘ì— ëŒ€í•´ ì¢€ ë” ê¶ê¸ˆí•˜ì‹  ë¶„ë“¤ì€ ì œê°€ ë²ˆì—­ì— ì°¸ì—¬í•œ &lt;a class="link" href="https://go-tour-ko.appspot.com/concurrency/2" target="_blank" rel="noopener"
>A Tour of Go&lt;/a>ë¥¼ ì°¸ê³ í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤!&lt;/em>)&lt;/p>
&lt;p>&lt;figure style="flex-grow: 140; flex-basis: 337px">
&lt;a href="https://umi0410.github.io/blog/golang/go-deadlock/unbuffered-channel-3.png" data-size="667x474">&lt;img src="https://umi0410.github.io/blog/golang/go-deadlock/unbuffered-channel-3.png"
srcset="https://umi0410.github.io/blog/golang/go-deadlock/unbuffered-channel-3_hu79ddac0bd959ff7fccac87fc3364f23d_48295_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-deadlock/unbuffered-channel-3_hu79ddac0bd959ff7fccac87fc3364f23d_48295_1024x0_resize_box_3.png 1024w"
width="667"
height="474"
loading="lazy"
alt="unbuffered-channel-3.png">
&lt;/a>
&lt;figcaption>unbuffered-channel-3.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ë”°ë¼ì„œ &lt;strong>ë‹¤ë¥¸ goroutineì—ì„œ Aì— ëŒ€í•œ receiver ì—­í• ì„ í•´ì£¼ë©´ ëœë‹¤.&lt;/strong>&lt;/p>
&lt;h3 id="buffered-channel">Buffered channel&lt;/h3>
&lt;blockquote>
&lt;p>Buffered channelì„ ì´ìš©í•˜ë©´ ì–´ë–¨ì§€ ì¢€ ë” ìì„¸íˆ ë“¤ì–´ê°€ë³´ì. ë…ìë¶„ê»˜ì„œ Goì˜ channelì— ëŒ€í•´ ë³„ ê´€ì‹¬ì´ ì—†ë‹¤ë©´ íŒ¨ìŠ¤~!&lt;/p>
&lt;/blockquote>
&lt;p>&lt;figure style="flex-grow: 140; flex-basis: 338px">
&lt;a href="https://umi0410.github.io/blog/golang/go-deadlock/buffered-channel-1.png" data-size="668x474">&lt;img src="https://umi0410.github.io/blog/golang/go-deadlock/buffered-channel-1.png"
srcset="https://umi0410.github.io/blog/golang/go-deadlock/buffered-channel-1_hu3ce95aebbfcae3388bc01c477c5405bf_44856_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-deadlock/buffered-channel-1_hu3ce95aebbfcae3388bc01c477c5405bf_44856_1024x0_resize_box_3.png 1024w"
width="668"
height="474"
loading="lazy"
alt="buffered-channel-1.png">
&lt;/a>
&lt;figcaption>buffered-channel-1.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ë§¨ ì²˜ìŒì— Unbuffered channelì—ì„œëŠ” ìœ„ì™€ ê°™ì´ í•œ goroutineì—ì„œ senderì™€ receiver ì—­í•  ëª¨ë‘ë¥¼ ìˆ˜í–‰í•˜ë ¤í•´ë„ ì´ë¯¸ senderì—ì„œ blockì´ ê±¸ë ¤ë²„ë ¤ deadlockì„ ì•¼ê¸°í•œë‹¤ê³  í–ˆìœ¼ë‚˜ buffered channelì—ì„œëŠ” ê·¸ë ‡ì§€ ì•Šë‹¤! &lt;strong>buffered channelì€ buffer sizeê¹Œì§€ëŠ” ì…ë ¥ ì‘ì—…ì´ ë¸”ë½ë˜ì§€ ì•Šê¸° ë•Œë¬¸&lt;/strong>ì´ë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 110; flex-basis: 264px">
&lt;a href="https://umi0410.github.io/blog/golang/go-deadlock/buffered-channel-2.png" data-size="672x609">&lt;img src="https://umi0410.github.io/blog/golang/go-deadlock/buffered-channel-2.png"
srcset="https://umi0410.github.io/blog/golang/go-deadlock/buffered-channel-2_hu5d060740dcd194dde0764aece5d1bf11_61778_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-deadlock/buffered-channel-2_hu5d060740dcd194dde0764aece5d1bf11_61778_1024x0_resize_box_3.png 1024w"
width="672"
height="609"
loading="lazy"
alt="buffered-channel-2.png">
&lt;/a>
&lt;figcaption>buffered-channel-2.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>í•˜ì§€ë§Œ &lt;strong>buffer sizeë¥¼ ë„˜ì–´ì„œëŠ” ìˆœê°„ë¶€í„°ëŠ” receiverê°€ channel ë‚´ì˜ ì•„ì´í…œì„ êº¼ë‚´ì–´ ì¤„ ë•Œê¹Œì§€ blockë˜ì–´ë²„ë¦¬ë¯€ë¡œ ì£¼ì˜&lt;/strong>í•´ì•¼í•œë‹¤.&lt;/p>
&lt;h3 id="mutexlockì˜-ì¤‘ì²©">Mutex.Lockì˜ ì¤‘ì²©&lt;/h3>
&lt;p>&lt;code>Mutex&lt;/code>ì˜ êµ¬í˜„ì— ë”°ë¼ ë‹¤ë¥´ê² ì§€ë§Œ Goì—ì„œëŠ” Lockì´ ê±¸ë¦° ìë¬¼ì‡ ì— ë‹¤ì‹œ ìê¸°ê°€ Lockì„ ê±¸ë ¤í•´ë„ Unlockì´ ë  ë•Œê¹Œì§€ëŠ” Lockì„ ê±¸ ìˆ˜ ì—†ë‹¤. ì¦‰ ì–´ë–¤ Mutexì— Lockì„ ê±´ ê²ƒì´ ìì‹ (Goroutine)ì´ë¼ í•´ë„ í•´ë‹¹ Mutexì— ë˜ ë‹¤ì‹œ Lockì„ ê±¸ë ¤í•˜ë©´ ê·¸ ì‘ì—…ì€ Mutexê°€ Unlock ë  ë•Œê¹Œì§€ ë¸”ë½ë˜ê³  ê²°ê³¼ì ìœ¼ë¡œëŠ” Deadlock ìƒíƒœê°€ ë˜ì–´ë²„ë¦°ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;sync&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">scores&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">30&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">20&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Mutex&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">sync&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Mutex&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Lockì„ ê±´ ë’¤ ì•ˆì „í•˜ê²Œ topScoreë¥¼ êµ¬í•¨.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">GetTopScore&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">playerIndex&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">topScore&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Mutex&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Lock&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">topScore&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">idx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">score&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">scores&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">topScore&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">score&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">playerIndex&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">idx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">topScore&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">score&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Mutex&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Unlock&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// GetTopScoreëŠ” ì´ë¯¸ Lockì„ ì´ìš©í•´ thread safeí•˜ê²Œ ì‘ì—…í•˜ëŠ”ë°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ê·¸ê±¸ ì¸ì§€í•˜ì§€ ëª»í•˜ê³  ì‹¤ìˆ˜ë¡œ ê·¸ ë°–ì¸ Awardì—ì„œ Lockì„ ê±¸ì–´ë²„ë¦¼.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">Award&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Mutex&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Lock&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">playerIdx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">topScore&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">GetTopScore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Mutex&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Unlock&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%dê°€ %dì˜ ì ìˆ˜ë¡œ ìš°ìŠ¹í–ˆìŠµë‹ˆë‹¤!&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">playerIdx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">topScore&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">Award&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// deadlock ë°œìƒ
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ìœ„ì˜ ì˜ˆì‹œì—ëŠ” thread-safeí•˜ê²Œ top scoreë¥¼ êµ¬í•˜ëŠ” &lt;code>GetTopScore&lt;/code> í•¨ìˆ˜ê°€ ì„ ì–¸ë˜ì–´ìˆë‹¤. í•˜ì§€ë§Œ &lt;code>Award&lt;/code> í•¨ìˆ˜ì—ì„œ ì´ë¯¸ &lt;code>GetTopScore&lt;/code>ëŠ” scoresì— ëŒ€í•´ &lt;code>thread-safe&lt;/code>í•¨ì—ë„ ë¶ˆêµ¬í•˜ê³  Lockì„ ê±¸ê³  &lt;code>GetTopScore&lt;/code>ë¥¼ ìˆ˜í–‰í•˜ë ¤í•˜ê¸° ë•Œë¬¸ì— ë°ë“œë½ì´ ë°œìƒí•œë‹¤. ì´ ê²½ìš°ì—ëŠ” &lt;strong>innerì¸ GetTopScore í˜¹ì€ outerì¸ Award ë‘˜ ì¤‘ í•œ ê³³ì—ì„œë§Œ Lock, Unlock ì‘ì—…ì„ ìˆ˜í–‰&lt;/strong>í•˜ë„ë¡ í•´ì£¼ì–´ì•¼í•œë‹¤.&lt;/p>
&lt;p>innerì—ì„œ Lock/Unlockì„ ë‹´ë‹¹í•˜ëŠ” ê²Œ ì˜³ì„ ì§€ outerì—ì„œ Lock/Unlockì„ ë‹´ë‹¹í•˜ëŠ” ê²Œ ì˜³ì„ ì§€ëŠ” ì˜ ëª¨ë¥´ê² ë‹¤. innerì—ì„œ Lock/Unlockì„ ë‹´ë‹¹í•˜ë©´ outerì—ì„œëŠ” ë°ë“œë½ìœ¼ë¡œ ì¸í•´ ì ˆëŒ€ Lock/Unlockì„ ëª»í•œë‹¤ëŠ” ë‹¨ì ì´ ìˆì§€ë§Œ, í•´ë‹¹ ì‘ì—…ì€ ì–¸ì œë‚˜ Atomicí•˜ê²Œ thread-safeí•˜ë‹¤ëŠ” ê²ƒì´ ë³´ì¥ëœë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤. ë°˜ë©´ outerì—ì„œ Lock/Unlockì„ ë‹´ë‹¹í•˜ë„ë¡í•˜ë©´ ë¹„êµì  ììœ ìì¬ë¡œ Lock/Unlockì„ ëª…ë ¹í•  ìˆ˜ ìˆëŠ” ë°˜ë©´ thread-safeí•´ì•¼í•  ë‚´ë¶€ ì‘ì—…ì´ unsafeí•´ì§ˆ ìˆ˜ë„ ìˆë‹¤. ì‹¤ìˆ˜ë¡œ Lock/Unlock ì‘ì—…ì„ ìŠì–´ë²„ë¦´ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. í•˜ì§€ë§Œ ë¬´ì—‡ë³´ë‹¤ë„ &lt;strong>innerì—ì„œ Lock/Unlockì„ ë‹´ë‹¹í•  ì§€ outerì—ì„œ ë‹´ë‹¹í•  ì§€ë¥¼ ì •í™•íˆ ì •í•  ìˆ˜ ì—†ëŠ” ì´ìœ ëŠ” outerë„ ê²°êµ­ì—” ë˜ ë‹¤ë¥¸ outerì˜ innerê°€ ë  ìˆ˜ ìˆê¸° ë•Œë¬¸&lt;/strong>ì´ë¼ê³  ìƒê°í•œë‹¤.&lt;/p>
&lt;h3 id="cooperative-scheduling-ë°©ì‹ì—ì„œì˜-ë¬´í•œ-loop">Cooperative scheduling ë°©ì‹ì—ì„œì˜ ë¬´í•œ Loop&lt;/h3>
&lt;p>Goroutine schedulerê°€ &lt;strong>Goroutineì„ ìŠ¤ì¼€ì¥´ë§ í•˜ëŠ” ë°©ì‹ì€ Go 1.14 ì´ì „ê¹Œì§€ëŠ” Cooperative ë°©ì‹ì´ì—ˆìœ¼ë‚˜, Go 1.14 ë¶€í„°ëŠ” Preemptiveí•œ ë°©ì‹ìœ¼ë¡œ ë°”ë€Œì—ˆë‹¤&lt;/strong>ê³  í•œë‹¤. OSê°€ Go processì˜ threadë¥¼ ìŠ¤ì¼€ì¥´ í•˜ëŠ” ë°©ì‹ì€ OS ë§ˆë‹¤ ë‹¤ë¥´ê² ì§€ë§Œ ëŒ€ì²´ë¡œ preemptiveí•  ê²ƒì´ê³  ì—¬ê¸°ì„œ ì–˜ê¸°í•˜ë ¤ëŠ” ìŠ¤ì¼€ì¥´ëŸ¬ëŠ” Goroutineì„ ìŠ¤ì¼€ì¥´ë§í•˜ëŠ” Goroutine schedulerì„ì„ ì£¼ì˜í•˜ì.&lt;/p>
&lt;p>Goroutineì€ syscallì™€ mutex, channel, í•¨ìˆ˜ ì½œ ë“±ìœ¼ë¡œ ì¸í•´ switch ë  ìˆ˜ ìˆëŠ”ë°, &lt;strong>cooperative ë°©ì‹ì„ ì´ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” ì´ëŸ¬í•œ goroutine switch ì¡°ê±´ì— í•´ë‹¹í•˜ì§€ ì•ŠëŠ” ê²½ìš° ì„ì˜ë¡œ goroutine switch í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ” í•œì€ ê°™ì€ ìŠ¤ë ˆë“œ ë‚´ì˜ ë‹¤ë¥¸ goroutineì€ ì ˆëŒ€ë¡œ ì‹¤í–‰ë  ìˆ˜ ì—†ë‹¤&lt;/strong>. preemption(ì„ ì ) ì¦‰ ë‹¤ë¥¸ goroutineì„ block ìƒíƒœë¡œ ë§Œë“¤ì–´ë²„ë¦¬ê³  ìì‹ ì´ CPUë¥¼ ì„ ì í•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í–ˆê¸° ë•Œë¬¸ì´ë‹¤. í•˜ì§€ë§Œ Go 1.14ë¶€í„°ëŠ” ì•½ 10msë¥¼ ê¸°ì¤€ìœ¼ë¡œ preemptionì„ ìˆ˜í–‰í•˜ê³  ìˆë‹¤. Asynchronous preemptionì´ë¼ê³  ë¶€ë¥´ëŠ” ê²ƒ ê°™ì€ë°, ì •í™•íˆ ì™œ asynchronousì¸ì§€, ê¸°ì¡´ì˜ preemptive scheduleê³¼ëŠ” ë¬´ì—‡ì´ ë‹¤ë¥¸ì§€ëŠ” ì°¾ì•„ë´¤ìœ¼ë‚˜ ì œëŒ€ë¡œ ì„¤ëª…ë˜ì–´ìˆëŠ” ê³³ì„ ì°¾ì§€ ëª»í–ˆë‹¤.&lt;/p>
&lt;p>ì•ìœ¼ë¡œ ì´ì–´ì§€ëŠ” ë‚´ìš©ì€ &lt;em>ë°ë“œë½ì— ëŒ€í•œ ì˜ˆì‹œë¼ê¸° ë³´ë‹¤ëŠ” &amp;lsquo;cooperative ìŠ¤ì¼€ì¥´ë§ê³¼ preemptive ìŠ¤ì¼€ì¥´ë§ì˜ ì°¨ì´ë¡œ ì¸í•´ ë°ë“œë½ì´ ë°œìƒí•  ìˆ˜ë„ ìˆê³  ë°œìƒí•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆêµ¬ë‚˜&amp;rsquo;ì— ëŒ€í•´ ì•Œì•„ë³´ëŠ” ì˜ˆì‹œ&lt;/em>ì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">Foo&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;No Deadlock. ë‚˜ë„ ì‹¤í–‰ë  ìˆ˜ ìˆì–´!&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="nf">Foo&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">dummy&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="c1">// ê·¸ëƒ¥ for ë¬¸ ì•ˆì—ì„œ dummy ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ë³€ìˆ˜
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">dummy&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>for ë¬¸ ì•ˆì—ì„œëŠ” í•¨ìˆ˜ì½œë„ syscallë„ channel/mutexë„ ì•„ë‹Œ goroutine swtichì™€ ê´€ë ¨ ì—†ëŠ” &lt;code>dummy += 1&lt;/code> ì‘ì—…ë§Œì„ ìˆ˜í–‰í•˜ê³  ìˆë‹¤. ì´ ê²½ìš° &lt;code>go Foo()&lt;/code>ë¥¼ í†µí•´ goroutineì„ ìƒì„±í•˜ê¸´ í•˜ì§€ë§Œ ê·¸ goroutineì€ ë°”ë¡œ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ëŒ€ê¸° ìƒíƒœì´ë©° ë§Œì•½ ìŠ¤ë ˆë“œê°€ í•˜ë‚˜ë¼ë©´ cooperative ìŠ¤ì¼€ì¥´ë§ìœ¼ë¡œëŠ” Fooë¼ëŠ” goroutineì´ ì‹¤í–‰ë  ìˆ˜ê°€ ì—†ì„ ê²ƒì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Go ë²„ì „ &amp;gt;= 1.14 ì¼ ë•Œì—ë„ Deadlock ë°œìƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ &lt;span class="nv">GOMAXPROCS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="nv">GODEBUG&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">asyncpreemptoff&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span> go run main.go
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;code>GOMAXPROCS=1&lt;/code> - Go í”„ë¡œê·¸ë¨ì´ ì‚¬ìš©í•  ìµœëŒ€ OS Thread ê°œìˆ˜ë¥¼ 1ê°œë¡œ ì œí•œí•¨ìœ¼ë¡œì¨ ì—¬ëŸ¬ ìŠ¤ë ˆë“œì—ì„œ Goroutineì´ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ë°©ì§€. (ë°ë“œë½ì„ ì•¼ê¸°í•´ë³´ë ¤ëŠ” ì¡°ê±´)&lt;/li>
&lt;li>&lt;code>GODEBUG=asyncpreemptoff=1&lt;/code> - Go 1.14ë¶€í„° ì ìš©ëœ Asynchronous preemptive schedulingì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì˜µì…˜&lt;/li>
&lt;/ul>
&lt;p>ì´ ê²½ìš° Go ë²„ì „ì´ 1.14 ì´ìƒì´ë¼ë©´ FooëŠ” ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Go ë²„ì „ &amp;gt;= 1.14ì¸ ê²½ìš° async preemptionìœ¼ë¡œ ì¸í•´ Deadlock ë°œìƒ X&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ &lt;span class="nv">GOMAXPROCS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span> go run main.go
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">No Deadlock. ë‚˜ë„ ì‹¤í–‰ë  ìˆ˜ ìˆì–´!
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>í•˜ì§€ë§Œ asyncpreemptoff ì˜µì…˜ì„ ìƒëµí•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ì„ ì í˜• ìŠ¤ì¼€ì¥´ë§ì´ ì§€ì›ë˜ë¯€ë¡œ ì´ ê²½ìš°ì—” Deadlockì´ ë°œìƒí•˜ì§€ ì•Šê³  Foo() í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ &amp;ldquo;No Deadlock. ë‚˜ë„ ì‹¤í–‰ë  ìˆ˜ ìˆì–´!&amp;rdquo; ë¼ëŠ” Stdoutì„ í†µí•´ ë³¼ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;h4 id="pprofë¥¼-ì´ìš©í•œ-goroutine-schedule-ì‹œê°í™”">pprofë¥¼ ì´ìš©í•œ goroutine schedule ì‹œê°í™”&lt;/h4>
&lt;p>í•˜ì§€ë§Œ ì •ë§ë¡œ async preemptionì´ ë™ì‘í–ˆê¸° ë•Œë¬¸ì— ë°ë“œë½ì— ë¹ ì§€ì§€ ì•Šì€ ê²ƒì¸ì§€ ë‹¤ë¥¸ ì´ìœ  ë•Œë¬¸ì¸ì§€ëŠ” ê·¸ë‹¥ ì§ê´€ì ìœ¼ë¡œ ì™€ë‹¿ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë˜ì„œ ëª‡ëª‡ ì™¸êµ­ ë¸”ë¡œê·¸ì˜ ê¸€ì—ì„œ ë´¤ë˜ &lt;code>pprof&lt;/code>ë¼ëŠ” ë„êµ¬ë¥¼ ì‚¬ìš©í•´ë´¤ê³ , ì²˜ìŒì—” ì‚¬ìš©ë²•ì´ ë‹¤ì†Œ ì–´ë ¤ì› ì§€ë§Œ ì¡°ê¸ˆ ìµìˆ™í•´ì§€ë‹ˆ ë„ˆë¬´ë‚˜ë„ í¸ë¦¬í–ˆë‹¤.
&lt;code>pprof&lt;/code>ëŠ” &lt;code>net/http&lt;/code> íŒ¨í‚¤ì§€ í•˜ìœ„ì— ì¡´ì¬í•˜ê³ , Goroutine scheduling, syscall log, CPU ì‚¬ìš© ë“±ì„ ì‹œê°í™”í•´ì„œ ë³´ì—¬ì£¼ëŠ” ê°„í¸í•œ ë””ë²„ê¹… ë„êµ¬ì´ë‹¤.
ìš”ì²­ì„ ë‚ ë¦¬ë©´ ìš”ì²­ ì´í›„ Nì´ˆ ê°„ì˜ goroutine schedulingì— ëŒ€í•œ ì •ë³´ë¥¼ ê¸°ë¡í•´ ë³´ì—¬ì£¼ëŠ” ê¸°ëŠ¥ì„ ì´ìš©í•´ë³´ì•˜ë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 108; flex-basis: 261px">
&lt;a href="https://umi0410.github.io/blog/golang/go-deadlock/pprof-debugging-1.png" data-size="547x502">&lt;img src="https://umi0410.github.io/blog/golang/go-deadlock/pprof-debugging-1.png"
srcset="https://umi0410.github.io/blog/golang/go-deadlock/pprof-debugging-1_hu27a13bf8dcdafb0aaff224765e3a83ab_59369_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-deadlock/pprof-debugging-1_hu27a13bf8dcdafb0aaff224765e3a83ab_59369_1024x0_resize_box_3.png 1024w"
width="547"
height="502"
loading="lazy"
alt="pprof-debugging-1.png">
&lt;/a>
&lt;figcaption>pprof-debugging-1.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>End Stack Traceë¥¼ í†µí•´ ì–´ë–¤ ì‘ì—…ìœ¼ë¡œ ì¸í•´ goroutineì´ ì ì‹œ ì¤‘ë‹¨ë˜ê³  CPUë¥¼ ë‹¤ë¥¸ goroutineì—ê²Œ ì–‘ë³´í•˜ê²Œ ë˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤. ë†€ëê²Œë„ dummyì— ëŒ€í•œ ë¬´í•œ ë£¨í”„ ì§„í–‰ ë„ì¤‘ ì²˜ìŒìœ¼ë¡œ &lt;strong>async preemptionì´ ë°œìƒí•œ ë’¤ ì´ì–´ì„œ Foo í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ëŠ” goroutineì´ CPUë¥¼ ì ìœ &lt;/strong>í•˜ê²Œ ëœë‹¤ëŠ” ê²ƒì„ ì‹œê°ì ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>Wall Durationì€ í•´ë‹¹ ê³ ë£¨í‹´ ë¸”ëŸ­ì„ ìˆ˜í–‰í•œ ì‹œê°„ìœ¼ë¡œ ë³´ì—¬ì§€ê³  ì•½ 10msë¥¼ ê¸°ì¤€ìœ¼ë¡œ preemptiveí•˜ê²Œ switchê°€ ì¼ì–´ë‚  ìˆ˜ ìˆë‹¤ëŠ” ì—¬ëŸ¬ ë¸”ë¡œê·¸ì˜ ê¸€ë“¤ê³¼ ìœ ì‚¬í•˜ê²Œ 15,021,904ns, ì¦‰ ì•½ 15msë§Œì— asyncPreemptë¼ëŠ” ì´ë²¤íŠ¸ë¡œ ì¸í•´ goroutine switchê°€ ì¼ì–´ë‚¬ë‹¤.
cooperative ìŠ¤ì¼€ì¥´ë§ë§Œì„ ì´ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” ë°ë“œë½ìœ¼ë¡œ ì¸í•´ í•œ ë²ˆë„ Fooë¥¼ ì‹¤í–‰í•˜ëŠ” goroutineì´ ìˆ˜í–‰ë˜ì§€ ëª»í•œë‹¤ëŠ” ê²ƒë„ ì‹œê°í™”í•´ì„œ ì œê³µí•´ë³´ê³ ì‹¶ì—ˆì§€ë§Œ, ë‹¹ì—°í•˜ê²Œë„ ê·¸ ë°ë“œë½ìœ¼ë¡œ ì¸í•´ ì¼ì • ê¸°ê°„ë™ì•ˆ runtimeì„ ê´€ì°°í•œ ë’¤ ê·¸ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” goroutine ì¡°ì°¨ ì‹¤í–‰í•  ìˆ˜ ì—†ì–´ ê·¸ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ì—†ì—ˆë‹¤!&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Goì˜ ë²„ì „ì„ 1.13ìœ¼ë¡œ ì œí•œí•´ë³¸ë‹¤.&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> golang:1.13&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /app&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> . .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENTRYPOINT&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;go&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;run&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;main.go&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ docker build . -t tmp &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> docker run -it --rm -e &lt;span class="nv">GOMAXPROCS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span> tmp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ê·¸ë ‡ë‹¤ë©´ ì •ë§ Goì˜ 1.14 ì´ì „ ë²„ì „ì€ Preemptiveí•œ ë°©ì‹ì´ ì•„ë‹ˆë¼ Cooperativeí•œ ë°©ì‹ì„ ì´ìš©í•˜ê³ , ì´ ê²½ìš° ë°ë“œë½ì´ ë°œìƒí• ê¹Œ? ì´ì „ ê¸€ë“¤ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ Dockerë¥¼ ì´ìš©í•´ ê°„í¸í•˜ê²Œ Goì˜ ë²„ì „ì„ ë³€ê²½í•´ì„œ ì‹¤í–‰í•´ë³´ì. golang:1.13 ì´ë¯¸ì§€ë¥¼ ì´ìš©í•´ë³´ì•˜ë‹¤.&lt;/p>
&lt;p>1.13 ë²„ì „ ì´í•˜ë¡œëŠ” &lt;code>GODEBUG=asyncpreemptoff=1&lt;/code> ì˜µì…˜ì„ ì„¤ì •í•˜ì§€ ì•Šì•„ë„ cooperativeí•œ ìŠ¤ì¼€ì¥´ë§ë§Œì„ ì§€ì›í•˜ë¯€ë¡œ í”„ë¡œê·¸ë¨ì´ ë°ë“œë½ ìƒíƒœì— ë¹ ì ¸ Foo()ê°€ ì‹¤í–‰ë˜ì§€ ëª»í•¨ì„ ì•Œ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;h4 id="ì°¸ê³ -ì‚¬í•­-gomaxprocs1-ì˜µì…˜ì„-ì£¼ëŠ”-ì´ìœ ëŠ”">ì°¸ê³  ì‚¬í•­) GOMAXPROCS=1 ì˜µì…˜ì„ ì£¼ëŠ” ì´ìœ ëŠ”?&lt;/h4>
&lt;blockquote>
&lt;p>The GOMAXPROCS variable limits the number of operating system threads that can execute user-level Go code simultaneously. - go rutime package ë¬¸ì„œ -&lt;/p>
&lt;/blockquote>
&lt;p>&lt;code>GOMAXPROCS&lt;/code>ëŠ” &lt;strong>Go í”„ë¡œê·¸ë¨ì´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ì˜ OS ìŠ¤ë ˆë“œ ê°œìˆ˜&lt;/strong>ë¥¼ ì˜ë¯¸í•œë‹¤. ë§Œì•½ OS ìŠ¤ë ˆë“œê°€ 2ê°œ ì´ìƒìœ¼ë¡œ ìƒì„±ëœë‹¤ë©´ ìœ„ì˜ ê²½ìš° main goroutineê³¼ í•¨ìˆ˜ Fooë¥¼ ì‹¤í–‰í•˜ëŠ” Goroutineì´ ì„œë¡œ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì— ë°°ì¹˜ë  ê²ƒì´ê³ , ê·¸ ê²½ìš° &lt;strong>Goì˜ ìŠ¤ì¼€ì¥´ëŸ¬ê°€ Cooperativeí•œ ë°©ì‹ì„ ì´ìš©í•œë‹¤í•´ë„ OS ìŠ¤ì¼€ì¥´ëŸ¬ê°€ Preemptiveí•˜ê²Œ ê°ê°ì˜ Go ìŠ¤ë ˆë“œ(OS Level)ë¥¼ ìŠ¤ì¼€ì¥´&lt;/strong>í•˜ê¸° ë•Œë¬¸ì— Foo goroutineë„ ì‹¤í–‰ë  ìˆ˜ ìˆëŠ” ê¸°íšŒê°€ ì£¼ì–´ì§„ë‹¤. ì´ ê²½ìš°ì—ëŠ” ë°ë“œë½ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ &lt;strong>ìš°ë¦¬ëŠ” ë°ë“œë½ì„ ë°œìƒì‹œì¼œë³´ê³ ì GOMAXPROCSë¥¼ 1ë¡œ ì œí•œ&lt;/strong>í•œë‹¤.&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>Goë¥¼ ì´ìš©í•´ ì‹¤ì œ í”„ë¡œê·¸ë¨ì„ ì§œë³´ë©° ì–´ë–¤ ê²½ìš°ì— Deadlockì´ ë°œìƒí•  ìˆ˜ ìˆëŠ”ì§€ ì•Œì•„ë³´ì•˜ë‹¤. ì´ ê¸€ì—ì„  ì„œë¡œ ê°™ì€ Mutexë¥¼ ì´ìš©í•˜ëŠ” ê²½ìš°ë¥¼ ì˜ˆì‹œë¡œ ë“¤ì—ˆì§€ë§Œ ì„œë¡œ ë‹¤ë¥¸ ë‘ Mutexë¥¼ í†µí•´ ì„œë¡œì˜ ì‘ì—…ì„ ê¸°ë‹¤ë¦¬ëŠ” ê²½ìš°ì˜ Deadlockë„ ê±°ì˜ ìœ ì‚¬í•˜ë©° ì¼ë°˜ì ìœ¼ë¡œ ë§í•˜ëŠ” Deadlockì— ê°€ì¥ ê°€ê¹Œìš´ ê²½ìš°ì´ê¸´í•  ê²ƒì´ë‹¤. ê·¸ë˜ë„ Goë¡œ ê°œë°œì„ í•˜ë©´ì„œ ì•„ì§ ì„œë¡œ ë‹¤ë¥¸ Mutexë¥¼ ì´ìš©í–ˆë˜ ê²½ìš°ê°€ ë”±íˆ ì—†ì—ˆê¸°ì— ê°™ì€ Mutexì— ì¤‘ì²©ìœ¼ë¡œ Lockì„ ê±¸ì—ˆë˜ ê²½ìš°ë¥¼ ì˜ˆì‹œë¡œ ë“¤ì–´ë³´ì•˜ë‹¤.&lt;/p>
&lt;p>&lt;code>Channel&lt;/code>ì´ë‚˜ &lt;code>Cooperative scheduling&lt;/code>ì˜ ê²½ìš°ëŠ” ì–´ëŠ ì •ë„ Goì— í•œì •ì ì¸ ë‚´ìš©ì´ê³  íŠ¹íˆë‚˜ ìŠ¤ì¼€ì¥´ë§ì€ ëŸ°íƒ€ì„ì´ë‚˜ ê³ ë£¨í‹´ ìŠ¤ì¼€ì¥´ ë°©ì‹ê¹Œì§€ ë‚´ë ¤ê°€ëŠ” ì„¸ë¶€ì ì¸ ë‚´ìš©ì´ê¸´í•˜ì§€ë§Œ Goì— íŠ¹íˆ ê´€ì‹¬ ìˆìœ¼ì‹  ë¶„ë“¤ê»˜ëŠ” ë‚˜ë¦„ ì¬ë¯¸ìˆëŠ” ë‚´ìš©ì´ ë˜ì§€ ì•Šì•˜ì„ê¹Œì‹¶ë‹¤.&lt;/p>
&lt;p>ê·¸ë¦¬ê³  ì´ì „ ê¸€ì—ì„  &lt;code>testing&lt;/code>ì˜ &lt;code>benchmark&lt;/code>ë¥¼ ì´ìš©í•´ ì¢€ ë” ì •í™•í•˜ê³  í¸ë¦¬í•œ ë²¤ì¹˜ë§ˆí‚¹ì„ ë„ì…í•´ë´¤ë‹¤ëŠ” ì ê³¼
ì´ë²ˆì—” ì¶”ê°€ì ìœ¼ë¡œ &lt;code>pprof&lt;/code>ë¥¼ ì´ìš©í•´ &lt;code>goroutine ìŠ¤ì¼€ì¥´ë§&lt;/code>ì„ ì‹œê°í™”í•´ë´¤ë‹¤ëŠ” ì ì—ì„œ Golangìœ¼ë¡œ ì ìš©í•´ë³´ëŠ” ì»´í“¨í„° ì‚¬ì´ì–¸ìŠ¤ë¼ëŠ” ì´ ì‹œë¦¬ì¦ˆë¥¼ ì²˜ìŒ ì‹œì‘í–ˆì„ ë•Œì— ë¹„í•´ ì»´í“¨í„° ì‚¬ì´ì–¸ìŠ¤ ë¿ë§Œ ì•„ë‹ˆë¼ ë””ë²„ê¹… ê¸°ìˆ ì´ë‚˜ ìŠ¤ì¼€ì¥´ë§ ë°©ì‹ ë“±ë“± ë‹¤ì–‘í•œ ì£¼ì œì— ëŒ€í•´ì„œë„ ê³µë¶€í•´ë³´ê³  ì ìš©í•´ë³¼ ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ì•„ ë¿Œë“¯í•˜ë‹¤.
ë‹¤ì†Œ Goë§Œì˜ ì§€ì—½ì ì¸ ë‚´ìš©ìœ¼ë¡œ ì—¬ê²¨ì§ˆ ìˆ˜ë„ ìˆê² ì§€ë§Œ ì¶”í›„ì— ë‚´ê°€ ì–´ë–¤ ì–¸ì–´ë¥¼ ê³µë¶€í•˜ë“  ì–´ë–¤ ê¸°ìˆ ì„ ê³µë¶€í•˜ë“  ì´ëŸ¬í•œ ê²½í—˜ë“¤ì„ ì–¼ë§ˆë“ ì§€ ë…¹ì—¬ë‚¼ ìˆ˜ ìˆì„ ê²ƒì´ë¼ ìƒê°í•œë‹¤!!&lt;/p>
&lt;h2 id="ì°¸ê³ ">ì°¸ê³ &lt;/h2>
&lt;ul>
&lt;li>
&lt;p>Go: How are Deadlocks Triggered? &lt;a class="link" href="https://medium.com/a-journey-with-go/go-how-are-deadlocks-triggered-2305504ac019" target="_blank" rel="noopener"
>https://medium.com/a-journey-with-go/go-how-are-deadlocks-triggered-2305504ac019&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Go: What Does a Goroutine Switch Actually Involve? &lt;a class="link" href="https://medium.com/a-journey-with-go/go-what-does-a-goroutine-switch-actually-involve-394c202dddb7" target="_blank" rel="noopener"
>https://medium.com/a-journey-with-go/go-what-does-a-goroutine-switch-actually-involve-394c202dddb7&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Goroutine and Preemption &lt;a class="link" href="https://medium.com/a-journey-with-go/go-goroutine-and-preemption-d6bc2aa2f4b7" target="_blank" rel="noopener"
>https://medium.com/a-journey-with-go/go-goroutine-and-preemption-d6bc2aa2f4b7&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Go: Asynchronous Preemption &lt;a class="link" href="https://medium.com/a-journey-with-go/go-asynchronous-preemption-b5194227371c" target="_blank" rel="noopener"
>https://medium.com/a-journey-with-go/go-asynchronous-preemption-b5194227371c&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ë°ë“œë½ ì •ì˜&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://namu.wiki/w/%EB%8D%B0%EB%93%9C%EB%9D%BD?from=Deadlock" target="_blank" rel="noopener"
>https://namu.wiki/w/%EB%8D%B0%EB%93%9C%EB%9D%BD?from=Deadlock&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://ko.wikipedia.org/wiki/%EA%B5%90%EC%B0%A9_%EC%83%81%ED%83%9C" target="_blank" rel="noopener"
>https://ko.wikipedia.org/wiki/%EA%B5%90%EC%B0%A9_%EC%83%81%ED%83%9C&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Go runtime documentation &lt;a class="link" href="https://golang.org/pkg/runtime/" target="_blank" rel="noopener"
>https://golang.org/pkg/runtime/&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>Go ì–¸ì–´ë¡œ ì ìš©í•´ë³´ëŠ” Computer Science - Cache</title><link>https://umi0410.github.io/blog/golang/go-cpu-cache/</link><pubDate>Wed, 27 Jan 2021 15:25:54 +0900</pubDate><guid>https://umi0410.github.io/blog/golang/go-cpu-cache/</guid><description>&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>ì €ë²ˆ í•™ê¸°ì— &lt;code>ì»´í“¨í„° êµ¬ì¡°&lt;/code>ë¥¼ ìˆ˜ê°•í•˜ë©´ì„œ ê°„ê³¼í•˜ê³  ìˆë˜ ë¡œìš° ë ˆë²¨ì˜ ì§€ì‹ì—ë„ í¥ë¯¸ê°€ ìƒê²¼ì—ˆë‹¤. ê·¸ ì¤‘ CPUì™€ Memory, Diskì˜ ì—­í• ì— ëŒ€í•´ ì•Œì•„ë³¼ ìˆ˜ ìˆì—ˆê³  &lt;strong>ìºì‹œëŠ” CPUì™€ Memory ì‚¬ì´ì— ìœ„ì¹˜í•´ ë©”ëª¨ë¦¬ ëŒ€ì‹  ë¹ ë¥´ê²Œ CPUì—ê²Œ ë°ì´í„°ë¥¼ ì œê³µí•˜ëŠ” ë…€ì„&lt;/strong>ì´ë¼ê³  ë°°ì› ë‹¤.&lt;/p>
&lt;p>ì´ì „ì—ëŠ” ì£¼ë¡œ ìºì‹œë¼ê³  í•˜ë©´ ì£¼ë¡œ CDNê³¼ ê°™ì€ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì“°ì´ëŠ” ìºì‹œë“¤ë°–ì— ëª°ëë‹¤. ê·¸ë ‡ë‹¤ë³´ë‹ˆ L1 ìºì‹œ, L2 ìºì‹œ ê°™ì€ ì–˜ê¸°ë¥¼ ë“¤ìœ¼ë©´ OSI 7ê³„ì¸µê³¼ ì—°ê´€ ì§€ì–´ &amp;lsquo;ìŒ..? L2 ìºì‹œëŠ” ìŠ¤ìœ„ì¹˜ì—ì„œ ì“°ëŠ” ìºì‹œì¸ê°€..?&amp;rsquo; ë¼ëŠ” ìƒìƒì„ í•˜ê³¤í–ˆë‹¤.&lt;/p>
&lt;p>ì´ë²ˆì—ëŠ” Goë¥¼ í†µí•´ ë°°ì—´ì— ì—¬ëŸ¬ ì°¨ë¡€ ì ‘ê·¼í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ë§Œë“¤ì–´ë³´ê³  ë²¤ì¹˜ë§ˆí‚¹ì„ í†µí•´ ìºì‹œë¼ëŠ” ë…€ì„ì´ ì–´ë–¤ íš¨ê³¼ë¥¼ ê°€ì ¸ë‹¤ì£¼ëŠ”ì§€ ì§ì ‘ í™•ì¸í•´ë³´ë ¤í•œë‹¤.&lt;/p>
&lt;h2 id="ìºì‹œë€">ìºì‹œë€&lt;/h2>
&lt;p>ìºì‹œëŠ” ì•„ì£¼ ë‹¤ì–‘í•œ ë¬¸ë§¥ì—ì„œ ì‚¬ìš©ëœë‹¤. ê³µí†µì ìœ¼ë¡œ &amp;ldquo;ì‚¬ìš©ìê°€ ìš”ì²­í•  ê²ƒ ê°™ì€ ë°ì´í„°ë¥¼ ì‘ê³  ë¹ ë¥¸ ì €ì¥ì†Œì— ì €ì¥í•´ë†“ìŒìœ¼ë¡œì¨ ì¢€ ë” ë¹¨ë¦¬ í•´ë‹¹ ë°ì´í„°ë¥¼ ì œê³µí•œë‹¤&amp;quot;ëŠ” ëª©ì ì„ ê°–ëŠ”ë‹¤. CDN, DB, REST API, Memory, CPU ë“±ë“± ë‹¤ì–‘í•œ ê³³ì—ì„œ ì“°ì¼ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤. ê·¸ ì¤‘ ì´ë²ˆì—ëŠ” &lt;strong>CPUì™€ ë©”ëª¨ë¦¬ ì‚¬ì´ì˜ ìºì‹œ&lt;/strong>ì— ëŒ€í•´ ì•Œì•„ë³´ê² ë‹¤.&lt;/p>
&lt;p>CPUì™€ ë©”ëª¨ë¦¬ ì‚¬ì´ì˜ ìºì‹œëŠ” &lt;strong>ë©”ëª¨ë¦¬ì˜ ë°ì´í„°ë¥¼ ì–»ê¸° ìœ„í•´ ë©”ëª¨ë¦¬ì— ì§ì ‘ ì ‘ê·¼í•˜ì§€ ì•Šê³  ìºì‹œë¼ëŠ” ë¹ ë¥¸ ì €ì¥ì†Œë¥¼ ì´ìš©í•´ í•´ë‹¹ ë°ì´í„°ë¥¼ ì–»ê²Œë”&lt;/strong>í•´ì¤€ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë³€ìˆ˜ a=10 ì´ë¼ëŠ” ë°ì´í„°ê°€ ë©”ëª¨ë¦¬ì— ì¡´ì¬í•œë‹¤í•´ë„ aì˜ ê°’ì„ ì–»ê¸° ìœ„í•´ ë©”ëª¨ë¦¬ì— ì§ì ‘ ì ‘ê·¼í•˜ê¸° ë³´ë‹¤ëŠ” ê°€ê¹Œìš°ë©´ì„œ ë¹ ë¥´ê²Œ ì´ìš© ê°€ëŠ¥í•œ ìºì‹œì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ë„ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤. ì‚¬ì‹¤ ìºì‹œì˜ ê°œë…ì ì¸ ì¸¡ë©´ì—ì„œ ë³´ë©´ ë©”ëª¨ë¦¬ ë˜í•œ ë””ìŠ¤í¬ ëŒ€ì‹  ë¹ ë¥´ê²Œ ê°’ì„ ì „ë‹¬í•´ì£¼ê¸° ìœ„í•œ ê²½ìš°ì¼ ìˆ˜ ìˆìœ¼ë‹ˆ ìºì‹œ ê¸°ëŠ¥ì„ í•œë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  CPUì™€ ë©”ëª¨ë¦¬ ì‚¬ì´ì— ì •ë§ ìºì‹œë¼ëŠ” ì´ë¦„ì„ ê°–ëŠ” ë…€ì„ë“¤ì€ í”„ë¡œì„¸ì„œ ì†ì— ìˆëŠ” L1 ìºì‹œ, í”„ë¡œì„¸ì„œ ì˜†ì— ìˆëŠ” L2 ìºì‹œ, í”„ë¡œì„¸ì„œë“¤ì´ ê³µìœ í•˜ëŠ” L3 ìºì‹œê°€ ìˆê¸´ í•˜ì§€ë§Œ ì´ëŠ” ì‹œëŒ€ê°€ ì§€ë‚˜ë©´ì„œ ì–¼ë§ˆë“ ì§€ ë³€í•  ìˆ˜ ìˆëŠ” ë‚´ìš©ë“¤ì´ê¸° ë•Œë¬¸ì— ì–´ë–¤ ìºì‹œê°€ ì–´ë””ì— ìˆê³  ëˆ„êµ¬ë‘ ëˆ„ê°€ ê³µìœ í•˜ëŠ”ì§€ì™€ ê°™ì€ ì„¸ë¶€ ë‚´ìš©ì€ í¬ê²Œ ì¤‘ìš”í•˜ì§„ ì•Šì„ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>ë¬¼ë¦¬ì ì¸ í¬ê¸°ë‚˜ ê±°ë¦¬ëŠ” ì†ë„ì™€ ë°˜ë¹„ë¡€í•  ìˆ˜ ë°–ì— ì—†ë‹¤. ê±°ë¦¬ê°€ ë©€ë©´ ì •ë³´ê°€ ì „ë‹¬ë˜ëŠ” ì†ë„ê°€ ëŠë ¤ì§€ê³  í¬ê¸°ê°€ í¬ë©´ ì—¬ëŸ¬ Muxë‚˜ Gateë¥¼ ì´ìš©í•œë‹¤ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ëŠë ¤ì§„ë‹¤. ê·¸ë ‡ê¸°ë•Œë¬¸ì— ìºì‹œëŠ” ì‘ê³  ê°€ê¹Œì›Œì•¼í•œë‹¤. ë°ì´í„°ë¥¼ ìš”ì²­í•˜ëŠ” ë…€ì„ì€ CPUì´ê¸° ë•Œë¬¸ì— ìºì‹œëŠ” CPU ì† í˜¹ì€ ê·¸ ê·¼ì²˜ì— ìœ„ì¹˜í•œë‹¤. ë˜í•œ ì‘ì•„ì•¼í•˜ê¸°ë•Œë¬¸ì— ëª¨ë“  ì •ë³´ë¥¼ ë‹´ì„ ìˆ˜ ì—†ê³ , ì‚¬ìš©ìê°€ ìš”ì²­í• ë²•í•œ ë°ì´í„°ë§Œì„ ë‹´ì•„ì•¼í•œë‹¤. ì´ ë•Œ ì–´ë–»ê²Œ ì‚¬ìš©ìê°€ ìš”ì²­í•  ë²•í•œ ë°ì´í„°ë¥¼ ì •í• ê¹Œ? ì´ëŠ” &lt;code>ê³µê°„ ì§€ì—­ì„±&lt;/code>ê³¼ &lt;code>ì‹œê°„ ì§€ì—­ì„±&lt;/code>ì´ë¼ëŠ” ì¤‘ìš”í•œ ë‘ ê°€ì§€ ì„±ì§ˆì„ ê¸°ë°˜ìœ¼ë¡œ í•œë‹¤.&lt;/p>
&lt;p>ì´ì™¸ì—ë„ íƒœê·¸ë‚˜ ì¶©ëŒ ê°™ì€ ê°œë…ë“¤ì´ ìˆê¸´í•˜ì§€ë§Œ ì‹¤ì œë¡œ ë²¤ì¹˜ë§ˆí‚¹í•´ë³´ê¸°ë„ ì‰½ì§€ ì•Šê³  ë‹¤ì†Œ ì§€ì—½ì ì¸ ë‚´ìš©ì´ë¼ ê°„ë‹¨íˆë§Œ ì •ë¦¬í•´ë³´ë©´ íƒœê·¸ ì—†ì´ ì£¼ì†Œê°’ì„ ëª¨ë“ˆëŸ¬(ë‚˜ë¨¸ì§€)ì—°ì‚°í•´ì„œ cache line indexë¥¼ ê²°ì •í•˜ê³  ê·¸ê²ƒë§Œì„ ì´ìš©í•´ ë°ì´í„°ë¥¼ ì €ì¥í•˜ë©´ í•œ line ë‚´ì— ì €ì¥í•  ì›Œë“œ(Word)ì— ëŒ€í•œ ì¶©ëŒì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤. cache lineì´ 20ê°œì¸ ìºì‹œëŠ” 0ë²ˆì§€ì™€ 20ë²ˆì§€ê°€ ê°™ì€ lineì´ë¯€ë¡œ ì¶©ëŒì´ ë°œìƒí•´ ê³„ì†í•´ì„œ ê°™ì€ lineì— ì„œë¡œì˜ ë°ì´í„°ê°€ ë²ˆê°ˆì•„ ì €ì¥ë  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤. í•˜ì§€ë§Œ íƒœê·¸ë¥¼ ì´ìš©í•˜ë©´ cache line ìˆ˜ëŠ” ì¤„ì–´ë“¤ë”ë¼ë„ í•œ lineë‚´ì— ì—¬ëŸ¬ íƒœê·¸ì˜ ì •ë³´ë¥¼ ì €ì¥í•  ìˆ˜ ìˆê²Œë˜ì–´ cache lineì´ 10ê°œì¸ cacheì˜ í•œ lineì— 0ë²ˆì§€ì™€ 20ë²ˆì§€ì˜ ë°ì´í„°ê°€ ë‹¤ë¥¸ íƒœê·¸ë¡œ ì €ì¥ë˜ì–´ ë¶ˆí•„ìš”í•œ ì¶©ëŒì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ìˆë‹¤. ê°„ë‹¨íˆ ì„¤ëª…í•˜ê¸°ëŠ” í˜ë“  ë‚´ìš©ì´ë¼ ì¢€ ë” ìì„¸íˆ ì•Œê³ ì‹¶ë‹¤ë©´ &lt;code>Direct mapped cache&lt;/code>ë‚˜ &lt;code>Fully associative cache&lt;/code> ë“±ìœ¼ë¡œ ê²€ìƒ‰í•´ë³´ê¸°ë¥¼ ê¶Œì¥í•œë‹¤.&lt;/p>
&lt;h2 id="spatial-locality">Spatial locality&lt;/h2>
&lt;p>&lt;code>Spatial locality(ê³µê°„ ì§€ì—­ì„±)&lt;/code>ì´ë€ ì§€ê¸ˆ &lt;strong>ìš”ì²­ ë°›ì€ ë°ì´í„°ì™€&lt;/strong> &lt;strong>ê°€ê¹Œìš´ ê³³ì— ìœ„ì¹˜í•œ ë°ì´í„°ëŠ” ë†’ì€ í™•ë¥ ë¡œ ë‹¤ì‹œ ìš”ì²­ ë°›ê²Œ ëœë‹¤&lt;/strong>ëŠ” ì„±ì§ˆì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ 100ë²ˆì§€ì˜ a=10ê³¼ 108ë²ˆì§€ì˜ b=20ì´ ì¡´ì¬í•  ë•Œ ë³€ìˆ˜ aë¥¼ ìš”ì²­í•˜ë©´ ì´í›„ aì™€ ê°€ê¹Œìš´ ì£¼ì†Œì— ì €ì¥ëœ b ë˜í•œ ë†’ì€ í™•ë¥ ë¡œ ìš”ì²­ëœë‹¤ëŠ” ê²ƒì´ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">a&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">20&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">c&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">30&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;a: %p\nb: %p\nc: %p\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">c&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">Output:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">a: 0xc000100010
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">b: 0xc000100018
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">c: 0xc000100020
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">*/&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>a, b, cì˜ í¬ê¸°ëŠ” 8ë°”ì´íŠ¸ë¡œ ì£¼ì†Œê°’ ë˜í•œ 8ë°”ì´íŠ¸ê°€ ì°¨ì´ë‚œë‹¤. (16ì§„ë²•ì´ê¸°ì— 20ê³¼ 18ì˜ ì°¨ì´ëŠ” 8ì´ë‹¤.) ì¦‰ ëŒ€ì²´ë¡œ &lt;strong>ë¹„ìŠ·í•œ ì‹œê¸°ì— í• ë‹¹ëœ ë³€ìˆ˜ëŠ” ê·¼ì ‘í•œ ë©”ëª¨ë¦¬ ì£¼ì†Œ&lt;/strong>ë¥¼ ê°–ê²Œ ëœë‹¤. ìš°ë¦¬ëŠ” ë¹„ìŠ·í•œ ì‹œê¸°ì— í• ë‹¹í•œ ë³€ìˆ˜ í˜¹ì€ ì—°ì†ëœ ë°°ì—´ ìš”ì†Œì— ìì£¼ ë¹ ë¥¸ ì‹œì¼ ë‚´ì— ì ‘ê·¼ì„ í•˜ì§€ ë§¨ ìœ„ì—ì„œ ì„ ì–¸í•œ ë³€ìˆ˜ì™€ ì € ë©€ë¦¬ ë§¨ ë°‘ì—ì„œ ì„ ì–¸í•œ ë³€ìˆ˜ë¥¼ ë§ˆêµ¬ì¡ì´ë¡œ ì™”ë‹¤ ê°”ë‹¤ í•˜ë©´ì„œ ì‘ì—…ì„ í•˜ì§€ ì•ŠëŠ” í¸ì´ê¸° ë•Œë¬¸ì— ê³µê°„ ì§€ì—­ì„±ì„ ê·¼ê±°ë¡œí•œ ìºì‹œê°€ íš¨ë ¥ì„ ê°–ê²Œ ëœë‹¤. ë§Œì•½ ê³µê°„ì ìœ¼ë¡œ ë¨¼ ë§¨ ìœ„ì˜ ë³€ìˆ˜ì™€ ë§¨ ì•„ë˜ì˜ ë³€ìˆ˜ë¥¼ ìì£¼ ë²ˆê°ˆì•„ê°€ë©° ì ‘ê·¼í•œë‹¤ë©´ ê·¸ê²ƒì€ ì‹œê°„ì§€ì—­ì„±ì„ ë„ëŠ” ê²½ìš°ì´ë‹¤.&lt;/p>
&lt;h2 id="temporal-locality">Temporal locality&lt;/h2>
&lt;p>&lt;code>Temporal locality(ì‹œê°„ ì§€ì—­ì„±)&lt;/code>ì´ë€ &lt;strong>ìµœê·¼ì— ìš”ì²­í–ˆë˜ ë°ì´í„°ëŠ” ë†’ì€ í™•ë¥ ë¡œ ë‹¤ì‹œ ìš”ì²­ ë°›ê²Œ ëœë‹¤&lt;/strong>ëŠ” ì„±ì§ˆì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ 100ë²ˆì§€ì˜ a=10ê³¼ 9999ë²ˆì§€ì˜ b=20ì€ ì„œë¡œ ì£¼ì†Œì ì¸ ê±°ë¦¬ëŠ” ë©€ì§€ë§Œ ë‘˜ ë‹¤ ìµœê·¼ì— í˜¸ì¶œëë‹¤ë©´ ìºì‹œì— ì ì¬í•˜ê² ë‹¤ëŠ” ê²ƒì´ë‹¤. ìºì‹œëŠ” ì£¼ë¡œ ì§ì‚¬ê°í˜• í˜•íƒœë¡œ ìƒê²¼ìœ¼ë©° &lt;strong>ê°€ë¡œ(í–‰)ëŠ” ì—°ì†ëœ ì£¼ì†Œì˜ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê³µê°„ ì§€ì—­ì„±, ì„¸ë¡œ(ì—´)ëŠ” ìµœê·¼ì— í˜¸ì¶œëœ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ì‹œê°„ ì§€ì—­ì„±&lt;/strong>ì„ ë‹´ë‹¹í•œë‹¤.&lt;/p>
&lt;h2 id="ë‘-ì§€ì—­ì„±-ë¹„êµ">ë‘ ì§€ì—­ì„± ë¹„êµ&lt;/h2>
&lt;p>12ì¹¸ì˜ ìºì‹œê°€ ìˆë‹¤ê³  ê°€ì •í•˜ì. ê°€ë¡œë¡œ 4ì¹¸ ì„¸ë¡œë¡œ 3ì¹¸ ì¡´ì¬í•œë‹¤ë©´ ê³µê°„/ì‹œê°„ ì§€ì—­ì„±ì˜ ê· í˜•ì´ ì¡íŒ ìºì‹œë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.(ê²½ìš°ì— ë”°ë¼ ë‹¤ë¥´ê² ì§€ë§Œ)&lt;/p>
&lt;p>&lt;figure style="flex-grow: 579; flex-basis: 1390px">
&lt;a href="https://umi0410.github.io/blog/golang/go-cpu-cache/balanced-cache.png" data-size="620x107">&lt;img src="https://umi0410.github.io/blog/golang/go-cpu-cache/balanced-cache.png"
srcset="https://umi0410.github.io/blog/golang/go-cpu-cache/balanced-cache_hu49d8d624edd0378535d64f9a5c47e767_8216_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-cpu-cache/balanced-cache_hu49d8d624edd0378535d64f9a5c47e767_8216_1024x0_resize_box_3.png 1024w"
width="620"
height="107"
loading="lazy"
alt="balanced-cache.png">
&lt;/a>
&lt;figcaption>balanced-cache.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ì‹œê°„ ì§€ì—­ì„±ì€ ìµœê·¼ ë¶ˆë¦° ë°ì´í„°ëŠ” ë‹¤ì‹œ ë¶ˆë¦´ í™•ë¥ ì´ ë†’ë‹¤ëŠ” ê²ƒì´ê³  ì´ëŠ” ì—°ì†ëœ ê³µê°„ì´ ì•„ë‹Œ ë‹¤ì–‘í•œ ê³µê°„(ì£¼ì†Œ)ì˜ ë°ì´í„°ë¥¼ ìºì‹œì— ì €ì¥í•œë‹¤ëŠ” ë§ì´ê¸°ë„ í•˜ë‹¤. 0ë²ˆì§€ ë¶€ê·¼, 16ë²ˆì§€ ë¶€ê·¼, 24ë²ˆì§€ ë¶€ê·¼ì˜ ë‹¤ì–‘í•œ ê³µê°„ì˜ ë°ì´í„°ë¥¼ ì €ì¥í•  ìˆ˜ ìˆìœ¼ë©´ì„œ ê·¸ ë…€ì„ë“¤ê°„ì˜ ì£¼ë³€ ë°ì´í„°ë„ ì œê³µí•˜ëŠ” ê³µê°„ì§€ì—­ì„±ë„ ë§Œì¡±í•œë‹¤.&lt;/p>
&lt;p>ë‘ ê°€ì§€ ì§€ì—­ì„±ì— ì˜í•´ ë‹¤ì–‘í•œ ìºì‹œë“¤ì´ ë°ì´í„°ë¥¼ ì ì¬í•˜ê³  ì œê³µí•œë‹¤. ìš”ì ì€ ìºì‹œëŠ” ë¹ ë¥´ê²Œ ë™ì‘í•´ì•¼í•˜ê³  ê·¸ëŸ¬ê¸° ìœ„í•´ì„  í¬ê¸°ê°€ ì‘ê³  ê°€ê¹Œì›Œì•¼í•˜ë©° í¬ê¸°ê°€ ì‘ê¸° ë•Œë¬¸ì— ëª¨ë“  ë°ì´í„°ë¥¼ ë‹´ì„ ìˆ˜ ì—†ìœ¼ë‹ˆ ì•Œì§œ ë°ì´í„°ë§Œì„ ë‹´ì•„ì•¼í•˜ëŠ”ë° ê·¸ ì•Œì§œëŠ” ì§€ì—­ì„±ì„ ê¸°ë°˜ìœ¼ë¡œ ì„ ë³„ëœë‹¤ëŠ” ê²ƒì´ë‹¤. í¬ê¸°ê°€ í•œì •ì ì´ê¸° ë•Œë¬¸ì— í•œ ì§€ì—­ì„±ì„ í‚¤ìš°ë©´ í•œ ì§€ì—­ì„±ì€ ì‘ì•„ì§ˆ ìˆ˜ë°–ì— ì—†ë‹¤.&lt;/p>
&lt;h3 id="ê³µê°„-ì§€ì—­ì„±ì—-ì¹˜ìš°ì¹œ-ìºì‹œ-êµ¬ì¡°">ê³µê°„ ì§€ì—­ì„±ì— ì¹˜ìš°ì¹œ ìºì‹œ êµ¬ì¡°&lt;/h3>
&lt;p>&lt;figure style="flex-grow: 845; flex-basis: 2029px">
&lt;a href="https://umi0410.github.io/blog/golang/go-cpu-cache/spatial-locality-biased-cache.png" data-size="930x110">&lt;img src="https://umi0410.github.io/blog/golang/go-cpu-cache/spatial-locality-biased-cache.png"
srcset="https://umi0410.github.io/blog/golang/go-cpu-cache/spatial-locality-biased-cache_hu038761de6193f1262a5c02c2aef3a97f_10262_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-cpu-cache/spatial-locality-biased-cache_hu038761de6193f1262a5c02c2aef3a97f_10262_1024x0_resize_box_3.png 1024w"
width="930"
height="110"
loading="lazy"
alt="spatial-locality-biased-cache.png">
&lt;/a>
&lt;figcaption>spatial-locality-biased-cache.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>í•œì •ëœ í¬ê¸°ì˜ ìºì‹œ ì†ì—ì„œ ê³µê°„ì§€ì—­ì„±ì„ ê·¹ëŒ€í™”ì‹œì¼œë²„ë¦¬ë©´ ë‹¹ì—°íˆ ì¸ì ‘í•œ ê³µê°„ì˜ ìë£Œë§Œ ì´ìš©í•  ìˆ˜ ìˆê³ , ìµœê·¼ì— ë¶ˆë¦° ë°ì´í„°ë“¤ì€ ì•ˆì¤‘ì—ë„ ì—†ê³  ì¸ì ‘í•œ ê³µê°„ì˜ ë°ì´í„°ë§Œì„ ì €ì¥í•˜ê²Œ ëœë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒê³¼ ê°™ì€ ì‹œê°„ ì§€ì—­ì„±ì´ í•„ìš”í•œ ê²½ìš°ì— ì œëŒ€ë¡œ ê¸°ëŠ¥ì„ í•  ìˆ˜ ì—†ë‹¤.&lt;/p>
&lt;ol>
&lt;li>0~11ë²ˆì§€ ì‚¬ì´ì˜ ë°ì´í„°ê°€ í•œ ë²ˆ ì ‘ê·¼ â‡’ ìºì‹œì— 0~11ë²ˆì§€ ì ì¬&lt;/li>
&lt;li>ì´í›„ 12ë²ˆì§€ì˜ ë°ì´í„°ì— ì ‘ê·¼ â‡’ ìºì‹œì— ë°ì´í„°ê°€ ì—†ê¸°ë•Œë¬¸ì— 0~11ë²ˆì§€ì˜ ë°ì´í„° ëŒ€ì‹  12~23ë²ˆì§€ì˜ ë°ì´í„°ë¥¼ ìºì‹œì— ì ì¬&lt;/li>
&lt;li>ë‹¤ì‹œ ìµœê·¼ì— ì ‘ê·¼í–ˆë˜ ë°ì´í„°ì¸ 0ë²ˆì§€ì˜ ë°ì´í„°ì— ì ‘ê·¼ ì‹œë„
â‡’ 0ë²ˆ ë°ì´í„°ëŠ” ìµœê·¼ì— ì ‘ê·¼í–ˆë˜ ë°ì´í„°ì„ì—ë„ ì‹œê°„ ì§€ì—­ì„±ì´ í™œìš©ë˜ì§€ ëª»í•¨
â‡’ ìºì‹œì—ì„œ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ.&lt;/li>
&lt;/ol>
&lt;h3 id="ì‹œê°„-ì§€ì—­ì„±ì—-ì¹˜ìš°ì¹œ-ìºì‹œ-êµ¬ì¡°">ì‹œê°„ ì§€ì—­ì„±ì— ì¹˜ìš°ì¹œ ìºì‹œ êµ¬ì¡°&lt;/h3>
&lt;p>&lt;figure style="flex-grow: 154; flex-basis: 370px">
&lt;a href="https://umi0410.github.io/blog/golang/go-cpu-cache/temporal-locality-biased-cache.png" data-size="312x202">&lt;img src="https://umi0410.github.io/blog/golang/go-cpu-cache/temporal-locality-biased-cache.png"
srcset="https://umi0410.github.io/blog/golang/go-cpu-cache/temporal-locality-biased-cache_hu5d03129976ee7a9e19515a8e72953e35_8599_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-cpu-cache/temporal-locality-biased-cache_hu5d03129976ee7a9e19515a8e72953e35_8599_1024x0_resize_box_3.png 1024w"
width="312"
height="202"
loading="lazy"
alt="temporal-locality-biased-cache.png">
&lt;/a>
&lt;figcaption>temporal-locality-biased-cache.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ìœ„ì˜ ê²½ìš° ìµœê·¼ì— í˜¸ì¶œëœ ë‹¤ì–‘í•œ ì£¼ì†Œì˜ ë°ì´í„°ë“¤ì„ ìºì‹œì— ì €ì¥í•´ì¤€ë‹¤. í•˜ì§€ë§Œ ìºì‹œì˜ í¬ê¸°ëŠ” í•œì •ë˜ì–´ìˆê¸° ë•Œë¬¸ì— ì„¸ë¡œê°€ ê¸¸ì–´ì§€ë©´ ê°€ë¡œëŠ” ì§§ì•„ì§„ë‹¤. ì¦‰ ìµœê·¼ ì ‘ê·¼ì„ ì‹œë„í•œ ë‹¤ì–‘í•œ ì£¼ì†Œì˜ ë°ì´í„°ë¥¼ ì €ì¥í•  ìˆ˜ ìˆì§€ë§Œ ê·¸ ë°ì´í„°ì˜ ì¸ê·¼ ë°ì´í„°ì— ëŒ€í•œ ì €ì¥ì€ ë§ì´ í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì´ë‹¤.&lt;/p>
&lt;p>ì˜ˆë¥¼ ë“¤ì–´ ìœ„ì˜ ê·¸ë¦¼ê³¼ ê°™ì€ ê²½ìš° ìµœê·¼ 0, 3, 12, 18, 6, 20ë²ˆì§€ì˜ ë°ì´í„°ì— ì ‘ê·¼í–ˆê³  ì´í›„ì—ë„ í•´ë‹¹ ë²ˆì§€ì— ëŒ€í•œ ë°ì´í„°ë¥¼ ìºì‹œë¥¼ í†µí•´ ì´ìš©í•  ìˆ˜ ìˆë‹¤. ë°”ë¡œ ë‚´ê°€ ìµœê·¼ì— ì ‘ê·¼í–ˆë˜ ë°ì´í„°ì´ê¸°ë•Œë¬¸ì´ë‹¤. í•˜ì§€ë§Œ ë§Œì•½ 18ë²ˆì§€ì˜ ë°ì´í„°ì— ì ‘ê·¼í•œ ê²½ìš° ë†’ì€ í™•ë¥ ë¡œ ê³µê°„ì§€ì—­ì„±ì— ì˜ê±° 19, 20, 21, &amp;hellip; ë²ˆì§€ì˜ ë°ì´í„°ì— ì ‘ê·¼í•˜ê² ì§€ë§Œ, ì´ ì˜ˆì‹œëŠ” ì‹œê°„ì§€ì—­ì„±ì— ì¹˜ìš°ì³ì ¸ 19ë²ˆì§€ì˜ ë°ì´í„°ë§Œì„ ìºì‹œì—ì„œ ì œê³µë°›ì„ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;h2 id="í”„ë¡œê·¸ë¨ì„-í†µí•œ-ë²¤ì¹˜ë§ˆí‚¹">í”„ë¡œê·¸ë¨ì„ í†µí•œ ë²¤ì¹˜ë§ˆí‚¹&lt;/h2>
&lt;p>ì €ë²ˆì— Mutex, Semaphoreë¥¼ ì§ì ‘ ë²¤ì¹˜ë§ˆí‚¹í•´ë³´ë©´ì„œ Goì˜ ë‚´ì¥ ë²¤ì¹˜ë§ˆí¬ ê¸°ëŠ¥ì„ ì´ìš©í•˜ë©´ ì¢€ ë” í¸ë¦¬í•˜ê²Œ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆì„ ê²ƒ ê°™ì•˜ê¸°ì— ì´ë²ˆì— Goì˜ ë‚´ì¥ ë²¤ì¹˜ë§ˆí¬ ê¸°ëŠ¥ì„ ì´ìš©í•´ë´¤ë‹¤.&lt;/p>
&lt;p>&lt;strong>1000í–‰ 1000ì—´ì˜ 2ì°¨ì› intí˜• ë°°ì—´ì˜ ì–´ë– í•œ ìš”ì†Œì— ì ‘ê·¼í•´ì„œ +1 í•˜ëŠ” ì‘ì—…ì„ 1000íšŒ ìˆ˜í–‰í•˜ëŠ” ê²ƒì„ í•˜ë‚˜ì˜ ì‹¸ì´í´ë¡œ í•˜ëŠ” ë²¤ì¹˜ë§ˆí¬&lt;/strong>ë¥¼ ì‘ì„±í–ˆë‹¤. 2ì°¨ì› ë°°ì—´ì€ ê°€ë¡œë¡œëŠ” ì—°ì†ì ì¸ ì£¼ì†Œê°’ì„ ê°–ê¸°ì— ê³µê°„ ì§€ì—­ì„±ì„ í™œìš©í•  ìˆ˜ ìˆì§€ë§Œ ì„¸ë¡œë¡œëŠ” N * (intí˜• ìë£Œí˜•ì˜ í¬ê¸°)ì”© ì°¨ì´ ë‚˜ëŠ” ì£¼ì†Œê°’ì„ ê°–ê¸° ë•Œë¬¸ì— ê³µê°„ ì§€ì—­ì„±ì„ í™œìš©í•˜ê¸° í˜ë“¤ê³ , ìµœê·¼ ì ‘ê·¼í–ˆë˜ ì£¼ì†Œë¼ë©´ ì‹œê°„ ì§€ì—­ì„±ì€ í™œìš©í•  ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>&lt;strong>ê³µê°„ ì§€ì—­ì„±&lt;/strong> (ê°€ë¡œë¡œ ì—°ì†ì ì¸ ë°ì´í„°)&lt;/p>
&lt;ul>
&lt;li>ê³µê°„ ì§€ì—­ì„±ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ê°€ë¡œë¡œ ì—°ì†ëœ ìš”ì†Œì— ì ‘ê·¼. ì¦‰ ì—°ì†ëœ ì£¼ì†Œë¥¼ ê°–ëŠ” 1000ê°œì˜ ìš”ì†Œì— ì ‘ê·¼&lt;/li>
&lt;li>ê³µê°„ ì§€ì—­ì„±ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì—ëŠ” ì„¸ë¡œë¡œ ìš”ì†Œì— ì ‘ê·¼. ì¦‰ 1000 * int ìë£Œí˜•ì˜ í¬ê¸°ë§Œí¼ ì°¨ì´ë‚˜ëŠ” ì—°ì†ë˜ì§€ ì•Šì€ ì£¼ì†Œì˜ 1000ê°œì˜ ìš”ì†Œì— ì ‘ê·¼&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ì‹œê°„ ì§€ì—­ì„±&lt;/strong> (ì—°ì†ì  ì£¼ì†Œì™€ ìƒê´€ì—†ì´ ìµœê·¼ì— ë¶ˆë¦° ë°ì´í„°)&lt;/p>
&lt;ul>
&lt;li>ì‹œê°„ ì§€ì—­ì„±ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì£¼ì†Œê°’ì´ ê·¼ì ‘í•˜ì§„ ì•Šì§€ë§Œ 4ê°œ í˜¹ì€ 16ê°œì˜ ë°ì´í„°ì—ë§Œ ê³„ì†í•´ì„œ ì ‘ê·¼&lt;/li>
&lt;li>ì‹œê°„ ì§€ì—­ì„±ì„ ì‚¬ìš©í•˜ì§€ ì•Šì€ ê²½ìš°ì—ëŠ” ê³„ì†í•´ì„œ ì²˜ìŒ ì ‘ê·¼í•˜ëŠ” ë°ì´í„°ì—ë§Œ ì ‘ê·¼&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;testing&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Size&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">1000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">generateArray&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">[][]&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">arr&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">make&lt;/span>&lt;span class="p">([][]&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Size&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">Size&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">make&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Size&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">j&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">j&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">Size&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="nx">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">arr&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">BenchmarkSpatialLocality&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">B&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ê³µê°„ì§€ì—­ì„± ì‚¬ìš©&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">B&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">arr&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">generateArray&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ResetTimer&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">n&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">n&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">N&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">n&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">Size&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ê³µê°„ì§€ì—­ì„± X&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">B&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">arr&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">generateArray&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ResetTimer&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">n&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">n&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">N&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">n&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">Size&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">BenchmarkTemporalLocality&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">B&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ì‹œê°„ ì§€ì—­ì„± ì ê·¹ ì‚¬ìš©. ìµœê·¼ ì ‘ê·¼í•œ ë°ì´í„° 4ê°œ.&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">B&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">arr&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">generateArray&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ResetTimer&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">n&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">n&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">N&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">n&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">Size&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ì‹œê°„ ì§€ì—­ì„± ì¡°ê¸ˆ ì‚¬ìš©. ìµœê·¼ ì ‘ê·¼í•œ ë°ì´í„° 16ê°œ.&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">B&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">arr&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">generateArray&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ResetTimer&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">n&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">n&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">N&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">n&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">Size&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="mi">16&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ì‚¬ì‹¤ ì™„ë²½í•˜ê²Œ ìƒˆë¡œìš´ ë°ì´í„°ëŠ” ì•„ë‹˜. ë²¤ì¹˜ë§ˆí‚¹í•˜ëŠ” ë™ì•ˆ ê³„ì†í•´ì„œ ë°˜ë³µë˜ê¸° ë•Œë¬¸ì—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ì‹œê°„ ì§€ì—­ì„± X. ìƒˆë¡œìš´ ë°ì´í„°ì—ë§Œ ì ‘ê·¼.&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">B&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">arr&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">generateArray&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ResetTimer&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">n&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">n&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">N&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">n&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">Size&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">goos&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">linux&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">goarch&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">amd64&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">pkg&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">playground&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">unix&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">socket&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">cache&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">BenchmarkSpatialLocality&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="err">ê³µê°„ì§€ì—­ì„±&lt;/span>&lt;span class="nx">_&lt;/span>&lt;span class="err">ì‚¬ìš©&lt;/span> &lt;span class="mi">50000&lt;/span> &lt;span class="mi">894&lt;/span> &lt;span class="nx">ns&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">op&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">BenchmarkSpatialLocality&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="err">ê³µê°„ì§€ì—­ì„±&lt;/span>&lt;span class="nx">_X&lt;/span> &lt;span class="mi">50000&lt;/span> &lt;span class="mi">6561&lt;/span> &lt;span class="nx">ns&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">op&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">BenchmarkTemporalLocality&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="err">ì‹œê°„&lt;/span>&lt;span class="nx">_&lt;/span>&lt;span class="err">ì§€ì—­ì„±&lt;/span>&lt;span class="nx">_&lt;/span>&lt;span class="err">ì ê·¹&lt;/span>&lt;span class="nx">_&lt;/span>&lt;span class="err">ì‚¬ìš©&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">_&lt;/span>&lt;span class="err">ìµœê·¼&lt;/span>&lt;span class="nx">_&lt;/span>&lt;span class="err">ì ‘ê·¼í•œ&lt;/span>&lt;span class="nx">_&lt;/span>&lt;span class="err">ë°ì´í„°&lt;/span>&lt;span class="nx">_4&lt;/span>&lt;span class="err">ê°œ&lt;/span>&lt;span class="p">.&lt;/span> &lt;span class="mi">50000&lt;/span> &lt;span class="mi">1918&lt;/span> &lt;span class="nx">ns&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">op&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">BenchmarkTemporalLocality&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="err">ì‹œê°„&lt;/span>&lt;span class="nx">_&lt;/span>&lt;span class="err">ì§€ì—­ì„±&lt;/span>&lt;span class="nx">_&lt;/span>&lt;span class="err">ì¡°ê¸ˆ&lt;/span>&lt;span class="nx">_&lt;/span>&lt;span class="err">ì‚¬ìš©&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">_&lt;/span>&lt;span class="err">ìµœê·¼&lt;/span>&lt;span class="nx">_&lt;/span>&lt;span class="err">ì ‘ê·¼í•œ&lt;/span>&lt;span class="nx">_&lt;/span>&lt;span class="err">ë°ì´í„°&lt;/span>&lt;span class="nx">_16&lt;/span>&lt;span class="err">ê°œ&lt;/span>&lt;span class="p">.&lt;/span> &lt;span class="mi">50000&lt;/span> &lt;span class="mi">4153&lt;/span> &lt;span class="nx">ns&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">op&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">BenchmarkTemporalLocality&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="err">ì‹œê°„&lt;/span>&lt;span class="nx">_&lt;/span>&lt;span class="err">ì§€ì—­ì„±&lt;/span>&lt;span class="nx">_X&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">_&lt;/span>&lt;span class="err">ìƒˆë¡œìš´&lt;/span>&lt;span class="nx">_&lt;/span>&lt;span class="err">ë°ì´í„°ì—ë§Œ&lt;/span>&lt;span class="nx">_&lt;/span>&lt;span class="err">ì ‘ê·¼&lt;/span>&lt;span class="p">.&lt;/span> &lt;span class="mi">50000&lt;/span> &lt;span class="mi">6564&lt;/span> &lt;span class="nx">ns&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">op&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ê²°ê³¼ë¥¼ í™•ì¸í•´ë³´ë‹ˆ ê°„ë‹¨í•œ ë°°ì—´ ë‚´ì˜ ìš”ì†Œë“¤ì— ëŒ€í•œ ì—°ì‚°ì¸ë°ë„ ê½¤ë‚˜ ì°¨ì´ê°€ ì»¸ë‹¤.&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>ì €ë²ˆ í•™ê¸°ì— ì»´í“¨í„° êµ¬ì¡°ë¥¼ ìˆ˜ê°•í•˜ë©´ì„œ CPU-Memory ìºì‹œì˜ íš¨ê³¼ë¥¼ ì§ì ‘ ë°°ì—´ì— ëŒ€í•œ í”„ë¡œê·¸ë¨ì„ í†µí•´ ë³´ì—¬ì£¼ëŠ” ì˜ˆì‹œë¥¼ ë³´ê³  ì‹ ê¸°í–ˆë˜ ê¸°ì–µì´ ìˆì–´ì„œ ì´ë ‡ê²Œ ë²¤ì¹˜ë§ˆí‚¹ í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•´ë´¤ë‹¤. ë‹¤ë¥¸ CS ì£¼ìš” ì§€ì‹ë“¤ì— ë¹„í•´ ì–´ë ¤ìš¸ ê²ƒì€ ì—†ëŠ” í¸ì´ê³  ìš°ë¦¬ê°€ ì‰½ê²Œ ì ‘í•´ì˜¤ë˜ ë‚´ìš©ì´ë¼ ë” ì´í•´í•˜ê¸° ì‰½ì§€ ì•Šì•˜ì„ê¹Œ ì‹¶ë‹¤.&lt;/p>
&lt;h2 id="ì°¸ê³ ">ì°¸ê³ &lt;/h2>
&lt;ul>
&lt;li>ìºì‹œë€ - &lt;a class="link" href="https://ko.wikipedia.org/wiki/%EC%BA%90%EC%8B%9C" target="_blank" rel="noopener"
>https://ko.wikipedia.org/wiki/ìºì‹œ&lt;/a>&lt;/li>
&lt;li>ìºì‹œê°€ ë™ì‘í•˜ëŠ” ì•„ì£¼ êµ¬ì²´ì ì¸ ì›ë¦¬ - &lt;a class="link" href="https://parksb.github.io/article/29.html" target="_blank" rel="noopener"
>https://parksb.github.io/article/29.html&lt;/a>&lt;/li>
&lt;li>cache mapping - &lt;a class="link" href="https://m.blog.naver.com/jkssleeky/220478400046" target="_blank" rel="noopener"
>https://m.blog.naver.com/jkssleeky/220478400046&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Go ì–¸ì–´ë¡œ ì ìš©í•´ë³´ëŠ” Computer Science - Concurrency vs Parallelism</title><link>https://umi0410.github.io/blog/golang/go-concurrency-vs-parallelism/</link><pubDate>Thu, 04 Feb 2021 12:46:54 +0900</pubDate><guid>https://umi0410.github.io/blog/golang/go-concurrency-vs-parallelism/</guid><description>&lt;img src="https://umi0410.github.io/blog/golang/go-concurrency-vs-parallelism/concurrency-vs-parallelism.jpg" alt="Featured image of post Go ì–¸ì–´ë¡œ ì ìš©í•´ë³´ëŠ” Computer Science - Concurrency vs Parallelism" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>&lt;code>Go&lt;/code> ì–¸ì–´ë¥¼ ì²˜ìŒ ë°°ìš¸ ë•Œ &lt;code>channel&lt;/code>ì´ë‚˜ &lt;code>goroutine&lt;/code>ì— ëŒ€í•´ ë°°ìš°ë©´ì„œ &lt;code>Concurrency&lt;/code> ì¦‰ &lt;code>ë™ì‹œì„±&lt;/code>ìœ¼ë¡œ ì¸í•´ ë§ì´ í˜ë“¤ì—ˆë˜ ê¸°ì–µì´ ë‚œë‹¤. &amp;lsquo;&lt;em>ë™ì‹œì„±ê³¼ ë³‘ë ¬ì„±ì´ ë„ëŒ€ì²´ ë­ê°€ ë‹¤ë¥´ë‹¤ëŠ” ê²ƒì´ëƒ..!&lt;/em>&amp;rsquo; Rob Pike ì•„ì €ì”¨ê°€ ë™ì‹œì„±ì— ê´€í•´ í–ˆë˜ ì„¸ë¯¸ë‚˜ ì˜ìƒë“¤ì„ ë³´ë©° ê°™ì´ ìŠ¤í„°ë”” í•˜ë˜ ë©¤ë²„ë“¤ê³¼ ë©˜ë¶•ì— ë¹ ì§€ê¸°ë„ í–ˆê³ , ì´ëŸ° ì €ëŸ° ì˜ê²¬ êµë¥˜ë„ í–ˆë‹¤ê°€ ë©°ì¹  ì§€ë‚˜ê³  ë³´ë©´ ë‹¤ì‹œ ë³‘ë ¬ì„±ê³¼ í—·ê°ˆë¦¬ê³ , ì œëŒ€ë¡œ ëœ í•œê¸€ ìë£ŒëŠ” ì°¾ê¸° í˜ë“¤ì—ˆë‹¤. &amp;lsquo;&lt;em>ë™ì‹œì„±ì€ ì‚¬ëŒì´ ëŠë¼ê¸°ì— ë™ì‹œì²˜ëŸ¼ ëŠê»´ì§€ëŠ” ê²ƒì´ê³  ë³‘ë ¬ì„±ì€ ì‹¤ì œë¡œ ë™ì‹œì ì¸ ì‹œì ì— ëŒ€í•œ ê²ƒì´ë‹¤.&lt;/em>&amp;rsquo; ë¼ëŠ” ë‚´ìš©ì´ ë§ì•˜ì§€ë§Œ ì™€ë‹¿ì§€ëŠ” ì•Šì•˜ë‹¤.&lt;/p>
&lt;p>ê·¸ë¦¬ê³  ì´ë²ˆì— ë‹¤ë¤„ë³¼ ë™ì‹œì„±ì€ ì£¼ë¡œ &amp;ldquo;&lt;strong>ì œì–´&lt;/strong>&amp;ldquo;ë¼ëŠ” ë‹¨ì–´ì™€ í•¨ê»˜ ì–¸ê¸‰ë˜ëŠ” &amp;ldquo;&lt;strong>ë™ì‹œì„± ì œì–´&lt;/strong>&amp;ldquo;ì—ì„œì˜ ë™ì‹œì„±ì´ë‚˜ Concurrencyì™€ëŠ” ì¡°ê¸ˆ ë‹¤ë¥¸ ì˜ë¯¸ë¥¼ ê°–ëŠ”ë‹¤ê³  ìƒê°í•œë‹¤. ë™ì‹œì„± ì œì–´ì—ì„œì˜ ë™ì‹œì„±ì€ ê·¸ëƒ¥ ë™ì‹œì— ë¬´ì–¸ê°€ì— ì ‘ê·¼í•˜ëŠ” ê²ƒì„ ì–´ë–»ê²Œ ì œì–´í•˜ê±°ë‚˜ ë§‰ê² ëƒëŠ” ì˜ë¯¸ì¼ ë¿ì´ì§€ë§Œ ë™ì‹œì„±-ë³‘ë ¬ì„±ì—ì„œì˜ ë™ì‹œì„±ì€ ì–´ë–»ê²Œ ì‘ì—…ë“¤ì´ ë™ì‹œì— ìˆ˜í–‰ë˜ëŠëƒì— ì´ˆì ì„ ë§ì¶”ëŠ” ëŠë‚Œì´ê¸° ë•Œë¬¸ì´ë‹¤.&lt;/p>
&lt;ul>
&lt;li>ë™ì‹œì„± ì œì–´ì˜ ì˜ˆì‹œ - ì—¬ëŸ¬ clientê°€ í•˜ë‚˜ì˜ db rowì— accessí•  ë•Œ ì–´ë–»ê²Œ ì œì–´í•  ê²ƒì¸ê°€&lt;/li>
&lt;li>ì´ë²ˆì— ë‹¤ë£° ë™ì‹œì„±ì˜ ì˜ˆì‹œ - ì–´ë–¤ ì‘ì—…ì„ ë™ì‹œì„±ì„ ì´ìš©í•´ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ ì¢‹ì„ê¹Œ ë³‘ë ¬ì„±ì„ ì´ìš©í•´ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ ì¢‹ì„ê¹Œ&lt;/li>
&lt;/ul>
&lt;p>&lt;code>Golang&lt;/code>ì„ ì²˜ìŒ ì ‘í•œ ì§€ ë²Œ ì¨ ë°˜ë…„ì´ ë„˜ì€ ê²ƒ ê°™ë‹¤. ì²˜ìŒ í•œ 4ê°œì›” ê°€ëŸ‰ì€ ê±°ì˜ ë¨¸ë¦¿ ì†ì— ì•„ë¥¸ê±°ë¦¬ëŠ” ë¬¼ìŒí‘œ ê°™ì€ ë‚´ìš©ì´ì—ˆëŠ”ë°, ê¾¸ì¤€íˆ ê³µë¶€í•˜ë‹¤ë³´ë‹ˆ ì¡°ê¸ˆ ì•Œ ê²ƒ ê°™ë‹¤. ì´ë²ˆ ê¸€ì—ì„œëŠ” ê·¸ëŸ¬í•œ ë‚´ìš©ì„ ì¶”ìƒì ì¸ ë§ë³´ë‹¨ ì˜ˆì‹œì™€ ì½”ë“œë¡œ ëª…í™•íˆ ì •ë¦¬í•´ë³´ê³ ì í•œë‹¤.&lt;/p>
&lt;h2 id="concurrency-is-not-parallelism">Concurrency is not parallelism&lt;/h2>
&lt;p>ìœ„ì˜ ë¬¸ì¥ì€ ë™ì‹œì„±ê³¼ ë³‘ë ¬ì„±ì— ëŒ€í•´ ì•Œì•„ë³´ë ¤í•˜ë©´ ë§¤ë²ˆ ë³´ê²Œ ë˜ëŠ” ë¬¸ì¥ì¸ë‹¤. ê·¸ë ‡ë‹¤. ë™ì‹œì„±ì€ ë³‘ë ¬ì„±ê³¼ ë‹¤ë¥´ë‹¤. ì´ì— ëŒ€í•´ ì„¤ëª…í•  ë•Œ ì˜ì–´ê¶Œì—ì„œëŠ” ì•„ë˜ì˜ ë‘ ë¬¸ì¥ì´ ìì£¼ ë“±ì¥í•˜ëŠ” ë“¯ í•˜ë‹¤.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;em>Concurrency is about dealing with lots of things at once.&lt;/em>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;em>Parallelism is about doing lots of things at once.&lt;/em>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>í•œ ë²ˆì— dealing withí•˜ëŠ” ê²ƒê³¼ í•œ ë²ˆì— doingí•˜ëŠ” ê²ƒì´ë¼ê³  í•œë‹¤. í•˜ì§€ë§Œ ì˜ ì™€ë‹¿ì§€ ì•ŠëŠ”ë‹¤&amp;hellip; ì•„ë§ˆ ì € ê¸€ì„ ë³´ê³  ì´í•´í•  ìˆ˜ ìˆëŠ” í•œêµ­ì¸ì€ ê·¹íˆ ë“œë¬¼ì§€ ì•Šì„ê¹Œ ì‹¶ë‹¤.&lt;/p>
&lt;h3 id="ì˜ˆì‹œë¡œ-ë³´ëŠ”-ë™ì‹œì„±-vs-ë³‘ë ¬ì„±">ì˜ˆì‹œë¡œ ë³´ëŠ” ë™ì‹œì„± vs ë³‘ë ¬ì„±&lt;/h3>
&lt;p>ë”°ë¼ì„œ ì¢€ ë” ì‰½ê²Œ ì˜ˆì‹œë¡œ ì„¤ëª…í•´ë³´ë ¤ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ &lt;strong>ì‚¬íšŒì  ê±°ë¦¬ ë‘ê¸°ë¡œ ì¸í•´ ìš°ë¦¬ Gopher(ê³ í¼)ê°€ ì¹œêµ¬ë“¤ê³¼ ë– ë‚˜ë ¤ëŠ” ì˜ˆì•½í–ˆë˜ ì—¬í–‰ì´ ì·¨ì†Œë˜ì—ˆê³ , í•­ê³µê¶Œ, í˜¸í…”, ë ŒíŠ¸ì¹´ ì˜ˆì•½ì„ ëª¨ë‘ ì·¨ì†Œí•´ì•¼í•˜ëŠ” ìƒí™©&lt;/strong>ì´ë¼ê³  í•´ë³´ì.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ë™ì‹œì„±&lt;/strong>(Concurrent)ì˜ ì˜ˆì‹œ - ë§Œì•½ ëª¨ë“  ì·¨ì†Œ ì‘ì—…ì´ &lt;strong>ê³ ê°ì„¼í„° 1ëŒ€1 ì±„íŒ…&lt;/strong>ìœ¼ë¡œ ì´ë£¨ì–´ì§€ëŠ” ê²½ìš°. Gopher1 &lt;strong>í˜¼ì ëª¨ë“  ì·¨ì†Œ ì‘ì—…ì„ ë™ì‹œì ìœ¼ë¡œ ìˆ˜í–‰ ê°€ëŠ¥&lt;/strong>
&lt;ul>
&lt;li>Gopher1 í˜¼ì í•­ê³µê¶Œ ì·¨ì†Œ ì‹ ì²­, í˜¸í…”, ë ŒíŠ¸ì¹´ì˜ ê³ ê°ì„¼í„° 1ëŒ€1 ì±„íŒ…ì— ì˜ˆì•½ ì·¨ì†Œ ì‹ ì²­ì„ í•¨&lt;/li>
&lt;li>ìƒë‹´ì‚¬ë¶„ì´ ë‹µì¥ì„ ì£¼ëŠ” ëŒ€ë¡œ ì‘ì—…ì„ ì§„í–‰&lt;/li>
&lt;li>Gopher1 í˜¼ìì„œ ì„¸ ê°œì˜ ì·¨ì†Œ ì‘ì—…ì„ ë™ì‹œì— ì§„í–‰í•˜ëŠ” ì…ˆì´ë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>ë³‘ë ¬ì„±&lt;/strong>(Parallelism)ì˜ ì˜ˆì‹œ - ë§Œì•½ ëª¨ë“  ì·¨ì†Œ ì‘ì—…ì´ &lt;strong>ê³ ê°ì„¼í„° ì „í™” ìƒë‹´&lt;/strong>ìœ¼ë¡œ ì´ë£¨ì–´ ì§€ëŠ” ê²½ìš°. Gopher1 &lt;strong>í˜¼ì ëª¨ë“  ì·¨ì†Œ ì‘ì—…ì„ ë™ì‹œì— ì§„í–‰í•  ìˆ˜ëŠ” ì—†ê³ , Gopher 1, 2, 3ì´ ë³‘ë ¬ì ìœ¼ë¡œ ì§„í–‰í•  ìˆœ ìˆìŒ&lt;/strong>.&lt;/li>
&lt;/ul>
&lt;p>ë’¤ì—ì„œ ì„¤ëª…í•˜ê¸´ í•˜ê² ì§€ë§Œ ì „ìì˜ ê²½ìš°ì—ë§Œ ë™ì‹œì„±ì´ ì¼ì–´ë‚  ìˆ˜ ìˆëŠ” ì´ìœ ëŠ” Gopherê°€ 1ëŒ€1 ì±„íŒ…ìœ¼ë¡œ ì‘ì—…ì„ ì§„í–‰í•  ë•ŒëŠ” í•œê°€í•œ ë°˜ë©´(CPU ì ìœ ìœ¨ì´ ë‚®ê³ , ìƒë‹´ì‚¬ì˜ ë©”ì‹œì§€ë¥¼ ê¸°ë‹¤ë¦¬ëŠë¼ ë§ì€ ë¸”ë½í‚¹ì´ ì¡´ì¬) ì „í™”ë¡œ ì‘ì—…ì„ ì§„í–‰í•  ë•Œì—ëŠ” ì—¬ëŸ¬ ëª…ê³¼ ì „í™”í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ë‹¤.(CPU ì ìœ ìœ¨ì´ ë†’ìŒ.)&lt;/p>
&lt;p>í•­ê³µê¶Œ ì·¨ì†Œ ì „í™” ë„ì¤‘ ì ì‹œ ì§€ì—°ë˜ëŠ” ì‹œê°„ì— ì „í™”ë¥¼ ëŠê³  í˜¸í…” ê³ ê° ì„¼í„°ì— ì „í™”ë¥¼ ê±°ëŠ” ë°©ì‹ìœ¼ë¡œ Gopher1 í˜¼ì Concurrentí•˜ê²Œ ì‘ì—…ì„ ì§„í–‰í•  ìˆ˜ ìˆê² ì§€ë§Œ ì´ ê²½ìš° &lt;strong>ê³„ì†í•´ì„œ ì „í™”ë¥¼ ëŠê³  ë‹¤ì‹œ ê±¸ê³  ìƒí™© ì„¤ëª…ì„ í•˜ëŠ” ë™ì•ˆì— ì§€ì—°ì‹œê°„ì´ ë°œìƒí•´ì„œ íš¨ìœ¨ì´ ì¢‹ì§€ ì•Šë‹¤&lt;/strong>. ì´ ì§€ì—° ì‹œê°„ì„ í•­ê³µê¶Œ ì·¨ì†Œ ì „í™” =&amp;gt; í˜¸í…” ì˜ˆì•½ ì·¨ì†Œ ì „í™”ë¡œì˜ context switch penaltyë¡œ ë³¼ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;h2 id="í”„ë¡œê·¸ë¨ìœ¼ë¡œ-ì•Œì•„ë³´ëŠ”-concurrency-vs-parallelism">í”„ë¡œê·¸ë¨ìœ¼ë¡œ ì•Œì•„ë³´ëŠ” Concurrency vs Parallelism&lt;/h2>
&lt;p>ë™ì‹œì„±ê³¼ ë³‘ë ¬ì„±ì„ ë¹„êµí•˜ëŠ” í•œê¸€ ìë£ŒëŠ” ì°¾ê¸° í˜ë“  í¸ì´ê³ , ì˜ì–´ë¡œ ëœ ìë£ŒëŠ” ê½¤ë‚˜ ë§ì´ ì°¾ì•„ë³¼ ìˆ˜ ìˆì§€ë§Œ, ê·¸ë˜ì„œ &amp;ldquo;ì–¸ì œ&amp;rdquo;, &amp;ldquo;ë¬´ì—‡ì„&amp;rdquo;, &amp;ldquo;ì™œ&amp;rdquo; ì¨ì•¼í•˜ëŠ” ì§€ì— ëŒ€í•œ ë‚´ìš©ì€ ì˜ ì°¾ì•„ë³´ê¸° í˜ë“¤ë‹¤. ê²Œë‹¤ê°€ ê°„í˜¹ Concurrent programmingì˜ ì¥ì ì´ë¼ë©´ì„œ parallelismì„ ì„¤ëª…í•˜ëŠ” ê²½ìš°ë„ ìˆì–´ í˜¼ë€ìŠ¤ëŸ¬ì› ë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 184; flex-basis: 442px">
&lt;a href="https://umi0410.github.io/blog/golang/go-concurrency-vs-parallelism/concurrency-vs-parallelism.jpg" data-size="1845x1000">&lt;img src="https://umi0410.github.io/blog/golang/go-concurrency-vs-parallelism/concurrency-vs-parallelism.jpg"
srcset="https://umi0410.github.io/blog/golang/go-concurrency-vs-parallelism/concurrency-vs-parallelism_hu86023f6654c19803b1eea4e88bc97fcd_191924_480x0_resize_q75_box.jpg 480w, https://umi0410.github.io/blog/golang/go-concurrency-vs-parallelism/concurrency-vs-parallelism_hu86023f6654c19803b1eea4e88bc97fcd_191924_1024x0_resize_q75_box.jpg 1024w"
width="1845"
height="1000"
loading="lazy"
alt="concurrency-vs-parallelism.jpg">
&lt;/a>
&lt;figcaption>concurrency-vs-parallelism.jpg&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;strong>ë™ì‹œì„±&lt;/strong>ì´ë€ í•œ ì‘ì—…ì´ ì™„ë£Œëœ ë’¤ ë‹¤ìŒ ì‘ì—…ì´ ìˆ˜í–‰ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ê³„ì†í•´ì„œ ì ì ˆíˆ switch ë˜ë©° ë™ì‹œì— ì§„í–‰ë˜ì–´ë‚˜ê°€ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ê·¸ ê²°ê³¼ ì¼ì • ê¸°ê°„ë™ì•ˆ ìˆ˜í–‰í•œ ì‘ì—…ë“¤ì— ëŒ€í•´ ë§í•  ë•Œ ê·¸ ì‘ì—…ë“¤ì€ ë™ì‹œì— ìˆ˜í–‰ëë‹¤ê³  í•  ìˆ˜ ìˆê²Œ ëœë‹¤. í•œ ìˆœê°„ì—ëŠ” ì—„ë°€íˆ ë”°ì§€ë©´ í•œ ì‘ì—…ì´ ìˆ˜í–‰ëœë‹¤.&lt;/p>
&lt;p>&lt;strong>ë³‘ë ¬ì„±&lt;/strong>ì´ë€ ì—¬ëŸ¬ ì½”ì–´ì—ì„œ ì‘ì—…ì´ ë³‘ë ¬ì ìœ¼ë¡œ ì§„í–‰ë˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ê·¸ ê²°ê³¼ ì¼ì •í•œ ê¸°ê°„ì´ ì•„ë‹Œ ìˆœê°„ì„ ë†“ê³  ë´¤ì„ ë•Œì—ë„ ì—¬ëŸ¬ ì‘ì—…ì´ ë³‘ë ¬ì ìœ¼ë¡œ ë™ì‹œì— ìˆ˜í–‰ë˜ê²Œ ëœë‹¤.&lt;/p>
&lt;p>ì½”ì–´ ìˆ˜ ë³´ë‹¤ ë§ì€ ìŠ¤ë ˆë“œê°€ ì´ìš©ë  ê²½ìš°ëŠ” ë™ì‹œì„±ê³¼ ë³‘ë ¬ì„±ì´ í•¨ê»˜ ì´ìš©ëœë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. ì¦‰ ì—¬ëŸ¬ ìŠ¤ë ˆë“œì— ê±¸ì³ ì—¬ëŸ¬ ì‘ì—…ì´ ì™„ë£Œ ë˜ì§€ ì•Šì•˜ì§€ë§Œ ì ì ˆíˆ switchë˜ë©° ì§„í–‰ëœë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.&lt;/p>
&lt;p>í”„ë¡œê·¸ë˜ë°ì ìœ¼ë¡œ ë´¤ì„ ë•Œ ê°™ì´ ë™ì‹œì„±ì€ ë¸”ë½ì´ ë§ì´ ê±¸ë¦¬ëŠ” ì‘ì—…ì— ìœ ë¦¬í•˜ê³ , ë³‘ë ¬ì„±ì€ CPU boundí•œ ì‘ì—…ì— ìœ ë¦¬í•˜ë‹¤ê³  ìƒê°ëœë‹¤. ê·¸ëŸ¼ ì¢€ ë” ìì„¸íˆ ë™ì‹œì„±ê³¼ ë³‘ë ¬ì„±ì´ &amp;ldquo;&lt;strong>ì–¸ì œ&lt;/strong>&amp;rdquo; &amp;ldquo;&lt;strong>ì™œ&lt;/strong>&amp;rdquo; ìœ ë¦¬í•œì§€ ì•Œì•„ë³´ì.&lt;/p>
&lt;h3 id="concurrency---blockì´-ë§ì€-ì‘ì—…ì—-ìœ ë¦¬">Concurrency - Blockì´ ë§ì€ ì‘ì—…ì— ìœ ë¦¬&lt;/h3>
&lt;p>&lt;strong>ì˜ˆìƒ: ë¸”ë½ì´ ë§ì€ ì‘ì—…ì˜ ê²½ìš° Core ìˆ«ìì— ìƒê´€ ì—†ì´ ëŒ€ì²´ë¡œ ë§ì€ thread(í˜¹ì€ goroutine)ì„ ìƒì„±í•  ìˆ˜ë¡ ì‘ì—…ì´ ë¹¨ë¼ì§ˆ ê²ƒì´ë‹¤.&lt;/strong>&lt;/p>
&lt;p>blockì´ ë§ì€ ì‘ì—…ì´ ë­ê°€ ìˆì„ê¹Œ? ë„¤íŠ¸ì›Œí¬ IO ë¸”ë½ì´ ë§ì´ ê±¸ë¦´ ì‘ì—…ìœ¼ë¡œì„œ &lt;a class="link" href="https://example.com" target="_blank" rel="noopener"
>https://example.com&lt;/a> ì— ìš”ì²­/ì‘ë‹µì„ ì–»ëŠ” ì‘ì—…ì„ 64ë²ˆ ìˆ˜í–‰í•´ë³´ê² ë‹¤. &lt;strong>coreì˜ ìˆ«ìë¥¼ 1ê°œë¡œ ì œí•œ&lt;/strong>í•˜ì—¬ concurrencyì˜ íš¨ê³¼ë¥¼ ê´€ì°°í•´ë³´ê¸° ìœ„í•´ 4ê°œì˜ ì½”ì–´ë¡œ 8ê°œì˜ ìŠ¤ë ˆë“œë¥¼ í•˜ì´í¼ìŠ¤ë ˆë”©í•˜ëŠ” ë‚´ ë©íƒ‘ì´ ì•„ë‹Œ AWS EC2 t2.microì—ì„œ ë²¤ì¹˜ë§ˆí¬ë¥¼ ìˆ˜í–‰í–ˆë‹¤.&lt;/p>
&lt;h4 id="í”„ë¡œê·¸ë¨-ì½”ë“œ">í”„ë¡œê·¸ë¨ ì½”ë“œ&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;github.com/stretchr/testify/assert&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;net/http&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;sync&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;testing&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nx">Benchmark&lt;/span>&lt;span class="err">ë™ì‹œì„±&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">B&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">goroutineNum&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">16&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">32&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">64&lt;/span>&lt;span class="p">}{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%dê°œì˜ goroutine&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">goroutineNum&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">B&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">N&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">do&lt;/span>&lt;span class="err">ë™ì‹œì„±&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">goroutineNum&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nx">do&lt;/span>&lt;span class="err">ë™ì‹œì„±&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">B&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">goroutineNum&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wg&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">sync&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">WaitGroup&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">totalRep&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">64&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">n&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">n&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">goroutineNum&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">n&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wg&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">num&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">j&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">j&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">totalRep&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="nx">goroutineNum&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resp&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;https://example.com&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">assert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NoError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">assert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Equal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">resp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">StatusCode&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wg&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Done&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}(&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wg&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Wait&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="core-1ê°œì˜-aws-ec2-t2microì—ì„œì˜-ë²¤ì¹˜ë§ˆí‚¹">Core 1ê°œì˜ AWS EC2 t2.microì—ì„œì˜ ë²¤ì¹˜ë§ˆí‚¹&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ubuntu@ip-172-31-12-2:~/concurrency$ &lt;span class="nv">CGO_ENABLED&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span> go &lt;span class="nb">test&lt;/span> ./concurrency_test.go -bench&lt;span class="o">=&lt;/span>. -benchtime&lt;span class="o">=&lt;/span>1x
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">goos: linux
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">goarch: amd64
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Benchmarkë™ì‹œì„±/1ê°œì˜_goroutine &lt;span class="m">1&lt;/span> &lt;span class="m">9426630119&lt;/span> ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Benchmarkë™ì‹œì„±/4ê°œì˜_goroutine &lt;span class="m">1&lt;/span> &lt;span class="m">2354737545&lt;/span> ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Benchmarkë™ì‹œì„±/8ê°œì˜_goroutine &lt;span class="m">1&lt;/span> &lt;span class="m">1192283559&lt;/span> ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Benchmarkë™ì‹œì„±/16ê°œì˜_goroutine &lt;span class="m">1&lt;/span> &lt;span class="m">604589767&lt;/span> ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Benchmarkë™ì‹œì„±/32ê°œì˜_goroutine &lt;span class="m">1&lt;/span> &lt;span class="m">313062480&lt;/span> ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Benchmarkë™ì‹œì„±/64ê°œì˜_goroutine &lt;span class="m">1&lt;/span> &lt;span class="m">182304298&lt;/span> ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PASS
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ok command-line-arguments 28.809s
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>64ë²ˆ ìš”ì²­/ì‘ë‹µ ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ ë§¨ ìœ„ì˜ ê²½ìš°ëŠ” 1ê°œì˜ goroutineì´ 64ë²ˆ, ë§¨ ë°‘ì˜ ê²½ìš°ì—ëŠ” 64ê°œì˜ goroutineì´ ê°ê° 1ë²ˆì”© ìˆ˜í–‰í•˜ëŠ” ì‹ìœ¼ë¡œ ì§„í–‰í–ˆë‹¤. 1ê°œì˜ ì½”ì–´ë¥¼ ê°–ëŠ” t2.microì—ì„œë„ 64ê°œì˜ goroutineìœ¼ë¡œ concurrentí•˜ê²Œ ì‘ì—…ì„ ì§„í–‰í•˜ëŠ” ê²ƒì´ ë” ì†ë„ê°€ ë¹¨ëë‹¤. &lt;strong>ë„¤íŠ¸ì›Œí¬ IOë¡œ CPUê°€ ë†€ê³ ìˆëŠ” ì‹œê°„ì´ ë§ì•˜ê¸° ë•Œë¬¸ì— í•˜ë‚˜ì˜ ì½”ì–´ë¡œë„ concurrentí•˜ê²Œ ìˆ˜ ë§ì€ ì‘ì—…ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì§„í–‰&lt;/strong>í•  ìˆ˜ ìˆì—ˆë‹¤.&lt;/p>
&lt;h3 id="parallelism---cpu-boundí•œ-ì‘ì—…ì—-ìœ ë¦¬">Parallelism - CPU boundí•œ ì‘ì—…ì— ìœ ë¦¬&lt;/h3>
&lt;p>&lt;strong>ì˜ˆìƒ: CPU boundí•œ ì‘ì—…ì˜ ê²½ìš° ì½”ì–´ì˜ ê°œìˆ˜ê¹Œì§€ëŠ” goroutineì´ ëŠ˜ì–´ë‚  ìˆ˜ë¡ ì„±ëŠ¥ì´ ì¢‹ì„ ê²ƒì´ë‹¤.&lt;/strong>&lt;/p>
&lt;p>(&lt;em>ì•„ì§ ì½”ì–´ì™€ í”„ë¡œì„¸ì„œ, vCPUì˜ ì°¨ì´ëŠ” ëª…í™•íˆëŠ” ëª¨ë¥´ê² ë‹¤&lt;/em>)&lt;/p>
&lt;p>CPU Boundí•œ ì‘ì—…ì˜ ê²½ìš°ëŠ” ì •ë§ ë™ì‹œì„±ë³´ë‹¨ ë³‘ë ¬ì„±ì„ ì´ìš©í•  ë•Œ ë” ì¢‹ì€ ì„±ëŠ¥ì„ ë³´ì¼ê¹Œ? ì¼ì¢…ì˜ ì œê³± ì—°ì‚°ìœ¼ë¡œ CPUë¥¼ í˜¹ì‚¬ì‹œí‚¤ëŠ” ì‘ì—…ì„ ì •ì˜í–ˆë‹¤. ë³‘ë ¬ì„±ì˜ ê²½ìš° ì–´ë–¤ ê²½ìš°ê¹Œì§€ê°€ ë³‘ë ¬ì„±ì´ê³ , ì–´ë–¤ ê²½ìš°ê¹Œì§€ê°€ ë™ì‹œì„± + ë³‘ë ¬ì„±ì¸ì§€ í—·ê°ˆë¦´ ìˆ˜ ìˆê¸°ì— ì •ë¦¬í•´ë³¸ë‹¤.&lt;/p>
&lt;ol>
&lt;li>ì½”ì–´ 1ê°œì— ì—¬ëŸ¬ í˜¹ì€ goroutine =&amp;gt; ë‹¹ì—°íˆ ë³‘ë ¬ì„±ì´ ì¼ì–´ë‚  ì½”ì–´ë“¤ì´ ì—†ìœ¼ë‹ˆ ë™ì‹œì„±&lt;/li>
&lt;li>ì½”ì–´ Nê°œì— Nê°œ ì´í•˜ì˜ ì—¬ëŸ¬ goroutine =&amp;gt; ë³‘ë ¬ì„±&lt;/li>
&lt;li>ì½”ì–´ Nê°œì— Nê°œ ì´ìƒì˜ ì—¬ëŸ¬ goroutine =&amp;gt; ë™ì‹œì„± + ë³‘ë ¬ì„±. &lt;strong>í•˜ì§€ë§Œ CPU Bound í•œ ì‘ì—…ì˜ ê²½ìš° ë™ì‹œì„±ì€ ë³„ ì´ì ì„ ê°€ì ¸ë‹¤ ì£¼ì§€ ì•ŠëŠ”ë‹¤.&lt;/strong>&lt;/li>
&lt;/ol>
&lt;h4 id="í”„ë¡œê·¸ë¨-ì½”ë“œ-1">í”„ë¡œê·¸ë¨ ì½”ë“œ&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;sync&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;testing&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nx">Benchmark&lt;/span>&lt;span class="err">ë³‘ë ¬ì„±&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">B&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">goroutineNum&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">16&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">32&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">64&lt;/span>&lt;span class="p">}{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%dê°œì˜ goroutine&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">goroutineNum&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">B&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">N&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">do&lt;/span>&lt;span class="err">ë³‘ë ¬ì„±&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">goroutineNum&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nx">do&lt;/span>&lt;span class="err">ë³‘ë ¬ì„±&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">B&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">goroutineNum&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wg&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">sync&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">WaitGroup&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">totalRep&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">1024&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1024&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">dummyNumber&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">12345&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">n&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">n&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">goroutineNum&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">n&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wg&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">num&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">j&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">j&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">totalRep&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="nx">goroutineNum&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">dummyNumber&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">dummyNumber&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">dummyNumber&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="mi">100000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wg&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Done&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}(&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wg&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Wait&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="core-1ê°œì˜-aws-t2microì—ì„œì˜-ë²¤ì¹˜ë§ˆí‚¹">Core 1ê°œì˜ AWS t2.microì—ì„œì˜ ë²¤ì¹˜ë§ˆí‚¹&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ubuntu@ip-172-31-12-2:~/concurrency$ &lt;span class="nv">CGO_ENABLED&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span> go &lt;span class="nb">test&lt;/span> ./parallelism_test.go -bench&lt;span class="o">=&lt;/span>. -benchtime&lt;span class="o">=&lt;/span>10x
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">goos: linux
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">goarch: amd64
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Benchmarkë³‘ë ¬ì„±/1ê°œì˜_goroutine &lt;span class="m">10&lt;/span> &lt;span class="m">15228154&lt;/span> ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Benchmarkë³‘ë ¬ì„±/4ê°œì˜_goroutine &lt;span class="m">10&lt;/span> &lt;span class="m">14048765&lt;/span> ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Benchmarkë³‘ë ¬ì„±/8ê°œì˜_goroutine &lt;span class="m">10&lt;/span> &lt;span class="m">14038413&lt;/span> ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Benchmarkë³‘ë ¬ì„±/16ê°œì˜_goroutine &lt;span class="m">10&lt;/span> &lt;span class="m">13916091&lt;/span> ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Benchmarkë³‘ë ¬ì„±/32ê°œì˜_goroutine &lt;span class="m">10&lt;/span> &lt;span class="m">13877358&lt;/span> ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Benchmarkë³‘ë ¬ì„±/64ê°œì˜_goroutine &lt;span class="m">10&lt;/span> &lt;span class="m">14082735&lt;/span> ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PASS
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ok command-line-arguments 0.946s
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>t2.microì˜ ê²½ìš° ì½”ì–´ê°€ 1ê°œì´ê¸° ë•Œë¬¸ì— ë³‘ë ¬ì„±ì´ ì¡´ì¬í•  ê²ƒë„ ì—†ì´ ë™ì‹œì„±ë§Œì´ ì¡´ì¬í•œë‹¤ê³  í–ˆë“¯ì´ goroutineì´ ë§ì•„ì ¸ë„ ì„±ëŠ¥ì´ ì¢‹ì•„ì§€ì§€ ì•ŠëŠ”ë‹¤. ë˜ë ¤ ë¶ˆí•„ìš”í•œ goroutineì„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì½”ìŠ¤íŠ¸ì™€ ë¯¸ë¯¸í•˜ê² ì§€ë§Œ ì¡´ì¬í•  goroutineì— ëŒ€í•œ context switchë¡œ ì¸í•´ ì‘ì—…ì´ ë” ë”ëŒì§€ê¸°ë„ í•˜ëŠ” ê²°ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;h4 id="core-4ê°œë¡œ-8ê°œì˜-vcpuë¥¼-ê°€ì§„-ë‚˜ì˜-ë©íƒ‘ì—ì„œì˜-ë²¤ì¹˜ë§ˆí‚¹">Core 4ê°œë¡œ 8ê°œì˜ vCPUë¥¼ ê°€ì§„ ë‚˜ì˜ ë©íƒ‘ì—ì„œì˜ ë²¤ì¹˜ë§ˆí‚¹&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ go &lt;span class="nb">test&lt;/span> ./parallelism_test.go -bench&lt;span class="o">=&lt;/span>. -benchtime&lt;span class="o">=&lt;/span>10x
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">goos: linux
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">goarch: amd64
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Benchmarkë³‘ë ¬ì„±/1ê°œì˜_goroutine-8 &lt;span class="m">10&lt;/span> &lt;span class="m">10263785&lt;/span> ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Benchmarkë³‘ë ¬ì„±/4ê°œì˜_goroutine-8 &lt;span class="m">10&lt;/span> &lt;span class="m">7342331&lt;/span> ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Benchmarkë³‘ë ¬ì„±/8ê°œì˜_goroutine-8 &lt;span class="m">10&lt;/span> &lt;span class="m">4872064&lt;/span> ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Benchmarkë³‘ë ¬ì„±/16ê°œì˜_goroutine-8 &lt;span class="m">10&lt;/span> &lt;span class="m">5000452&lt;/span> ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Benchmarkë³‘ë ¬ì„±/32ê°œì˜_goroutine-8 &lt;span class="m">10&lt;/span> &lt;span class="m">4830541&lt;/span> ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Benchmarkë³‘ë ¬ì„±/64ê°œì˜_goroutine-8 &lt;span class="m">10&lt;/span> &lt;span class="m">4968710&lt;/span> ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PASS
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ok command-line-arguments 0.419s
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ë‚´ ë©íƒ‘ì€ ì‹¤ì œ coreëŠ” 4ê°œì§€ë§Œ 8ê°œì˜ ìŠ¤ë ˆë“œê¹Œì§€ ë³‘ë ¬ì ìœ¼ë¡œ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë¯€ë¡œ 8ê°œë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>ë”°ë¼ì„œ &lt;strong>8ê°œì˜ goroutineê¹Œì§€ëŠ” ë³‘ë ¬ì„±ì— ì˜í•´ ì„±ëŠ¥ì´ ì ì  ì¢‹ì•„ì§€ê³ , 8ê°œ ì´ˆê³¼ì˜ goroutineë¶€í„°ëŠ” ë³‘ë ¬ì„±ê³¼ ë™ì‹œì„±ì´ ëª¨ë‘ ì ìš©ë˜ê² ì§€ë§Œ í˜„ì¬ì˜ ì‘ì—…ì€ CPU boundí•˜ê¸° ë•Œë¬¸ì— ë™ì‹œì„±ì€ ê·¸ë‹¥ ì´ì ì„ ê°€ì ¸ë‹¤ì£¼ì§€ ëª»í•˜ê³  EC2ì˜ ê²½ìš°ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ê³¼ì‰ë˜ëŠ” goroutineìœ¼ë¡œ ì¸í•´ ì˜¤íˆë ¤ ì„±ëŠ¥ì„ ì €í•˜&lt;/strong>ì‹œí‚¬ ìˆ˜ ìˆë‹¤. ì½”ë“œì— ì²¨ë¶€ëŠ” í•˜ì§€ ì•Šì•˜ì§€ë§Œ ê·¹ë‹¨ì ìœ¼ë¡œ ê³¼ì‰ë˜ëŠ” goroutineì€ ì•„ë˜ì™€ ê°™ì€ ì„±ëŠ¥ ì €í•˜ë¥¼ ì•¼ê¸°í•˜ê¸°ë„ í–ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">Benchmarkë³‘ë ¬ì„±/8ê°œì˜_goroutine-8 10 580169905 ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Benchmarkë³‘ë ¬ì„±/16ê°œì˜_goroutine-8 10 602391376 ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Benchmarkë³‘ë ¬ì„±/1024*1024ê°œì˜_goroutine-8 10 879079810 ns/op
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>(&lt;em>í•œí¸ìœ¼ë¡  1024*1024ê°œì˜ goroutineì„ ê´€ë¦¬í•˜ëŠ” ë°ì—ë„ ì„±ëŠ¥ ì €í•˜ê°€ ì €ì •ë„ ë¿ì´ë¼ë‹ˆ ëŒ€ë‹¨í•˜ë‹¨ ìƒê°ë„ ë“ ë‹¤&amp;hellip;!&lt;/em>)&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>ë™ì‹œì„±ê³¼ ë³‘ë ¬ì„±ì€ Goë¥¼ ê³µë¶€í•˜ë©´ì„œ ì»´í“¨í„° êµ¬ì¡°ë¥¼ ê³µë¶€í•˜ë©´ì„œ ë„ˆë¬´ë„ ë§ì´ íŒŒê³ ë“¤ì—ˆë˜ ë‚´ìš©ì´ë¼ ìˆ ìˆ  ì í ì¤„ ì•Œì•˜ëŠ”ë° ì‹œê°„ì´ ì¢€ ì§€ë‚˜ì„œì¸ì§€ ê°€ë¬¼ê°€ë¬¼í•œ ë‚´ìš©ë„ ì¢€ ìˆì—ˆê³  ë‚´ìš©ë„ ì‰½ì§€ ì•Šì•˜ìœ¼ë©° ì¢‹ì€ ì˜ˆì‹œë¥¼ ì–´ë–»ê²Œ ë“¤ì–´ì•¼í•  ì§€ ë§ì´ ê³ ë¯¼ì´ ëë˜ ê²ƒ ê°™ë‹¤. ì´ëŸ° ì €ëŸ° ìƒê°ë“¤ë¡œ ì¸í•´ ì„¤ëª…ì´ë‚˜ ì§„í–‰ì´ ê·¸ë ‡ê²Œ ê¹”ë”íˆ ëœ ê²ƒ ê°™ì§„ ì•Šì§€ë§Œ ê·¸ë˜ë„ ê²°ë¡ ì´ ê¹”ë”í•˜ê²Œ ë‚˜ì™€ì„œ ë‹¤í–‰ì´ë‹¤. ì‚¬ì‹¤ ì´ëŸ° ì½”ì–´ë‚˜ ê³ ë£¨í‹´, ìŠ¤ë ˆë“œì˜ ê°œìˆ˜ì— ë”°ë¼ ë³‘ë ¬ì„±ì´ë‚˜ ë™ì‹œì„±ì„ êµ¬ë¶„ ì§“ê¸°ë³´ë‹¤ &amp;lsquo;&lt;em>ë™ì‹œì„±ì€ ì£¼ë¡œ êµ¬ì¡°ì™€ ê´€ë ¨ë˜ê³  ë³‘ë ¬ì„±ì€ ì‹¤í–‰ê³¼ ê´€ë ¨ëœë‹¤.&lt;/em>&amp;lsquo;ì™€ ê°™ì€ ì² í•™ì ì¸ ë‚´ìš©ë„ ê°„ê°„íˆ ë‚˜ì˜¤ê¸´ í•˜ì§€ë§Œ ëª‡ ë‹¬ ì§¸ ê·¸ë‹¥ ì™€ë‹¿ì§€ ì•Šê³ , ê°„ê°„íˆ ë“±ì¥í•  ë¿ ì˜¤í”¼ì…œí•œ ë‚´ìš©ì€ ì•„ë‹Œ ë“¯í•˜ì—¬ ìƒëµí–ˆë‹¤.&lt;/p>
&lt;p>ê·¸ë¦¬ê³  ì´ë²ˆì—” ë²¤ì¹˜ë§ˆí¬ í…ŒìŠ¤íŠ¸ì— í•œê¸€ ì´ë¦„ì„ ë„ì…í•´ë´¤ëŠ”ë° ì½ê¸°ë„ í¸í•˜ê³  ë‚˜ë¦„ ê·€ì—¬ìš´ ê²ƒ ê°™ë‹¤. ã…ã… ì¢…ì¢… ê°œë°œí•˜ë©´ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì§¤ ë•Œì—ë„ í•œê¸€ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‚¬ìš©í•´ë³´ë ¤í•œë‹¤.&lt;/p>
&lt;h2 id="ì°¸ê³ ">ì°¸ê³ &lt;/h2>
&lt;p>Concurrency is not parallelism &lt;a class="link" href="https://blog.golang.org/waza-talk" target="_blank" rel="noopener"
>https://blog.golang.org/waza-talk&lt;/a>&lt;/p>
&lt;p>Concurrency is not parallelism slide - Rob Pike &lt;a class="link" href="https://talks.golang.org/2012/waza.slide#1" target="_blank" rel="noopener"
>https://talks.golang.org/2012/waza.slide#1&lt;/a>&lt;/p>
&lt;p>Back to the Essence - Concurrency vs Parallelism &lt;a class="link" href="https://homoefficio.github.io/2019/02/02/Back-to-the-Essence-Concurrency-vs-Parallelism/" target="_blank" rel="noopener"
>https://homoefficio.github.io/2019/02/02/Back-to-the-Essence-Concurrency-vs-Parallelism/&lt;/a>&lt;/p>
&lt;p>[ ì œ 4íšŒ íŒŒì´ì¬ ê²©ì›” ì„¸ë¯¸ë‚˜ ] ë™ì‹œì„±ê³¼ ë³‘ë ¬ì„± - ì´ì°¬í˜• &lt;a class="link" href="https://youtu.be/Iv3e9Dxt9WY" target="_blank" rel="noopener"
>https://youtu.be/Iv3e9Dxt9WY&lt;/a>&lt;/p></description></item><item><title>Go ì–¸ì–´ë¡œ ì ìš©í•´ë³´ëŠ” Computer Science - Socket (Unix Domain Socket, Network/TCP/UDP Socket)</title><link>https://umi0410.github.io/blog/golang/go-socket/</link><pubDate>Sat, 13 Feb 2021 14:10:54 +0900</pubDate><guid>https://umi0410.github.io/blog/golang/go-socket/</guid><description>&lt;img src="https://umi0410.github.io/blog/golang/go-socket/server-client-socket.jpeg" alt="Featured image of post Go ì–¸ì–´ë¡œ ì ìš©í•´ë³´ëŠ” Computer Science - Socket (Unix Domain Socket, Network/TCP/UDP Socket)" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>ê°œë°œ ê³µë¶€ë¥¼ ì²˜ìŒ ì‹œì‘í•œ ì§€ ì–¸ì œ ì•ˆ ëì„ ë¬´ë µ, ì˜ê²½ ë³µë¬´ë¥¼ í•˜ë©° ìë°”ë¡œ TCP Socketì„ ì´ìš©í•´ ì˜† ì»´í“¨í„°ì™€ ì±„íŒ…ì„ í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ë§Œë“¤ì–´ ë³´ëŠ” ê²ƒì„ ì‹œì‘ìœ¼ë¡œ dockerë‚˜ mysqlê³¼ ê°™ì€ ë‹¤ì–‘í•œ ì˜¤í”ˆì†ŒìŠ¤ë“¤ì„ ì´ìš©í•´ë³´ë©´ì„œë‚˜ ë„¤íŠ¸ì›Œí¬ë¥¼ ê³µë¶€í•˜ë©´ì„œ ë‹¤ì–‘í•˜ê²Œ ë“¤ì–´ì™”ë˜ &lt;code>ì†Œì¼“&lt;/code>ì´ì§€ë§Œ ì •í™•íˆ ì–´ë–¤ ì—­í• ì„ í•˜ëŠ”ì§€ ì–´ë–¤ ì¢…ë¥˜ê°€ ìˆëŠ”ì§€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ì•Œì§€ ëª»í–ˆë‹¤.&lt;/p>
&lt;p>ì˜¤ëŠ˜ì€ ê·¸ë ‡ê²Œ ì•Œì­ë‹¬ì­í•œ ì¡´ì¬ì˜€ë˜ ì†Œì¼“ì„ í¬ê²Œ &lt;strong>&lt;code>Unix Domain Socket&lt;/code>ì™€ &lt;code>Network Socket&lt;/code> ë‘ ê°€ì§€ë¡œ ë‚˜ëˆ  ì •ë¦¬í•´ë³´ê³  Unix Domain Socketê³¼ TCPë¥¼ ì‚¬ìš©í•˜ëŠ” Network Socketì„ ë²¤ì¹˜ë§ˆí¬í•´ë³´ê³  ì–´ë–¤ ì°¨ì´ê°€ ìˆëŠ”ì§€ í™•ì¸&lt;/strong>í•´ë³´ë„ë¡ í•˜ê² ë‹¤. ì£¼ë¡œ ë‚´ê°€ ì†Œì¼“ì„ ì ‘í–ˆë˜ ìë£Œë‚˜ ì´ìŠˆ ìƒí™©ì—ì„œëŠ” UDPë³´ë‹¤ëŠ” TCPê°€ ë§ì´ ë“±ì¥í–ˆì—ˆê¸° ë•Œë¬¸ì— &lt;strong>UDPì— ëŒ€í•œ ë‚´ìš©ì€ ê±°ì˜ ì œì™¸í•  ê²ƒì´ë¯€ë¡œ ëŒ€ë¶€ë¶„ì´ Network socketê³¼ Unix domain socket ê°ê°ì˜ stream(network socketì—ì„  tcpë¥¼ ì´ìš©í•˜ëŠ” ê²½ìš°ì— í•´ë‹¹) type socket&lt;/strong>ì— ê´€ë ¨í•œ ë‚´ìš©ì¼ ê²ƒì´ë‹¤.&lt;/p>
&lt;h2 id="socket-ì´ë€">Socket ì´ë€&lt;/h2>
&lt;p>ì†Œì¼“ì€ ì–´ë– í•œ í†µì‹ ì—ì„œì˜ Endpoint(ëì ) ì—­í• ì„ í•œë‹¤. ëì ì´ ì—†ìœ¼ë©´ ì–´ë””ì™€ ì–´ë””ê°€ í†µì‹ í•˜ëŠ”ì§€ ì–´ë””ì— ë°ì´í„°ë¥¼ ì¨ì•¼í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ë‹¤.&lt;/p>
&lt;p>ì†Œì¼“ì„ ë§ˆì¹˜ ì „êµ¬ ì†Œì¼“ê³¼ ê°™ì´ ì†Œì¼“ì´ë¼ê³  ë¶€ë¥´ëŠ” ì´ìœ ëŠ” ì†Œì¼“ì— ì˜¬ë°”ë¥´ê²Œ ë°ì´í„°ë¥¼ ì ê¸°ë§Œ í•˜ë©´ í†µì‹ ì„ ìœ„í•œ ì„¸ë¶€ì ì¸ ë™ì‘ì€ ì†Œì¼“ì´ ì•Œì•„ì„œ ìˆ˜í–‰í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ë”°ë¼ì„œ ìš°ë¦¬ëŠ” í†µì‹ ì„ í•˜ê¸° ìœ„í•œ Socketì„ ì˜¬ë°”ë¥´ê²Œ ìƒì„±í•˜ê³ , ê·¸ ê³³ì— ë°ì´í„°ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì ê±°ë‚˜ ê·¸ê³³ì˜ ë°ì´í„°ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì½ê¸°ë§Œ í•˜ë©´ ëœë‹¤. ì‹¤ì œ ë°ì´í„° ì „ì†¡ì€ ì†Œì¼“ì´ ì•Œì•„ì„œ ìˆ˜í–‰í•´ì¤€ë‹¤.&lt;/p>
&lt;p>ì†Œì¼“ì€ ê°™ì€ í˜¸ìŠ¤íŠ¸ ë‚´ì—ì„œ IPCë¥¼ ìœ„í•´ ì‚¬ìš©ë˜ëŠ” &lt;code>Unix domain socket&lt;/code>ê³¼ ë„¤íŠ¸ì›Œí¬ í†µì‹ ì„ í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” &lt;code>Network socket&lt;/code>ìœ¼ë¡œ ë¶„ë¥˜í•  ìˆ˜ ìˆë‹¤. ê°„í˜¹ unix domain socketê³¼ TCPë¥¼ ì´ìš©í•˜ëŠ” Network socket, UDPë¥¼ ì´ìš©í•˜ëŠ” Network socket ì´ë ‡ê²Œ ì„¸ ê°€ì§€ë¡œ ë¶„ë¥˜í•˜ëŠ” ê²½ìš°ë¥¼ ë³¸ ê²ƒ ê°™ì€ë° ì´ëŠ” ì˜ëª»ëœ ë¶„ë¥˜ë¼ê³  ìƒê°í•œë‹¤. Network socket ë¿ë§Œ ì•„ë‹ˆë¼ Unix domain socket ë˜í•œ stream(Network socketì˜ ê²½ìš° TCPë¥¼ ì´ìš©í•˜ëŠ” ê²½ìš°ì— í•´ë‹¹) íƒ€ì…ê³¼ datagram íƒ€ì…(Network socketì˜ ê²½ìš° UDPë¥¼ ì´ìš©í•˜ëŠ” ê²½ìš°ì— í•´ë‹¹)ìœ¼ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.&lt;/p>
&lt;h3 id="ì„œë²„-ì†Œì¼“ê³¼-í´ë¼ì´ì–¸íŠ¸-ì†Œì¼“">ì„œë²„ ì†Œì¼“ê³¼ í´ë¼ì´ì–¸íŠ¸ ì†Œì¼“&lt;/h3>
&lt;p>&lt;figure style="flex-grow: 214; flex-basis: 515px">
&lt;a href="https://umi0410.github.io/blog/golang/go-socket/server-client-socket.jpeg" data-size="2146x1000">&lt;img src="https://umi0410.github.io/blog/golang/go-socket/server-client-socket.jpeg"
srcset="https://umi0410.github.io/blog/golang/go-socket/server-client-socket_huc5be35f5857cc34672b838b13057c03e_282874_480x0_resize_q75_box.jpeg 480w, https://umi0410.github.io/blog/golang/go-socket/server-client-socket_huc5be35f5857cc34672b838b13057c03e_282874_1024x0_resize_q75_box.jpeg 1024w"
width="2146"
height="1000"
loading="lazy"
alt="server-client-socket.jpeg">
&lt;/a>
&lt;figcaption>server-client-socket.jpeg&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ì†Œì¼“ì„ ì—­í• ì˜ ì¸¡ë©´ì—ì„œ ë¶„ë¥˜í•œë‹¤ë©´ ì„œë²„ ì†Œì¼“ê³¼ í´ë¼ì´ì–¸íŠ¸ ì†Œì¼“ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤. ë™ì¼í•œ êµ¬ì¡°ì˜ ì†Œì¼“ì´ì§€ë§Œ ìƒì„±ë˜ëŠ” ì‹œê¸°ë‚˜ ì—­í• ì´ ë‹¤ë¥¼ ë¿ì´ë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ì„œë²„ ì†Œì¼“&lt;/strong> - í´ë¼ì´ì–¸íŠ¸ ì†Œì¼“ì˜ ì—°ê²° ìš”ì²­ì„ ë°›ì•„ë“¤ì´ê¸°ë§Œ í•  ë¿. ì‹¤ì œ ì„œë²„ ì¸¡ì—ì„œì˜ ë°ì´í„°ì˜ ì†¡ìˆ˜ì‹ ì€ ì„œë²„ ì†Œì¼“ì´ í´ë¼ì´ì–¸íŠ¸ ì†Œì¼“ì˜ ì—°ê²° ìš”ì²­ì„ ìˆ˜ë½í•˜ë©´ì„œ ìƒˆë¡œ ë§Œë“¤ì–´ì§€ëŠ” ì†Œì¼“ì„ í†µí•´ ìˆ˜í–‰.&lt;/li>
&lt;li>&lt;strong>í´ë¼ì´ì–¸íŠ¸ ì†Œì¼“&lt;/strong> - í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì™€ í†µì‹ í•˜ê³ ì í•  ë•Œ ìƒì„±í•˜ëŠ” ì†Œì¼“. í´ë¼ì´ì–¸íŠ¸ëŠ” ì‹¤ì œ ë°ì´í„° ì†¡ìˆ˜ì‹ ë„ ì´ ì†Œì¼“ì„ í†µí•´ ìˆ˜í–‰.&lt;/li>
&lt;/ul>
&lt;p>ì„œë²„ ì†Œì¼“ê³¼ í´ë¼ì´ì–¸íŠ¸ ì†Œì¼“ì´ ë‹¨ìˆœí•œê²Œ 1:Nìœ¼ë¡œë§Œ í†µì‹ í•˜ë©´ ì´ë ‡ê²Œ ì„œë²„ ì†Œì¼“ì´ í´ë¼ì´ì–¸íŠ¸ ì†Œì¼“ì˜ ìš”ì²­ì„ ìˆ˜ë½í•œ ë’¤ ìƒˆë¡œ ì†Œì¼“ì„ ë§Œë“¤ í•„ìš” ì—†ì§€ ì•Šì„ê¹Œì‹¶ì§€ë§Œ ê·¸ë ‡ê²Œ ë˜ë©´ ì„œë²„ê°€ ê° í´ë¼ì´ì–¸íŠ¸ì™€ í†µì‹ í•  ë•Œ í•˜ë‚˜ì˜ ì†Œì¼“ì„ ì´ìš©í•˜ë¯€ë¡œ ì˜¬ë°”ë¥´ê²Œ ì›í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ì™€ í†µì‹ í•  ìˆ˜ ì—†ì„í…Œë‹ˆ ì¢‹ì€ ë°©ì‹ì´ ì•„ë‹ ê²ƒì´ë‹¤.&lt;/p>
&lt;p>ê·¸ë ‡ë‹¤ë©´ ê³¼ì—° &lt;strong>ì •ë§ ì„œë²„ì—ì„œëŠ” ì—°ê²°ì„ accept í•œ ë’¤ ì†Œì¼“ì„ ìƒˆë¡œ ìƒì„±í• ê¹Œ?&lt;/strong> í™•ì¸í•´ë³´ì.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;log&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;net&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;os&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;time&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">network&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;tcp&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">address&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;0.0.0.0:8080&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">os&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Remove&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">address&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">socket&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">network&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">address&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fatal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">connectedSocket&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">socket&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Accept&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fatal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">connectedSocket&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Write&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="nb">byte&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;pong\n&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Second&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">connectedSocket&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ê°„ë‹¨í•˜ê²Œ TCP í†µì‹ í”„ë¡œê·¸ë¨ì„ í•˜ë‚˜ ë§Œë“¤ì–´ë´¤ë‹¤. ë‹¨ìˆœíˆ 1ì´ˆ ê°„ê²©ìœ¼ë¡œ pongì„ 5ë²ˆ ì¶œë ¥í•œ ë’¤ ì—°ê²°ì„ ëŠëŠ” í”„ë¡œê·¸ë¨ì´ë‹¤.&lt;/p>
&lt;p>&lt;strong>ìš”ì²­ ì „&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ netstat --tcp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Active Internet connections &lt;span class="o">(&lt;/span>w/o servers&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Proto Recv-Q Send-Q Local Address Foreign Address State
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcp &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> ip-172-31-34-13.ap-:ssh 124.50.93.166:60082 ESTABLISHED
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcp &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> ip-172-31-34-13.ap-:ssh 124.50.93.166:60084 ESTABLISHED
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcp &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> ip-172-31-34-13.ap-:ssh 124.50.93.166:60078 ESTABLISHED
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>ìš”ì²­ ìˆ˜ë½ í›„ í†µì‹  ì¤‘&lt;/strong> - ì†Œì¼“ì´ í•˜ë‚˜ ìƒì„±ë˜ì–´ ESTABLISHED ìƒíƒœ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ netstat --tcp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Active Internet connections &lt;span class="o">(&lt;/span>w/o servers&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Proto Recv-Q Send-Q Local Address Foreign Address State
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcp &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> ip-172-31-34-13.ap-:ssh 124.50.93.166:60082 ESTABLISHED
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcp &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> ip-172-31-34-13.ap-:ssh 124.50.93.166:60084 ESTABLISHED
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcp &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> ip-172-31-34-13.ap-:ssh 124.50.93.166:60078 ESTABLISHED
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcp6 &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> ip-172-31-34-1:http-alt 124.50.93.166:42434 ESTABLISHED
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>í†µì‹  ì¢…ë£Œ&lt;/strong> - ìƒì„±ë˜ì—ˆë˜ ì†Œì¼“ì´ TIME_WAIT ìƒíƒœ. ì ì‹œ í›„ ì‚¬ë¼ì§„ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ netstat --tcp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Active Internet connections &lt;span class="o">(&lt;/span>w/o servers&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Proto Recv-Q Send-Q Local Address Foreign Address State
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcp &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> ip-172-31-34-13.ap-:ssh 124.50.93.166:60082 ESTABLISHED
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcp &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> ip-172-31-34-13.ap-:ssh 124.50.93.166:60084 ESTABLISHED
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcp &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> ip-172-31-34-13.ap-:ssh 124.50.93.166:60078 ESTABLISHED
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcp6 &lt;span class="m">0&lt;/span> &lt;span class="m">0&lt;/span> ip-172-31-34-1:http-alt 124.50.93.166:42434 TIME_WAIT
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>ê¹”ë”í•œ ë„¤íŠ¸ì›Œí¬ ì •ë³´ë¥¼ ë³´ê¸° ìœ„í•´ ìˆœìˆ˜í•œ AWS EC2 t2.micro ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì‘ì—…í•´ë³´ì•˜ë‹¤. ë§¨ ìœ„ 3ì¤„ì— ë‚˜ì˜¨ ì†Œì¼“ ì •ë³´ëŠ” ssh ì ‘ì†ìœ¼ë¡œ ì¸í•œ ì†Œì¼“ ì •ë³´ì´ë‹¤.&lt;/p>
&lt;p>ë˜í•œ ì„œë²„ ì†Œì¼“ì€ ì¶œë ¥ë˜ì§€ ì•Šì•˜ëŠ”ë° ì´ëŠ” ìš°ë¦¬ëŠ” í‰ì†Œì— listen ì¤‘ì¸ í¬íŠ¸ë‚˜ ì„œë²„ ì†Œì¼“ì„ ë³´ê¸° ìœ„í•´ netstatì— -l ì˜µì…˜ì„ ì „ë‹¬í•œ ë°˜ë©´ ì´ë²ˆì—” &amp;ndash;tcp ì˜µì…˜ì„ í†µí•´ listen ì¤‘ì¸ ì„œë²„ ì†Œì¼“ì´ ì•„ë‹Œ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ìˆ˜ë½í•œ ë’¤ ìƒì„±ë˜ëŠ” ì†Œì¼“ì„ ë³´ë ¤í•˜ê³ ìˆê¸° ë•Œë¬¸ì´ë‹¤.&lt;/p>
&lt;/blockquote>
&lt;p>4ë²ˆ ì§¸ ì¤„ì˜ ì†Œì¼“ ì •ë³´ê°€ ë°”ë¡œ ìš°ë¦¬ê°€ ìƒê°í•˜ëŠ” ì„œë²„ ì†Œì¼“ì´ clientì˜ ì—°ê²° ìš”ì²­ì„ accept í›„ ìƒì„±í•˜ëŠ” socketì´ë‹¤. í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ accept í›„ì— ìƒˆë¡œìš´ ì†Œì¼“ì´ ìƒì„±ë˜ë©° í†µì‹  ì¢…ë£Œ í›„ ì ì‹œ ê¸°ë‹¤ë¦° ë’¤ ì‚¬ë¼ì§„ë‹¤.&lt;/p>
&lt;h3 id="network-socket">Network Socket&lt;/h3>
&lt;p>&lt;code>Network socket&lt;/code>ì€ ë„¤íŠ¸ì›Œí¬ í†µì‹ ì´ í•„ìš”í•œ ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ ì´ìš©í•˜ëŠ” ì†Œì¼“ì˜ í•œ ì¢…ë¥˜ë¡œ ë‹¤ì‹œ ë™ì‘ ë°©ì‹ì— ë”°ë¼ TCP í”„ë¡œí† ì½œì„ ì´ìš©í•˜ëŠ” stream socketê³¼ UDP í”„ë¡œí† ì½œì„ ì´ìš©í•˜ëŠ” datagram socketìœ¼ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤. ì‚¬ìš©ìëŠ” socketì— ë°ì´í„°ë¥¼ ì ê¸°ë§Œ í•˜ë©´ ë„¤íŠ¸ì›Œí¬ì™€ ê´€ë ¨ëœ ì‘ì—…ì€ socketì´ ì•Œì•„ì„œ ìˆ˜í–‰í•´ì¤€ë‹¤. ì½ì„ ë•Œì—ë„ ë§ˆì°¬ê°€ì§€ì´ë‹¤.&lt;/p>
&lt;p>TCP socketì´ë¼ê³  ë¶€ë¥´ëŠ” ì‚¬ëŒë„ ìˆê³  stream socket, TCP/IP socketì´ë¼ ë¶€ë¥´ëŠ” ì‚¬ëŒë„ ìˆëŠ” ê²ƒ ê°™ë‹¤. ì •í™•í•œ ëª…ì¹­ì€ ëª¨ë¥´ê² ì§€ë§Œ ì‚¬ìš©í•˜ê±°ë‚˜ ì´í•´í•˜ëŠ” ë°ì—ëŠ” ë¬´ë¦¬ê°€ ì—†ì„ ê²ƒ ê°™ë‹¤.
TCPë¥¼ ì´ìš©í•˜ëŠ” stream typeì˜ Network socketê³¼ stream typeì˜ Unix domain socketì€ ì‚¬ìš© ë°©ë²•ì´ ë§¤ìš° ìœ ì‚¬í•˜ë‹¤. ë‘˜ ë‹¤ stream typeì´ê³ , ì†Œì¼“ì— ë°ì´í„°ë¥¼ ì ì€ ë’¤ì˜ ì‘ì—…ì€ ì†Œì¼“ì´ ì•Œì•„ì„œ ìˆ˜í–‰í•´ì£¼ê¸° ë•Œë¬¸ì´ë‹¤. ê°ê°ì˜ ì†Œì¼“ì„ ì´ìš©í•´ ì„œë²„ë¥¼ ë„ìš°ëŠ” ì‘ì—…ì€ ì¸ìì˜ ê°’ë§Œ ì¡°ê¸ˆ ë‹¬ë¼ì§ˆ ë¿ì´ë‹¤. ì´ëŠ” ê¸€ì˜ í•˜ë¶€ì˜ ì½”ë“œì—ì„œ í™•ì¸í•´ë³¼ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;h4 id="socketê³¼-port">Socketê³¼ Port&lt;/h4>
&lt;p>Network socketì— ëŒ€í•´ì„œëŠ” socketê³¼ portì˜ êµ¬ë¶„ì´ë‚˜ ì—­í• ì´ ì• ë§¤í•˜ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆë‹¤. í†µì‹ ì„ í•  ë•Œ IP ì£¼ì†Œë¥¼ ì´ìš©í•´ ëª©ì ì§€ì¸ Hostë¥¼ ì°¾ì„ ìˆ˜ëŠ” ìˆì§€ë§Œ ê·¸ Hostì˜ ì–´ë–¤ í”„ë¡œì„¸ìŠ¤ê³¼ í†µì‹ í•˜ë ¤ëŠ” ê²ƒì¸ì§€ëŠ” ì•Œ ìˆ˜ ì—†ë‹¤. ì˜¬ë°”ë¥¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ìˆë„ë¡ í”„ë¡œì„¸ìŠ¤ì™€ ì–´ë– í•œ ìˆ«ìë¥¼ ë§¤í•‘ì‹œí‚¤ëŠ”ë° ì´ ìˆ«ìë¥¼ Port ë²ˆí˜¸ë¼ê³  í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ 123.123.123.123:8080ìœ¼ë¡œ ìš”ì²­ì„ ë³´ë‚´ëŠ” ê²ƒì€ 123.123.123.123ì˜ IP ì£¼ì†Œë¥¼ ê°–ëŠ” Hostì˜ 8080ë²ˆ í¬íŠ¸ì— ë§µí•‘ëœ í”„ë¡œì„¸ìŠ¤ì— ìš”ì²­ì„ ë³´ë‚´ëŠ” ê²ƒì´ë‹¤.&lt;/p>
&lt;p>ì´ ë•Œ Portì™€ í”„ë¡œì„¸ìŠ¤ë¥¼ ê·¸ëƒ¥ ì—°ê²°í•  ìˆ˜ëŠ” ì—†ê³  Socketì´ë¼ëŠ” ë…€ì„ì´ í•„ìš”í•˜ë‹¤. Socketì€ ì‹¤ì§ˆì ìœ¼ë¡œ ì–´ë–¤ í”„ë¡œì„¸ìŠ¤ë¥¼ ì–´ë–¤ í¬íŠ¸ì— ë§µí•‘ì‹œí‚¬ì§€ì— ëŒ€í•œ ì •ë³´ê°€ í•„ìš”í•˜ê³  ë„¤íŠ¸ì›Œí¬ ì‘ì—…ì„ ì•Œì•„ì„œ ìˆ˜í–‰í•œë‹¤.&lt;/p>
&lt;p>ì¡°ê¸ˆ ë¹„ìœ ë¥¼ í•´ë³´ìë©´ íšŒì‚¬ë‚´ì— ì–´ë–¤ ë¶€ì„œê°€ ìˆê³  ì™¸ë¶€ì—ì„œ í•´ë‹¹ ë¶€ì„œì™€ ì‘ì—…í•˜ê¸° ìœ„í•´ì„  ì–´ë– í•œ ê³ ìœ í•œ ë¶€ì„œ ë²ˆí˜¸ê°€ í•„ìš”í•˜ê³ , ì´ë•Œ ì™¸ë¶€ì™€ í•´ë‹¹ ë¶€ì„œê°„ì— ì˜¤ê°€ëŠ” í†µì‹ ì„ ë‹´ë‹¹í•˜ëŠ” ë‹´ë‹¹ìê°€ ìˆì–´ì•¼í•˜ëŠ” ê²½ìš°ì— ë¹„ìœ í•´ ë³¼ ìˆ˜ ìˆë‹¤. &amp;ldquo;ì–´ë–¤ ë¶€ì„œ&amp;quot;ëŠ” í”„ë¡œì„¸ìŠ¤ì´ê³  &amp;ldquo;ê³ ìœ í•œ ë¶€ì„œ ë²ˆí˜¸&amp;quot;ëŠ” í¬íŠ¸ ë²ˆí˜¸, í†µì‹ ì„ ë‹´ë‹¹í•˜ëŠ” ë‹´ë‹¹ìëŠ” ì†Œì¼“ì— í•´ë‹¹í•œë‹¤.&lt;/p>
&lt;h3 id="unix-domain-socket">Unix Domain Socket&lt;/h3>
&lt;p>Unix Domain Socketì€ IPC(Inter-Process Communication, í”„ë¡œì„¸ìŠ¤ ê°„ í†µì‹ )ì˜ ì—¬ëŸ¬ ë°©ë²• ì¤‘ ê°€ì¥ ììœ ë¡œìš°ë©´ì„œ ì‚¬ìš©í•˜ëŠ” ë°ì— ìˆì–´ ì œí•œì´ ë³„ë¡œ ì—†ëŠ” ë°©ë²•ì´ë‹¤. ë„¤íŠ¸ì›Œí¬ ì†Œì¼“ê³¼ ë‹¬ë¦¬ ê°™ì€ í˜¸ìŠ¤íŠ¸ ë‚´ì˜ í”„ë¡œì„¸ìŠ¤ ê°„ í†µì‹ ì„ ë‹´ë‹¹í•˜ê¸° ë•Œë¬¸ì— ì•„ë¬´ëŸ° ë„¤íŠ¸ì›Œí¬ ì‘ì—…ì´ í•„ìš” ì—†ë‹¤. í•˜ì§€ë§Œ TCPë‚˜ UDPë¥¼ ì´ìš©í•˜ëŠ” Network socketì„ ì´ìš©í•  ë•Œì™€ ì¸ì ê°’ë§Œ ì¡°ê¸ˆ ë°”ê¾¸ì–´ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.&lt;/p>
&lt;h4 id="-ìƒìƒì˜-ë‚˜ë˜---ìš°ë¦¬ê°€-ì•Œê²Œ-ëª¨ë¥´ê²Œ-ê²ªì—ˆë˜-unix-domain-socketì˜-permissionì˜¤ë¥˜ì—-ëŒ€í•´">ğŸŒˆ ìƒìƒì˜ ë‚˜ë˜ - ìš°ë¦¬ê°€ ì•Œê²Œ ëª¨ë¥´ê²Œ ê²ªì—ˆë˜ Unix domain socketì˜ Permissionì˜¤ë¥˜ì— ëŒ€í•´&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ mysql
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">stat /var/lib/mysql/mysql.sock
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">stat: cannot stat &lt;span class="s1">&amp;#39;/var/lib/mysql/mysql.sock&amp;#39;&lt;/span>: Permission denied
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ docker
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker: Got permission denied &lt;span class="k">while&lt;/span> trying to connect to the Docker daemon socket at unix:///var/run/docker.sock
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì£¼ë¡œ ìš°ë¦¬ê°€ &lt;code>MySQL&lt;/code>ì´ë‚˜ &lt;code>Docker&lt;/code>ë¥¼ &lt;code>localhost&lt;/code>ì—ì„œ ì‚¬ìš©í•  ë•Œ &lt;strong>unix socketì— ëŒ€í•œ permission ì—ëŸ¬&lt;/strong>ë¥¼ ê²ªì€ ì ì´ ìˆì„ ê²ƒì´ë‹¤. MySQLì´ë‚˜ Dockerë¥¼ ë¹„ë¡¯í•œ ë§ì€ ì˜¤í”ˆì†ŒìŠ¤ë“¤ì´ ì•„ë§ˆ ì„±ëŠ¥ìƒì˜ ì´ì ì„ ìœ„í•´ localhostì—ì„œ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ê²½ìš° Network socketì´ ì•„ë‹Œ Unix domain socketì„ ë§ì´ë“¤ ì´ìš©í•˜ëŠ” ê²ƒìœ¼ë¡œ ì•Œê³ ìˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì£¼ë¡œ MySQL ì„¤ì¹˜ ì´í›„ Remoteì—ì„œëŠ” ì ‘ì†ì´ ë˜ëŠ”ë° &lt;strong>localhostì—ì„œëŠ” ê¶Œí•œ ë¬¸ì œë¡œ ì ‘ì†ì´ ì•ˆëœë‹¤ê±°ë‚˜ Docker ì„¤ì¹˜ ì´í›„ ì‚¬ìš©ìë¥¼ docker groupì— ë„£ì–´ì£¼ëŠ” ê²½ìš°&lt;/strong>ê°€ ë§ì´ ìˆë‹¤.&lt;/p>
&lt;p>ì•„ë§ˆë„ ë„¤íŠ¸ì›Œí¬ í†µì‹ ì„ í†µí•´ ì„œë²„ ì†Œì¼“ì— ì ‘ê·¼í•˜ëŠ” ë„¤íŠ¸ì›Œí¬ ì†Œì¼“ê³¼ ë‹¬ë¦¬ unix domain socketì€ client processê°€ ì§ì ‘ serverì˜ socket fileì— ì ‘ê·¼í•˜ê¸° ë•Œë¬¸ì— ì´ë•Œ ì“°ê¸° ê¶Œí•œ ë•Œë¬¸ì— ê·¸ëŸ° ê¶Œí•œ ì˜¤ë¥˜ê°€ ìƒê¸°ëŠ” ê²ƒì´ ì•„ë‹ê¹Œë¼ëŠ” ìƒìƒì˜ ë‚˜ë˜ë¥¼ í¼ì³ë³¸ë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ubuntu ì‚¬ìš©ìë¡œ unix domain socket server í”„ë¡œì„¸ìŠ¤ë¥¼ ë„ìš´ ê²½ìš°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ubuntu ì‚¬ìš©ìë¡œëŠ” ì˜ ì ‘ì†ì´ ëœë‹¤.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ubuntu@ec2 $ go &lt;span class="nb">test&lt;/span> -v
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">===&lt;/span> RUN &lt;span class="nv">TestSocket&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">===&lt;/span> RUN TestSocket/tcp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2021/02/13 12:59:06 &lt;span class="nv">pong&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">===&lt;/span> RUN TestSocket/unix
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2021/02/13 12:59:06 pong
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- PASS: TestSocket &lt;span class="o">(&lt;/span>0.00s&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --- PASS: TestSocket/tcp &lt;span class="o">(&lt;/span>0.00s&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --- PASS: TestSocket/unix &lt;span class="o">(&lt;/span>0.00s&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PASS
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ok uds 0.004s
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># serverê°€ ìƒì„±í•œ unix domain socketì— write ê¶Œí•œì´ ì—†ëŠ”&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># guest1ì´ë¼ëŠ” ì‚¬ìš©ìë¡œëŠ” serverì™€ unix domain socketìœ¼ë¡œëŠ” í†µì‹ í•  ìˆ˜ ì—†ê³ ,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ì•ì„œ ì˜¤í”ˆì†ŒìŠ¤ë¥¼ ì´ìš©í•˜ë©° ê²ªì—ˆë˜ ì—ëŸ¬ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ê¶Œí•œ ì´ìŠˆê°€ ë°œìƒí•œë‹¤.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># í•˜ì§€ë§Œ TCP ì†Œì¼“ì„ ì´ìš©í•œ ê²½ìš°ëŠ” ì›í™œíˆ ping-pong testê°€ ì„±ê³µí•œ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">guest1@ec2 $ go &lt;span class="nb">test&lt;/span> -v
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">===&lt;/span> RUN &lt;span class="nv">TestSocket&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">===&lt;/span> RUN TestSocket/tcp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2021/02/13 12:59:01 &lt;span class="nv">pong&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">===&lt;/span> RUN TestSocket/unix
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> main_test.go:21:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Error Trace: main_test.go:21
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Error: Received unexpected error:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> dial unix jinsu.sock: connect: permission denied
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Test: TestSocket/unix
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- FAIL: TestSocket &lt;span class="o">(&lt;/span>0.00s&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --- PASS: TestSocket/tcp &lt;span class="o">(&lt;/span>0.00s&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --- FAIL: TestSocket/unix &lt;span class="o">(&lt;/span>0.00s&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># í•˜ì§€ë§Œ ì¬ë¯¸ìˆê²Œë„ guest1ë„ socketì— writeí•  ìˆ˜ ìˆë„ë¡ ê¶Œí•œì„ ìˆ˜ì •í•´ì£¼ë‹ˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># guest1ë„ unix domain socketìœ¼ë¡œ ë¬´ë¦¬ ì—†ì´ í†µì‹ ì´ ê°€ëŠ¥í–ˆë‹¤!&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">guest1@ec2 $ sudo chmod &lt;span class="m">777&lt;/span> jinsu.sock
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">guest1@ec2 $ go &lt;span class="nb">test&lt;/span> -v
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">===&lt;/span> RUN &lt;span class="nv">TestSocket&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">===&lt;/span> RUN TestSocket/tcp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2021/02/13 12:59:06 &lt;span class="nv">pong&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">===&lt;/span> RUN TestSocket/unix
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2021/02/13 12:59:06 pong
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- PASS: TestSocket &lt;span class="o">(&lt;/span>0.00s&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --- PASS: TestSocket/tcp &lt;span class="o">(&lt;/span>0.00s&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --- PASS: TestSocket/unix &lt;span class="o">(&lt;/span>0.00s&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PASS
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ok uds 0.004s
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ë”°ë¼ì„œ ubuntu ì‚¬ìš©ìë¡œ TCP socketê³¼ Unix domain socket ë‘ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ì„œë²„ ì—­í• ì„ í•  ìˆ˜ ìˆëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ë„ìš´ ë’¤ ubuntu ì‚¬ìš©ìì™€ guest1 ì‚¬ìš©ìë¡œ í†µì‹  í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ë³´ì•˜ë‹¤.&lt;/p>
&lt;p>ì„œë²„ê°€ ìƒì„±í•œ unix domain socketì€ &lt;code>srwxrwxr-x&lt;/code> ì˜ í˜•ì‹ê³¼ ê¶Œí•œì„ ê°–ê³  ìˆê¸° ë•Œë¬¸ì— guest1ì€ ì´ ì†Œì¼“ì— ëŒ€í•´ readì™€ execute ê¶Œí•œ ë¿ì´ê³ , writeëŠ” ë¶ˆê°€ëŠ¥í•˜ê¸°ì— unix domain socketì„ ì´ìš©í•´ì„œëŠ” í†µì‹ í•  ìˆ˜ ì—†ë‹¤. ë”°ë¼ì„œ ìš°ë¦¬ê°€ í‰ì†Œì— ì˜¤í”ˆì†ŒìŠ¤ë¥¼ localhostì—ì„œ ì´ìš©í•˜ë©´ì„œ ì¢…ì¢… ë§ì´í–ˆë˜ ì†Œì¼“ì— ëŒ€í•œ permission errorì„ ë§Œë‚˜ë³¼ ìˆ˜ ìˆì—ˆë‹¤! ë°˜ë©´ socketì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì´ í•„ìš” ì—†ëŠ” TCPë¡œëŠ” í†µì‹ ì´ ê°€ëŠ¥í–ˆê³ , ë†€ëê²Œë„ guest1ì—ê²Œ ì†Œì¼“ íŒŒì¼ì— ëŒ€í•œ write ê¶Œí•œì„ ë¶€ì—¬í•´ì£¼ì Unix domain socketìœ¼ë¡œë„ í†µì‹ ì´ ê°€ëŠ¥í•´ì§„ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>&lt;strong>ìƒìƒì˜ ë‚˜ë˜ ì •ë¦¬: unix domain socketì„ í†µí•´ ì ‘ì†ì„ ì‹œë„í•  ë•Œì—ëŠ” unix domain socket fileì— ëŒ€í•œ ì ‘ê·¼ì„ í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ í•´ë‹¹ socket fileì— ëŒ€í•œ ì ì ˆí•œ permissionì„ ê°–ê³  ìˆì–´ì•¼í•œë‹¤.&lt;/strong>&lt;/p>
&lt;blockquote>
&lt;p>ë˜í•œ êµ¬ê¸€ë§ ë„ì¤‘ ë³´ì•˜ë˜ ì¬ë¯¸ìˆëŠ” ì˜ˆì‹œëŠ” databaseë¥¼ í†µí•´ authentication/authorizationì„ ìˆ˜í–‰í•˜ëŠ” ì¼ë°˜ì ì¸ ì„œë¹„ìŠ¤ì™€ ë‹¬ë¦¬ Unix domain socketì„ ì´ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” linux user ì‹œìŠ¤í…œì„ ì´ìš©í•´ì„œë„ ê¶Œí•œ/ì¸ì¦ ê´€ë¦¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” ê²½ìš°ë„ ì¡´ì¬í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ì—ˆë‹¤.&lt;/p>
&lt;/blockquote>
&lt;h2 id="ë²¤ì¹˜ë§ˆí‚¹-unix-domain-socket-vs-network-socket">ë²¤ì¹˜ë§ˆí‚¹ Unix domain socket vs Network socket&lt;/h2>
&lt;p>Unix domain socketê³¼ Network socketì˜ ì„±ëŠ¥ì„ ë¹„êµí•˜ëŠ” ë²¤ì¹˜ë§ˆí¬ë¥¼ ì‘ì„±í–ˆë‹¤.
ë‘ ê²½ìš° ëª¨ë‘ Stream typeì˜ socketì„ ì´ìš©í•˜ë„ë¡ í–ˆê³ , Network socketì˜ ê²½ìš°ëŠ” íŠ¹íˆë‚˜ ì´ ê²½ìš° TCP í”„ë¡œí† ì½œì„ ì´ìš©í•˜ê²Œ ëœë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// main.go
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// í•œ í”„ë¡œì„¸ìŠ¤ ë‚´ì—ì„œ TCP Socketê³¼ Unix Domain Socket ë‘ ê°€ì§€ë¥¼ ì´ìš©í•´
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// í†µì‹ í•  ìˆ˜ ìˆëŠ” í”„ë¡œê·¸ë¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;errors&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;io&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;log&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;net&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;os&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;time&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="nf">RunTCPSocketServer&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="nf">RunUnixDomainSocketServer&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Dummy waiting...&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Minute&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">RunTCPSocketServer&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Run TCPSocketServer...&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;tcp&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;0.0.0.0:8080&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">RunUnixDomainSocketServer&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Run UnixDomainSocketServer...&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">serverSocketName&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="s">&amp;#34;jinsu.sock&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">os&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Remove&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">serverSocketName&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;unix&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">serverSocketName&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// TCP socketì„ ì´ìš©í•´ ì„œë²„ë¥¼ ë„ìš°ë“  Unix Domain Socketì„ ì´ìš©í•´ ì„œë²„ë¥¼ ë„ìš°ë“ 
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ê°„ë‹¨íˆ ì¸ì ê°’ë§Œ ë³€ê²½í•´ì„œ ì´ìš©í•  ìˆ˜ ìˆë‹¤!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">network&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">address&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">buf&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">make&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="kt">byte&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1024&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">socket&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">network&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">address&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fatal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">connectedSocket&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">socket&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Accept&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fatal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">connectedSocket&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Read&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">buf&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">!&lt;/span>&lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Is&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">io&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">EOF&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fatal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;[Error]&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">network&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Client sent:&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">connectedSocket&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Write&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="nb">byte&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;pong&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">connectedSocket&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// main_test.go
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// tcp socketê³¼ unix domain socketì„ ì´ìš©í•´ ì„±ê³µì ìœ¼ë¡œ ì„œë²„ì™€ í†µì‹ ì´
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ì´ë£¨ì–´ì§€ëŠ”ì§€ í…ŒìŠ¤íŠ¸í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// tcpì™€ unix domain socketì˜ ì„±ëŠ¥ì„ ë¹„êµí•˜ëŠ” ë²¤ì¹˜ë§ˆí¬ ì½”ë“œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;errors&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;github.com/stretchr/testify/assert&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;io&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;log&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;net&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;testing&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">TestSocket&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">T&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">args&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="p">[][]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;tcp&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;0.0.0.0:8080&amp;#34;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;unix&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;jinsu.sock&amp;#34;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">arg&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">args&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arg&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">T&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">conn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Dial&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arg&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nx">arg&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">assert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NoError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">buf&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">make&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="kt">byte&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1024&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Write&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="nb">byte&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ping&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fatal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Read&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">buf&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">!&lt;/span> &lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Is&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">io&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">EOF&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">buf&lt;/span>&lt;span class="p">[:&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="p">]))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">BenchmarkSocket&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">B&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">args&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="p">[][]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;tcp&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;0.0.0.0:8080&amp;#34;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;unix&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;jinsu.sock&amp;#34;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">arg&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">args&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arg&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">testing&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">B&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//log.Println(&amp;#34;Out&amp;#34;) // b.Nê³¼ ìƒê´€ ì—†ì´ argsì˜ ê¸¸ì´ì— ë”°ë¼ ì¶œë ¥ë¨.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">conn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Dial&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arg&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nx">arg&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">assert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NoError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">buf&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">make&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="kt">byte&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1024&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">N&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//log.Println(&amp;#34;In&amp;#34;) // b.Në§Œí¼ ìˆ˜í–‰ë¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Write&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="nb">byte&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ping&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">assert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NoError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Read&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">buf&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">!&lt;/span>&lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Is&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">io&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">EOF&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fail&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ go &lt;span class="nb">test&lt;/span> -bench&lt;span class="o">=&lt;/span>. -benchtime&lt;span class="o">=&lt;/span>100000x
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">goos: linux
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">goarch: amd64
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pkg: uds
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">BenchmarkSocket/tcp 100000 &lt;span class="m">104537&lt;/span> ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">BenchmarkSocket/unix 100000 &lt;span class="m">83456&lt;/span> ns/op
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PASS
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ok uds 18.808s
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>10000ë²ˆì˜ ping-pongì„ ìˆ˜í–‰í•˜ëŠ” ë²¤ì¹˜ë§ˆí¬ë¥¼ ìˆ˜í–‰í–ˆë‹¤.
ê·¸ ê²°ê³¼ &lt;strong>TCP socketì„ ì´ìš©í•  ê²½ìš°ëŠ” í•œ ë²ˆì˜ ping-pongì— ì•½ 104537ns, unix domain socketì„ ì´ìš©í•  ê²½ìš°ëŠ” í•œ ë²ˆì˜ ping-pongì— ì•½ 83456ns&lt;/strong>ê°€ ì†Œìš”ëœ ê²ƒì„ ë³´ì•„ &lt;strong>ì˜ˆìƒëŒ€ë¡œ ë„¤íŠ¸ì›Œí¬ í†µì‹ ì´ ì¼ì ˆ í•„ìš”í•˜ì§€ ì•Šì€ unix domain socketì´ ì¢€ ë” ì„±ëŠ¥ì´ ì¢‹ì€ ê²ƒìœ¼ë¡œ ë³´ì—¬ì¡Œë‹¤&lt;/strong>. ì‚¬ì „ì— ìë£Œ ì¡°ì‚¬ë¥¼ í•  ë•Œì—ëŠ” unix domain socketì´ tcp socketì„ ì´ìš©í•  ë•Œë³´ë‹¤ ì•½ 2ë°°ê°€ëŸ‰ ì„±ëŠ¥ì´ ìš°ì›”í•  ê²ƒì´ë¼ê³  ë“¤ì—ˆëŠ”ë°, ê·¸ë ‡ê²Œ ë§ì€ ì°¨ì´ê°€ ë‚˜ëŠ” ê²ƒ ê°™ì§€ëŠ” ì•Šë‹¤. í•˜ì§€ë§Œ ì–´ëŠ ì •ë„ ë°ì´í„°ì˜ í¬ê¸°ë‚˜ ë²„í¼ì˜ í¬ê¸°ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ë„ ìˆì„ ê²ƒ ê°™ê³  ë” ê¹Šì€ ì›ë¦¬ë“¤ì´ ì¡´ì¬í•  ê²ƒ ê°™ì•„ ë” ìì„¸íˆëŠ” ì¸¡ì •í•´ë³´ì§€ ëª»í–ˆë‹¤.&lt;/p>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>ì‚¬ì‹¤ ì´ë²ˆì— ë‹¤ë£¬ ì†Œì¼“ì´ë¼ëŠ” ì£¼ì œëŠ” Goë¡œ ì ìš©í•´ë³´ëŠ” Computer Scienceë¼ëŠ” ì´ ì‹œë¦¬ì¦ˆë¥¼ ì •ë¦¬í•´ë‚˜ê°€ë˜ ì´ˆê¸°ì— 2ë²ˆ ì§¸ ê¸€ë¡œ ì‹œë„í–ˆë˜ ì£¼ì œì˜€ëŠ”ë° ë‹¹ì‹œì—” Go benchmarkë„ ì²˜ìŒ ì‚¬ìš©í•´ë´¤ì—ˆê³  ë‚´ìš©ì´ ì–´ë ¤ì› ë˜ í„°ë¼ ë²¤ì¹˜ë§ˆí¬ë„ ì œëŒ€ë¡œ ë˜ì§€ ì•Šê³  ì •ë¦¬ë„ í•˜ê¸° í˜ë“¤ì–´ì„œ ì¤‘ë‹¨í–ˆë˜ ì£¼ì œì´ë‹¤. í•˜ì§€ë§Œ ì´ë²ˆì—” ê°™ì€ ë‚´ìš©ì— ëŒ€í•´ ë‘ ë²ˆì§¸ ì •ë¦¬í•´ì„œì¸ì§€ ì „ë³´ë‹¤ ë‚´ìš©ë„ ì˜ ì´í•´ëê³ , ë²¤ì¹˜ë§ˆí‚¹ ì½”ë“œì™€ ê²°ê³¼ë„ ê¹”ë”í•˜ê²Œ ë‚˜ì™”ë˜ ê²ƒ ê°™ì•„ ë¿Œë“¯í•˜ë‹¤.&lt;/p>
&lt;p>ê·¸ë¦¬ê³  ê·¸ ë™ì•ˆ ë„ì»¤ë‚˜ MySQL ê°™ì€ ì˜¤í”ˆì†ŒìŠ¤ë“¤ì„ ì‚¬ìš©í•˜ë©´ì„œ ê°„í˜¹ ì†Œì¼“ì— ëŒ€í•œ ì˜¤ë¥˜ë¥¼ ì ‘í•  ë•Œë‚˜ ì´ëŸ° ì €ëŸ° ê¸€ì—ì„œ ì†Œì¼“ ê´€ë ¨í•œ ë‚´ìš©ì´ ë“±ì¥í•  ë•Œ ì •í™•íˆ ì–´ë–¤ ì—­í• ì¸ì§€ ì´ìœ ê°€ ë­”ì§€ ìì„¸íˆ ì•Œì§€ ëª»í–ˆëŠ”ë° ì´ë²ˆ ê¸°íšŒë•ì— ì•ìœ¼ë¡œëŠ” ì¢€ ë” ì˜ ì´í•´í•´ë³¼ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;h2 id="ì°¸ê³ ">ì°¸ê³ &lt;/h2>
&lt;ul>
&lt;li>
&lt;p>ì†Œì¼“ &lt;a class="link" href="http://www.ktword.co.kr/abbr_view.php?nav=&amp;amp;m_temp1=280&amp;amp;id=742" target="_blank" rel="noopener"
>http://www.ktword.co.kr/abbr_view.php?nav=&amp;m_temp1=280&amp;id=742&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ë„¤íŠ¸ì›Œí¬ ì†Œì¼“ &lt;a class="link" href="https://ko.wikipedia.org/wiki/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%86%8C%EC%BC%93" target="_blank" rel="noopener"
>https://ko.wikipedia.org/wiki/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%86%8C%EC%BC%93&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ì†Œì¼“ í”„ë¡œê·¸ë˜ë° &lt;a class="link" href="https://recipes4dev.tistory.com/153" target="_blank" rel="noopener"
>https://recipes4dev.tistory.com/153&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>UDS (Unix Domain Socket) &lt;a class="link" href="http://www.dreamy.pe.kr/zbxe/CodeClip/119393" target="_blank" rel="noopener"
>http://www.dreamy.pe.kr/zbxe/CodeClip/119393&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[Linux/UDS/Unix Domain Socket] UDS &lt;a class="link" href="https://yaaam.tistory.com/entry/LinuxUDSUnix-Domain-Socket-UDS" target="_blank" rel="noopener"
>https://yaaam.tistory.com/entry/LinuxUDSUnix-Domain-Socket-UDS&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Unix file type &lt;a class="link" href="https://en.wikipedia.org/wiki/Unix_file_types" target="_blank" rel="noopener"
>https://en.wikipedia.org/wiki/Unix_file_types&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>C# - .NET Core Unix Domain Socket ì‚¬ìš© ì˜ˆì œ &lt;a class="link" href="https://www.sysnet.pe.kr/2/0/11963" target="_blank" rel="noopener"
>https://www.sysnet.pe.kr/2/0/11963&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Unix Domain Socket &lt;a class="link" href="https://www.joinc.co.kr/w/Site/system_programing/IPC/Unix_Domain_Socket" target="_blank" rel="noopener"
>https://www.joinc.co.kr/w/Site/system_programing/IPC/Unix_Domain_Socket&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Unix Domain Socket - UDP &lt;a class="link" href="https://www.joinc.co.kr/w/Site/system_programing/IPC/Unix_Domain_Socket_UDP" target="_blank" rel="noopener"
>https://www.joinc.co.kr/w/Site/system_programing/IPC/Unix_Domain_Socket_UDP&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>What is the difference between Unix sockets and TCP/IP sockets? &lt;a class="link" href="https://serverfault.com/questions/124517/what-is-the-difference-between-unix-sockets-and-tcp-ip-sockets" target="_blank" rel="noopener"
>https://serverfault.com/questions/124517/what-is-the-difference-between-unix-sockets-and-tcp-ip-sockets&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>Naver Deview 2020 C++ to Golang ë¦¬ë·°</title><link>https://umi0410.github.io/blog/conferences/naver-deview-2020-cpp-to-golang/</link><pubDate>Thu, 03 Jun 2021 15:46:54 +0900</pubDate><guid>https://umi0410.github.io/blog/conferences/naver-deview-2020-cpp-to-golang/</guid><description>&lt;img src="https://umi0410.github.io/blog/conferences/naver-deview-2020-cpp-to-golang/preview.png" alt="Featured image of post Naver Deview 2020 C++ to Golang ë¦¬ë·°" />&lt;p>&lt;figure style="flex-grow: 190; flex-basis: 456px">
&lt;a href="https://umi0410.github.io/blog/conferences/naver-deview-2020-cpp-to-golang/preview.png" data-size="1443x758">&lt;img src="https://umi0410.github.io/blog/conferences/naver-deview-2020-cpp-to-golang/preview.png"
srcset="https://umi0410.github.io/blog/conferences/naver-deview-2020-cpp-to-golang/preview_hu5e425158693deacd0d5ef6841733ed22_379145_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/conferences/naver-deview-2020-cpp-to-golang/preview_hu5e425158693deacd0d5ef6841733ed22_379145_1024x0_resize_box_3.png 1024w"
width="1443"
height="758"
loading="lazy"
alt="preview.png">
&lt;/a>
&lt;figcaption>preview.png&lt;/figcaption>
&lt;/figure>
&lt;em>ì‚¬ì§„ ì¶œì²˜: &lt;a class="link" href="https://tv.naver.com/v/16972079" target="_blank" rel="noopener"
>https://tv.naver.com/v/16972079&lt;/a>&lt;/em>&lt;/p>
&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;p>ì›ë˜ ê°„ê°„íˆ ì¬ë¯¸ì‚¼ì•„ ê°œë°œ ì»¨í¼ëŸ°ìŠ¤ë“¤ì„ ì°¾ì•„ë³´ê³¤ í•´ì™”ëŠ”ë° ê·¸ëƒ¥ ì“°ìœ½ ë“£ê¸°ë§Œ í•˜ë‹ˆê¹Œ ë¨¸ë¦¬ì— ë‚¨ëŠ” ê²Œ ë³„ë¡œ ì—†ëŠ” ê²ƒ ê°™ì•„ ê°€ë”ì€ ì´ë ‡ê²Œ ë‚´ìš©ì„ ì •ë¦¬í•´ë³´ëŠ” ê¸€ì„ ì¨ë³¼ê¹Œí•œë‹¤. ë‚˜ëŠ” í•™êµ ì‹œí—˜ê³¼ëŠ” ê·¸ë‹¥ ë§ì§€ ì•ŠëŠ” ìŠ¤íƒ€ì¼ ê°™ì•„ì„œ ì‹œí—˜ ê¸°ê°„ì´ ë˜ë©´ ë” ì´ëŸ° ì‹¤ë¬´ì ì¸ ë‚´ìš©ë“¤ì´ ê´œíˆ ë” ëŒë¦¬ëŠ” ê²ƒ ê°™ë‹¤. ì†Œí”„íŠ¸ì›¨ì–´ ê³µí•™ ìˆ˜ì—…ì„ ë“£ë‹¤ê°€ ì§€ë£¨í•´ì ¸ì„œ ë„¤ì´ë²„ d2ë¥¼ ëŒì•„ë‹¤ë‹ˆë˜ ì¤‘ ë„¤ì´ë²„ ë°ë·° 2020ì— Golang ê´€ë ¨ ì˜ìƒì´ ìˆê¸¸ë˜ &lt;em>&amp;ldquo;ì˜¤ì‰?! ë„¤ì´ë²„ ì±„ìš©ì— ê°€ë” Golangì´ ëœ¨ê¸´ í•˜ë˜ë° Golang ì–´ë–»ê²Œ ì“°ë ¤ë‚˜?!&amp;rdquo;&lt;/em> ì‹¶ì€ ë§ˆìŒì— ì˜ìƒì„ ì‹œì²­í•´ë´¤ë‹¤.&lt;/p>
&lt;p>ë‚´ìš©ì„ ê°„ë‹¨íˆ ìš”ì•½í•˜ìë©´ ê¸°ì¡´ì—ëŠ” C++ë¡œ ê²€ìƒ‰ ì—”ì§„ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°œë°œí•´ì™”ê³  í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•˜ëŠ” C++ ê²€ìƒ‰ ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•´ì™”ë‹¤ê³  í•˜ëŠ”ë°, ì´ë¥¼ Golangìœ¼ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ë©´ì„œ ì„±ëŠ¥ì€ ìœ ì§€í•˜ë©´ì„œ Golang íŠ¹ìœ ì˜ ê°„ê²°í•˜ê³  ê°•ë ¥í•œ ê¸°ëŠ¥ë“¤(unit test, benchmark, fmt, build ë“±ë“±)ê³¼ í•¨ê»˜ ë°ë¸Œì˜µìŠ¤ ë¬¸í™”ì— ì˜ ë…¹ì•„ë“¤ ìˆ˜ ìˆì—ˆê³  íŒ€ì›ë“¤ë„ í¸ë¦¬í•¨ì„ ëŠë¼ë©° ìƒì‚°ì„±ê¹Œì§€ ì¡ì„ ìˆ˜ ìˆì—ˆë‹¤ëŠ” ì´ì•¼ê¸°ì´ë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ë³¸ ê¸€ì€ &lt;a class="link" href="https://tv.naver.com/v/16972079" target="_blank" rel="noopener"
>https://tv.naver.com/v/16972079&lt;/a> ì˜ìƒì„ ë°”íƒ•ìœ¼ë¡œ í•´ë‹¹ ë‚´ìš©ì„ ì •ë¦¬í•´ë³¸ ê¸€ì…ë‹ˆë‹¤.&lt;/p>
&lt;/blockquote>
&lt;h2 id="ê²€ìƒ‰-ì„œë¹„ìŠ¤ì˜-íŠ¹ì§•">ê²€ìƒ‰ ì„œë¹„ìŠ¤ì˜ íŠ¹ì§•&lt;/h2>
&lt;p>ìì„¸íˆ ê²€ìƒ‰ ì—”ì§„ì´ ì–´ë–»ê²Œ êµ¬ì„±ë˜ì–´ ìˆëŠ”ì§€, ë‚´ë¶€ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ì €ì¥í•˜ê³  ì§ˆì˜í•˜ëŠ”ì§€, ê²€ìƒ‰ ì„œë¹„ìŠ¤ëŠ” ê²€ìƒ‰ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ ë“±ë“± ì´ëŸ° ë‚´ìš©ë“¤ì„ ì˜ ëª°ë¼ì„œì¸ì§€ ìì„¸íˆ ê²€ìƒ‰ ì—”ì§„ì´ë‚˜ ê²€ìƒ‰ ì„œë¹„ìŠ¤ê°€ ì–´ë–¤ ì‹ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ì§€, ì–´ë–¤ í˜•íƒœë¡œ ê°œë°œë˜ëŠ”ì§€ì— ëŒ€í•´ì„œëŠ” ê°ì´ ì˜ ì¡íˆì§€ ì•ŠëŠ”ë‹¤. í˜¹ì‹œ ìì„¸íˆ ì½”ë“œë¥¼ ë³¼ ìˆ˜ ìˆì—ˆë‹¤ë©´ ì¢‹ì•˜ê² ì§€ë§Œ, ì•„ë¬´ë˜ë„ ê·¸ëŸ¬ê¸°ëŠ” í˜ë“¤ê² ì§€&amp;hellip;ã…œã…œ&lt;/p>
&lt;p>ì•„ë¬´íŠ¼ ê²€ìƒ‰ ì„œë¹„ìŠ¤ëŠ” ë‹¨ì–¸ ì„±ëŠ¥ì´ ì¤‘ìš”í–ˆìœ¼ë©° ì£¼ë¡œ ì§ˆì˜ë¥¼ ë¶„ì„í•˜ê³ , ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì •ë ¬í•˜ëŠ” ë°©ì‹, ë­í‚¹ì— ëŒ€í•œ ëª¨ë¸ë§ ë“±ì˜ ë¡œì§ì´ êµ¬í˜„ë˜ì–´ ìˆë‹¤ê³  í•œë‹¤.&lt;/p>
&lt;p>ê° ì„œë¹„ìŠ¤ë“¤ì€ ìì‹ ë“¤ì˜ ê³ ìœ í•œ ê²€ìƒ‰ ë¡œì§ì„ êµ¬í˜„í•˜ê³ , ì‹¤ì œ ê²€ìƒ‰ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì€ ê²€ìƒ‰ ì—”ì§„ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¼ê³  í•œë‹¤. ì ì  ê²€ìƒ‰ ì—”ì§„ì˜ ê·œëª¨ì™€ ì‹ ê·œ ê²€ìƒ‰ ì„œë¹„ìŠ¤ë“¤ì´ ì¦ê°€í•˜ê²Œ ë˜ë©´ì„œ ê´€ë¦¬ê°€ ì–´ë ¤ì›Œì¡Œë‹¤. ì„œë¹„ìŠ¤ë“¤ì˜ í¬ê¸°ì™€ ìˆ˜ê°€ ì¦ê°€í•˜ë©´ì„œ ë†’ì€ ìƒì‚°ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ê°œë°œ í”„ë¡œì„¸ìŠ¤ë¥¼ í‘œì¤€í™”í•˜ê³  ìë™í™”í–ˆì§€ë§Œ ì¶”ê°€ì ìœ¼ë¡œ ê°œë°œ ì–¸ì–´ì ì¸ ê´€ì ì—ì„œì˜ ê³ ë¯¼ì´ ë“¤ê¸° ì‹œì‘í–ˆë‹¤ê³  í•œë‹¤.&lt;/p>
&lt;p>ê°œì¸ì ìœ¼ë¡œëŠ” ì•„ë¬´ë˜ë„ ì„œë¹„ìŠ¤ê°€ ë§ì•„ì§ˆ ìˆ˜ë¡ ë°ë¸Œì˜µìŠ¤ ë¬¸í™”ê°€ ë§ì´ ë…¹ì•„ë“¤ì–´ì•¼í•œë‹¤ê³  ìƒê°í•˜ëŠ”ë° ì•„ë¬´ë˜ë„ ë§ì€ ê²ƒë“¤ì„ ìë™í™”í•˜ê¸° ìœ„í•´ì„œëŠ” ì–¸ì–´ ì°¨ì›ì—ì„œ ê°•ë ¥í•˜ê³  í¸ë¦¬í•œ CLI ê¸°ëŠ¥ë“¤ì¼ ì˜ ì§€ì›ë˜ì–´ì•¼í•œë‹¤ê³  ìƒê°í•˜ê³ , ì§€ì†ì ì¸ í†µí•©ì„ ìœ„í•´ì„œë„ í¸ë¦¬í•œ í…ŒìŠ¤íŠ¸ê°€ ì§€ì›ë˜ì–´ì•¼í•œë‹¤ê³  ìƒê°í•œë‹¤. C++ì„ ë§ì´ í•´ë³´ì§„ ì•Šì•„ ì˜ ëª¨ë¥´ê² ì§€ë§Œ, ì•„ë¬´ë˜ë„ Goê°€ ê°„ë‹¨í•œ ëª…ë ¹ì–´ë“¤ì„ í†µí•´ IaCë„ ê³ë“¤ì´ë©° ë§ì€ ì‘ì—…ë“¤ì„ ìë™í™”í•˜ê¸° ë” í¸ë¦¬í•˜ê³ , unit testë¥¼ ì‘ì„±í•´ê°€ë©° TDDì‹ìœ¼ë¡œ ê°œë°œí•˜ê¸°ì—ë„ í¸ë¦¬í•˜ì§€ ì•Šì„ê¹Œ ì‹¶ë‹¤.&lt;/p>
&lt;p>ê°œì¸ì ì¸ ì˜ê²¬ì´ì—ˆê³ , ì–´ì¨Œë“  ì´ íŒ€ì—ì„œëŠ” ê²°êµ­ íš¨ìœ¨ì ìœ¼ë¡œ DevOps ë¬¸í™”ì— ë…¹ì¼ ìˆ˜ ìˆìœ¼ë©´ì„œ ì–´ëŠ ì •ë„ ë†’ì€ ì„±ëŠ¥ì´ ë³´ì¥ë˜ê³  ìƒì‚°ì„±ì„ ìœ ì§€í•˜ê¸°ë„ ì‰¬ìš´ ì–¸ì–´ë¥¼ ìƒê°í•˜ê²Œ ë˜ì—ˆê³  Goê°€ ì í•©í•˜ë‹¤ê³  íŒë‹¨í–ˆë‹¤ê³  í•œë‹¤.&lt;/p>
&lt;h3 id="goì˜-íŠ¹ì§•">Goì˜ íŠ¹ì§•&lt;/h3>
&lt;p>&lt;figure style="flex-grow: 167; flex-basis: 403px">
&lt;a href="https://umi0410.github.io/blog/conferences/naver-deview-2020-cpp-to-golang/golang-features.png" data-size="677x403">&lt;img src="https://umi0410.github.io/blog/conferences/naver-deview-2020-cpp-to-golang/golang-features.png"
srcset="https://umi0410.github.io/blog/conferences/naver-deview-2020-cpp-to-golang/golang-features_huaa76818015d18d3c1a3712df1003e941_135479_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/conferences/naver-deview-2020-cpp-to-golang/golang-features_huaa76818015d18d3c1a3712df1003e941_135479_1024x0_resize_box_3.png 1024w"
width="677"
height="403"
loading="lazy"
alt="golang-features.png">
&lt;/a>
&lt;figcaption>golang-features.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;em>(ì´í•´ë¥¼ ë•ê³ ì ë°œí‘œ PPTì—ì„œ í•˜ë‚˜ ìº¡ì³í•´ì™”ìŠµë‹ˆë‹¤.)&lt;/em>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ì„±ëŠ¥ì´ ë†’ìœ¼ë©´ì„œ GCë¥¼ ì§€ì›í•œë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 249; flex-basis: 599px">
&lt;a href="https://umi0410.github.io/blog/conferences/naver-deview-2020-cpp-to-golang/discord-golang.png" data-size="1067x427">&lt;img src="https://umi0410.github.io/blog/conferences/naver-deview-2020-cpp-to-golang/discord-golang.png"
srcset="https://umi0410.github.io/blog/conferences/naver-deview-2020-cpp-to-golang/discord-golang_hu9d35e1072dc27b63bebc5d232adf9291_65242_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/conferences/naver-deview-2020-cpp-to-golang/discord-golang_hu9d35e1072dc27b63bebc5d232adf9291_65242_1024x0_resize_box_3.png 1024w"
width="1067"
height="427"
loading="lazy"
alt="discord-golang.png">
&lt;/a>
&lt;figcaption>discord-golang.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ì¶œì²˜ - ë””ìŠ¤ì½”ë“œ ë¸”ë¡œê·¸(&lt;a class="link" href="https://blog.discord.com/why-discord-is-switching-from-go-to-rust-a190bbca2b1f" target="_blank" rel="noopener"
>https://blog.discord.com/why-discord-is-switching-from-go-to-rust-a190bbca2b1f&lt;/a>)&lt;/p>
&lt;ul>
&lt;li>ê³¼ê±° ë””ìŠ¤ì½”ë“œì—ì„œëŠ” Goì˜ GCë¡œ ì¸í•´ ê°„í˜¹ CPUê°€ Spikeì¹˜ëŠ” ê²½í—˜ì„ í–ˆê³  Rustë¡œ ì˜®ê²¨ê°”ë‹¤ëŠ” ì´ì•¼ê¸°ê°€ ìˆëŠ”ë°, ì´ì— ëŒ€í•´ì„œëŠ” Go communityì—ì„œë„ ë‹¤ì–‘í•œ ì˜ê²¬ì´ ìˆì—ˆë˜ ê²ƒ ê°™ë‹¤. ìµœê·¼ ë²„ì ¼ì˜ Goì—ì„œëŠ” í•´ë‹¹ ì´ìŠˆê°€ í”½ìŠ¤ë˜ì—ˆë‹¤ëŠ” ì˜ê²¬ë„ ìˆê³ , ê·¸ ì •ë„ Spikeê°€ ìˆì–´ë„ GCê°€ ê°€ì ¸ë‹¤ ì£¼ëŠ” ìƒì‚°ì„±ì´ ë” í¬ê¸° ë•Œë¬¸ì— ê°ìˆ˜í•´ì•¼í•œë‹¤ëŠ” ì˜ê²¬ë„ ìˆì—ˆë˜ ê²ƒ ê°™ë‹¤. í•˜ì§€ë§Œ ì—¬íƒœê¹Œì§€ëŠ” ë„¤ì´ë²„ì—ì„œ Golangì„ ì´ìš©í•˜ë©´ì„œ ëª¨ë‹ˆí„°ë§í•´ë´¤ì„ ë•ŒëŠ” GCë¡œ ì¸í•œ ë§ì½ì€ ì—†ì—ˆë‹¤ëŠ” ê²ƒ ê°™ë‹¤!&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Pointerì˜ ê°œë…ì´ ì—¬ì „íˆ ì¡´ì¬í•˜ì§€ë§Œ ë°°ìš°ê¸° ì‰½ë‹¤.&lt;/p>
&lt;ul>
&lt;li>ì´ ë¶€ë¶„ ê°™ì€ ê²½ìš°ëŠ” ë‚´ê°€ Dockerë¥¼ ì²˜ìŒ ë°°ìš°ë˜ ì‹œì ˆì— ëŠê¼ˆë˜ ê²ƒê³¼ ìœ ì‚¬í•œ ê²ƒ ê°™ë‹¤. ì‚¬ìš©ë²•ì´ ì–´ë ¤ìš´ ê²Œ ì•„ë‹ˆë¼ ê·¸ê²Œ ì™œ í•„ìš”í•œ ì§€ ì´í•´í•˜ê³  ì˜ ì‚¬ìš©í•˜ëŠ” ê²Œ ì–´ë ¤ìš´ ëŠë‚Œì´ë‹¤.&lt;/li>
&lt;li>ê·¼ë° Goê°€ ì–´ë ¤ìš´ ê²ƒì€ ë³´í†µ &amp;ldquo;ì–´ë–»ê²Œ í•´ì•¼ Concurrency programmingì˜ ì¥ì ì„ ì˜ ì´ëŒì–´ ë‚¼ ìˆ˜ ìˆì„ê¹Œ?&amp;rdquo;, &amp;ldquo;channelì„ í†µí•œ communication, synchronizationì„ ì–´ë–»ê²Œ í•´ì•¼ ì˜ ì´ìš©í• ê¹Œ?&amp;rdquo; ì™€ ê°™ì€ ë‚´ìš©ë“¤ì¸ë° ë¬¼ë¡  Goê°€ ê·¸ëŸ° ë¶€ë¶„ì—ì„œ ì¥ì ì„ ê°€ì§„ ê²ƒì€ ë§ì§€ë§Œ ì´ëŸ° ë¶€ë¶„ì„ ê¼­ ì´ìš©í•˜ì§€ ì•Šë”ë¼ë„ ì´ì œëŠ” Goê°€ ì¶©ë¶„íˆ ê·¸ ì™¸ì˜ ë§¤ë ¥ë„ ë§ë‹¤ëŠ” ê²ƒì´ ì ì  ì¸ì •ë°›ê³  ìˆëŠ” ê²ƒ ê°™ì•„ ë‹¤ì–‘í•˜ê²Œ ì‚¬ìš©ë˜ê³  ìˆëŠ” ê²ƒ ê°™ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ &lt;code>prometheus&lt;/code>ë‚˜ &lt;code>docker&lt;/code> cli ê°™ì€ Goë¡œ ì‘ì„±ëœ ìœ ëª…í•œ ì˜¤í”ˆì†ŒìŠ¤ë“¤ì˜ ì½”ë“œë¥¼ ê¹Œë´ë„ ê·¸ë‹¥ &lt;em>&amp;lsquo;ì™€ ì´ê±¸ ë™ì‹œì„±ì„ ì´ìš©í•´ì„œ í’€ì–´ëƒˆë„¤..!&amp;rsquo;&lt;/em>, &lt;em>&amp;lsquo;ì™€ ì´ê±¸ channelë“¤ë¡œ pipelineì„ ë§Œë“¤ì–´ì„œ ì§„í–‰í•˜ë„¤?!&amp;rsquo;&lt;/em> ì´ëŸ° ë¶€ë¶„ì€ ì°¾ê¸° í˜ë“¤ì—ˆë˜ ê²ƒ ê°™ë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>íŒ¨í‚¤ì§€ ê´€ë¦¬ê°€ ì‰½ë‹¤.&lt;/p>
&lt;ul>
&lt;li>ë”°ë¡œ npmì´ë‚˜ pypi ê°™ì€ ê³³ì— ì—…ë¡œë“œ í•  í•„ìš”ë„ ì—†ê³  Gitì„ ê¸°ë°˜ìœ¼ë¡œ í•´ì„œ releaseë‚˜ commit ë‹¨ìœ„ë¡œë„ íŒ¨í‚¤ì§€ì˜ ë²„ì ¼ì„ ì§€ì •í•  ìˆ˜ ìˆì–´ ê°œì¸ì ìœ¼ë¡œë„ ì•„ì£¼ ë§˜ì— ë“ ë‹¤!&lt;/li>
&lt;li>íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•  ë•Œì—ë„ &lt;code>$ go get ...&lt;/code> ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ë©´ ë˜ì§€ë§Œ ë³´í†µì€ ê·¸ëƒ¥ &lt;code>Jetbrains&lt;/code>ì‚¬ì˜ &lt;code>Goland&lt;/code> IDEì—ì„œ ê·¸ëƒ¥ Alt + Enterë¥¼ ì—°íƒ€í•´ì„œ ì´ìš© ì¤‘ì´ë‹¤ ã…ã……ã…&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Unit testë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ ì§€ì›í•´ì£¼ê³  í…ŒìŠ¤íŠ¸ í•˜ê¸°ê°€ ì•„ì£¼ í¸í•˜ë‹¤.&lt;/p>
&lt;ul>
&lt;li>ë‚´ê°€ ì²˜ìŒ TDDë¥¼ ì‹œì‘í•˜ê³  Unit test ì‘ì„±ì„ ì‹œì‘í–ˆë˜ ê²ƒë„ Goë¥¼ ê³µë¶€í•˜ë©´ì„œ ì˜€ë‹¤! ëª‡ ë…„ ì „ node.jsë¥¼ ë§‰ ê³µë¶€í–ˆì„ ë•Œ Test codeë¥¼ ì§œë³¼ê¹Œì‹¶ì–´ì„œ test frameworkë“¤ì— ëŒ€í•´ ì•Œì•„ë´¤ëŠ”ë° ê·¸ëƒ¥ í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ë¥¼ ê³ ë¥´ëŠ” ê²ƒë¶€í„°ê°€ í˜ë“¤ì–´ì„œ &amp;lsquo;ì—ì‡&amp;hellip;ã…ã… í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ìŒì—..ã…ã…&amp;rsquo; í–ˆë˜ ê¸°ì–µì´ ë‚œë‹¤.&lt;/li>
&lt;li>ìš”ì¦˜ì€ ì£¼ë¡œ Springìœ¼ë¡œ Test codeë¥¼ ì§œê³  ìˆë‹¤. ë„ˆë¬´ë‚˜ë„ í¸ë¦¬í•˜ë‹¤. í•˜ì§€ë§Œ Springì€ ê·¸ëŸ° í¸ë¦¬í•¨ì„ ëˆ„ë¦¬ê¸° ìœ„í•´ ì•Œì•„ì•¼í•  ë‚´ìš©ì´ ë„ˆë¬´ë„ ë§ì€ ê²Œ ì‚¬ì‹¤ì´ë‹¤. testì‹œì—ëŠ” ì–´ë–¤ profileì„ ì´ìš©í• ì§€, Configurationì€ ì–´ë–¤ ê±¸ ì‚¬ìš©í•  ê²ƒì¸ì§€, Beanì„ ì–´ë–»ê²Œ ì´ˆê¸°í™” í•  ê²ƒì¸ì§€ ë“±ë“±ì„ ì„¤ì •í•´ì¤˜ì•¼í•˜ê³  ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ì•Œì•„ì•¼í•œë‹¤. ê·¸ë¦¬ê³  ì†”ì§íˆ&amp;hellip; í•œ ë²ˆ ê·¸ë ‡ê²Œ ê³µë¶€í•˜ê³  ë‚œ ë’¤ì— í…ŒìŠ¤íŠ¸ë¥¼ ì§œë‹¤ê°€ ë‹¤ë¥¸ Layerì˜ ì½”ë“œì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ë ¤ë©´ ë‹¤ì‹œ &amp;lsquo;ìŒ..? ì–´ë–»ê²Œ ë™ì‘í•˜ë”ë¼&amp;hellip;..&amp;rsquo; í•˜ê³ ëŠ” ë‹¤ì‹œ ë‚´ìš©ë“¤ì„ ì°¾ì•„ë´ì•¼í•˜ëŠ” ê²½ìš°ë„ ë§ì•˜ë˜ ê²ƒ ê°™ë‹¤.&lt;/li>
&lt;li>ë°˜ë©´ GoëŠ” ê°„ê²°í•˜ê³  ì§ê´€ì ìœ¼ë¡œ ì‰½ê²Œ ì‰½ê²Œ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆë‹¤. ë³„ë¡œ ê³ ë¯¼í•  ê²ƒë“¤ë„ ì—†ë‹¤.&lt;/li>
&lt;li>ë‹¤ë§Œ ì´ˆí¼ ì•„ì‰¬ìš´ ê±´ mockingì„ í•˜ë ¤ë©´ ë‹¤ interfaceë¡œ ì„ ì–¸í•´ì•¼í•œë‹¤ëŠ” ê²ƒê³¼ mocking typeì„ ìë™ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° í˜ë“¤ê³  mocking libraryë¥¼ ì„ íƒí•˜ê³  ìµí˜€ì•¼í•œë‹¤ëŠ” ê²ƒ..?&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="swigë¥¼-ë„ì…í–ˆë‹¤">SWIGë¥¼ ë„ì…í–ˆë‹¤.&lt;/h3>
&lt;p>C/C++ ë“±ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ Go(í˜¹ì€ ê·¸ ì™¸ì˜ ë‹¤ì–‘í•œ ì–¸ì–´)ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì¶”ìƒí™” ì‹œì¼œì£¼ëŠ” ì˜¤í”ˆì†ŒìŠ¤&lt;/p>
&lt;p>SWIGì— ëŒ€í•œ ì„¤ëª…ì„ í•˜ê¸´ í•˜ì§€ë§Œ ê²°êµ­ ìš”ì ì€ C++ â‡’ Go ë¡œ ë„˜ì–´ê°ˆ ë•Œ ê¸°ì¡´ ì½”ë“œë¥¼ ëª¨ë‘ ë²„ë¦° ê²ƒì´ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ë°©ë²•ì€ ì—†ì„ê¹Œ ì•Œì•„ë³´ê³  ì ì ˆí•œ ê¸°ìˆ ì„ ë¹ ë¥´ê²Œ ì±„íƒí–ˆë‹¤ëŠ” ì ì´ ì¤‘ìš”í•œ ì  ê°™ë‹¤.&lt;/p>
&lt;p>ë§Œì•½ C++â‡’ Golangì„ ê³ ë ¤ì¤‘ì¸ ê¸°ì—…ì´ë‚˜ ê°œë°œìë¶„ì´ ê³„ì‹œë‹¤ë©´ ì¢‹ì€ ì°¸ê³ ìë£Œê°€ ë  ê²ƒ ê°™ê¸´í•˜ë‹¤.&lt;/p>
&lt;p>ë‚˜ì—ê²ŒëŠ” ë³„ë¡œ í•„ìš” ì—†ìœ¼ë‹ˆ íŒ¨ìŠ¤í•˜ê² ë‹¤~!&lt;/p>
&lt;h2 id="swigë¥¼-ì´ìš©í–ˆì§€ë§Œ-ê·¸ëŸ¼ì—ë„-ì¡´ì¬í–ˆë˜-goì™€-cì˜-ì–¸ì–´ì -ì°¨ì´">SWIGë¥¼ ì´ìš©í–ˆì§€ë§Œ ê·¸ëŸ¼ì—ë„ ì¡´ì¬í–ˆë˜ Goì™€ C++ì˜ ì–¸ì–´ì  ì°¨ì´&lt;/h2>
&lt;p>Goì—ì„œ C++ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ë©´ì„œ ëª©í‘œëŠ” &lt;strong>&amp;ldquo;GoëŠ” Goë‹µê²Œ!&amp;rdquo;&lt;/strong> ì´ìš©í•˜ëŠ” ê²ƒìœ¼ë¡œ ì •í–ˆë‹¤ê³  í•œë‹¤. ì´ íŒŒíŠ¸ë„ ê±°ì˜ SWIG íŠ¹í™” ë‚´ìš©ì´ë¼ íŒ¨ìŠ¤í•˜ë„ë¡ í•˜ê² ë‹¤.&lt;/p>
&lt;p>ë‹¤ë§Œ ë¬´ìŠ¨ ì‘ì—…ì„ í•  ë•Œ ì €ëŸ° ì‹ìœ¼ë¡œ ìŠ¬ë¡œê±´ì´ë‚˜ ëª©í‘œë¥¼ ì •í•´ë†“ê³  ë‚˜ì•„ê°€ëŠ” ê²ƒì€ ì¢‹ì€ ë°©í–¥ì¸ ê²ƒ ê°™ì•˜ë‹¤.&lt;/p>
&lt;p>ê°€ë” ì‘ì—…ì„ í•˜ê±°ë‚˜ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë‹¤ë³´ë©´ ì¼ê´€ì„±ì´ íë ¤ì§€ëŠ” ê²½ìš°ê°€ ìˆëŠ” ê²ƒ ê°™ë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ì–¼ë§ˆì „ í† ìŠ¤ì˜ ì»¨í¼ëŸ°ìŠ¤ì—ì„œë„ ê²°ì œ SDK, APIë¥¼ ë§Œë“¤ë©´ì„œ API Naming ê°™ì€ ê²ƒì„ í•  ë•Œì˜ íŒ€ ë‚´ ë£°ì„ ì„¤ëª…í•´ì¤¬ë˜ ê²ƒ ê°™ë‹¤. ê·¸ ì •ë„ë¡œ í˜‘ì—…ì„ í•  ë•Œ ì¼ì •í•œ ë£°ì„ ì •í•´ë†“ê³  ê·¸ê²ƒì„ ì¤€ìˆ˜í•˜ëŠ” ê²ƒì€ ì°¸ ì¤‘ìš”í•  ê²ƒ ê°™ë‹¤ëŠ” ê²Œ ë‹¤ì‹œ í•œ ë²ˆ ì™€ë‹¿ì•˜ë‹¤!&lt;/p>
&lt;h2 id="shared-memoryë¥¼-ì´ìš©í•´-ë©€í‹°-í”„ë¡œì„¸ìŠ¤ë¡œ-ì‘ì—…í•˜ë˜-ê¸°ì¡´-ë°©ì‹">Shared memoryë¥¼ ì´ìš©í•´ ë©€í‹° í”„ë¡œì„¸ìŠ¤ë¡œ ì‘ì—…í•˜ë˜ ê¸°ì¡´ ë°©ì‹&lt;/h2>
&lt;p>ê¸°ì¡´ì˜ Apache MPM Preforkë¥¼ ì´ìš©í•˜ë˜ ë°©ì‹ì—ì„œëŠ” ë©€í‹° í”„ë¡œì„¸ì‹±ì„ í†µí•´ ë³‘ë ¬ì„±, ë™ì‹œì„±ì„ ì´ìš©í–ˆë‹¤ê³ í•œë‹¤. ì´ë•Œ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ê³µìœ í•˜ëŠ” Shared cacheë¥¼ ì´ìš©í–ˆê³  ì´ ìºì‹œëŠ” Key-value í˜•ì‹ì˜ Mapì´ì—ˆë‹¤ê³  í•œë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ GoëŠ” ë©€í‹°í”„ë¡œì„¸ì‹± ë°©ì‹ë³´ë‹¤ëŠ” Goroutineì„ ì´ìš©í•œ ë™ì‹œì„± í”„ë¡œê·¸ë˜ë°ê³¼ channelì„ ì´ìš©í•œ goroutineê°„ì˜ communicationì„ ê¶Œì¥í•œë‹¤.&lt;/p>
&lt;p>ê¸°ì¡´ì—ëŠ” multi-processì—ì„œ shared memory í˜•íƒœì˜ shared cacheë¥¼ ì´ìš©í–ˆëŠ”ë° ì´ê²ƒì„ ìœ ì‚¬í•˜ê²Œ ì´ìš©í•  ë°©ë²•ì„ ì˜ ì°¾ì§€ ëª»í–ˆë‹¤ê³  í•œë‹¤. ê·¸ ì´ìœ ëŠ” Goroutineê°„ì˜ ë°ì´í„° ê³µìœ ëŠ” ì§ì ‘ ê³µìœ ê°€ ì•„ë‹Œ channelì„ ì´ìš©í•œ communication ë°©ì‹ì„ ì´ìš©í•  ê²ƒì´ ëŒ€ì²´ë¡œ ê¶Œì¥(ì¦‰ ê¸°ì¡´ì˜ ë°©ì‹ê³¼ ë„ˆë¬´ ë‹¤ë¥¸ ë°©ì‹)ë˜ì—ˆê³ , ê·¸ ì´ì™¸ì˜ ë°©ë²•ë“¤ì€ ì„œë²„/í´ë¼ì´ì–¸íŠ¸ ë°©ì‹ì´ë‚˜ gRPC ë°©ì‹ì´ì—ˆê¸° ë•Œë¬¸ì´ë¼ê³  í•œë‹¤. ê·¸ë¦¬ê³  ê²°ê³¼ì ìœ¼ë¡œëŠ” ì´ëŸ° ë°©ì‹ë“¤ë³´ë‹¤ëŠ” Memoryìƒì˜ SQLiteë¥¼ ì´ìš©í•˜ê¸°ë¡œ í–ˆë‹¤ê³  í•œë‹¤.&lt;/p>
&lt;p>ì•„ë§ˆ ì—¬ëŸ¬ Goroutineì´ ë™ì‹œì ìœ¼ë¡œ ì ‘ê·¼í•´ë„ SQLiteë„ ë‚˜ë¦„ì˜ DBë¼ì„œ ì—¬ëŸ¬ goroutineì´ ë™ì‹œì ìœ¼ë¡œ ë™ì‘í•´ë„ ë™ì‹œì„± ë¬¸ì œê°€ ì—†ì„ ê²ƒì´ê³ , ë“œë¼ì´ë¸Œê°€ ì•„ë‹Œ ë©”ëª¨ë¦¬ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•˜ë„ë¡ ì„¤ì •ë„ ê°€ëŠ¥í•´ ì†ë„ë„ ë¹ ë¥´ê¸° ë•Œë¬¸ì´ ì•„ë‹ê¹Œ ì‹¶ë‹¤. í•˜ì§€ë§Œ ê°œì¸ì ìœ¼ë¡œëŠ” ì—¬ê¸°ì„œ ì´í•´ë˜ì§€ ì•ŠëŠ” ë‚´ìš©ì´ ê½¤ ë§ì´ ì¡´ì¬í•œë‹¤. GoëŠ” goroutineê°„ì˜ ë°ì´í„° ê³µìœ ë¥¼ ì£¼ë¡œ communicationì„ ì´ìš©í•  ê²ƒì´ ê¶Œì¥ëœë‹¤ê³  í•˜ì…¨ëŠ”ë° ê·¸ëŸ° ê²½ìš°ëŠ” ë‹¤ìŒê³¼ ê°™ì§€ ì•Šì„ê¹Œ ì‹¶ë‹¤.&lt;/p>
&lt;ol>
&lt;li>goroutineì´ ì„œë¡œê°„ì— ë°ì´í„°ë¥¼ ping pongí•˜ë©° ì£¼ê³  ë°›ìœ¼ë©° ë™ì‘í•˜ëŠ” ê²½ìš°&lt;/li>
&lt;li>ì—¬ëŸ¬ ìŠ¤ë ˆë“œ(í˜¹ì€ ê³ ë£¨í‹´ í˜¹ì€ í”„ë¡œì„¸ìŠ¤)ê°€ ë™ì‹œì— ì´ìš© ê°€ëŠ¥í•˜ë„ë¡ ë™ê¸°í™”ê°€ ì§€ì›ë˜ëŠ” íì²˜ëŸ¼ ì´ìš©í•  ê²½ìš°&lt;/li>
&lt;li>semaphoreì²˜ëŸ¼ ì‘ì—…ëŸ‰ì„ ì¡°ì ˆí•˜ë ¤ëŠ” ê²½ìš°&lt;/li>
&lt;/ol>
&lt;p>í•˜ì§€ë§Œ ì´ëŸ° communicate ë°©ì‹ ë§ê³ ë„ Goì—ë„ ì¶©ë¶„íˆ Mutexê°€ ì œê³µë˜ê³  ê²Œë‹¤ê°€ Read/Writeì— ëŒ€í•´ ë‹¤ë¥´ê²Œ Lockì„ ê±¸ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ë„ ìˆëŠ”ë°, êµ³ì´ SQLite3ë¥¼ ì‚¬ìš©í•  í•„ìš”ê°€ ìˆì—ˆì„ê¹Œ ì‹¶ê¸°ë„í•˜ë‹¤. ì•„ë‹ˆë©´ ë‹¤ë¥¸ ê´€ì ì—ì„œ ë´¤ì„ ë• Goì˜ Mutex ê¸°ëŠ¥ì„ ì´ìš©í•˜ëŠ” ê²ƒì´ ê·¸ë¦¬ ì‰¬ìš´ í¸ì€ ì•„ë‹ˆë¼ëŠ” ì ì—ì„œ ë„ˆë¬´ GoìŠ¤ëŸ¬ìš´ ë°©ì‹ì„ ì ê·¹ í™œìš©í•˜ëŠ” ìª½ ë³´ë‹¤ëŠ” ê·¸ëƒ¥ ì¼ë°˜ì ì¸ ê°œë°œìë“¤ì´ ì¹œìˆ™í•œ SQLiteì™€ Databaseì ì¸ íŠ¹ì§•ì„ ì´ìš©í•˜ëŠ” ìª½ì´ í˜‘ì—…í•˜ê¸°ì— ë” ì¢‹ì„ ìˆ˜ë„ ìˆì„ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;h2 id="ì„±ëŠ¥">ì„±ëŠ¥&lt;/h2>
&lt;p>Goê°€ C++ ë³´ë‹¤ ë‚˜ì€ ì„±ëŠ¥ì„ ë³´ì—¬ì£¼ëƒë³´ë‹¤ëŠ” Goê°€ C++ë§Œí¼ì˜ ì„±ëŠ¥ì„ ë‚¼ ìˆ˜ ìˆëŠ”ê°€ì˜ ê´€ì ì—ì„œ í‰ê°€í–ˆë‹¤ê³ í•œë‹¤. ê·¸ë¦¬ê³  GoëŠ” ê¸°ì¡´ì˜ C++ ê²€ìƒ‰ì—”ì§„ ë§Œí¼ì˜ ì‘ì—… ì²˜ë¦¬ëŸ‰ì„ ë³´ì—¬ì¤¬ë‹¤ê³ í•œë‹¤.&lt;/p>
&lt;p>ê¸°ë³¸ì ìœ¼ë¡œ Go Binaryê°€ í° í¸ì´ê³  Shared memoryë¥¼ ì´ìš©í•˜ë˜ ê²ƒì„ SQLite3ë¥¼ ì“´ ì ì—ì„œ ë©”ëª¨ë¦¬ì˜ ì°¨ê°€ ì¢€ í¬ê²Œ ë‚œ ê²ƒ ê°™ë‹¤ê³  í•œë‹¤.&lt;/p>
&lt;h2 id="ìƒì‚°ì„±ì´-ì •ë§-ì¢‹ì•„ì¡ŒëŠ”ê°€">ìƒì‚°ì„±ì´ ì •ë§ ì¢‹ì•„ì¡ŒëŠ”ê°€?&lt;/h2>
&lt;p>4ëª…ì´ì„œ ì‹œì‘í•œ í‚¥ì˜¤í”„, 5ê°œì›”ë§Œì— ê²€ìƒ‰ì—”ì§„ì„ Goê¸°ë°˜ì˜ ëª¨ë“ˆë¡œ ì „í™˜ ì™„ë£Œ&lt;/p>
&lt;ul>
&lt;li>GoëŠ” C++ì— ë¹„í•´ ëŸ¬ë‹ ì»¤ë¸Œê°€ ë‚®ë‹¤ê³  ìƒê°&lt;/li>
&lt;li>í…ŒìŠ¤íŠ¸ë¥¼ ì§œëŠ” ê²ƒë„ ëŒë¦¬ëŠ” ê²ƒë„ ì‰¬ì›€&lt;/li>
&lt;li>go build, go test, go test -bench, godoc ë“±ì˜ ê¸°ë³¸ ëª…ë ¹ì–´ë¥¼ í†µí•´ ë¹Œë“œ, í…ŒìŠ¤íŠ¸, ë²¤ì¹˜ë§ˆí¬, ë¬¸ì„œí™”ë“±ì„ ì´ìš©ê°€ëŠ¥&lt;/li>
&lt;li>gofmtë‚˜ goimport í†µì¼ëœ ê¸°ëŠ¥ê³¼ ê°™ì€ ê¹ê¹í•œ Compilerë¡œ ì¸í•´ ê¹”ë”í•œ ì½”ë“œ ìœ ì§€ ê°€ëŠ¥.&lt;/li>
&lt;li>íŒ¨í‚¤ì§•ì´ ì•„ì£¼ ê°„ë‹¨í•˜ë‹¤. go.modì— í•œ ì¤„ë§Œ ì¶”ê°€í•˜ë©´ ë¨. ì†ŒìŠ¤ë„ ê¹Œë³´ê¸° ì‰¬ì›€.&lt;/li>
&lt;/ul>
&lt;h2 id="c--golangìœ¼ë¡œ-ë§ˆì´ê·¸ë ˆì´ì…˜-í•œ-ë’¤-ê³ ê°ì˜-ì†Œë¦¬-ê²€ìƒ‰-ì—”ì§„-ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼-ì´ìš©í•œ-íƒ€-ë¶€ì„œ-ì‚¬ëŒë“¤ì˜-ì˜ê²¬">C++ â‡’ Golangìœ¼ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ í•œ ë’¤ ê³ ê°ì˜ ì†Œë¦¬ (ê²€ìƒ‰ ì—”ì§„ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•œ íƒ€ ë¶€ì„œ ì‚¬ëŒë“¤ì˜ ì˜ê²¬)&lt;/h2>
&lt;ul>
&lt;li>ë¡œì§ íŒŒì•…ì´ ì‰½ê³ , ë‹¤ë¥¸ ê°œë°œìì˜ ì½”ë“œë¥¼ Import í•˜ê¸° ì‰¬ì› ë‹¤.&lt;/li>
&lt;li>TDDë¥¼ ì ìš©í•´ë³¼ ìˆ˜ ìˆì—ˆë‹¤.&lt;/li>
&lt;li>í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬(marshaling ë“±ë“±)ì´ íŒŒì›Œí’€í–ˆë‹¤.&lt;/li>
&lt;li>ë‹¨ìˆœí•˜ê³  ëŸ¬ë‹ ì»¤ë¸Œê°€ ì ì–´ì„œ ì¢‹ì•˜ë‹¤.&lt;/li>
&lt;/ul>
&lt;p>ê°œì¸ì ìœ¼ë¡œëŠ” í™•ì‹¤íˆ Go ì½”ë“œê°€ê°€ ì—„ì²­ ì½ê¸° ì‰½ê¸´í•˜ë‹¤. ë¶ˆí•„ìš”í•œ ì½”ë“œëŠ” ì• ì´ˆì— ì»´íŒŒì¼ëŸ¬ê°€ í—ˆê°€í•´ì£¼ì§€ ì•Šìœ¼ë‹ˆ ì½ëŠ” ì‚¬ëŒ ì…ì¥ì—ì„œëŠ”
ëª¨ë“  ì½”ë“œê°€ í•„ìš”í•œ ë‚´ìš©ë“¤ë¡œ êµ¬ì„±ë˜ì–´ìˆìœ¼ë‹ˆ ê°„ê²°í•˜ë‹¤. ë˜í•œ ê°•í•œ Type ê°•ì œ ì–¸ì–´ë‹µê²Œ ì–´ë–¤ ë©”ì†Œê°€ë“œê°€ ì–´ë–¤ ê²ƒì„ ë¦¬í„´í•˜ëŠ”ì§€, ì–´ë–¤ ì¸ìë¥¼ í•„ìš”ë¡œ í•˜ëŠ”ì§€ê°€
ë¶„ëª…í•˜ë‹¤. ê²Œë‹¤ê°€ Type ì–¸ì–´ì´ë©´ì„œë„ Javaì™€ ë‹¬ë¦¬ ì•ì„œ ë§í–ˆë“¯ì´ ê°„ê²°í•˜ë©´ì„œë„ ê°•ë ¥í•˜ê³  í†µì¼ëœ ê¸°ëŠ¥ë“¤ì„ ì œê³µí•œë‹¤.
ì•½ê°„ ìë°”ëŠ” ê¸°ëŠ¥ë„ ì—„ì²­ ë§ì€ ëŒ€ì‹  ì„¤ì •í•´ì•¼í•˜ëŠ” ê²ƒë„ ë„ˆë¬´ ë§ì•„ ë²ˆê±°ë¡œìš¸ ë•Œê°€ ìˆëŠ” ë°˜ë©´ GoëŠ” &amp;ldquo;ìš°ë¦¬ê°€ í‘œì¤€ìœ¼ë¡œ ì •ì˜í•œ ëŒ€ë¡œ í•´!&amp;ldquo;ë¼ê³  ê°•ì œí•˜ëŠ” ëŠë‚Œì´ ìˆëŠ”ë°
ê·¸ í‘œì¤€ì´ ê½¤ë‚˜ ê¹”ë”í•´ì„œ ë°˜ë°•ì˜ ì—¬ì§€ê°€ ì ì€ ê²ƒ ê°™ë‹¤. ë§ˆì¹˜ CISC(Complex Instruction Set Architecture)ì˜ í˜•íƒœë¡œ ë°œì „í•˜ë‹¤ &lt;em>&amp;ldquo;ì•„ ëª°ë¼! ë„ˆë¬´ ë³µì¡í•´. ë‹¤ì‹œ ê°„ë‹¨í•˜ê²Œ í•´!!!&amp;rdquo;&lt;/em> ë¼ë©° RISCì˜ í˜•íƒœë¡œ ë°œì „ëœ ëŠë‚Œì´ë„ê¹Œ&amp;hellip;ã…ã…&lt;/p>
&lt;h2 id="ì´í‰-ë°-ì˜ê²¬">ì´í‰ ë° ì˜ê²¬&lt;/h2>
&lt;p>ì‹¤ì œë¡œ ê¸°ì¡´ C++ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ Goë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ í•´ë³´ì•˜ìœ¼ë©°, Goë¥¼ ëª¨ë¥´ë˜ íƒ€ë¶€ì„œ ê°œë°œìë“¤ë„ Goë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¬´ë¦¬ ì—†ì´ ì´ìš©í–ˆë‹¤ëŠ” ì°ì´ í¥ë¯¸ë¡œì› ê³ , ë‹¹ê·¼ë§ˆì¼“ì´ ê·¸ëŸ¬í–ˆë“¯ ë„¤ì´ë²„ì—ë„ ì–´ì©Œë©´ Go ë¶ì´ ì´ë¥¼ ìˆ˜ ìˆì§€ ì•Šì„ê¹Œì‹¶ë‹¤. ë§Œì•½ ê·¸ë ‡ê²Œ ëœë‹¤ë©´ ë‚˜ì¤‘ì— ë„¤ì´ë²„ì— ì§€ì›í•˜ëŠ” ì‹ ì… ì¤‘ì—” ê½¤ Goë¥¼ ì˜ ì´í•´í•˜ê³  ì˜ ì‚¬ìš©í•  ìì‹ ì´ ìˆì„ ë“¯ í•˜ë‹¤..!&lt;/p>
&lt;p>ì„±ëŠ¥ì´ C++ë³´ë‹¤ ì˜ ë‚˜ì˜¤ëŠëƒì˜ ê´€ì ë³´ë‹¤ëŠ” C++ë§Œí¼ì˜ ì‘ì—… ì²˜ë¦¬ëŸ‰ì„ ë‚¼ ìˆ˜ ìˆëŠëƒëŠ” ì ë„ ì¢€ ì¬ë¯¸ìˆì—ˆë‹¤. ì´ì œëŠ” Goë„ ê·¸ ë§¤ë ¥ì„ ì¸ì •ë°›ìœ¼ë©° ì ì  ëŒ€ì¤‘í™”ë˜ê³  ìˆê¸° ë•Œë¬¸ì— &lt;em>&amp;ldquo;ê¼­ Goë¥¼ ì¨ì•¼í•  ì ˆëŒ€ì ì¸ ì´ìœ ê°€ ìˆì–´? ë‹¤ë¥¸ ì–¸ì–´ë“¤ë„ ê·¸ëŸ° ì´ìœ ëŠ” ì–´ë–»ê²Œë“  ì»¤ë²„ ê°€ëŠ¥í•˜ì–ì•„.&amp;rdquo;&lt;/em> ì˜ ê´€ì ì—ì„œ ë°”ë¼ë³´ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì´ë‹¤. Goê°€ ë‹¤ë°©ë©´ì—ì„œ ì¢‹ì€ ì¥ì ì´ ìˆê¸° ë•Œë¬¸ì— &lt;em>&amp;ldquo;ê¼­ Goë§Œì˜ ì ˆëŒ€ì ì¸, ìœ ì¼í•œ ì¥ì , ê¸°ëŠ¥ì„ ì¨ë¨¹ëŠ” ì¼€ì´ìŠ¤ê°€ ì•„ë‹ˆë”ë¼ë„ ê¸°ì¡´ ì‘ì—…ëŸ‰ì„ ë”°ë¼ ê°ˆ ìˆ˜ë§Œ ìˆìœ¼ë©´ ì„±ëŠ¥ë„ ê´œì°®ê³ , ê´€ë¦¬ë„ í¸ë¦¬í•˜ê³ , ëŸ¬ë‹ ì»¤ë¸Œë„ ì ê³ , í…ŒìŠ¤íŠ¸ë„ ì‰¬ìš´ ì¢‹ì€ ì–¸ì–´ì¸ë° ë„ì…í•´ë³¼ë§Œí•˜ì§€ ì•Šì•„?&amp;rdquo;&lt;/em> ë¼ëŠ” ê´€ì ì—ì„œ ì ‘ê·¼í•˜ê²Œ ëœ ê²ƒì´ë‹¤.&lt;/p>
&lt;p>ì‹¤ì œë¡œ Goë¥¼ ì ìš©í•´ë´¤ëŠ”ë° ë°œí‘œìë¶„ì´ ì†í•œ íŒ€ì—ì„œë„ ë˜ ê·¸ ì™¸ì˜ ë¶€ì„œì—ì„œë„ ì‚¬ëŒë“¤ì´ ì˜ ë”°ë¼ì˜¨ë‹¤ê³ í•˜ë‹ˆ ì—­ì‹œ Goê°€ ëŸ¬ë‹ ì»¤ë¸ŒëŠ” ë†’ì§€ ì•Šê³  ê°„ê²°í•œ ì–¸ì–´ì¸ ê²ƒ ê°™êµ¬ë‚˜ ì‹¶ê¸°ë„ í•˜ê³ , ì‚¬ì‹¤ í•œ ì–¸ì–´ë¥¼ ì˜ í•˜ëŠ” ê²ƒë„ í˜ë“¤ ìˆ˜ ìˆëŠ”ë° ê³§ì˜ ë‹¤ë“¤ Goë¼ëŠ” ì–¸ì–´ë¥¼ ìµíˆì‹ ë‹¤ë‹ˆ ì—­ì‹œ Naverì˜ ê°œë°œìë“¤ì´êµ¬ë‚˜ ì‹¶ì€ ìƒê°ë„ ë“¤ì—ˆë‹¤.&lt;/p></description></item><item><title>ê°œë°œ ì° - Go Memory Leak(ë©”ëª¨ë¦¬ ëˆ„ìˆ˜) ê´€ë ¨ ì´ìŠˆ</title><link>https://umi0410.github.io/blog/golang/go-memory-leak-issue/</link><pubDate>Wed, 27 Jan 2021 15:25:54 +0900</pubDate><guid>https://umi0410.github.io/blog/golang/go-memory-leak-issue/</guid><description>&lt;img src="https://umi0410.github.io/blog/golang/go-memory-leak-issue/memory-leak-graph.png" alt="Featured image of post ê°œë°œ ì° - Go Memory Leak(ë©”ëª¨ë¦¬ ëˆ„ìˆ˜) ê´€ë ¨ ì´ìŠˆ" />&lt;h2 id="ì‹œì‘í•˜ë©°">ì‹œì‘í•˜ë©°&lt;/h2>
&lt;blockquote>
&lt;p>ì´ ê¸€ì€ Go 1.15 ë²„ì „ì„ ë°”íƒ•ìœ¼ë¡œ ê°œë°œí•˜ë©° ê²ªì€ ì´ìŠˆì— ëŒ€í•´ ì„¤ëª…í•˜ê³  ìˆìœ¼ë©° Go 1.16ì—ì„œëŠ” í•´ë‹¹ ì´ìŠˆê°€ ê°œì„ ë  ê²ƒì´ë¼ê³  í•©ë‹ˆë‹¤.&lt;/p>
&lt;/blockquote>
&lt;p>&lt;figure style="flex-grow: 188; flex-basis: 453px">
&lt;a href="https://umi0410.github.io/blog/golang/go-memory-leak-issue/memory-leak-graph.png" data-size="478x253">&lt;img src="https://umi0410.github.io/blog/golang/go-memory-leak-issue/memory-leak-graph.png"
srcset="https://umi0410.github.io/blog/golang/go-memory-leak-issue/memory-leak-graph_hu1f014e9e399a42abc11cd4e02aac56df_8940_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-memory-leak-issue/memory-leak-graph_hu1f014e9e399a42abc11cd4e02aac56df_8940_1024x0_resize_box_3.png 1024w"
width="478"
height="253"
loading="lazy"
alt="memory-leak-graph.png">
&lt;/a>
&lt;figcaption>memory-leak-graph.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ì§„í–‰ ì¤‘ì¸ &lt;a class="link" href="https://github.com/search?q=topic%3Akhumu&amp;#43;org%3Akhu-dev&amp;#43;fork%3Atrue" target="_blank" rel="noopener"
>ì¿ ë®¤&lt;/a>ë¼ëŠ” í”„ë¡œì íŠ¸ì—ì„œ Goë¥¼ ì´ìš©í•´ ì´ë¯¸ì§€ì— ëŒ€í•œ url í•´ì‹±, ë¦¬ì‚¬ì´ì§•, ì„¬ë„¤ì¼, ì„¼í„° í¬ë¡­ ì‘ì—…ì„ í•˜ëŠ” ì´ë¯¸ì§€ í”„ë¡œì„¸ì‹± ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•˜ê³ ìˆì—ˆë‹¤. 1ì°¨ì ìœ¼ë¡œ ì–´ëŠ ì •ë„ ê°œë°œì´ ëë‚œ ë’¤ ë²¤ì¹˜ë§ˆí¬ ê²¸ ë¶€í•˜ í…ŒìŠ¤íŠ¸ ê²¸í•´ì„œ ì–¼ë§ˆë‚˜ í•´ë‹¹ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ê°€ ì˜ ë²„í‹°ë©´ì„œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ”ì§€ í™•ì¸í•´ë³´ë ¤ í–ˆìœ¼ë‚˜ &lt;strong>Memoryê°€ í•œ ë²ˆ ì¹˜ì†Ÿê²Œë˜ë©´ ì–´ëŠ ì •ë„ ì´í•˜ë¡œ ë–¨ì–´ì§€ì§€ ì•ŠëŠ” ì´ìŠˆ&lt;/strong>ê°€ ë°œê²¬ë˜ì—ˆë‹¤.&lt;/p>
&lt;p>í—ˆìš©í•  ìˆ˜ ìˆëŠ” ì–‘ë³´ë‹¤ ë§ì€ ìš”ì²­ì„ ë³´ë‚¼ ê²½ìš° ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ ì´ì „ì—ì„œ ìš”ì²­ì„ ì°¨ë‹¨í•´ì£¼ì§€ ì•Šìœ¼ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‹¨ì—ì„œëŠ” í„°ì§€ê±°ë‚˜ ë¬¸ì œê°€ ìƒê¸°ëŠ” ê²ƒì€ ë‹¹ì—°í•˜ê² ì§€ë§Œ ì‚¬ì§„ì²˜ëŸ¼ &lt;strong>ì‘ì—…ì„ ë‹¤ ìˆ˜í–‰í•œ ë’¤ì—ë„ ë©”ëª¨ë¦¬ê°€ ì œëŒ€ë¡œ í•´ì œë˜ì§€ ì•ŠëŠ” ê²ƒì´ ì´ìŠˆ&lt;/strong>ì˜€ë‹¤.&lt;/p>
&lt;h2 id="ì´ìŠˆì˜-ì›ì¸ì„-íŒŒí—¤ì¹˜ê¸°-ìœ„í•´-í–ˆë˜-ë…¸ë ¥ë“¤">ì´ìŠˆì˜ ì›ì¸ì„ íŒŒí—¤ì¹˜ê¸° ìœ„í•´ í–ˆë˜ ë…¸ë ¥ë“¤&amp;hellip;&lt;/h2>
&lt;p>ì´ ì´ìŠˆë¥¼ ì¡ì•„ë³´ë ¤ ì—¬ëŸ¬ ê°€ì§€ ë””ë²„ê¹… ì‘ì—…ì„ í•´ë´¤ìœ¼ë‚˜ ê³„ì†í•´ì„œ ë©”ëª¨ë¦¬ ì´ìŠˆê°€ ë°œìƒí–ˆê³ , ê°ì¢… ì»¤ë®¤ë‹ˆí‹°ì—ì„œ ë„ì›€ì„ êµ¬í•´ë³´ê³ ìí–ˆë‹¤. Go ì˜¤í”ˆ ì¹´í†¡ë°©, Reddit, Slack ë“±ì—ì„œ ì˜ê²¬ì„ êµ¬í•´ë³´ì•˜ë‹¤. ì¬ë¯¸ìˆëŠ” ê²½í—˜ì´ì—ˆìœ¼ë©° ë•ë¶„ì— ì›ì¸ì„ íŒŒì•…í•  ìˆ˜ ìˆë˜ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 73; flex-basis: 176px">
&lt;a href="https://umi0410.github.io/blog/golang/go-memory-leak-issue/slack-thread.png" data-size="848x1150">&lt;img src="https://umi0410.github.io/blog/golang/go-memory-leak-issue/slack-thread.png"
srcset="https://umi0410.github.io/blog/golang/go-memory-leak-issue/slack-thread_hu69f0526f70cab8af73be7fa93df29141_179801_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-memory-leak-issue/slack-thread_hu69f0526f70cab8af73be7fa93df29141_179801_1024x0_resize_box_3.png 1024w"
width="848"
height="1150"
loading="lazy"
alt="slack-thread.png">
&lt;/a>
&lt;figcaption>slack-thread.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>&lt;figure style="flex-grow: 90; flex-basis: 217px">
&lt;a href="https://umi0410.github.io/blog/golang/go-memory-leak-issue/reddit.png" data-size="765x846">&lt;img src="https://umi0410.github.io/blog/golang/go-memory-leak-issue/reddit.png"
srcset="https://umi0410.github.io/blog/golang/go-memory-leak-issue/reddit_hu42e416b3ff1d468e25261abe6aea76a6_136808_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-memory-leak-issue/reddit_hu42e416b3ff1d468e25261abe6aea76a6_136808_1024x0_resize_box_3.png 1024w"
width="765"
height="846"
loading="lazy"
alt="reddit.png">
&lt;/a>
&lt;figcaption>reddit.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;h2 id="ì–´ë–¤-ìƒí™©ì—-memory-leakì´-ë°œìƒí•œ-ê²ƒì¼ê¹Œ">ì–´ë–¤ ìƒí™©ì— Memory Leakì´ ë°œìƒí•œ ê²ƒì¼ê¹Œ?&lt;/h2>
&lt;p>ê·¸ëŸ¼ ìì„¸íˆ ì–´ë–¤ ì´ìŠˆê°€ ìˆì—ˆê³ , ì–´ë–»ê²Œ ê·¸ ìƒí™©ì„ ë¶„ì„í•  ìˆ˜ ìˆì—ˆìœ¼ë©° ì–´ë–»ê²Œ í•´ê²°í•  ìˆ˜ ìˆì„ì§€ ì•Œì•„ë³´ë„ë¡í•˜ê² ë‹¤.&lt;/p>
&lt;p>&lt;strong>tl;dr - ìì„¸í•œ ë¬˜ì‚¬ë³´ë‹¤ëŠ” ê·¸ëƒ¥ ë”± ì›ì¸/ê²°ê³¼ë§Œ ê¶ê¸ˆí•˜ì‹  ë¶„ë“¤ì„ ìœ„í•œ ìš”ì•½&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ì›ì¸ - í™ ë©”ëª¨ë¦¬ì— ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹ë°›ì•˜ëŠ”ë° í˜¹ì‹œ &lt;strong>ì¬ì‚¬ìš©í•  ìˆ˜ë„ ìˆì–´ OSì—ê²Œ ë°”ë¡œ ë©”ëª¨ë¦¬ë¥¼ ë°˜í™˜í•˜ì§€ ì•ŠìŒ&lt;/strong>.&lt;/li>
&lt;li>ê²°ê³¼ - &lt;strong>OSê°€ ë©”ëª¨ë¦¬ ë¶€ì¡±í•˜ë‹ˆ ë‹¬ë¼ê³  í•˜ë©´ ê·¸ë•Œ í™ ë©”ëª¨ë¦¬ ì‚¬ì´ì¦ˆë¥¼ ì‹¤ì œë¡œ ì¤„ì¸ë‹¤&lt;/strong>. (&lt;em>í•˜ì§€ë§Œ go 1.16 ë²„ì „ë¶€í„°ëŠ” ê°œì„ ë  ì˜ˆì •ì´ë‹¤.&lt;/em>)&lt;/li>
&lt;li>ì •í™•íˆ ì´ëŸ¬í•œ ê²ƒì„ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¼ê³  í•˜ëŠ”ì§€ëŠ” ëª…í™•í•˜ì§€ ì•Šë‹¤. Go ëŸ°íƒ€ì„ì´ ë†€ê³  ìˆëŠ” ë©”ëª¨ë¦¬ë¥¼ ê°–ê³ ëŠ” ìˆì§€ë§Œ ì–¸ì œë“  OSì—ê²Œ ë°˜í™˜í•´ì¤„ ìˆ˜ëŠ” ìˆê¸° ë•Œë¬¸ì´ë‹¤. (&lt;em>í•˜ì§€ë§Œ ë§¤ë„ëŸ½ê²Œ OSì—ê²Œ ë°˜í™˜í•´ì£¼ëŠ” ëŠë‚Œì€ ì•„ë‹ˆê¸´í–ˆë‹¤.&lt;/em>)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;time&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">routine&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">routine&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">routine&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">DoFloat&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// dummy waiting..
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Second&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">DoFloat&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">tmp&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">400000000&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="kt">float64&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tmp&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="c1">// tmpì— ì ‘ê·¼í•˜ì§€ ì•Šìœ¼ë©´ unused variableì´ ë˜ê¸° ë•Œë¬¸ì— dummyí•œ access ì‘ì—… ìˆ˜í–‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì²˜ìŒì—” ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§• ì‹œ ë©”ëª¨ë¦¬ê°€ ì œëŒ€ë¡œ í•´ì œë˜ì§€ì•ŠëŠ” ê²ƒì„ ë³´ê³  ì´ìŠˆë¥¼ ë°œê²¬í–ˆì§€ë§Œ, ì‚¬ëŒë“¤ì—ê²Œ ë„ì›€ì„ êµ¬í•˜ê³ ì í•  ë•Œ, ì´ìŠˆì— ëŒ€í•´ ì„¤ëª…í•  ë•Œ ì „ì²´ í”„ë¡œê·¸ë¨ ì½”ë“œë¥¼ ì²¨ë¶€í•  ìˆ˜ëŠ” ì—†ì—ˆê¸°ì— &lt;strong>ë¬¸ì œ ìƒí™©ì„ ê°„ë‹¨í•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ì½”ë“œë¥¼ ì§œë³´ê³ ì&lt;/strong>í–ˆë‹¤. ì´ë¦¬ ì €ë¦¬ í”„ë¡œê·¸ë¨ì„ ê°„ì†Œí™”í•˜ë©´ì„œ &lt;strong>ì»¤ë‹¤ë€ ë°°ì—´ ìƒì„±ì‹œì—ë„ ê°™ì€ ë©”ëª¨ë¦¬ ì´ìŠˆ&lt;/strong>ê°€ ë°œìƒí•œë‹¤ëŠ” ê²ƒì„ ì•Œê²Œë˜ì—ˆë‹¤.&lt;/p>
&lt;p>ê·¸ë˜ì„œ ì•„ì£¼ ê°„ë‹¨í•œ ë°°ì—´ ìƒì„± ì˜ˆì‹œë¥¼ í†µí•´ ì‚¬ëŒë“¤ì—ê²Œ ì´ ì´ìŠˆì— ëŒ€í•´ ì„¤ëª…í•´ë³´ê³ ìí–ˆë‹¤. ì´ ì˜ˆì‹œì—ì„œëŠ” &lt;code>8ë°”ì´íŠ¸ì˜ float6&lt;/code>4ë¡œ ì´ë£¨ì–´ì§„ &lt;code>400000000ì¹¸ì˜ ë°°ì—´ tmp&lt;/code>ë¥¼ ì„ ì–¸í•œë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 340; flex-basis: 817px">
&lt;a href="https://umi0410.github.io/blog/golang/go-memory-leak-issue/unit-conversion.png" data-size="569x167">&lt;img src="https://umi0410.github.io/blog/golang/go-memory-leak-issue/unit-conversion.png"
srcset="https://umi0410.github.io/blog/golang/go-memory-leak-issue/unit-conversion_hufbecc09a52a79e4f645bd7e3e96526f8_8388_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-memory-leak-issue/unit-conversion_hufbecc09a52a79e4f645bd7e3e96526f8_8388_1024x0_resize_box_3.png 1024w"
width="569"
height="167"
loading="lazy"
alt="unit-conversion.png">
&lt;/a>
&lt;figcaption>unit-conversion.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>8ë°”ì´íŠ¸ê°€ 400000000ì¹¸ì´ë©´ &lt;code>400000000 * 8 / 1024(KB) / 1024(MB) / 1024(GB) = ì•½ 2.9GB&lt;/code> í˜¹ì€ ê·¸ëŒ€ë¡œ 1000ë‹¨ìœ„ ì”©ìœ¼ë¡œ ë‚˜ëˆ  &lt;code>3.2GB&lt;/code>ì„ í• ë‹¹í•˜ëŠ” ê²ƒì´ë‹¤.&lt;/p>
&lt;p>ì›ë˜ëŠ” ìŠ¤íƒ ë©”ëª¨ë¦¬ì— í• ë‹¹ëœ ë’¤ ë‹¤ë¥¸ ê³³ì—ì„œ ì´ ë…€ì„ì„ ì°¸ì¡°í•˜ëŠ” ì¼ì´ ì—†ê¸° ë•Œë¬¸ì— ë°”ë¡œ releaseë˜ì–´ ìŠ¤íƒ ë©”ëª¨ë¦¬ì—ì„œ ì ìœ ê°€ í•´ì œë˜ì–´ì•¼í•œë‹¤. í•˜ì§€ë§Œ ëª‡ëª‡ ê²½ìš°ì— ìŠ¤íƒì´ ì•„ë‹Œ í™ì— ë°ì´í„°ê°€ ì €ì¥ë  ìˆ˜ ìˆë‹¤ê³  í•˜ëŠ”ë°, ì´ ê²½ìš°ì—ëŠ” ë„ˆë¬´ í° ê°’ì„ ì„ ì–¸í•˜ì—¬ ìŠ¤íƒì´ ì•„ë‹Œ í™ì— ë°ì´í„°ê°€ ì €ì¥ë˜ì—ˆê³ , í™ì´ í• ë‹¹ë°›ì€ ë©”ëª¨ë¦¬ë¥¼ í•´ì œí•´ì£¼ì§€ ì•Šì•„ ìƒê¸°ëŠ” ë¬¸ì œì˜€ë‹¤. ì‚¬ì‹¤ ì´ëŸ° í˜„ìƒë„ ì •í™•íˆ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ í˜¹ì€ Memory Leakë¼ê³  í•˜ëŠ”ì§€ëŠ” ì˜ ëª¨ë¥´ê² ë‹¤. ì™œëƒí•˜ë©´ &lt;strong>ë©”ëª¨ë¦¬ì—ì„œ í•´ì œí•  ìˆ˜ ì—†ëŠ” ìˆ˜ì¤€ìœ¼ë¡œ ê·¸ ê°’ì˜ ì£¼ì†Œë¥¼ ìƒì–´ë²„ë ¤ ì‹¤ì œë¡œ ê·¸ ê³µê°„ì´ ëˆ„ìˆ˜ê°€ ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì•„ì§ ë”±íˆ OSê°€ ë¶€ë‹´ì„ ëŠë¼ì§€ ì•Šê¸° ë•Œë¬¸ì— Go Runtimeì˜ Heapì—ì„œ í•´ë‹¹ ì£¼ì†ŒëŠ” ë¹„ì›Œë’€ì§€ë§Œ OSì—ê²Œ ë°˜ë‚©ì€ ì•ˆ í•œ ìƒíƒœ&lt;/strong>ì¸ ê²ƒì´ê¸° ë•Œë¬¸ì´ë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 601; flex-basis: 1444px">
&lt;a href="https://umi0410.github.io/blog/golang/go-memory-leak-issue/top-memory-leak.png" data-size="1011x168">&lt;img src="https://umi0410.github.io/blog/golang/go-memory-leak-issue/top-memory-leak.png"
srcset="https://umi0410.github.io/blog/golang/go-memory-leak-issue/top-memory-leak_hu95afae50a0e35fe52fc1dc07fc2fa740_148991_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-memory-leak-issue/top-memory-leak_hu95afae50a0e35fe52fc1dc07fc2fa740_148991_1024x0_resize_box_3.png 1024w"
width="1011"
height="168"
loading="lazy"
alt="top-memory-leak.png">
&lt;/a>
&lt;figcaption>top-memory-leak.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ì‹¤í–‰í•´ë³´ë©´ 10ë²ˆì˜ DoFloat() í›„ì— ê·¸ëƒ¥ for loopì—ì„œ time.Sleep ì¤‘ì´ê¸°ì— &lt;strong>CPUë¥¼ ê±°ì˜ ì‚¬ìš©í•˜ì§€ ì•Šê³  ìˆëŠ” ë°˜ë©´ ë‚´ Laptopì˜ 16GBì˜ Memory ì¤‘ 20.5%ì¸ 3.2GBë¥¼ ì‚¬ìš© ì¤‘&lt;/strong>ì¸ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.&lt;/p>
&lt;h2 id="í•´ê²°-í•´ë³´ê¸°">í•´ê²° í•´ë³´ê¸°&lt;/h2>
&lt;h3 id="go-runtimeì€-osì—ê²Œ-ë”-ì´ìƒ-ì´-ë©”ëª¨ë¦¬ê°€-í•„ìš”í•˜ì§€-ì•Šë‹¤ê³ -ì•Œë ¤ì£¼ê¸°ë§Œ-í•˜ì§€-ê·¸-memoryë¥¼-ì‹¤ì œë¡œ-íšŒìˆ˜í• -ì§€-ë§ì§€ëŠ”-osì—ê²Œ-ë‹¬ë ¤ìˆë‹¤">Go runtimeì€ OSì—ê²Œ ë” ì´ìƒ ì´ ë©”ëª¨ë¦¬ê°€ í•„ìš”í•˜ì§€ ì•Šë‹¤ê³  ì•Œë ¤ì£¼ê¸°ë§Œ í•˜ì§€ ê·¸ Memoryë¥¼ ì‹¤ì œë¡œ íšŒìˆ˜í•  ì§€ ë§ì§€ëŠ” OSì—ê²Œ ë‹¬ë ¤ìˆë‹¤.&lt;/h3>
&lt;blockquote>
&lt;p>The Go runtime only advises the OS when it no longer needs memory and it is up to the OS to reclaim it - @justinisrael&lt;/p>
&lt;/blockquote>
&lt;p>ë‚´ê°€ Redditì—ì„œ ì‚¬ëŒë“¤ê»˜ ì—¬ì­¤ë´¤ë˜ ê¸€ì— ë‹´ê¸´ í•œ ëŒ“ê¸€ì„ ì¸ìš©í•´ë³´ì•˜ë‹¤. ê³¼ì—° ì € ë§ì´ ì‚¬ì‹¤ì¼ê¹Œ? í”„ë¡œì„¸ìŠ¤ë¥¼ ì—¬ëŸ¬ë²ˆ ë„ì›Œë³´ì•˜ë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 425; flex-basis: 1021px">
&lt;a href="https://umi0410.github.io/blog/golang/go-memory-leak-issue/top-multiple-process.png" data-size="766x180">&lt;img src="https://umi0410.github.io/blog/golang/go-memory-leak-issue/top-multiple-process.png"
srcset="https://umi0410.github.io/blog/golang/go-memory-leak-issue/top-multiple-process_hufe31e37f113f3799dd881c2f2d7ba7ae_38707_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-memory-leak-issue/top-multiple-process_hufe31e37f113f3799dd881c2f2d7ba7ae_38707_1024x0_resize_box_3.png 1024w"
width="766"
height="180"
loading="lazy"
alt="top-multiple-process.png">
&lt;/a>
&lt;figcaption>top-multiple-process.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>í”„ë¡œì„¸ìŠ¤ë¥¼ í•˜ë‚˜ ë„ì› ì„ ë•Œì—ëŠ” ì•„ê¹ŒëŠ” Dummy waiting ì¤‘ì´ë©´ì„œë„ &lt;strong>Memoryë¥¼ 20% ê°€ê¹Œì´ ì ìœ í•˜ê³  ìˆì—ˆëŠ”ë° ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ë¥¼ ë„ìš°ë©´ì„œ ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•´ì§€ì ë†€ê³ ìˆë˜ Heap memoryë¥¼ ë°˜í™˜í•˜ì—¬ ê±°ì˜ ì•½ 0.6%ì˜ ë©”ëª¨ë¦¬ë§Œ ì ìœ &lt;/strong> ì¤‘ì¸ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.&lt;/p>
&lt;p>ë§ˆì§€ë§‰ í”„ë¡œì„¸ìŠ¤ëŠ” ì•„ì§ DoFloat() ì‘ì—…ì„ ì§„í–‰ ì¤‘ì´ë¯€ë¡œ ì—¬ì „íˆ 19.8%ì˜ ë©”ëª¨ë¦¬ë¥¼ ì ìœ  ì¤‘ì´ê³ , ì‘ì—…ì´ ì™„ë£Œëœ ë’¤ì—ë„ OSê°€ Reclaim(ë‹¤ì‹œ ë©”ëª¨ë¦¬ë¥¼ ê°€ì ¸ê°€ëŠ” ê²ƒ)í•˜ê¸° ì „ê¹Œì§€ëŠ” ì•½ 20%ëŒ€ë¥¼ ìœ ì§€í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì—¬ì¡Œë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ì¢€ ë” ìì„¸íˆ ê¸°ë¡í•´ë³´ê³ ì‹¶ì—ˆë‹¤. Goì˜ ë‚´ì¥ íŒ¨í‚¤ì§€ &lt;code>runtime&lt;/code>ì˜ Memory ê´€ë ¨ ê¸°ëŠ¥ì„ ì´ìš©í•˜ë©´ ë  ê²ƒ ê°™ì•˜ë‹¤. &lt;code>runtime.ReadMemStats(*runtime.MemStats)&lt;/code>ë¥¼ ì´ìš©í•˜ë©´ ëŸ°íƒ€ì„ ë„ì¤‘ ìì‹ ì˜ ëŸ°íƒ€ì„ ìƒí™©ì„ ì•Œì•„ë³¼ ìˆ˜ ìˆë‹¤. ìì„¸í•œ ì‚¬ìš©ë²•ì€ êµ¬ê¸€ë§ì„ í†µí•´ ì‰½ê²Œ ì–»ì„ ìˆ˜ ìˆìœ¼ë‹ˆ ì§€ë©´ ê´€ê³„ìƒ ìƒëµí•œë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 167; flex-basis: 402px">
&lt;a href="https://umi0410.github.io/blog/golang/go-memory-leak-issue/runtime-memory-leak.png" data-size="387x231">&lt;img src="https://umi0410.github.io/blog/golang/go-memory-leak-issue/runtime-memory-leak.png"
srcset="https://umi0410.github.io/blog/golang/go-memory-leak-issue/runtime-memory-leak_hub8c90c70b0c23dfa44a0b6e91e7a7e33_13785_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-memory-leak-issue/runtime-memory-leak_hub8c90c70b0c23dfa44a0b6e91e7a7e33_13785_1024x0_resize_box_3.png 1024w"
width="387"
height="231"
loading="lazy"
alt="runtime-memory-leak.png">
&lt;/a>
&lt;figcaption>runtime-memory-leak.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ì¦‰ í™ ë©”ëª¨ë¦¬ê°€ í™•ë³´ê°„ ê³µê°„ì€ ê±°ëŒ€í•œ ë°°ì—´ì„ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ì¸ DoFloatì„ ì§„í–‰í•˜ëŠ” ë™ì•ˆì€ ì‹¤ì œë¡œ Allocate í• ë‹¹í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ë°˜ë©´ DoFloatì„ ëª¨ë‘ ë§ˆì¹œ ë’¤ì—ëŠ” &lt;strong>í™ ë©”ëª¨ë¦¬ëŠ” ê³µê°„ì„ í™•ë³´í•˜ê³ ëŠ” ìˆì§€ë§Œ Idle(ë†€ê³  ìˆëŠ”) ìƒíƒœë¡œ ì¡´ì¬&lt;/strong>í•˜ëŠ” ê²ƒì´ì—ˆë‹¤.&lt;/p>
&lt;p>ë‚˜ëŠ” ì´ëŸ¬í•œ ê²½ìš°ë¥¼ ì²˜ìŒ ë§ì´í–ˆì§€ë§Œ, &lt;strong>ê°ì¢… ê°€ë¹„ì§€ ì»¬ë ‰í„°ê°€ ìˆëŠ” ì–¸ì–´ì—ì„œ ê°ê°ì˜ ê°€ë¹„ì§€ ì»¬ë ‰í„°ë‚˜ ëŸ°íƒ€ì„ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì— ë”°ë¼ ì´ëŸ° ì‹ìœ¼ë¡œ í™ ë©”ëª¨ë¦¬ë¥¼ ì¬ì‚¬ìš©í•˜ëŠ” ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ í•œ ë²ˆ í• ë‹¹ë°›ì€ ë©”ëª¨ë¦¬ë¥¼ ì™„ì „íˆ OSì—ê²Œ ë°˜í™˜í•˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ìˆë‹¤&lt;/strong>ê³  í•œë‹¤.&lt;/p>
&lt;h3 id="go-116-ë²„ì „ë¶€í„°ëŠ”-ë©”ëª¨ë¦¬-ê³„ì‚°-ë°©ì‹ì´-ë°”ë€”-ê²ƒì´ë‹¤-ê·¸ë˜ì„œ-ê´œì°®ì„-ê²ƒì´ë‹¤">Go 1.16 ë²„ì „ë¶€í„°ëŠ” ë©”ëª¨ë¦¬ ê³„ì‚° ë°©ì‹ì´ ë°”ë€” ê²ƒì´ë‹¤. (ê·¸ë˜ì„œ ê´œì°®ì„ ê²ƒì´ë‹¤.)&lt;/h3>
&lt;blockquote>
&lt;p>&amp;ldquo;There was a change to how memory is calculated on 1.16&amp;rdquo; - @gopj&lt;/p>
&lt;/blockquote>
&lt;p>ê³¼ì—° ì‚¬ì‹¤ì¼ì§€ í™•ì¸í•´ë³´ì. ê°„ë‹¨íˆ Dockerë¥¼ í†µí•´ ë‚˜ì˜ Local í™˜ê²½ì—ì„œ ë³„ ë‹¤ë¥¸ ì„¸íŒ… ì—†ì´ Go ë²„ì „ì„ ë‹¤ë¥´ê²Œ í•˜ì—¬ ì‹¤í–‰í•  ìˆ˜ ìˆì—ˆë‹¤. ì‹¤ì œë¡œ ì´ ì´ìŠˆë¥¼ ì»¤ë®¤ë‹ˆí‹°ì— ì œê¸°í•˜ê¸° ì „ì—ë„ Dockerë¥¼ ì´ìš©í•´ 1.2, 1.3, 1.4 ë“±ì˜ ë²„ì „ì—ì„œë„ ì‹¤í–‰í•´ë³´ì•˜ë‹¤. ë‚˜ì˜ ë©íƒ‘ì€ 1.5 ë²„ì „ì„ ì‚¬ìš© ì¤‘ì´ì—ˆë‹¤. 1.16 ë²„ì „ì€ ì•„ì§ rcëŠ” Release Candidateì˜ ì¤„ì„ë§ë¡œ ë³´í†µ ë°°í¬ í›„ë³´ ë²„ì „ì„ ì˜ë¯¸í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-docker" data-lang="docker">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Dockerfile&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> golang:1.16-rc&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /app&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> main.go main.go&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENTRYPOINT&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;go&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;run&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;./main.go&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ì´ë¯¸ì§€ ë¹Œë“œ í›„ ì»¨í…Œì´ë„ˆ ì‹¤í–‰&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ docker build . -t tmp &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> docker run --rm --it tmp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;figure style="flex-grow: 1204; flex-basis: 2891px">
&lt;a href="https://umi0410.github.io/blog/golang/go-memory-leak-issue/go-1.16-memory-not-leaking.png" data-size="759x63">&lt;img src="https://umi0410.github.io/blog/golang/go-memory-leak-issue/go-1.16-memory-not-leaking.png"
srcset="https://umi0410.github.io/blog/golang/go-memory-leak-issue/go-1.16-memory-not-leaking_hue8ad343e4b80c73af1daf2aadf5c34cb_12663_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/golang/go-memory-leak-issue/go-1.16-memory-not-leaking_hue8ad343e4b80c73af1daf2aadf5c34cb_12663_1024x0_resize_box_3.png 1024w"
width="759"
height="63"
loading="lazy"
alt="go-1.16-memory-not-leaking.png">
&lt;/a>
&lt;figcaption>go-1.16-memory-not-leaking.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;code>1.16-rc&lt;/code> ë²„ì „ì„ ì‚¬ìš©í•˜ì ê²°ê³¼ì ìœ¼ë¡œ ë‹¤ë¥¸ ë©”ëª¨ë¦¬ ë¶€í•˜ê°€ ì‹¬í•œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰ì‹œí‚¤ì§€ ì•Šì•˜ì§€ë§Œ &lt;strong>ìˆ˜ì‹­ ì´ˆ ì´ë‚´ì— ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í™ ë©”ëª¨ë¦¬ê°€ OSì—ê²Œ ë°˜í™˜&lt;/strong>ë˜ì—ˆë‹¤!!!&lt;/p>
&lt;blockquote>
&lt;p>í•˜ì§€ë§Œ ì—¬ì „íˆ runtime.MemStatsì—ì„œëŠ” HeapMemoryì— Idleí•œ ë©”ëª¨ë¦¬ í¬ê¸°ê°€ í¬ê²Œ ì¡í˜€ìˆì—ˆëŠ”ë°, ì´ ë¶€ë¶„ì€ rc ë²„ì „ì´ê¸° ë•Œë¬¸ì— runtimeê¹Œì§€ ì™„ì „íˆ ê¸°ëŠ¥ì´ ê°œë°œë˜ì§€ ì•Šì•„ì„œì¸ì§€ ì´ì „ì—ë„ ë©”ëª¨ë¦¬ëŠ” ë°˜í™˜í–ˆì§€ë§Œ ë©”ëª¨ë¦¬ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•œ ê³„ì‚°ì˜ ë¬¸ì œë§Œ ê°œì„ ì´ ëœ ê²ƒì¸ì§€ëŠ” í™•ì‹¤í•˜ì§„ ì•Šì§€ë§Œ ì—¬íŠ¼ ì´ìŠˆì— ëŒ€í•´ì„œëŠ” íŒŒì•…í•  ìˆ˜ ìˆì—ˆë‹¤!&lt;/p>
&lt;/blockquote>
&lt;h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>ê°œë°œì´ë‚˜ ìš´ì˜ì„ í•˜ë©´ì„œ ì´ëŸ° ì €ëŸ° ì´ìŠˆë“¤ì´ ìˆì—ˆì§€ë§Œ ì´ë²ˆ ê²½ìš°ì²˜ëŸ¼ ë¡œìš° ë ˆë²¨ìŠ¤ëŸ½ê²Œ ë“¤ì–´ê°€ì„œ ëŸ°íƒ€ì„ ë™ì•ˆ ë©”ëª¨ë¦¬ ê´€ë¦¬ê°€ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ê¹Œì§€ íƒêµ¬í•´ë³¸ ì ì€ ë“œë¬¼ì—ˆë˜ ê²ƒ ê°™ë‹¤. ë„ì €íˆ ì›ì¸ì„ ëª¨ë¥´ê² ì–´ì„œ &amp;lsquo;&lt;em>í•˜ ê²°êµ­ í¬ê¸°í•˜ê³  ì´ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ëŠ” Lambdaë¡œ ëŒë ¤ì•¼í•˜ë‚˜&amp;hellip;&lt;/em>&amp;rsquo; ì‹¶ì—ˆë‹¤. í•˜ì§€ë§Œ ëª‡ ì‹œê°„ì„ ê³ ìƒí•˜ê³  ì§ì ‘ ì˜ê²¬ì„ êµ¬í•˜ëŸ¬ ë‹¤ë‹ˆë©´ì„œ ìƒˆë¡œ ë°°ìš°ê²Œ ëœ ë‚´ìš©ë„ ë§ì•˜ê³ , ì™¸êµ­ì— ê³„ì‹  ëª‡ëª‡ ê°œë°œì ë¶„ë“¤ê³¼ë„ ì´ë ‡ê²Œ ì†Œí†µí•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ ì‹ ê¸°í–ˆë‹¤. (&lt;em>ê·¸ë¦¬ê³  ì°¸ ì„¸ì„¸í•œ ì§€ì‹ê¹Œì§€ ê²¸ë¹„í•œ ë¶„ë“¤ì´ ë§ë‹¤ëŠ” ê²ƒì´ ë†€ë¼ì› ë‹¤&amp;hellip;&lt;/em>)&lt;/p>
&lt;p>ê²°ê³¼ì ìœ¼ë¡œ í•´ë‹¹ ì´ìŠˆëŠ” ì•„ë§ˆ Goì˜ &lt;code>1.16&lt;/code> ë²„ì „ì´ íŒ¨ì¹˜ë˜ë©´ ì™„ì „íˆ í•´ê²° ê°€ëŠ¥í•  ê²ƒ ê°™ê³  ê·¸ ì´ì „ì—ë„ ì‚¬ì‹¤ Hostì—ì„œ ë©”ëª¨ë¦¬ ë¶€ë‹´ì„ ëŠë¼ë©´ Go runtimeì´ ì•ˆ ì“°ê³  ìˆëŠ” í™ ë©”ëª¨ë¦¬ë¥¼ ë°˜í™˜í•´ì¤€ë‹¤ê³  í•˜ë‹ˆ í° ë¬¸ì œëŠ” ì—†ì„ ê²ƒ ê°™ë‹¤. í•˜ì§€ë§Œ ì‹¤ì œë¡œ Hostê°€ ë¶€ë‹´ì„ ëŠë¼ëŠ” ì„  ì´ì „ì— ë©”ëª¨ë¦¬ë¥¼ ë°˜í™˜ë°›ê³  ì‹¶ë‹¤ë©´ Pod levelì—ì„œ ë©”ëª¨ë¦¬ ë¦¬ì†ŒìŠ¤ë¥¼ ì œí•œí•´ë³¼ ìˆ˜ëŠ” ìˆì„ ê²ƒ ê°™ë‹¤.&lt;/p>
&lt;p>í˜¹ì‹œ ë‹¤ìŒì—ë„ ì´ëŸ° í”ì¹˜ ì•Šì€ ê³ ëœ ì´ìŠˆë¥¼ ë§ì´í•œë‹¤ë©´ ê·¸ ì›ì¸ê³¼ í•´ë²•ì„ ì´ë ‡ê²Œ ë˜ ê¸°ë¡í•  ìˆ˜ ìˆê¸°ë¥¼ ë°”ë˜ë³¸ë‹¤.&lt;/p></description></item><item><title>ë©”ê°€ì¡´ í´ë¼ìš°ë“œ ë°ë¸Œì˜µìŠ¤ ì¸í„´ í›„ê¸°</title><link>https://umi0410.github.io/blog/megazone-cloud/index/</link><pubDate>Fri, 04 Sep 2020 12:46:54 +0900</pubDate><guid>https://umi0410.github.io/blog/megazone-cloud/index/</guid><description>&lt;img src="https://umi0410.github.io/blog/megazone-cloud/index/mzcloud-logo.png" alt="Featured image of post ë©”ê°€ì¡´ í´ë¼ìš°ë“œ ë°ë¸Œì˜µìŠ¤ ì¸í„´ í›„ê¸°" />&lt;p>&lt;figure style="flex-grow: 388; flex-basis: 931px">
&lt;a href="https://umi0410.github.io/blog/megazone-cloud/index/mzcloud-logo.png" data-size="194x50">&lt;img src="https://umi0410.github.io/blog/megazone-cloud/index/mzcloud-logo.png"
srcset="https://umi0410.github.io/blog/megazone-cloud/index/mzcloud-logo_huaed2850ad2750bd21c0ea378f4b3d958_6575_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/megazone-cloud/index/mzcloud-logo_huaed2850ad2750bd21c0ea378f4b3d958_6575_1024x0_resize_box_3.png 1024w"
width="194"
height="50"
loading="lazy"
alt="mzc_logo">
&lt;/a>
&lt;figcaption>mzc_logo&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ì•ˆë…•í•˜ì„¸ìš”. ì´ë²ˆì— &lt;strong>ë©”ê°€ì¡´ í´ë¼ìš°ë“œ&lt;/strong>ì˜ í´ë¼ìš°ë“œ ì› íŒ€ì—ì„œ &lt;strong>ë°ë¸Œì˜µìŠ¤ ì¸í„´&lt;/strong>ìœ¼ë¡œ ê·¼ë¬´ë¥¼ í•˜ê²Œë˜ì—ˆë˜ &lt;strong>ë°•ì§„ìˆ˜&lt;/strong>ì…ë‹ˆë‹¤.
ë„ˆë¬´ ì¢‹ì€ íŒ€ì›ë“¤ê³¼ ë§ì€ ê²½í—˜ì„ í•˜ë©° ë‹¨ì‹œê°„ì— ì„±ì¥í•  ìˆ˜ ìˆì—ˆê³ , ì¼í•˜ëŠ” ë™ì•ˆ ë§¤ ìˆœê°„ ìˆœê°„ì´ ë„ˆë¬´
í–‰ë³µí–ˆì—ˆê¸°ì— ì´ë ‡ê²Œ ì¸í„´ í›„ê¸°ë¥¼ ì‘ì„±í•´ë´…ë‹ˆë‹¤. í•œ í•™ê¸°ë¥¼ ì‰¬ê³  2020.04.13~2020.08.31 ê¹Œì§€ ì¸í„´ìœ¼ë¡œ ê·¼ë¬´ í–ˆê³ ,
ë‹¤ì‹œ 2020-2í•™ê¸°ë¶€í„°ëŠ” í•™êµ ë³µí•™ì„ í•˜ê²Œë˜ì—ˆìŠµë‹ˆë‹¤.
ê¸°ìˆ ì ì¸ ì–˜ê¸°ëŠ” ì´ê³³ ì €ê³³ì— ë§ìœ¼ë‹ˆ í•­ìƒ ì œê°€ ê°€ì¥ ì¤‘ìš”ì‹œí•˜ëŠ”
&lt;strong>&amp;ldquo;ëŠë‚€ ì &amp;rdquo;&lt;/strong> ê³¼ &lt;strong>&amp;ldquo;ë°°ìš´ ì &amp;rdquo;&lt;/strong> ì„ ìœ„ì£¼ë¡œ ì ì–´ë³´ê² ìŠµë‹ˆë‹¤!!
ê¸€ì€ ìœ„ì˜ ëª©ë¡ì˜ ìˆœì„œë¡œ ì§„í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ì§€ì›ë™ê¸°">ì§€ì›ë™ê¸°&lt;/h2>
&lt;p>ì €ëŠ” AWSì™€ ë°°í¬ì— ê´€í•´ í¥ë¯¸ê°€ ìˆì–´ ì¢…ì¢… &lt;a class="link" href="https://awskrug.github.io/" target="_blank" rel="noopener"
>AWSKRUG&lt;/a> ë¼ëŠ” ê·¸ë£¹ì˜ ì†Œëª¨ì„ì— ê°€ì„œ í•¸ì¦ˆì˜¨ì´ë‚˜ ì„¸ë¯¸ë‚˜ì—
ì°¸ì—¬í•˜ê³¤ í–ˆëŠ”ë°ìš”. ê·¸ê³³ì—ì„œ ì €í¬ íŒ€ì›ë“¤ì„ ë§Œë‚˜ê²Œ ë˜ì—ˆê³ , ê·¸ê²ƒì´ ì¸ì—°ì´ ë˜ì–´
ì±„ìš©ìœ¼ë¡œê¹Œì§€ ì´ì–´ì§ˆ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>í‰ì†Œ &lt;a class="link" href="https://velog.io/@ausg" target="_blank" rel="noopener"
>AUSG&lt;/a> ë¼ëŠ” ëŒ€í•™ìƒ AWS ì‚¬ìš©ì ëª¨ì„ì˜
ì¼ì›ìœ¼ë¡œì„œ ì°¸ì—¬í•˜ë©° &lt;code>AWS&lt;/code> ë¥¼ ì´ìš©í•œ í´ë¼ìš°ë“œ ì¸í”„ë¼, &lt;code>CI/CD&lt;/code> íŒŒì´í”„ë¼ì¸ êµ¬ì¶•ì„ í†µí•œ ìë™í™”, &lt;code>ì»¨í…Œì´ë„ˆ&lt;/code> ë“±ì—
ê´€ì‹¬ì´ ë§ì•˜ëŠ”ë°, ë§ˆì¹¨ ë©”ê°€ì¡´ í´ë¼ìš°ë“œì˜ ì €í¬ CloudOne íŒ€ì—ì„œëŠ” íŒ€ì˜ ëª¨ë“  ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë° ê¸°íƒ€ ì„œë¹„ìŠ¤ë“¤ì„
&lt;code>EKS&lt;/code>ë¼ëŠ” &lt;code>AWS&lt;/code>ì˜ Managed Kubernetes Cluster Service ìœ„ì— ìë™í™”ì‹œì¼œ ë°°í¬ë¥¼ í•˜ê³ ìˆì—ˆê³ ,
ê°œë°œ ì¸í”„ë¼ë¥¼ ì´ì „í•˜ë ¤ë˜ ì°¸ì´ì—ˆê¸°ì— ì €ì˜ ê´€ì‹¬ì‚¬ì™€ í–¥í›„ ëª©ì ì— ì˜ ë¶€í•©í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="megazone-cloud-cloudone-team">Megazone Cloud: CloudOne Team?&lt;/h2>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://www.megazone.com/" target="_blank" rel="noopener"
>Megazone Cloud&lt;/a>: êµ­ë‚´ ìµœì´ˆ &amp;amp; ìµœëŒ€ AWS í”„ë¦¬ë¯¸ì–´ ì»¨ì„¤íŒ… íŒŒíŠ¸ë„ˆ, AWS ì»¨ì„¤íŒ…, êµ¬ì¶•, ìš´ì˜ ë° ë¹Œë§ ì„œë¹„ìŠ¤ ì œê³µ. ë©”ê°€ì¡´í´ë¼ìš°ë“œëŠ” 2009ë…„ë¶€í„° í´ë¼ìš°ë“œë¥¼ ì°¨ì„¸ëŒ€ í•µì‹¬ ì‚¬ì—…ìœ¼ë¡œ ì„±ì¥ì‹œí‚¤ë©° â€˜í´ë¼ìš°ë“œ ì´ë…¸ë² ì´í„°(Cloud Innovator)â€™ë¡œì„œ ê³ ê°ë‹˜ë“¤ì˜ í´ë¼ìš°ë“œ ì „í™˜ì˜ ê³¼ì •ë§ˆë‹¤ ìµœì„ ì˜ ì„ íƒì„ í•˜ì‹¤ ìˆ˜ ìˆë„ë¡ ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤. - ì¶œì²˜(&lt;a class="link" href="https://www.megazone.com/" target="_blank" rel="noopener"
>https://www.megazone.com/&lt;/a>)&lt;/p>
&lt;/blockquote>
&lt;!-- raw HTML omitted -->
&lt;p>&lt;figure style="flex-grow: 156; flex-basis: 375px">
&lt;a href="https://umi0410.github.io/blog/megazone-cloud/index/spaceone_preview_2.png" data-size="1309x837">&lt;img src="https://umi0410.github.io/blog/megazone-cloud/index/spaceone_preview_2.png"
srcset="https://umi0410.github.io/blog/megazone-cloud/index/spaceone_preview_2_huee8c22ea49c5670715faa4f26b6ccdf9_132613_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/megazone-cloud/index/spaceone_preview_2_huee8c22ea49c5670715faa4f26b6ccdf9_132613_1024x0_resize_box_3.png 1024w"
width="1309"
height="837"
loading="lazy"
alt="spaceone_preview_2">
&lt;/a>
&lt;figcaption>spaceone_preview_2&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>&lt;code>AWS&lt;/code> &lt;code>EKS&lt;/code>ë¥¼ ì´ìš©í•œ &lt;code>Kubernetes&lt;/code> í™˜ê²½, ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì³&lt;/li>
&lt;li>Composition APIë¥¼ ì´ìš©í•˜ëŠ” ìµœì‹  &lt;code>Vue&lt;/code> ê¸°ìˆ &lt;/li>
&lt;li>&lt;code>Terraform&lt;/code>ì„ í†µí•œ &lt;code>IaC&lt;/code>&lt;/li>
&lt;li>ìë™í™”ëœ &lt;code>CI/CD&lt;/code>, ë‹¤ì–‘í•œ ë°°í¬ ì „ëµ, ì¸í”„ë¼ &lt;code>ëª¨ë‹ˆí„°ë§&lt;/code>&lt;/li>
&lt;li>HTTP2ë¥¼ ì´ìš©í•œ &lt;code>gRPC&lt;/code> API&lt;/li>
&lt;/ul>
&lt;h2 id="ì§„í–‰í–ˆë˜-ì—…ë¬´ë“¤">ì§„í–‰í–ˆë˜ ì—…ë¬´ë“¤&lt;/h2>
&lt;blockquote>
&lt;p>ë§í¬ í˜•ì‹ì´ë¯€ë¡œ ë§í¬ë¥¼ ëˆŒëŸ¬ ì½ì–´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>&lt;a class="link" href="../stargate-infra" >2020.04: Stargate ë¼ëŠ” ê°œë°œ ì¸í”„ë¼ë¥¼ êµ¬ì¶•&lt;/a>
&lt;ul>
&lt;li>terraform ì„ í†µí•œ ê°œë°œ ì¸í”„ë¼ êµ¬ì¶•&lt;/li>
&lt;li>EKS í´ëŸ¬ìŠ¤í„°ì— jenkins, spinnaker, grafana ë“±ë“±ì˜ ê°œë°œ ë„êµ¬ë“¤ì„ ë°°í¬í•¨&lt;/li>
&lt;li>ì¢…ì¢… ë°œìƒí•˜ëŠ” ì¥ì•  ìƒí™©ì„ ë©˜í† ë‹˜ê³¼ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…í•¨&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a class="link" href="../ci-cd-pipeline" >2020.05: ê°œë°œ CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•&lt;/a>
&lt;ul>
&lt;li>Experiment í™˜ê²½ì— ë°°í¬ =&amp;gt; Test, CI =&amp;gt; Development í™˜ê²½ì— ë°°í¬ë¥¼ ìë™í™”&lt;/li>
&lt;li>Spinnakerì™€ Jenkins, Github Actionì„ ì´ìš©í•œ ìë™í™” íŒŒì´í”„ë¼ì¸ êµ¬ì¶•&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a class="link" href="../argo-poc" >2020.06: Argo Projectë“¤ì„ PoC&lt;/a>
&lt;ul>
&lt;li>argo cd, argo(workflow), argo-event ë“±ì˜ ë‹¤ì–‘í•œ í”„ë¡œì íŠ¸ì— ëŒ€í•œ PoCë¥¼ ì§„í–‰&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a class="link" href="../spaceone-helm" >2020.07: spaceone-helm Helm3 Chart ê°œë°œ&lt;/a>
&lt;ul>
&lt;li>ê°œë³„ë¡œ ë°°í¬ë˜ê³  ìš´ì˜ë˜ë˜ ìš°ë¦¬ íŒ€ì˜ ì„œë¹„ìŠ¤ì¸ SpaceONEì„ íŒ¨í‚¤ì§€ë¡œ ë°°í¬í•  ìˆ˜ ìˆê²Œí•´ì£¼ëŠ” Helm Chartë¥¼ ê°œë°œ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a class="link" href="../spacectl" >2020.08: spacectl ì„¤ê³„, ê°œë°œ ì°¸ì—¬&lt;/a>
&lt;ul>
&lt;li>ìš°ë¦¬ íŒ€ì˜ ì„œë¹„ìŠ¤ì¸ SpaceONEì— ëŒ€í•œ API ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” CLI ë„êµ¬ì— ëŒ€í•œ ì„¤ê³„ì™€ ê°œë°œì— ì°¸ì—¬í•¨.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="ëŠë‚€-ì ">ëŠë‚€ ì &lt;/h2>
&lt;p>ê·¸ ë™ì•ˆ í˜¼ì ê°œë°œ ë° í‰ì†Œ ê´€ì‹¬ë¶„ì•¼ì˜€ë˜ í´ë¼ìš°ë“œ, ì»¨í…Œì´ë„ˆ ë“±ë“±ì˜ ì£¼ì œë¡œ ê³µë¶€í•´ì™”ì—ˆëŠ”ë°,
ê³¼ì—° ì´ ë‚´ìš©ë“¤ì´ ì •ë§ ì‹¤ë¬´ì— ë„ì›€ì´ ë  ì§€, ì œê°€ ì˜ ë‚˜ì•„ê°€ê³  ìˆëŠ” ê±´ì§€ í™•ì‹ ì´ ë“¤ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ &lt;code>CloudOne&lt;/code>íŒ€ì—ì„œ ë‹¤ì–‘í•œ ê²½í—˜ì„ í•˜ë©´ì„œ &amp;lsquo;ì œê°€ ê³µë¶€í•´ì˜¨ ê¸¸ì´ í‹€ë¦¬ì§€ë§Œì€ ì•Šì•˜êµ¬ë‚˜&amp;rsquo;ë¼ëŠ” ëŠë‚Œì„ ë°›ì„
ìˆ˜ ìˆì—ˆê³ , ë³´ì™„í•´ì•¼í•  ë¶€ë¶„ë“¤ì€ ë³´ì™„í•˜ë©´ì„œ ë¶ˆí™•ì‹¤í•œ ìì„¸ê°€ ì•„ë‹Œ í™•ì‹ ê³¼ ì—´ì •ì„ ê°€ì§„ ìì„¸ë¡œ
ì¢€ ë” ëª°ë‘í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤!&lt;/p>
&lt;p>ë°°ìš°ê³  ëŠë‚€ ë‚´ìš©ì´ ë„ˆë¬´ ë§ì•„ ê¸€ì´ ë‹¤ì†Œ ê¸¸ì–´ì¡ŒìŠµë‹ˆë‹¤. ê¸°ìˆ ì„ ê±°ë¶€ê° ì—†ì´ ì ‘í•˜ë˜
ê¸°ìˆ ì´ ë‹¤ê°€ ì•„ë‹Œ, íŒ€ì›ë“¤ì„ ìœ„í•´ ì†”ì„ ìˆ˜ë²”í•˜ëŠ” ê°œë°œì,
íŒ€ì›ë“¤ì˜ ìƒê°ì„ ì½ì–´ì¤„ ìˆ˜ ìˆê³ , ì˜ ì´í•´í•´ì¤„ ìˆ˜ ìˆëŠ” ê°œë°œìê°€ ë˜ê¸° ìœ„í•´ ë…¸ë ¥í•´ì•¼ê² ë‹¨ ìƒê°ì´ ë“­ë‹ˆë‹¤.
ì‰½ì§„ ì•Šê² ì§€ë§Œ, ë‚˜ì•„ê°€ê³  ì‹¶ì€ ë°©í–¥ì€ ì •í•´ì§„ ê²ƒ ê°™ì•„ ë‹¤í–‰ì…ë‹ˆë‹¤!&lt;/p></description></item><item><title>1. Stargateë¼ëŠ” ì¸í”„ë¼ êµ¬ì¶•ê¸°</title><link>https://umi0410.github.io/blog/megazone-cloud/stargate-infra/</link><pubDate>Fri, 04 Sep 2020 12:46:54 +0900</pubDate><guid>https://umi0410.github.io/blog/megazone-cloud/stargate-infra/</guid><description>&lt;img src="https://umi0410.github.io/blog/megazone-cloud/stargate-infra/dev-architecture.svg" alt="Featured image of post 1. Stargateë¼ëŠ” ì¸í”„ë¼ êµ¬ì¶•ê¸°" />&lt;h2 id="stargateë¼ëŠ”-ê°œë°œ-ì¸í”„ë¼-êµ¬ì¶•ê¸°">Stargateë¼ëŠ” ê°œë°œ ì¸í”„ë¼ êµ¬ì¶•ê¸°&lt;/h2>
&lt;p>&lt;img src="https://umi0410.github.io/blog/megazone-cloud/stargate-infra/dev-architecture.svg" alt="dev-architecture.svg" />&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>ì €í¬ íŒ€ì˜ ê°œë°œ ì¸í”„ë¼ëŠ” ìœ„ì™€ ê°™ìŠµë‹ˆë‹¤. ë§ˆì¹¨ ì œê°€ ì…ì‚¬í•  ì¯¤ì´ ê¸°ì¡´ì— ì¡´ì¬í•˜ë˜ ì¸í”„ë¼ë¥¼ ìƒˆë¡œìš´ í™˜ê²½ìœ¼ë¡œ
ì´ì „í•´ì•¼í•  ì‹œì ì´ì—ˆìŠµë‹ˆë‹¤. ë•ë¶„ì— ì €ëŠ” ì €í¬ ê°œë°œ í™˜ê²½ì„ ì²˜ìŒë¶€í„° êµ¬ì¶•í•˜ê³ , ìš°ë¦¬ì˜ ì„œë¹„ìŠ¤ë¥¼
ë°°í¬í•´ë³´ê³ , ê·¸ í›„ ìš´ì˜í•˜ë©´ì„œ ì—¬ëŸ¬ ê²½í—˜ë“¤ì„ í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="terraformìœ¼ë¡œ-ì²˜ìŒ-ì ‘í•´-ë³¸-iac">Terraformìœ¼ë¡œ ì²˜ìŒ ì ‘í•´ ë³¸ IaC&lt;/h3>
&lt;blockquote>
&lt;p>ì¹œêµ¬: IaCê°€ ë­” ì§€ ì•Œì•„? ì¨ë´¤ì–´?&lt;/p>
&lt;p>ë³¸ì¸: ë­ ì¸í”„ë¼ë¥¼ ì½”ë“œë¡œ ê´€ë¦¬í•œë‹¤ëŠ” ê±´ë°, ë‚˜ë„ ëª°ë¼ ã…‹ã…‹&lt;/p>
&lt;p>ë³¸ì¸: ì•„ë§ˆ ë„ˆë¬´ ê³ ê¸‰ ê¸°ìˆ ì´ë¼ ëŒ€í•™ ì¡¸ì—…í•  ë•Œ ê¹Œì§„ ëª» ì¨ë³¼ ë“¯?&lt;/p>
&lt;/blockquote>
&lt;p>ìœ„ì˜ ëŒ€í™”ëŠ” ì œê°€ ì…ì‚¬í•˜ê¸° ì•½ ì¼ì£¼ì¼ ì „ì— ë‚˜ëˆ´ë˜ ëŒ€í™”ì¸ë°, ì…ì‚¬ í›„ì—ëŠ” ì–´ëŠ ë§ &lt;code>IaC&lt;/code>ì™€ ê½¤ë‚˜ ì¹œê·¼í•´ì§„ ê²ƒ ê°™ì•„
ìœ ë¨¸ì‚¼ì•„ ìœ ë¨¸ë¡œ ê°€ì ¸ì™€ë´¤ìŠµë‹ˆë‹¤. &lt;code>ë©”ê°€ì¡´ í´ë¼ìš°ë“œ&lt;/code>ì˜ &lt;code>í´ë¼ìš°ë“œ ì›&lt;/code>íŒ€ì—ì„œ
ì¼í•˜ê¸° ì „ê¹Œì§€ëŠ” &lt;code>IaC&lt;/code>ëŠ” ì €ì™€ëŠ” ê±°ë¦¬ê°€ ë¨¼ í† í”½ì´ì—ˆê³ , &lt;code>Kubernetes&lt;/code> ë˜í•œ &lt;code>minikube&lt;/code>ë¡œ
ëª‡ ê°€ì§€ Objectë“¤ì„ ë°°í¬í•´ë³¸ ê²ƒì´ ë‹¤ì˜€ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, ì €ëŠ” ì €í¬ íŒ€ì—ì„œ ê·¼ë¬´í•˜ê²Œ ë˜ë©´ì„œ
&lt;code>terraform&lt;/code>ì„ í†µí•´ ìœ„ì˜ ì°¨íŠ¸ì— ê·¸ë ¤ì§„ ëª¨ë“  ì¸í”„ë¼ë¥¼ êµ¬ì¶•í•˜ê³  íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;code>terraform&lt;/code>ì„ ì‚¬ìš©í•˜ë©° ëŠê¼ˆë˜ ì ì€ &amp;lsquo;ì¥ì ë§Œ ì¡´ì¬í•˜ëŠ” ê¸°ìˆ ì€ ë“œë¬¼ ê²ƒì´ë‹¤&amp;rsquo;ë¼ëŠ” ì ì…ë‹ˆë‹¤.
ë¶„ëª… ëŒ€ë¶€ë¶„ì€ ì¥ì ì´ ìˆìœ¼ë©´ ê·¸ì— ë”°ë¥¸ ë‹¨ì ì´ ì¡´ì¬í•  ê²ƒì´ê³ , ê°œì¸ì ìœ¼ë¡œëŠ” í…Œë¼í¼ë„ ì¥ë‹¨ì ì´ ê³µì¡´í•˜ê³ ìˆë‹¤ëŠ”
ëŠë‚Œì„ ë°›ì•˜ìŠµë‹ˆë‹¤.
ì €ì˜ ì£¼ê´€ì ì¸ ëŠë‚Œì— ë”°ë¥¸ ê°€ì¥ í° ì¥ì ê³¼ ë‹¨ì ì„ ëª‡ ê°œë§Œ ì„¤ëª…í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="terraform-ë‹¨ì ">Terraform ë‹¨ì &lt;/h3>
&lt;p>ìš°ì„  ë‹¨ì ë¶€í„°. &lt;em>&amp;ldquo;ì‚¬ì†Œí•œ ì¸í”„ë¼ ë³€ê²½ë„ ì½”ë“œì— ë°˜ì˜í•˜ë ¤ë©´ ë¬¸ì„œë¥¼ ì°¾ì•„ë´ì•¼í•˜ê³ , plan ë‚´ìš©ì„
ê²€í† í•´ì•¼í•œë‹¤&amp;rdquo;&lt;/em>.&lt;/p>
&lt;p>ì €í¬ëŠ” í‰ì†Œì—ëŠ” &lt;code>EKSì˜ ë¡œê·¸&lt;/code>ë¥¼ ì¼œë†“ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ê·¸ëŸ°ë° ì–¸ì  ê°€ EKS ë¡œê·¸ë¥¼ &lt;code>CloudWatch&lt;/code>ë¥¼
ì´ìš©í•´ ë¶„ì„í•´ì•¼í•œ ì ì´ ìˆëŠ”ë°, AWS ì½˜ì†”ì—ì„œ ë°”ë¡œ ëˆˆ ì•ì— ë¡œê·¸ ì„¤ì • ì¹¸ì´ ìˆì—ˆìŒì—ë„
EKS ë¡œê·¸ë¥¼ ì„¤ì •í•˜ëŠ” terraform Docsë¥¼ ì°¾ì•„ë³¸ ë’¤ planì„ ë¶„ì„í•œ ë’¤ apply í–ˆì–´ì•¼í•©ë‹ˆë‹¤. ë¬¼ë¡ 
ì•„ë§ˆë„ ë¡œê·¸ ì„¤ì • ì¯¤ì´ì•¼ ì ê¹ ì½˜ì†”ë¡œ ì„¤ì •í–ˆë‹¤ê°€ ì½˜ì†”ë¡œ í•´ì œí•˜ë©´ ê·¸ í•œ ë²ˆì¯¤ì€ ë¬¸ì œê°€ ì—†ì—ˆê² ì§€ë§Œ,
ê·¸ëŸ° ì‹ìœ¼ë¡œ ì´ë²ˆ í•œ ë²ˆë§Œ, ì´ê²ƒì¯¤ì´ì•¼ í•˜ë©´ì„œ ì½”ë“œê°€ ì•„ë‹Œ ë§¤ë‰´ì–¼ë¡œ ì§ì ‘ ì¸í”„ë¼ í˜•ìƒì„
ì œì–´í•˜ëŠ” ê²½í—˜ì´ ìŒ“ì´ê²Œë˜ë©´ í˜•ìƒì´ ê¹¨ì ¸ì„œ ë‹¤ì‹œ í˜•ìƒì„ ë§ì¶”ê¸° í˜ë“¤ìˆ˜ë„ ìˆê³ , ì• ì´ˆì—
ê·¸ëŸ° ìˆ˜ì‘ì—…ì´ ë§ì´ ë“¤ì–´ê°€ì•¼í•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤ë©´ ì˜¤íˆë ¤ IaCë¥¼ ì´ìš©í•  í•„ìš”ê°€ ì—†ë‹¤ê³ 
ìƒê°í–ˆê¸° ë•Œë¬¸ì— ìµœëŒ€í•œ ì¸í”„ë¼ëŠ” terraform codeë¡œë§Œ ì‘ì—…í•œë‹¤ëŠ” ì €ì˜ ì›ì¹™ì„ ì§€í‚¤ê¸°
ìœ„í•¨ì´ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì¦‰ ìë™í™”ë³´ë‹¤ëŠ” ìˆ˜ì‘ì—…ì´ í¸í•œ ê²½ìš°ëŠ” êµ³ì´ IaCë¼ëŠ” ì»¨ì…‰ì„ ì´ìš©í•˜ëŠ” ê²ƒì´
ë” ë¶ˆí¸í•œ ê²½ìš°ë„ ì¡´ì¬í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="terraform-ì¥ì ">Terraform ì¥ì &lt;/h3>
&lt;p>&lt;em>&amp;ldquo;ë‚´ê°€ ì‚¬ìš©í•˜ê³  ìˆëŠ” ì¸í”„ë¼ ì „ì²´ë¥¼ í•œ ëˆˆì— ë³´ê¸° ì‰½ë‹¤&amp;rdquo;&lt;/em>&lt;/p>
&lt;p>ë¬¼ë¡  í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ í•˜ë‚˜ì— ëŒ€í•œ ì •ë³´ë¥¼ ë³´ê³ ì‹¶ìœ¼ë©´, ì›¹ ì½˜ì†”ì— ë“¤ì–´ê°€ì„œ í™•ì¸í•˜ëŠ” ê²ƒì´ í¸í•˜ê² ì§€ë§Œ,
ë‚´ê°€ ì´ìš©í•˜ê³  ìˆëŠ” AWSë‚´ì˜ ëª¨ë“  í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ì— ëŒ€í•œ ì •ë³´ë‚˜ ì„¤ì •ì„ ë³´ê¸°ì—ëŠ” terraform ì½”ë“œë‚˜
output, state ë“±ì´ ë” ì•Œì•„ë³´ê¸° í¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;em>&amp;ldquo;í˜¹ì‹œ ì¥ì• ê°€ ìƒê¸´ ê²½ìš° ê·¸ ì›ì¸ì„ ì¶”ì í•˜ê¸° ì‰½ë‹¤.&amp;rdquo;&lt;/em>&lt;/p>
&lt;p>ìˆ˜ì‘ì—…ìœ¼ë¡œ í´ë¼ìš°ë“œ ì¸í”„ë¼ë¥¼ ê´€ë¦¬í•˜ëŠ” ê²½ìš°ì— ìì‹ ì´ ëª¨ë¥´ëŠ” ì–´ë–¤ ë³€ë™ì‚¬í•­ì´ ìˆê³ , ê·¸ ë³€ë™ì‚¬í•­ì´
ì–´ë–¤ ë²„ê·¸ë¥¼ ì•¼ê¸°í•˜ê³  ìˆë‹¤ë©´, ìˆ˜ì‘ì—…ìœ¼ë¡œ ì‘ì—…ì„ ì§„í–‰í•˜ëŠ” ê²½ìš°ì—ëŠ” ê·¸ ë³€ë™ì‚¬í•­ì„ ì•Œì•„ì±„ê³  íŠ¸ëŸ¬ë¸”ìŠˆíŒ…í•˜ê¸°
ì‰½ì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ í…Œë¼í¼ ì½”ë“œë¥¼ í†µí•´ ì¸í”„ë¼ë¥¼ ê´€ë¦¬í•˜ë©´ ë³€ë™ì‚¬í•­ì„ í…Œë¼í¼ì´ ì•Œì•„ì„œ ì¡ì•„ì£¼ê³ , í˜¹ì€ ì½”ë“œì— ëŒ€í•œ
ì»¤ë°‹ ë‚´ì—­ ë“±ì„ í†µí•´ ë³€ë™ ì‚¬í•­ì„ ì²´í¬í•´ ë³¼ ìˆ˜ë„ ìˆì„ ê²ƒì…ë‹ˆë‹¤. ë”°ë¼ì„œ ê·¸ ë³€ë™ì‚¬í•­ì— ë§ëŠ” íŠ¸ëŸ¬ë¸” ìŠˆíŒ…ì„
í•˜ê¸° ì‰¬ìš¸ ê²ƒ ì…ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ê°œë°œ-ê´€ë ¨-ë‹¤ì–‘í•œ-ì„œë¹„ìŠ¤-ë°°í¬">ê°œë°œ ê´€ë ¨ ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ ë°°í¬&lt;/h3>
&lt;p>í…Œë¼í¼ìœ¼ë¡œ ì¸í”„ë¼ë¥¼ êµ¬ì¶•í•œ ë’¤ì—ëŠ” ìœ„ì˜ ì°¨íŠ¸ì—ì„œ ì˜¤ë¥¸ìª½ì— ì‘ê²Œ &lt;code>Stargate&lt;/code> ë¼ëŠ” ê³³ì— ì íŒ
ì„œë¹„ìŠ¤ë“¤ì„ ë°°í¬í–ˆìŠµë‹ˆë‹¤. ì´ ë¶€ë¶„ì— ëŒ€í•´ì„œëŠ” ë„ˆë¬´ë‚˜ë„ í•˜ê³ ì‹¶ì€ ì–˜ê¸°ê°€ ë§ì§€ë§Œ, ì§€ë£¨í•´ì§ˆ ìˆ˜ ìˆìœ¼ë‹ˆ
ê·¸ ì¤‘ ê¸°ì–µì— ë§ì´ ë‚¨ê±°ë‚˜ ì• ì°©ì´ ê°€ëŠ” ì„œë¹„ìŠ¤ë“¤ì— ëŒ€í•œ ë¦¬ë·°ë¥¼ ê°„ë‹¨íˆ ì ì–´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Nginx Ingress Controller&lt;/strong>
&lt;ul>
&lt;li>ë¡œì»¬ì—ì„œ minikubeë¡œë§Œ ê°œë°œí•˜ë‹¤ê°€ ì²˜ìŒìœ¼ë¡œ &lt;code>Ingress&lt;/code>ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
helmì„ ì´ìš©í•œ ê²Œ ì•„ë‹ˆë¼, helmìœ¼ë¡œ ë§Œë“¤ì–´ì§„ manifestë¥¼ ìˆ˜ë™ìœ¼ë¡œ í•˜ë‚˜í•˜ë‚˜ ì„¤ì •í•´ì„œ
ì„¤ì¹˜í•˜ê³  ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤. ì„¤ì •ì´ ê½¤ë‚˜ ë³µì¡í–ˆì—ˆê¸°ì— ì„¤ì •ì„ ë§ì´ ë³€ê²½í•˜ëŠ” ê²½ìš°
helmìœ¼ë¡œ ì„¤ì¹˜í•˜ëŠ” ê±´ ì–´ë–¨ê¹Œì‹¶ìŠµë‹ˆë‹¤&amp;hellip; ì¼í•˜ë©´ì„œ Nginxë¡œ L7 ë¡œë“œë°¸ëŸ°ì‹± ë¿ë§Œ ì•„ë‹ˆë¼
L4 ë¡œë“œë°¸ëŸ°ì‹±ë„ ëª‡ ë²ˆ ë‹¤ë£° ì¼ì´ ìˆì—ˆê³ , ì—¬ëŸ¬ Nginx Ingress Controllerì„ ë°°í¬í• 
ì¼ë„ ìˆì—ˆê³ , &lt;code>gRPC&lt;/code> í†µì‹ ì„ ìœ„í•œ ì„¤ì •ì„ í•´ì•¼í•  ì¼ë„ ìˆì—ˆëŠ”ë°, ì ì  ìˆ˜ì‘ì—…ìœ¼ë¡œ í•˜ë‹¤ë³´ë‹ˆ
ì„¤ì •ì´ ë„ˆë¬´ ë³µì¡í•´ì ¸ì„œ í—·ê°ˆë ¸ë˜ ì ì´ ìˆìŠµë‹ˆë‹¤. ë­”ê°€ ë‹¨ì ë§Œ ì ì€ ê²ƒ ê°™ì€ë°, K8sì˜
Ingress Controllerë¡œì„œ ì„±ëŠ¥ì ì¸ ë¶€ë¶„ì€ ì œê°€ ì˜ ëª¨ë¥´ê² ì§€ë§Œ, í¬ê²Œ ë¶ˆí¸í•¨ ì—†ì´
ì˜ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>ALB Ingress Controller&lt;/strong>
&lt;ul>
&lt;li>ì„œë¹„ìŠ¤ì— ëŒ€í•´ ì§ì ‘ L7 ë¡œë“œë°¸ëŸ°ì‹±ì„ ìˆ˜í–‰í•  ê²½ìš° ì´ìš©í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>í—·ê°ˆë ¸ë˜ ì ì€ ë³´í†µì€ Nginx Ingress ControllerëŠ” ì‚¬ì‹¤ IngressëŠ” ì„¤ì •ì´ê³ ,
ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì‹¤ì œë¡œ ë¡œë“œë°¸ëŸ°ì‹±ì„ ìˆ˜í–‰í•˜ëŠ”ë°, ALBëŠ” ALB Ingress Controllerê°€ Ingressë¥¼
í†µí•´ ALBë¥¼ ë§Œë“¤ê³  ì‹¤ì œ ë¡œë“œë°¸ëŸ°ì‹±ì€ ALB Ingress Controllerê°€ ì•„ë‹ˆë¼ ALBê°€ í•œë‹¤ëŠ” ì ì´ì—ˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>ì„¤ì •ì— ë”°ë¼ ë‹¤ë¥´ì§€ë§Œ ê¸°ë³¸ì ìœ¼ë¡œëŠ” ë…¸ì¶œì‹œí‚¤ê³ ì í•˜ëŠ” ì„œë¹„ìŠ¤ëŠ” &lt;code>NodePort&lt;/code>ê¸‰ ì´ìƒìœ¼ë¡œ ì„œë¹„ìŠ¤ê°€ ì—´ë ¤ìˆì–´ì•¼í•˜ëŠ”ë°,
ì‹¤ìˆ˜ë¡œ ClusterIPë¡œ ë…¸ì¶œì‹œì¼œ ALBê°€ ì„œë¹„ìŠ¤ë¥¼ ì œëŒ€ë¡œ ì°¾ì§€ ëª»í•œ ì ì´ ì¢…ì¢… ìˆì—ˆìŠµë‹ˆë‹¤. ì£¼ì˜..!&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Cert Manager&lt;/strong>
&lt;ul>
&lt;li>ìë™ìœ¼ë¡œ certë¥¼ ë°œê¸‰í•´ì£¼ê³  ê°±ì‹ í•´ì£¼ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.&lt;/li>
&lt;li>Let&amp;rsquo;s Encryptë¥¼ ì´ìš©í–ˆê³  ë¬´ë£Œì…ë‹ˆë‹¤.&lt;/li>
&lt;li>ì •ë§ ì •ë§ í¸ë¦¬í–ˆìŠµë‹ˆë‹¤!&lt;/li>
&lt;li>&lt;code>DNS&lt;/code>, &lt;code>HTTP Challenge&lt;/code>, &lt;code>TLS&lt;/code>ì— ëŒ€í•´ ë§ì´ ë°°ìš¸ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>TLS í†µì‹  ê³¼ì •ì€ ê³µë¶€í•´ë„í•´ë„ ì •í™•í•œ ìˆœì„œëŠ” ê¹Œë¨¹ê²Œ ë¼ì„œ&amp;hellip; ë‹¤ì‹œ ê³µë¶€í•´ë´ì•¼ê² ìŠµë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Jenkins&lt;/strong>
&lt;ul>
&lt;li>í¸í•œë°, ê´€ë¦¬í•˜ê¸° ê·€ì°®ì„ ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>ê²°ì •ì ìœ¼ë¡œ ì½”ë“œë¡œ ê´€ë¦¬í•  ìˆ˜ë„ ì—†ëŠ”ë°, UIë„ ê·¸ë ‡ê²Œ ì§ê´€ì ì¸ì§€ëŠ” ì˜ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Spinnaker&lt;/strong>
&lt;ul>
&lt;li>ì •ë§ í¸ë¦¬í•©ë‹ˆë‹¤. Jenkins test ê²°ê³¼ë¥¼ CDì— ì´ìš©í•  ìˆ˜ë„ ìˆê³ , í¸ë¦¬í•˜ê³  ë‹¤ì–‘í•œ ë¬¸ë²•, íŒŒì´í”„ë¼ì¸ ì¢…ë¥˜,
ì§ê´€ì ì¸ UI/UX. ì‚¬ì‹¤ Argoë¥¼ ë„ì…í•˜ê³  ì‹¶ì—ˆì§€ë§Œ, &lt;code>Argo&lt;/code>ëŠ” ì•½ê°„ ê°€ë²¼ìš´ ì¿ ë²„ í™˜ê²½ì— ëŒ€í•œ ë°°í¬ìš© ê°™ì€ ëŠë‚Œ,
&lt;code>IaC&lt;/code>ëŠ” ì ê·¹ ë„ì…ë˜ì—ˆìœ¼ë‚˜ í˜„ì‹¤ì— ë„ì…ì€ ì‰½ì§€ ì•Šì€ ê¸°ìˆ ì  ì´ìƒí–¥ ê°™ì€ ëŠë‚Œì´ ì»¸ê³ ,
í˜„ì‹¤ì ìœ¼ë¡œëŠ” ì¢€ ë” ì•ˆì •ì ì¸ &lt;code>Spinnaker&lt;/code>ë¥¼ ìœ ì§€í•˜ê²Œ ëìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>ì¢€ ëŠë¦¬ë‹¤ê³  ìƒê°í–ˆëŠ”ë°, ì´ ê¸€ì„ ì“°ë©´ì„œ ìƒê°í•´ë³´ë‹ˆ ê°œë°œì—ì„œëŠ” K8s Deploymentì˜ &lt;code>Grace Period&lt;/code> ë•Œë¬¸ì¸ ê²ƒ ê°™ì•„
ê·¸ê±¸ ì¢€ ì¤„ì—¬ë³¼ ê»„ ì‹¶ìŠµë‹ˆë‹¤. ì¦‰ ë‹¤ì‹œ ìƒê°í•´ë³´ë‹ˆ ë³„ë¡œ ëŠë¦¬ì§€ ì•Šì€ ë“¯í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>ë°°í¬ ìì²´ëŠ” ì•ˆì •ì ì´ê³  ì¢‹ì€ë°, ì„¤ì •í•  ë•Œ ë²„ê·¸ê°€ ì¢…ì¢… ìˆìŠµë‹ˆë‹¤. ë²„ê·¸ì¸ì§€ ì œ ì‹¤ìˆ˜ì¸ì§€ëŠ” ëª¨ë¥´ê² ì§€ë§Œ
Pipeline stage ì—ì„œ Bakeë¼ëŠ” ëª¨ë“œê°€ &amp;ldquo;ìš°ì™€ ì‹ ë°•í•˜ë‹¤!&amp;rdquo; ë¼ê³  ìƒê°í–ˆì§€ë§Œ, ì„¤ì •ì´ ì œëŒ€ë¡œ ë˜ì§€ ì•Šê±°ë‚˜,
OAuth login ì‹¤íŒ¨ì— ëŒ€í•œ ì²˜ë¦¬, Artifact ê²½ë¡œ ì„¤ì •ì´ ë„ˆë¬´ ë²ˆê±°ë¡œìš´ ì  ë“±ì˜ ë‹¨ì ì´ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Keycloak&lt;/strong>
&lt;ul>
&lt;li>ìš°ë¦¬ì˜ ê°œë°œíˆ´ë“¤ì— ëŒ€í•œ ì¸ì¦ì„ ì‚¬ë‚´ ê³„ì •ìœ¼ë¡œ ì—°ë™ì‹œì¼œì£¼ëŠ” &lt;code>Single Sign On&lt;/code> ê¸°ëŠ¥ì„ ì§€ì›í–ˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>ìƒˆë¡œìš´ íŒ€ì›ì€ ê° ì„œë¹„ìŠ¤ì— ë³„ë„ì˜ ê°€ì… ê³¼ì • ì—†ì´, ì•± ë ˆë²¨ì—ì„œ ë”°ë¡œ ê¶Œí•œ ë¶€ì—¬ê°€ í•„ìš”í•œ
ê²ƒì´ ì•„ë‹ˆë¼ë©´ ì‚¬ë‚´ ê³„ì •ìœ¼ë¡œ ë°”ë¡œ ì´ìš©ì´ ê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>ë¬¸ì„œê°€ ì œëŒ€ë¡œ ì •ë¦¬ëœ ê²Œ ë‹¤ì†Œ ë¶€ì¡±í•œ ëŠë‚Œì´ì—ˆì–´ì„œ ì„¸ë°€í•œ ì„¤ì •ì´ë‚˜ ì •í™•í•œ ì‘ë™ì›ë¦¬ë¥¼ íŒŒì•…í•˜ê¸°ëŠ” ì‰½ì§€ ì•Šì•˜ë˜
ì ì´ ì¡°ê¸ˆ ì•„ì‰½ìŠµë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="ì¸í”„ë¼-êµ¬ì¶•ì—-ëŒ€í•œ-ì •ë¦¬">ì¸í”„ë¼ êµ¬ì¶•ì— ëŒ€í•œ ì •ë¦¬&lt;/h2>
&lt;p>ë‚´ìš©ì´ ë„ˆë¬´ ê¸¸ì–´ì§€ë©´ ì½ê¸° í˜ë“¤ ê²ƒ ê°™ì•„ ìµœëŒ€í•œ ëŠë‚€ ì  ìœ„ì£¼ë¡œ ê°„ë‹¨íˆ ì •ë¦¬í•´ë³´ë ¤ê³  ë…¸ë ¥í•´ë³´ì•˜ìŠµë‹ˆë‹¤.
ì¸í„´ìœ¼ë¡œ ì¼ì„ í•˜ê¸° ì „ì— ê°€ë²¼ìš´ ë§ˆìŒ ì† ëª©í‘œê°€ í•˜ë‚˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>&amp;lsquo;ì–´ë–¤ ê±¸ ì–´ëŠì •ë„ ì‚¬ìš©í•´ë³´ë©´ ê·¸ê²ƒì— ëŒ€í•œ ì£¼ê´€ì ì¸ í‰ê°€ë¥¼ ë‚´ë¦´ ìˆ˜ ìˆëŠ” ì‚¬ëŒì´ ë˜ê³ ì‹¶ë‹¤.&amp;rsquo;&lt;/strong>&lt;/p>
&lt;/blockquote>
&lt;p>ëˆ„êµ°ê°€ &amp;ldquo;&lt;code>ë„ì»¤&lt;/code>ê°€ ì„¤ì¹˜í•˜ê¸° ì •ë§ ì‰½ë”ë¼êµ¬ìš”.&amp;rdquo;, &amp;ldquo;&lt;code>minikube&lt;/code> ì¨ë³´ë‹ˆ ì •ë§ í¸ë¦¬í•˜ë”ë¼êµ¬ìš”.&amp;rdquo;, &amp;ldquo;&lt;code>Jenkins&lt;/code> ë³´ë‹¤ëŠ” &lt;code>travis&lt;/code>ê°€ í¸ë¦¬ë”ë¼êµ¬ìš”.(í˜¹ì€ ê·¸ ë°˜ëŒ€)&amp;rdquo;
ì´ëŸ° ì–˜ê¸°ê°€ ë‚˜ì™€ë„ ê³¼ê±°ì—ëŠ” ê³µê°í•  ìˆ˜ë„, ì œ ì£¼ê´€ì ì¸ í‰ê°€ë¥¼ ë‚´ë¦´ ìˆ˜ë„ ì—†ì—ˆìŠµë‹ˆë‹¤. ì €ì˜ ê²½í—˜ìœ¼ë¡œ êµ¬ì„±ëœ
ëª¨ì§‘ë‹¨ì´ ì—†ì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ì €í¬ í´ë¼ìš°ë“œ ì› íŒ€ì—ì„œ ê·¼ë¬´í•˜ë©´ì„œ ì–´ë–»ê²Œ ë³´ë©´ ê¹Šì´ëŠ” ë‹¤ì†Œ ì–•ì•˜ì„ ì§€ ëª°ë¼ë„
ì •ë§ ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ë¥¼ ì ‘í•˜ê³  ë‹¤ì±„ë¡œìš´ ê²½í—˜ì„ í•  ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤! ë•ë¶„ì— ì´ì œëŠ” ì–´ë–¤ ì„œë¹„ìŠ¤ë¥¼ ì ‘í•˜ë“ ,
ìƒˆë¡œìš´ ì–¸ì–´ë¥¼ ì ‘í•˜ëŠ” ì €ë§Œì˜ ëŠë‚Œì„ ê°€ì§ˆ ìˆ˜ ìˆê³ , ì˜ê²¬ì„ ë§í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤!&lt;/p></description></item><item><title>2. Github Action, Spinnakerì„ ì´ìš©í•œ CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•ê¸°</title><link>https://umi0410.github.io/blog/megazone-cloud/ci-cd-pipeline/</link><pubDate>Fri, 04 Sep 2020 12:46:54 +0900</pubDate><guid>https://umi0410.github.io/blog/megazone-cloud/ci-cd-pipeline/</guid><description>&lt;img src="https://umi0410.github.io/blog/megazone-cloud/ci-cd-pipeline/ci-cd-pipeline.png" alt="Featured image of post 2. Github Action, Spinnakerì„ ì´ìš©í•œ CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•ê¸°" />&lt;h2 id="github-actionì„-ì‚¬ìš©í•˜ê²Œ-ëœ-ë°°ê²½">Github Actionì„ ì‚¬ìš©í•˜ê²Œ ëœ ë°°ê²½&lt;/h2>
&lt;p>ì €í¬ íŒ€ì€ ì›ë˜ CIìš©ìœ¼ë¡œ &lt;code>Jenkins&lt;/code>ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤ë§Œ íŒ€ì´ ê°œë°œ ì¤‘ì´ë˜ ì„œë¹„ìŠ¤ê°€
ì˜¤í”ˆì†ŒìŠ¤ê°€ ëª©í‘œì¸ í”„ë¡œì íŠ¸ì˜€ê³ , Github Actionì´ ë¹ ë¥´ê²Œ ë°œì „í•´ë‚˜ê°€ë©´ì„œ
ë¹„ìš©ë„ ë¬´ë£Œê°€ ë˜ì—ˆê³ , ì¢‹ì€ Actionë“¤ì´ ë§ì´ ìƒê²¨ë‚˜ê³  ìˆì—ˆê¸°ì—
ì–´ëŠ ì •ë„ í”„ë¡œì íŠ¸ êµ¬ì¡°ê°€ ì¡íŒ ë’¤ì—ëŠ” Githubì˜ Public Repositoryë¡œ í”„ë¡œì íŠ¸ë¥¼ ê´€ë¦¬í•˜ê³ 
Github Actionì„ CI ë„êµ¬ë¡œ ì±„íƒí•˜ê²Œë˜ì—ˆìŠµë‹ˆë‹¤. Integration Testë¥¼
ì œì™¸í•œ ëª¨ë“  ë¹Œë“œ ë° ì¼ë¶€ ë°°í¬ë¥¼ Github Actionì„ ì´ìš©í•˜ê²Œë˜ì—ˆê³ , ëŒ€ë¶€ë¶„ì˜ ë°°í¬ì—ëŠ” ì‚¬ìš©í•˜ë˜ëŒ€ë¡œ
Spinnakerì„ ì´ìš©í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="github-action-vs-jenkins">Github Action vs Jenkins&lt;/h2>
&lt;p>ì´ ë¶€ë¶„ ì—­ì‹œ ëŠë‚€ ì  ìœ„ì£¼ë¡œ ìš”ì•½í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Github Action&lt;/th>
&lt;th>Jenkins&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>ë‚´ê°€ ì„œë²„ë¥¼ ê´€ë¦¬í•  í•„ìš”ê°€ ì—†ë‹¤.&lt;/td>
&lt;td>ë‚´ê°€ ì§ì ‘ masterì„ ë„ìš°ê³ , slaveë¥¼ ë„ì›Œìš°ê³ , ê´€ë¦¬í•´ì¤˜ì•¼í•œë‹¤.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>VMì´ ë°°ì¹˜ë˜ì–´ ì œê³µë˜ëŠ” ë°ì— ì¢€ ì‹œê°„ì´ ë“ ë‹¤. ë‚´ ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•  ìˆ˜ê°€ ì—†ë‹¤ë³´ë‹ˆ ë°˜ë³µë˜ëŠ” íŒ¨í‚¤ì§€ ì„¤ì¹˜ë‚˜ í™˜ê²½ ì„¤ì •ì„ ë§¤ë²ˆ í•´ì•¼í•´ì„œ ì¢€ ëŠë¦¬ë‹¤.&lt;/td>
&lt;td>ë‚´ê°€ í•„ìš”í•œ Pluginì„ ì„¤ì¹˜í•´ë†“ê±°ë‚˜ ì„¤ì •ì„ ì…ë ¥í•´ ë†“ìœ¼ë©´ ë§¤ë²ˆ ë¹Œë“œí•  ë•Œ ë”°ë¡œ ì œê³µí•  í•„ìš” ì—†ë‹¤.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Codeë¡œ ê´€ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤! ì²˜ìŒì—” ì¡°ê¸ˆ ì–´ë ¤ìš¸ ìˆ˜ ìˆì§€ë§Œ, ì•Œê³  ë‚˜ë©´ ì“°ê¸° ë„ˆë¬´ ì‰½ë‹¤.&lt;/td>
&lt;td>ì²˜ìŒ ì ‘í•œ ì‚¬ëŒì´ ì‚¬ìš©í•˜ê¸°ì—ëŠ” Github Actionë³´ë‹¤ í¸ë¦¬í•  ìˆ˜ ìˆì§€ë§Œ, ê·¸ë ‡ë‹¤ê³  í›Œë¥­í•œ UI/UXëŠ” ì•„ë‹Œ ë“¯ í•˜ë‹¤.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ìš”ì¦˜ í•«í•˜ê³ , ë¹ ë¥´ê²Œ ë°œì „ ì¤‘ì´ë‹¤.&lt;/td>
&lt;td>êµ¬ì‹ì´ë‹¤.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>ë¹„ìš©ì´ ì €ë ´í•˜ê²Œ í’€ë¦¬ê³  ìˆê³ (í¼ë¸”ë¦­ì˜ ê²½ìš° ì•„ë§ˆ ë¬´ì¡°ê±´ ë¬´ì œí•œ ê³µì§œ),
ì›ë˜ ì§€ì›í•˜ì§€ ì•Šë˜ ë§¤ë‰´ì–¼ íŠ¸ë¦¬ê±°ê°€ 2020.07ë¶€í„° ì œê³µë˜ê¸° ì‹œì‘í–ˆë‹¤ëŠ” ì ,
ëˆ„êµ¬ë“  ì˜¤í”ˆì†ŒìŠ¤ë¡œ Github Actionì—ì„œ ë‚¨ë“¤ì´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” action ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤ëŠ” ì ë“±ì„
ë³´ê³  Github Actionì´ ë¹ ë¥´ê²Œ ë°œì „ ì¤‘ì´ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ê·¸ë˜ì„œ-ì–´ë–¤-cicdë¥¼-ìë™í™”í•˜ì˜€ë‚˜ìš”">ê·¸ë˜ì„œ ì–´ë–¤ CI/CDë¥¼ ìë™í™”í•˜ì˜€ë‚˜ìš”?&lt;/h2>
&lt;p>&lt;figure style="flex-grow: 56; flex-basis: 134px">
&lt;a href="https://umi0410.github.io/blog/megazone-cloud/ci-cd-pipeline/ci-cd-pipeline.png" data-size="913x1628">&lt;img src="https://umi0410.github.io/blog/megazone-cloud/ci-cd-pipeline/ci-cd-pipeline.png"
srcset="https://umi0410.github.io/blog/megazone-cloud/ci-cd-pipeline/ci-cd-pipeline_hu2d78a6f76281dd93e8329c8b5a44cef9_282268_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/megazone-cloud/ci-cd-pipeline/ci-cd-pipeline_hu2d78a6f76281dd93e8329c8b5a44cef9_282268_1024x0_resize_box_3.png 1024w"
width="913"
height="1628"
loading="lazy"
alt="ci-cd-pipeline.png">
&lt;/a>
&lt;figcaption>ci-cd-pipeline.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>ì„¸ë¡œë¡œ ê¸¸ì–´ì„œ ì¢€ ë³´ê¸° ë¶ˆí¸í•˜ì‹¤ ìˆ˜ë„ ìˆëŠ”ë°, ìœ„ì˜ ì°¨íŠ¸ê°€ ì €í¬ì˜ ê¹ƒí—™ì•¡ì…˜ì— ëŒ€í•œ ì°¨íŠ¸ì…ë‹ˆë‹¤.
ë ˆí¬ì§€í† ë¦¬ë§ˆë‹¤ ì¡°ê¸ˆì”© ë‹¤ë¥¸ ë¶€ë¶„ì´ ìˆê³ , í”„ë¡ íŠ¸ì—”ë“œì˜ ê²½ìš° íŒŒì´í”„ë¼ì¸ì´ ë‹¤ì–‘í–ˆëŠ”ë°, ìš°ì„  ë°±ì—”ë“œì˜
ê¹ƒí—™ì•¡ì…˜ ë° CI/CD ì§„í–‰ ë°©ì‹ì— ëŒ€í•´ ìš”ì•½í•´ë³´ê² ìŠµë‹ˆë‹¤. (Chartë¥¼ ì‘ì„±í•œ ì§€ê°€ ì¢€ ë¼ì„œ ì„¤ëª…ê³¼ ì¡°ê¸ˆ
ë‹¤ë¥¸ ë¶€ë¶„ì´ ìˆì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.)&lt;/p>
&lt;p>ê°œë°œ ìŠ¤í”„ë¦°íŠ¸ ì§„í–‰ ì‹œì—ëŠ” ì•„ë˜ì™€ ê°™ì´ ì§„í–‰ë˜ì—ˆìŠµë‹ˆë‹¤. (&amp;lt;ìƒí™© ì„¤ëª…&amp;gt; =&amp;gt; &amp;lt;Github Action ìˆ˜í–‰ ë‚´ìš©&amp;gt; í˜•ì‹ìœ¼ë¡œ ë‚˜í–ˆìŠµë‹ˆë‹¤.)&lt;/p>
&lt;ol>
&lt;li>ê°œë³„ Fork í›„ Master Branchì— Pull Request =&amp;gt; lint, basic unit test ì§„í–‰. í†µê³¼ëœ PRë§Œ Mergeì—´&lt;/li>
&lt;li>Masterì— Merge í˜¹ì€ Commitì´ Pushë¨ =&amp;gt; CI Actionì´ ì‹¤í–‰ë©ë‹ˆë‹¤.&lt;/li>
&lt;li>ê°œë°œìš© docker registry ì— ì—…ë¡œë“œ&lt;/li>
&lt;li>í•´ë‹¹ registryì— ì—…ë¡œë“œ ëœ ê²ƒì„ ê°ì§€í•˜ê³  &lt;code>Spinnaker&lt;/code>ê°€ Experiment í™˜ê²½ì— ë°°í¬&lt;/li>
&lt;li>Experimental í™˜ê²½ì„ ì´ìš©í•´ &lt;code>Jenkins&lt;/code>ê°€ Integration Testë¥¼ ì§„í–‰&lt;/li>
&lt;li>Integration Test ì„±ê³µ ì‹œì— Dev í™˜ê²½ì— ë°°í¬.&lt;/li>
&lt;/ol>
&lt;p>ì´í›„ ìŠ¤í”„ë¦°íŠ¸ ë§‰ë°”ì§€ QA ê¸°ê°„ì—ëŠ” Experiment, Dev í™˜ê²½ì´ ì£¼ë¡œ QA í™˜ê²½ìœ¼ë¡œ ì‚¬ìš©ë˜ì—ˆê³ ,
íŒŒì´í”„ë¼ì¸ì€ ë‹¤ìŒê³¼ ê°™ì•˜ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ê²€ì¦ì´ ì–´ëŠ ì •ë„ ëë‚œ ì»¤ë°‹ì— ëŒ€í•´ Git Tagë¥¼ &lt;code>{{VERSION}}-rc{{RC_NUMBER}}&lt;/code> í˜•íƒœë¡œ ë‹¬ì•„ í‘¸ì‹œ - Github Releaseê°€ ìƒê¹€
=&amp;gt; ë„ì»¤ ì´ë¯¸ì§€ ë¹Œë“œ í›„ Production Docker Registryì— ì´ë¯¸ì§€ ì—…ë¡œë“œ
=&amp;gt; tagê°€ ë‹¬ë¦° ì»¤ë°‹ì„ ê¸°ì ìœ¼ë¡œ ìë™ìœ¼ë¡œ ë²„ì „ ëª…ì˜ ë¸Œëœì¹˜ë¥¼ ë§Œë“¦.&lt;/li>
&lt;li>Production Docker Registryì˜ ì—…ë¡œë“œë¥¼ ê°ì§€í•˜ê³  Devì—ì„œ ì†ìˆ˜ QA ì§„í–‰&lt;/li>
&lt;li>ë¬¸ì œê°€ ìˆì„ ê²½ìš° rc numberë¥¼ ì˜¬ë ¤ì„œ ë‹¤ì‹œ íƒœê·¸ë¥¼ ë‹¬ê³  ì—…ë¡œë“œ í›„ ì¬ì°¨ QA&lt;/li>
&lt;li>ë¬¸ì œê°€ ì—†ì„ ê²½ìš° í•´ë‹¹ íƒœê·¸ë¥¼ ë°”íƒ•ìœ¼ë¡œ rcë¥¼ ì§€ìš°ê³  ì‹¤ì œ ë²„ì „ìœ¼ë¡œì„œ íƒœê·¸ë¥¼ ë‹¬ì•„ í‘¸ì‹œ =&amp;gt; ë‹¤ì‹œ ì—…ë¡œë“œ&lt;/li>
&lt;li>Productionì€ ë§¤ë‰´ì–¼ ë°°í¬.&lt;/li>
&lt;/ol>
&lt;h2 id="github-actionì„-ë‹¤ë¤„ë³´ë©´ì„œ-ëŠë‚€-ì ">Github Actionì„ ë‹¤ë¤„ë³´ë©´ì„œ ëŠë‚€ ì &lt;/h2>
&lt;p>ì²˜ìŒì—ëŠ” Github Actionì— ê·¸ë ‡ê²Œ ë§Œì¡±ì„ í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ì´ˆê¸°ì—ëŠ” Manual Triggerê°€ ì§€ì›ë˜ì§€
ì•Šì•˜ë˜ ë°ë‹¤ê°€, ê°€ëœ©ì´ë‚˜ Github Actionì„ ì˜ ëª°ëê¸°ì— í•œ ë²ˆ Github Actionì„ ìˆ˜ì •í•˜ì—¬
í…ŒìŠ¤íŠ¸ í•˜ê³ ì‹¶ì„ ë•Œ ë§ˆë‹¤ ì»¤ë°‹ì„ í•˜ë‚˜ì”© ë‚ ë ¤ì•¼í–ˆë˜ ê²Œ ë¶ˆí¸í–ˆê³ , ë¸Œëœì¹˜ë¥¼ ë”°ë¡œ ë§Œë“¤ê±°ë‚˜ forkë¥¼ ë– ì„œ Github Action í…ŒìŠ¤íŠ¸ í›„
í•´ë‹¹ &lt;code>workflow&lt;/code>ë§Œ ë§ˆìŠ¤í„°ì— ë¨¸ì§€í•˜ëŠ” ë°©ì‹ ë“±ë“± ë‹¤ì–‘í•œ ë°©ì‹ì„ ì‚¬ìš©í–ˆì—ˆëŠ”ë°, ì–´ëŠ ì •ë„ ìµìˆ™í•´ì§€ê³  Github Actionì—
Manual Triggerë„ ë“±ì¥í•˜ê²Œ ë˜ë©´ì„œ ê½¤ë‚˜ ë§Œì¡±ë„ê°€ ë†’ì•„ì¡ŒìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;code>Jenkins&lt;/code>ì™€ ë‹¬ë¦¬ ì œê°€ ì„œë²„ë¥¼ ì´ìš©í•˜ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ì ë„ ë§˜ì— ë“¤ê¸´í–ˆëŠ”ë°, ì¢…ì¢… Github ì„œë²„ê°€ ì£½ëŠ” ì¼ì´
ë°œìƒí•´ì„œ ë‚œê°í–ˆë˜ ì ì´ ìˆê¸´í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ë‚˜ ì¬ë¯¸ìˆì—ˆë˜ ì ì€ Github Actionì„ ì´ìš©í•˜ë©´ì„œ ì €í¬ì˜ &lt;code>CI/CD&lt;/code> ì „ëµì´ ê½¤ë‚˜ ê³ ë„í™”ë˜ì—ˆëŠ”ë°,
ê·¸ ê³¼ì •ì—ì„œ íŒ€ì›ë“¤ê³¼ ììœ ë¡­ê²Œ ì˜ì‚¬ì†Œí†µí•˜ëŠ” ê³¼ì •ì´ ì¬ë¯¸ìˆì—ˆê³ , ì € ë˜í•œ ììœ ë¡­ê²Œ ì˜ê²¬ì„ ë‚˜ëˆŒ ìˆ˜ ìˆì—ˆë˜ ê²½í—˜ì„ í•  ìˆ˜ ìˆì—ˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>í›„ì— ì €í¬ &lt;code>SpaceONE&lt;/code>ì˜ CLI API í´ë¼ì´ì–¸íŠ¸ì¸ &lt;code>spacectl&lt;/code>ì˜ ì„¤ê³„ì—ë„ &lt;code>Github Action&lt;/code>ì˜ êµ¬ì¡°ë¥¼ ëª¨í‹°ë¸Œì‚¼ì•˜ëŠ”ë°
ì´ë•Œì—ë„ Github Actionì— ëŒ€í•œ ì§€ì‹ì´ ë§ì€ ë„ì›€ì´ ë˜ì—ˆê³ , í‡´ì‚¬ í›„ì—ë„
ê°œì¸ì ì¸ Github í™œë™ì„ í•˜ë©´ì„œ ììœ ë¡­ê²Œ Github Actionì„ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆê¸°ì—
ë“ ë“ í•œ ê°œë°œ ë„êµ¬ë¥¼ ì–»ì€ ëŠë‚Œì…ë‹ˆë‹¤. ì½”ë“œë¡œ ì œê°€ í•˜ê³ ì‹¶ì€ ê²ƒì„ ë­ë“  ì •ì˜í•  ìˆ˜ ìˆê³ ,
ë§Œë“¤ì–´ì ¸ ìˆëŠ” ì‘ì—…ì€ í¸í•˜ê²Œ ê°€ì ¸ë‹¤ ì“°ë©´ ë˜ê¸° ë•Œë¬¸ì—
ë¹Œë“œë‚˜ ë°°í¬ì— ê´€í•´ ì¬ë¯¸ìˆëŠ” ë²ˆëœ©ì´ëŠ” ì•„ì´ë””ì–´ê°€ ìˆì„ ë•Œ ë°”ë¡œ ë°”ë¡œ ì ìš©í•  ìˆ˜ ìˆê³ , ì‹¤ì œë¡œ í˜„ì¬ì˜ &lt;code>Github Page&lt;/code>ë„
&lt;code>Github Action&lt;/code>ì„ í†µí•´ ë‹¤ì–‘í•œ íŠ¸ë¦­ì„ ì´ìš©í•  ìˆ˜ë„ ìˆì—ˆê³ ,
ë¹Œë“œ í›„ ë°°í¬ ë˜í•œ ìë™í™” ë˜ì–´ìˆìŠµë‹ˆë‹¤!&lt;/p></description></item><item><title>3. Argo Projectë“¤ì— ëŒ€í•œ PoC(ê°œë… ì¦ëª…) ì§„í–‰</title><link>https://umi0410.github.io/blog/megazone-cloud/argo-poc/</link><pubDate>Fri, 04 Sep 2020 12:46:54 +0900</pubDate><guid>https://umi0410.github.io/blog/megazone-cloud/argo-poc/</guid><description>&lt;img src="https://umi0410.github.io/blog/megazone-cloud/argo-poc/argo-events-top-level.png" alt="Featured image of post 3. Argo Projectë“¤ì— ëŒ€í•œ PoC(ê°œë… ì¦ëª…) ì§„í–‰" />&lt;h2 id="argo-pocë¥¼-ì§„í–‰í•˜ê²Œ-ëœ-ë°°ê²½">Argo PoCë¥¼ ì§„í–‰í•˜ê²Œ ëœ ë°°ê²½&lt;/h2>
&lt;p>ì…ì‚¬ ì´ˆê¸°ë¶€í„° &lt;code>Argo&lt;/code>ì— ëŒ€í•´ ê°„ê°„íˆ ì´ì•¼ê¸°ë¥¼ ë“¤ì–´ì™”ìŠµë‹ˆë‹¤. ì €í¬ëŠ” ì›ë˜ &lt;code>Spinnaker&lt;/code>ì„ ì‚¬ìš©í–ˆëŠ”ë°,
ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ì— ì¢€ ë” ì¹œí™”ì ì´ë¼ëŠ” &lt;code>Argo&lt;/code>ë¥¼ ë„ì…í•´ë³´ëŠ” ê²ƒì€ ì–´ë–¨ê¹Œì— ëŒ€í•œ ì–˜ê¸°ì˜€ëŠ”ë°ìš”.
ì–´ëŠì •ë„ ê°œë°œ ì¸í”„ë¼ êµ¬ì¶•ì´ ì™„ë£Œë˜ê³  í•œê°€í•´ì§€ì ì ê¹ì´ë‚˜ë§ˆ &lt;code>Argo&lt;/code>ë¥¼ ì‚¬ìš©í•´ë³¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
ê²°ê³¼ì ìœ¼ë¡œ &lt;code>Argo&lt;/code> ë„ì…ì€ ì í•©í•˜ì§€ ì•Šë‹¤ê³  íŒë‹¨ì´ ë˜ì—ˆê³  ë”°ë¼ì„œ ì¶©ë¶„íˆ ì¨ë³¼ ìˆ˜ëŠ” ì—†ì—ˆê¸°ì— ê¸°ë¡ìš©ìœ¼ë¡œë§Œ
ê°„ë‹¨íˆ ì ì–´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="argo-project-êµ¬ì¡°">Argo Project êµ¬ì¡°&lt;/h2>
&lt;blockquote>
&lt;p>Argoê°€ ì›Œë‚™ ë¹ ë¥´ê²Œ ë³€í™”í•˜ëŠ” ì„œë¹„ìŠ¤ë‹¤ë³´ë‹ˆ ì§€ê¸ˆì€ êµ¬ì¡°ê°€ ë§ì´ ë³€ê²½ë˜ì—ˆì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤!&lt;/p>
&lt;/blockquote>
&lt;p>&lt;figure style="flex-grow: 90; flex-basis: 217px">
&lt;a href="https://umi0410.github.io/blog/megazone-cloud/argo-poc/argo_1.png" data-size="821x907">&lt;img src="https://umi0410.github.io/blog/megazone-cloud/argo-poc/argo_1.png"
srcset="https://umi0410.github.io/blog/megazone-cloud/argo-poc/argo_1_hu09fc34dc1feead582202ec3daf6e4c38_119738_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/megazone-cloud/argo-poc/argo_1_hu09fc34dc1feead582202ec3daf6e4c38_119738_1024x0_resize_box_3.png 1024w"
width="821"
height="907"
loading="lazy"
alt="argo_1">
&lt;/a>
&lt;figcaption>argo_1&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure style="flex-grow: 129; flex-basis: 311px">
&lt;a href="https://umi0410.github.io/blog/megazone-cloud/argo-poc/argo_2.png" data-size="781x601">&lt;img src="https://umi0410.github.io/blog/megazone-cloud/argo-poc/argo_2.png"
srcset="https://umi0410.github.io/blog/megazone-cloud/argo-poc/argo_2_hu151253e02a61d15371380a76cade58b5_81692_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/megazone-cloud/argo-poc/argo_2_hu151253e02a61d15371380a76cade58b5_81692_1024x0_resize_box_3.png 1024w"
width="781"
height="601"
loading="lazy"
alt="argo_2">
&lt;/a>
&lt;figcaption>argo_2&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>ê°„í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìˆœì„œëŠ” &lt;code>argo&lt;/code>, &lt;code>argo&lt;/code>(workflow), &lt;code>argo event&lt;/code> ìˆœì´ë¼ê³  ìƒê°ë˜ëŠ”ë°,
ì‹¤ì§ˆì ì¸ íŒŒì´í”„ë¼ì¸ êµ¬ì¶•ì€ &lt;code>argo event&lt;/code>, &lt;code>argo&lt;/code> (workflow), &lt;code>argo&lt;/code> ìˆœìœ¼ë¡œ ì´ë¤„ì§€ëŠ” ì…ˆì´ë¼ í›„ìì˜
ìˆœì„œì— ë§ì¶° ì„¤ëª…í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="argo-event-official-sitehttpsargoprojgithubioargo-events">Argo Event (&lt;a class="link" href="https://argoproj.github.io/argo-events/" target="_blank" rel="noopener"
>Official site&lt;/a>)&lt;/h3>
&lt;p>&lt;figure style="flex-grow: 150; flex-basis: 360px">
&lt;a href="https://umi0410.github.io/blog/megazone-cloud/argo-poc/argo-events-top-level.png" data-size="1243x828">&lt;img src="https://umi0410.github.io/blog/megazone-cloud/argo-poc/argo-events-top-level.png"
srcset="https://umi0410.github.io/blog/megazone-cloud/argo-poc/argo-events-top-level_hu911ca173f7b6efecb06ab37a91a70151_401443_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/megazone-cloud/argo-poc/argo-events-top-level_hu911ca173f7b6efecb06ab37a91a70151_401443_1024x0_resize_box_3.png 1024w"
width="1243"
height="828"
loading="lazy"
alt="argo-events-top-level.png">
&lt;/a>
&lt;figcaption>argo-events-top-level.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>ì…‹ ì¤‘ ê°€ì¥ ë² ì´ë¹„ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. ë¹ ë¥´ê²Œ ê°œë°œë˜ê³  ìˆê³ , ë³€í™”í•˜ê³ ìˆê¸°ì— ì œê°€ &lt;code>argo&lt;/code> projectë“¤ì„ ë§Œë‚¬ë˜
ì‹œì ˆê³¼ ë§ì´ êµ¬ì¡°ê°€ ë‹¬ë¼ì ¸ìˆìŠµë‹ˆë‹¤. ê°„ë‹¨í•˜ê²Œ ë§í•˜ìë©´ ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•˜ì—¬ ì–´ë–¤ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
&lt;code>argo-events&lt;/code>ì˜ ê³µì‹ í™ˆí˜ì´ì§€ì—ì„œ ì œê³µë˜ëŠ” ìœ„ì˜ ì´ë¯¸ì§€ì™€ ê°™ì´ ë‹¤ì–‘í•œ ì´ë²¤íŠ¸ ì†ŒìŠ¤ë¥¼ ì´ìš©í•´ ë‹¤ì–‘í•œ ì´ë²¤íŠ¸ë¥¼
íŠ¸ë¦¬ê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ &lt;code>AWS SQS&lt;/code>ì— ë©”ì‹œì§€ê°€ ìƒê¸°ë©´, ê·¸ ë©”ì‹œì§€ë¥¼ ê°€ì ¸ì™€ì„œ ì–´ë–¤ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
í˜¹ì€ ì›¹í›… ì„œë²„ë¥¼ ëŒë ¤ì„œ ì›¹í›… ìš”ì²­ì´ ì˜¤ë©´, ì–´ë–¤ ì‘ì—…ì„ íŠ¸ë¦¬ê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì œê°€ êµ¬ìƒí•œ íŒŒì´í”„ë¼ì¸ì—ì„œëŠ” ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•˜ëŠ” ì—­í• ë¡œì„œ Argo Eventsë¥¼ ì•ì— ë‘ê³ ,
Argo Eventsê°€ Workflowë¥¼ ìƒì„±ëŠ” ì‘ì—…ì„ íŠ¸ë¦¬ê±°í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ CI/CDì— ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="argo-argo-workflow-official-sitehttpsargoprojgithubioargo">Argo, Argo Workflow (&lt;a class="link" href="https://argoproj.github.io/argo/" target="_blank" rel="noopener"
>Official site&lt;/a>)&lt;/h3>
&lt;p>ì…‹ ì¤‘ ê°€ì¥ ì˜¤ë˜ëœ í”„ë¡œì íŠ¸ì´ê³ , ë³„ë„ ë§ìŠµë‹ˆë‹¤. Argo ë¼ëŠ” ì´ë¦„ì„ ê°€ì¡Œê³  ì‹¤ì§ˆì ìœ¼ë¡œëŠ” Workflow ê´€ë ¨ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.
&lt;code>Workflow&lt;/code>ë€ ì»¨í…Œì´ë„ˆë¥¼ ì´ìš©í•´ ì§„í–‰ë˜ëŠ” ì¼ë ¨ì˜ stepë“¤ì„ ì •ì˜í•˜ëŠ” CRD(K8s Custom Resource Definition ì…ë‹ˆë‹¤.)&lt;/p>
&lt;p>ì²˜ìŒì—” &amp;lsquo;êµ³ì´ Workflowê°€ í•„ìš”í• ê¹Œ&amp;rsquo; ì‹¶ì—ˆì§€ë§Œ, ì¿ ë²„ë„¤í‹°ìŠ¤ ìƒì—ì„œ ì¼ë ¨ì˜ Jobì„ ì—°ì†ì ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ”
ë°©ë²•ì´ í˜„ì¬ê¹Œì§€ëŠ” ì—†ëŠ” ê²ƒìœ¼ë¡œ ì•Œê³  ìˆìŠµë‹ˆë‹¤.
K8s Jobì˜ &lt;code>Container&lt;/code>ì— ëŒ€í•œ &lt;code>InitContainer&lt;/code>ì„ ì§€ì •í•¨ìœ¼ë¡œì¨ í•œ Jobì— ëŒ€í•œ ë‘ Containerì˜ ìˆœì„œë¥¼
ëª…ì‹œí•  ìˆ˜ëŠ” ìˆì§€ë§Œ, &lt;code>Workflow&lt;/code>ì²˜ëŸ¼ ë‹¤ì–‘í•˜ê²Œ ì¼ë ¨ì˜ Jobì„ ì—°ì†ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ê¸°ëŠ” í˜ë“  ê²ƒìœ¼ë¡œ ì•Œê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="argocd-official-sitehttpsargoprojgithubioargo-cd">ArgoCD (&lt;a class="link" href="https://argoproj.github.io/argo-cd/" target="_blank" rel="noopener"
>Official site&lt;/a>)&lt;/h3>
&lt;p>&lt;code>ArgoCD&lt;/code>ë§Œ ë³´ë©´ ê°€ì¥ ê°„ë‹¨í•˜ê²Œ ì‹¤ì œ CDì— ì ìš©í•  ìˆ˜ ìˆëŠ” í”„ë¡œì íŠ¸ ì¤‘ í•˜ë‚˜ê°€ ì•„ë‹ê¹Œì‹¶ìŠµë‹ˆë‹¤.
&lt;code>ArgoCD&lt;/code> ìì²´ì— ëŒ€í•œ ì„¤ì •, ì†ŒìŠ¤ê°€ ë  Repositoryì— ëŒ€í•œ ì„¤ì •, Project, Applicationì— ëŒ€í•œ ì„¤ì • ë“±ë“±
ëª¨ë“  ê²ƒì´ &lt;code>Code&lt;/code> IaCì— íŠ¹í™”ëœ ë…íŠ¹í•œ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>UIê°€ ì§ê´€ì ì´ê³  ì•Œì•„ë³´ê¸° ì‰½ì§€ë§Œ, ë°˜ëŒ€ë¡œ ëŒ€ê·œëª¨ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë  ê²½ìš° ë„ˆë¬´ë„ ë°°í¬ í˜„í™©ì„ ë³´ì—¬ì£¼ëŠ” ë§µì´ ì»¤ì§€ê¸° ë•Œë¬¸ì—
ì•Œì•„ë³´ê¸° ì‰½ì§€ ì•Šì„ ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤. &lt;code>GitOps&lt;/code>(&amp;ldquo;GitOpsì˜ í•µì‹¬ì€ Git ì €ì¥ì†Œì— ì €ì¥ëœ ì¿ ë²„ë„¤í‹°ìŠ¤ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ê°™ì€ íŒŒì¼ì„ ì´ìš©í•˜ì—¬, ë°°í¬ë¥¼ ì„ ì–¸ì ìœ¼ë¡œ í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. &lt;a class="link" href="https://kangwoo.kr/tag/gitops/" target="_blank" rel="noopener"
>ì¶œì²˜&lt;/a>&amp;rdquo;)
ë¼ëŠ” ë§ì— ì•„ë§ˆ ë¹ ì§€ì§€ ì•Šê³  ë“±ì¥í•˜ëŠ” CD ë„êµ¬ì¸ë“¯í•©ë‹ˆë‹¤. Gitì— ì˜¬ë¼ê°€ëŠ” Manifestê°€ ê·¸ëŒ€ë¡œ K8s í´ëŸ¬ìŠ¤í„°ì— ì ìš©ë©ë‹ˆë‹¤.
ë§ˆì¹˜ Github Pageë‚˜ S3(ì›¹í˜¸ìŠ¤íŒ… ì„¤ì •ì´ ëœ S3 Bucket)ì— ì˜¬ë¦° íŒŒì¼ë“¤ì´ ë°”ë¡œ í•˜ë‚˜ì˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì²˜ëŸ¼ ë™ì‘í•˜ëŠ” ê²ƒê³¼ ë¹„ìŠ·í•œ ëŠë‚Œì…ë‹ˆë‹¤.
ê°„ë‹¨í•˜ê²Œ ì‚¬ìš©í•˜ê¸°ì—ëŠ” ArgoCDê°€ ì°¸ ì¢‹ì•„ë³´ì˜€ì§€ë§Œ, ì‹¤ì œë¡œ ì—…ë¬´ì ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ëŠ” ëª»í•˜ê² ë‹¤ê³  íŒë‹¨í•œ ì´ìœ ê°€ ëª‡ ê°€ì§€ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>ì• í”Œë¦¬ì¼€ì´ì…˜ í•˜ë‚˜ì— ëŒ€í•œ ë°°í¬ëŠ” ì‰½ì§€ë§Œ, ì—°ì†ì ì¸ ë°°í¬ë‚˜ ë‹¤ì–‘í•œ ë°°í¬ íŒŒì´í”„ë¼ì¸ì„ êµ¬ì„±í•˜ê¸°ëŠ” ì–´ë ¤ì› ë‹¤.&lt;/li>
&lt;li>Github Push ì‹œì— webhookì„ ì„¤ì •í•´ì„œ &lt;code>ArgoCD&lt;/code>ì˜ ë°°í¬ë¥¼ íŠ¸ë¦¬ê±°í•˜ë„ë¡ í–ˆëŠ”ë° ì´ ë¶€ë¶„ì´ ìµœì í™”ê°€ ëœ ë˜ì—ˆëŠ”ì§€
ì–´ë–¤ repositoryë“  í•˜ë‚˜ì˜ ArgoCD í™˜ê²½ì—ì„œëŠ” Git platform ë‹¹ í•˜ë‚˜ì˜ secretë§Œ ì„¤ì •ì´ ê°€ëŠ¥í–ˆê³ , í•œ repositoryê°€ pushë˜ë©´
ë‹¤ë¥¸ repositoryë„ ë°°í¬ê°€ ë‹¤ ê°™ì´ ì´ë£¨ì–´ì ¸ë²„ë ¸ìŠµë‹ˆë‹¤. (ì´ ë¶€ë¶„ì€ íŒ¨ì¹˜ëì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.)&lt;/li>
&lt;li>ì†Œê·œëª¨ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë°°í¬ ìƒí™©ì„ í•œ ëˆˆì— ë³´ê¸° ì‰½ì§€ë§Œ, K8s Objectê°€ ë§ì•„ì§€ë©´ ë§ì•„ì§ˆìˆ˜ë¡
ì ì  í•˜ë‚˜í•˜ë‚˜ ëˆˆì— ë³´ì´ì§€ ì•Šê³ , ì¡ë‹¤í•œ Objectë“¤(ConfigMap, Secret, &amp;hellip;)ë¡œ ì¸í•´ ì¸ì‹í•˜ê¸° í˜ë“­ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;h2 id="argo-projectë¥¼-ì¡°í•©í•œ-cicd-íŒŒì´í”„ë¼ì¸-êµ¬ì¶•ê¸°">Argo Projectë¥¼ ì¡°í•©í•œ CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•ê¸°&lt;/h2>
&lt;h3 id="íŒŒì´í”„ë¼ì¸-ìˆ˜í–‰-ê³¼ì •">íŒŒì´í”„ë¼ì¸ ìˆ˜í–‰ ê³¼ì •&lt;/h3>
&lt;ol>
&lt;li>(&lt;code>Argo Event&lt;/code>) Github Pushë¥¼ ê°ì§€í•˜ê³  &lt;code>Argo Workflow CRD&lt;/code>ë¥¼ ìƒì„±
&lt;code>Argo workflow&lt;/code>ë¥¼ í†µí•´ ë‹¤ì–‘í•œ stepë“¤ì„ ì´ìš©í•˜ê¸° ìœ„í•´ ë°”ë¡œ &lt;code>ArgoCD&lt;/code>ê°€ Github Pushë¥¼ ë°›ì§€ ì•Šê³ ,
&lt;code>Argo Event&lt;/code>ê°€ ë°›ë„ë¡ í–ˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;code>Argo Workflow&lt;/code>ì˜ stepë“¤ ìˆ˜í–‰
&lt;ul>
&lt;li>Slackì— workflow ì‹œì‘ ì•Œë¦¼&lt;/li>
&lt;li>Experiment í™˜ê²½ì— ë°°í¬ (Argo CD ì´ìš©)&lt;/li>
&lt;li>Interation Test ì‹¤í–‰ íŠ¸ë¦¬ê±° (Jenkins ì´ìš©)&lt;/li>
&lt;li>Integration Test ê²°ê³¼ê°€ ì„±ê³µì´ë©´ Dev í™˜ê²½ì— ë°°í¬ (Argo CD ì´ìš©)&lt;/li>
&lt;li>ì–´ëŠ stepì—ì„œë“  ì‹¤íŒ¨ ì‹œ Slackì— ì‹¤íŒ¨ ì•Œë¦¼&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>ì´ ì •ë„ Pipelineì„ ì§œë©´ ì‚¬ì‹¤ ì‚¬ìš©í•  ì •ë„ëŠ” ë  ìˆ˜ ìˆê² ì§€ë§Œ, &amp;ldquo;ì¼&amp;quot;ë¡œì„œ ë³¸ë‹¤ë©´ êµ³ì´ í˜„ì¬ ì‚¬ìš© ì¤‘ì¸
Spinnakerì— ë¹„í•´ ì¥ì ì´ ëšœë ·í•˜ê²Œ ëŠê»´ì§€ì§€ ì•ŠëŠ” Argoë¥¼ ìœ„í•´ íŒŒì´í”„ë¼ì¸ì„ ì´ì „í•˜ê¸°ì—ëŠ” ì—­ë¶€ì¡±ì´ë¼ëŠ”
íŒë‹¨ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ê³¼ì • ëª©ë¡ì—ì„œëŠ” ê°„ë‹¨íˆ ë¬˜ì‚¬í–ˆì§€ë§Œ, Spinnakerì—ì„œëŠ” UIì—ì„œ ì•Œì•„ì„œ ì²˜ë¦¬ë˜ë˜
ë¶€ë¶„ë“¤ì„ í•˜ë‚˜ í•˜ë‚˜ webhookì„ ê±¸ì–´ì£¼ê±°ë‚˜, ë”°ë¡œ bash scriptë¥¼ ì§œì•¼í•˜ëŠ” ê²½ìš°ë“¤ì´ ë§ì•˜ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="argo-projectë“¤ì—-ëŒ€í•œ-pocë¥¼-ì§„í–‰í•˜ë©°-ëŠë‚€-ì ">Argo Projectë“¤ì— ëŒ€í•œ PoCë¥¼ ì§„í–‰í•˜ë©° ëŠë‚€ ì &lt;/h2>
&lt;p>ê°œì¸ì ìœ¼ë¡œëŠ” ë§ì´ ì• ì •ì´ ê°”ë˜ í”„ë¡œì íŠ¸ë“¤ì´ê³  ì‹ ê¸°í–ˆë˜ ë°°í¬ë°©ì‹ì— ëŒ€í•œ ì†Œê°œì˜€ìœ¼ë©°, ì´ í”„ë¡œì íŠ¸ë“¤ì„
ê³µë¶€í•´ë³´ë©´ì„œ ë‹¤ì–‘í•œ ì•„í‚¤í…ì³ì— ëŒ€í•´ ê²½í—˜í•´ë³¼ ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ì§€ë§Œ, í˜„ì‹¤ì ì¸ ë²½ì— ë¶€ë”ªí˜€ ë„ì…ì„
í•  ìˆ˜ ì—†ì—ˆë˜ ì•„ì‰¬ì›€ ì»¸ìŠµë‹ˆë‹¤. ë§ˆì¹˜ ì¢‹ì•„í•˜ëŠ” ë¶„ì•¼ê°€ ìˆì—ˆì§€ë§Œ, í˜„ì‹¤ì˜ ë²½ì— ë¶€ë”ªí˜€ ê¿ˆì„ ì ‘ê³ , ì–´ë– í•œ
í˜„ì‹¤ì ì¸ ì§„ë¡œ ë‚˜ì•„ê°€ëŠ” ê²ƒê³¼ ê°™ì•˜ë‹¬ê¹Œìš”?&lt;/p>
&lt;p>ê·¸ë¦¬ê³  ê°œì¸ì ì¸ ì•„ì‰¬ì›€ì€ ìœ„ì˜ ì°¨íŠ¸ë¥¼ ì†ìˆ˜ ê·¸ë¦¬ë©° PoC ë¬¸ì„œë¥¼ ì‘ì„±í–ˆì—ˆì§€ë§Œ, ê²°êµ­ì€ PoCë¥¼ ì§„í–‰í•œ
ë‹´ë‹¹ìì¸ ì €ì¡°ì°¨ &amp;ldquo;ìŒ&amp;hellip; ì‹¤ì‚¬ìš©ì€ í˜ë“¤ ê²ƒ ê°™ì€ë°ìš”&amp;quot;ë¼ëŠ” ì˜ê²¬ì„ ëƒˆë˜ í„°ë¼ ë°”ìœ ì¼ì • ì†ì—ì„œ
rejectí•  ê°œë… ì¦ëª… ë¦¬ë·°ì— ë§ì€ ì‹œê°„ì„ í• ì• í•  ìˆ˜ ì—†ì—ˆê¸°ì—, íŒ€ì›ë“¤ê³¼ ì´ ë‚´ìš©ì„ ê³µìœ í•  ìˆ˜ ì—†ì—ˆë˜ ì ì—
ì¡°ê¸ˆ ì•„ì‰¬ì›€ì´ ë‚¨ìŠµë‹ˆë‹¤..! ë§Œì•½ ì •ë§ &lt;code>Argo&lt;/code>ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ ë›°ì–´ë‚œ ë°©ì‹ì´ì—ˆë‹¤ë©´, ì €ë„ ì ê·¹ ì¶”ì²œí•˜ë©°
í•¨ê»˜ ë¦¬ë·°í•´ì£¼ê¸¸ ê¸°ëŒ€í–ˆê² ì§€ë§Œ, í˜„ì‹¤ì ìœ¼ë¡œ ì €í¬ íŒ€ì˜ ë°°í¬ ë°©ì‹ê³¼ëŠ” ë§ì§€ ì•Šì•˜ë‹¤ê³  íŒë‹¨í•´ì„œ ê·¸ë¬ë˜ ê²ƒì´ê¸°ì—
ê´œì°®ìŠµë‹ˆë‹¤~!&lt;/p></description></item><item><title>4. SpaceONE Helm Chart ê°œë°œ</title><link>https://umi0410.github.io/blog/megazone-cloud/spaceone-helm/</link><pubDate>Fri, 04 Sep 2020 12:46:54 +0900</pubDate><guid>https://umi0410.github.io/blog/megazone-cloud/spaceone-helm/</guid><description>&lt;p>&lt;figure style="flex-grow: 124; flex-basis: 299px">
&lt;a href="https://umi0410.github.io/blog/megazone-cloud/spaceone-helm/spaceone-helm-preview.png" data-size="1000x802">&lt;img src="https://umi0410.github.io/blog/megazone-cloud/spaceone-helm/spaceone-helm-preview.png"
srcset="https://umi0410.github.io/blog/megazone-cloud/spaceone-helm/spaceone-helm-preview_hua20648dff267d17bdc5ba51e055b8d26_129267_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/megazone-cloud/spaceone-helm/spaceone-helm-preview_hua20648dff267d17bdc5ba51e055b8d26_129267_1024x0_resize_box_3.png 1024w"
width="1000"
height="802"
loading="lazy"
alt="spaceone-helm-preivew.png">
&lt;/a>
&lt;figcaption>spaceone-helm-preivew.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h2 id="spaceone-helm-chartë€">SpaceONE Helm Chartë€?&lt;/h2>
&lt;p>&lt;a class="link" href="https://github.com/spaceone-dev/spaceone-helm" target="_blank" rel="noopener"
>spaceone-helm&lt;/a> ì€ ì €í¬
&lt;code>CloudOne&lt;/code> íŒ€ì´ ê°œë°œí•˜ëŠ” ì„œë¹„ìŠ¤ì¸ &lt;a class="link" href="https://spaceone-dev.github.io/" target="_blank" rel="noopener"
>SpaceONE&lt;/a>ì„
&lt;code>helm chart&lt;/code>ë¥¼ ì´ìš©í•´ íŒ¨í‚¤ì§€í™”í•˜ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. ì›ë˜ì˜ ì €í¬ í™˜ê²½ì€ MicroServiceë“¤ì„
ê°œë³„ ë°°í¬í•˜ê³ ìˆì—ˆì§€ë§Œ ì˜¤í”ˆì†ŒìŠ¤ë¡œ ê°œë°œë˜ëŠ” ì €í¬ ì„œë¹„ìŠ¤ë¥¼ ì €í¬ íŒ€ì›ë“¤ ë¿ë§Œì•„ë‹ˆë¼ ë‹¤ë¥¸
ê°œë°œìë“¤ì´ ì‰½ê²Œ ê°œë°œí•  ìˆ˜ ìˆê³ , SpaceONEì„ ëª¨ë¥´ë˜ ì‚¬ìš©ìë“¤ë„ ì‰½ê²Œ SpaceONEì„ êµ¬ì¶•í•´ë³¼
ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ íŒ¨í‚¤ì§€í™”ë„ ì§„í–‰í•˜ê²Œë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì¼ë°˜ì ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ Helm Chartë¥¼ ì´ìš©í•´ë³´ê¸°ë§Œí–ˆì§€ ì§ì ‘ Chartë¥¼ ë§Œë“œëŠ” ê²ƒì€ ì²˜ìŒ í•´ë³¸ ì¼ì´ê¸°ë„ í–ˆê³ ,
Chartë¥¼ ê°œë°œí•˜ë©´ì„œ ìƒˆë¡œìš´ í™˜ê²½ì— ì €í¬ ì„œë¹„ìŠ¤ë¥¼ ë°°í¬í•´ë³´ë‹¤ë³´ë‹ˆ ì‚½ì§ˆí•˜ë©° ê³ ìƒë„ ê½¤ í–ˆê³ ,
ë¬´ì—‡ë³´ë‹¤ í”„ë¡œì íŠ¸ì˜ ì‹œì‘ë¶€í„° í‡´ì‚¬ ì „ê¹Œì§€ì˜ ì‘ì—…ë“¤ì„ ê±°ì˜ ì œê°€ ë„ë§¡ì•„í•œ í”„ë¡œì íŠ¸ì˜€ê¸°ì— ê°œì¸ì ìœ¼ë¡œ
ì• ì •ì´ ë§ì´ ê°”ìŠµë‹ˆë‹¤ ^_^! ê·¸ë¦¬ê³  ì €ë„ ì´ì œëŠ” ì €í¬ Chartë¥¼ ì´ìš©í•´ SpaceONEì„ êµ¬ì¶•í˜•ìœ¼ë¡œ
ì†ì‰½ê²Œ ì´ìš©í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="spaceone-helm-ì„¤ê³„">spaceone-helm ì„¤ê³„&lt;/h2>
&lt;p>ì¼ë‹¨ì€ ì‹¬í”Œí•˜ê²Œ ì‚¬ì´ë“œì¹´ ì—†ì´ ì €í¬ì˜ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë“¤ë§Œì„ ë°°í¬í•˜ê³ , ê·¸ ì™¸ì— í•„ìš”í•œ ì„œë¹„ìŠ¤ë“¤ë„ ìµœëŒ€í•œ
Cloud Serviceì— ì˜ì¡´í•˜ì§€ ì•Šê³  ê·¸ë•Œ ê·¸ë•Œ ì†ì‰½ê²Œ ì„œë¹„ìŠ¤ë¥¼ ë‚´ë ¸ë‹¤ ì˜¬ë ¸ë‹¤ í•  ìˆ˜ ìˆë„ë¡ K8s í´ëŸ¬ìŠ¤í„° ìœ„ì—
í•¨ê»˜ ë°°í¬í•˜ëŠ” í˜•ì‹ìœ¼ë¡œ Chartë¥¼ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë¬´ì—‡ë³´ë‹¤ chart ê°œë°œì˜ ëª©ì ì€ ì•„ë˜ ë‘ ê°€ì§€ ì‚¬í•­ì´ ì»¸ê¸° ë•Œë¬¸ì—, &lt;code>minikube&lt;/code> í˜¹ì€ &lt;code>EKS&lt;/code> ë„ìš´
ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë“¤ê³¼ ë¡œì»¬ì—ì„œ í†µì‹ ì´ ê°€ëŠ¥í•˜ë„ë¡ í•´ì•¼í–ˆê³ , ì‚¬ìš©í•˜ê¸° í¸ë¦¬í•œ êµ¬ì¡°ë¥¼ ë§Œë“¤ê¸° ìœ„í•´
ê³ ì‹¬í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>íŒ€ì›ì´ ì•„ë‹Œ ê°œë°œìë“¤ë„ ìì‹ ì˜ ë¶€ê°€ì ì¸ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ ë¡œì»¬ì— ë„ì›Œ ê°œë°œí•  ìˆ˜ ìˆë„ë¡ ì§€ì›.
&lt;ul>
&lt;li>ë¡œì»¬ì—ì„œë„ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„° ë‚´ì˜ ì„œë¹„ìŠ¤ì— ì ‘ì†ì´ ê°€ëŠ¥í•´ì•¼í•˜ê³ , ê²½ìš°ì— ë”°ë¼ í´ëŸ¬ìŠ¤í„°ì—ì„œë„
ë³¸ì¸ì˜ ë¡œì»¬ ì„œë¹„ìŠ¤ë¡œ ì ‘ì†ì„ í•  ìˆ˜ ìˆì–´ì•¼í•¨.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ì˜¤í”ˆì†ŒìŠ¤ë¡œì„œ ì„ì˜ì˜ ì‚¬ìš©ìê°€ ì„œë¹„ìŠ¤ë¥¼ êµ¬ì¶•í•´ë³´ê³ ì ì‹œë„í•  ë•Œ ì† ì‰½ê²Œ êµ¬ì¶•í•  ìˆ˜ ìˆë„ë¡ ì§€ì›.
&lt;ul>
&lt;li>ë§ˆì¹˜ ìœ ì €ë“¤ì˜ ì‚¬ìš©ì ê²½í—˜ì„ ì¤‘ìš”ì‹œí•´ì„œ ë””ìì¸, ê¸°íšì„ í•˜ë“¯ Chartì˜ ì‚¬ìš©ìë“¤ì´ ì§ê´€ì ì´ê³ 
í¸ë¦¬í•˜ê²Œ êµ¬ì¶•í•  ìˆ˜ ìˆë„ë¡ Configuration values(&lt;code>values.yaml&lt;/code> in Helm Chart)ë¥¼ ì„¤ê³„í•¨.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="spaceone-helm-chart-êµ¬ì¡°">spaceone-helm chart êµ¬ì¡°&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">templates/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ backend
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”œâ”€â”€ config
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ config-conf.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ config-deployment.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”‚Â Â  â””â”€â”€ config-svc.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”œâ”€â”€ identity
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ identity-conf.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ identity-deployment.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”‚Â Â  â””â”€â”€ identity-svc.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”œâ”€â”€ inventory
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ inventory-conf.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ inventory-deployment.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”‚Â Â  â””â”€â”€ inventory-svc.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”œâ”€â”€ inventory-scheduler
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ inventory-scheduler-conf.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ inventory-scheduler-deployment.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”‚Â Â  â””â”€â”€ inventory-scheduler-svc.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”œâ”€â”€ inventory-worker
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ inventory-worker-conf.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ inventory-worker-deployment.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”‚Â Â  â””â”€â”€ inventory-worker-svc.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#... Backend ìƒëµ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ consul, mongo, redis &lt;span class="c1"># ë””í…Œì¼í•œ íŒŒì¼êµ¬ì¡°ëŠ” ìƒëµ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ frontend
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”œâ”€â”€ console &lt;span class="c1"># ë””í…Œì¼í•œ íŒŒì¼êµ¬ì¡°ëŠ” ìƒëµ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â””â”€â”€ console-api &lt;span class="c1"># ë””í…Œì¼í•œ íŒŒì¼êµ¬ì¡°ëŠ” ìƒëµ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ ingress
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â””â”€â”€ ingress.yaml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ initializer
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”œâ”€â”€ initialize-spaceone-conf.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”œâ”€â”€ initialize-spaceone-job.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â”œâ”€â”€ spacectl-apply-conf.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â””â”€â”€ spacectl-conf.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ supervisor
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ supervisor
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ supervisor-conf.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ supervisor-deployment.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ supervisor-roles.yml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì €í¬ &lt;code>spaceone-helm&lt;/code> chartëŠ” ê½¤ë‚˜ êµ¬ì¡°ê°€ ê°„ë‹¨í•œ í¸ì€ ì•„ë‹ˆë¼ê³  ìƒê°ë©ë‹ˆë‹¤. ì›¹í˜ì´ì§€ í™˜ê²½ìƒ ë„ˆë¬´
ë¶€ìˆ˜ì ì¸ ë¶€ë¶„ì€ treeì—ì„œ ìƒëµí•˜ê¸°ë„ í–ˆìŠµë‹ˆë‹¤. ê½¤ë‚˜ ë³µì¡í•œ êµ¬ì¡°ë¥¼ ê°€ì¡Œê¸°ì— íŒ¨í‚¤ì§€í™”í•˜ëŠ” ë¶€ë¶„ì´ ì‰½ì§€ ì•Šì•˜ì§€ë§Œ,
ê·¸ëŸ° ê³¼ì • ì†ì—ì„œ ë§ì´ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…ì„ ê²½í—˜í•˜ê³  ì„±ì¥í•  ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ë¦¬ê³  ë°˜ëŒ€ë¡œ ìƒê°í•˜ë©´, ì„œë¹„ìŠ¤ê°€ íŒ¨í‚¤ì§€í™”í•˜ê¸°ë„ ì‰½ì§€ ì•Šì„ë§Œí¼ ë³µì¡í•œ êµ¬ì¡°ë¥¼ ê°€ì¡Œë‹¤ë©´,
ë‹¹ì—°íˆ ì†ìˆ˜ ë°°í¬í•˜ëŠ” ê²ƒì€ ê·¸ê²ƒë³´ë‹¤ ëª‡ ë°°ëŠ” ì–´ë ¤ìš¸ ê²ƒì´ë¯€ë¡œ ëˆ„êµ°ê°€ê°€ ì €í¬ ì„œë¹„ìŠ¤ë¥¼ êµ¬ì¶•í˜•ìœ¼ë¡œ ì´ìš©í•´ì£¼ê¸° ìœ„í•´ì„œëŠ”
íŒ¨í‚¤ì§€í™”ê°€ í•„ìˆ˜ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë“¤ì˜-ë²„ì „-ê´€ë¦¬ë¥¼-ì‹œì‘">ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë“¤ì˜ ë²„ì „ ê´€ë¦¬ë¥¼ ì‹œì‘&lt;/h2>
&lt;p>Helm Chartë¥¼ ê°œë°œí•˜ê³ , CIê°€ ê³ ë„í™”ë˜ê¸° ì „ê¹Œì§€ëŠ” ë‹¨ìˆœíˆ íŒ€ ë‚´ì—ì„œ ê°œë°œì„ ì§„í–‰í•˜ë©´ì„œ
ê°œë°œí™˜ê²½ì— ëŒ€í•œ ë°°í¬ëŠ” &lt;code>latest&lt;/code> tagë§Œì„ ì´ìš©í•´ ìë™ìœ¼ë¡œ ì§„í–‰í•˜ê³ ,
QAë¥¼ ì§„í–‰í•˜ë©´ì„œ ì»¤ë°‹ì„ ë©ˆì¶”ê³ , ê·¸ ì‹œì ì— ë¹Œë“œëœ Docker imageì˜ Tagë¥¼ ë°”íƒ•ìœ¼ë¡œ ìƒìš© í™˜ê²½ì—ë„
ë°°í¬ë¥¼ í•˜ê³¤í–ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, Chartì—ì„œë„ tagë¥¼ &lt;code>latest&lt;/code>ë¡œ ìœ ì§€í•˜ê±°ë‚˜ ê°€ë…ì„±ì´ ì¢‹ì§€ ì•Šì€ ì„ì˜ì˜
tagë¥¼ ì´ìš©í•´ ì´ë¯¸ì§€ë¥¼ ì œê³µí•˜ê¸°ëŠ” í˜ë“¤ì—ˆê³ , ë§ëŠ” ë°©í–¥ì´ ì•„ë‹ˆë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë”°ë¼ì„œ ì €í¬ëŠ” ê¼­ Helmì„ í†µí•œ íŒ¨í‚¤ì§€ ë¿ë§Œ ì•„ë‹ˆë¼ ë¡¤ë°±ì— ëŒ€í•œ ì•ˆì •ì„±, ë²„ì „ ê°„ì˜ Update ë‚´ì—­ ê´€ë¦¬
ë“±ì„ ìœ„í•´ &lt;code>{{MAJOR}}.{{MINOR}}.{{SPRINT_NUMBER}}-{{EXTRA_TAGS}}&lt;/code> í˜•íƒœë¥¼ í†µí•´
ë²„ì „ì„ ê´€ë¦¬í•˜ê³ ìí–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h2 id="helm-chartë¥¼-í†µí•´-íŒ¨í‚¤ì§€í™”í•˜ë©°-ëŠë‚€-ì ">Helm Chartë¥¼ í†µí•´ íŒ¨í‚¤ì§€í™”í•˜ë©° ëŠë‚€ ì &lt;/h2>
&lt;p>Helm Chartë¥¼ í†µí•´ ì €í¬ ì„œë¹„ìŠ¤ë¥¼ íŒ¨í‚¤ì§€í™”í•˜ê¸° ì „ê¹Œì§€ëŠ” ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í˜•íƒœë¡œ ê´€ë¦¬ë˜ëŠ” ì„œë¹„ìŠ¤ë¥¼
ìƒˆë¡œìš´ í™˜ê²½ì— ì™„ì „í•˜ê²Œ êµ¬ì¶•í•œë‹¤ëŠ” ê²ƒì€ ì‰½ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
&lt;code>Container&lt;/code>ë¼ëŠ” ê²ƒì´ ReadOnly ë ˆì´ì–´ë¡œ ì´ë¯¸ êµ¬ì„±ì´ ì™„ë£Œëœ ì´ë¯¸ì§€ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìƒì„±ë˜ê¸° ë•Œë¬¸ì—
ì–¸ì œ ì–´ë””ì„œë“  êµ¬ë™ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì´ ì¥ì ì´ê² ì§€ë§Œ, í˜„ì‹¤ì ìœ¼ë¡œëŠ” í™˜ê²½ì— ë”°ë¼ ì´ê²ƒ ì €ê²ƒ ì„¤ì •í•´ì¤˜ì•¼í•˜ëŠ”
ê²ƒì´ ìˆì—ˆê¸°ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ëŸ¬í•œ ë‚œê´€ë“¤ì€ ì–´ë– í•œ ë³€ìˆ˜ì²˜ë¦¬ì™€ ìë™í™”ë¥¼ í†µí•´ í•´ê²°í•  ìˆ˜ ìˆì„í…ë°, ê·¸ëŸ¬í•œ ì‘ì—…ì„ í•´ì¤€ ë…€ì„ì´ ë°”ë¡œ
&lt;code>Helm&lt;/code>ì´ì—ˆê³ , ê·¸ë•Œ ê·¸ë•Œ ì„¤ì •ì„ ë°”ê¿ˆìœ¼ë¡œì¨ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ ì•Œê³ ëŠ” ìˆì—ˆìŠµë‹ˆë‹¤ë§Œ ë§‰ìƒ
ì €í¬ ì„œë¹„ìŠ¤ì— ë„ì…í•´ë³´ë‹ˆ ê½¤ë‚˜ ë§Œì¡±ìŠ¤ëŸ¬ì› ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì¼í™”ë¡œ ì‚¬ë‚´ ë„¤íŠ¸ì›Œí¬ê°€ ë§‰íŒ ìƒí™©ì—ì„œë„ ë°›ì•„ë†“ì€ ì´ë¯¸ì§€ë“¤ë§Œ ìˆìœ¼ë©´ ë„¤íŠ¸ì›Œí¬ ì ‘ì†ì„ í•  í•„ìš” ì—†ì´
&lt;code>minikube&lt;/code>ì™€ &lt;code>ë¡œì»¬ ì„œë²„&lt;/code>ë¥¼ ì´ìš©í•´ minikubeì˜ í´ëŸ¬ìŠ¤í„°ì™€ í†µì‹ í•˜ë©´ì„œ ê°œë°œì„ ì§„í–‰í•  ìˆ˜ë„ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ëˆ„êµ°ê°€ ì œê°€ ë§Œë“  ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•´ì¤€ë‹¤ëŠ” ê²ƒì€ ì°¸ ë¿Œë“¯í•œ ì¼ì´ì—ˆê³ , ì•ìœ¼ë¡œë„ ì €í¬ helm chartê°€ ì˜
ë°œì „ë˜ì–´ ë”ìš± ë” í¸ë¦¬í•˜ê²Œ êµ¬ì¶•í•  ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ ì œê³µë  ìˆ˜ ìˆê¸°ë¥¼ ê¸°ëŒ€í•´ë´…ë‹ˆë‹¤!&lt;/p></description></item><item><title>5. SpaceONE CLI Clientì¸ spacectl ì„¤ê³„ ë° ê°œë°œ</title><link>https://umi0410.github.io/blog/megazone-cloud/spacectl/</link><pubDate>Fri, 04 Sep 2020 12:46:54 +0900</pubDate><guid>https://umi0410.github.io/blog/megazone-cloud/spacectl/</guid><description>&lt;h2 id="spacectlì´ë€">spacectlì´ë€?&lt;/h2>
&lt;h3 id="ì†Œê°œ">ì†Œê°œ&lt;/h3>
&lt;p>&lt;a class="link" href="https://github.com/spaceone-dev/spacectl" target="_blank" rel="noopener"
>spacectl&lt;/a> ì€ ì €í¬íŒ€ì´ ê°œë°œí•˜ëŠ” ì„œë¹„ìŠ¤ì¸ SpaceONEì˜ &lt;code>gRPC&lt;/code> API requestë¥¼ CLIë¡œ
ì†ì‰½ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ë„êµ¬ì…ë‹ˆë‹¤. íŒŒì´ì¬ì„ í†µí•´ ê°œë°œí–ˆê³  &lt;code>Click&lt;/code> ì´ë¼ëŠ” ëª¨ë“ˆë¡œ CLI í™˜ê²½ì„
ì†ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆê³ , &lt;code>Jinja2&lt;/code>ë¥¼ í†µí•´ ìƒì„¸í•œ Manifest ë“¤ì—ì„œ ë³€ìˆ˜ ì¹˜í™˜, ë¶„ê¸° ë“±ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ì‚¬ìš©-ì˜ˆì‹œ">ì‚¬ìš© ì˜ˆì‹œ&lt;/h3>
&lt;h4 id="a-simple-example">A simple example&lt;/h4>
&lt;p>ê°„ë‹¨í•˜ê²Œ &lt;code>spacectl&lt;/code>ì´ ì–´ë–¤ ì‹ìœ¼ë¡œ ì´ìš©ë˜ëŠ” ë„êµ¬ì¸ì§€ ì˜ˆì‹œë¥¼ ë³´ì—¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤.
ì•„ë˜ì˜ ì»¤ë§¨ë“œë¥¼ ì´ìš©í•´ ì†ì‰½ê²Œ &lt;code>SpaceONE&lt;/code>ì˜ ë‹¤ì–‘í•œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë“¤ì˜ APIë¥¼ ì´ìš©í• 
ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;pre tabindex="0">&lt;code>$ spacectl list domain
domain_id | name | state | plugin_id ...
domain-abc123abc | umi0410| ENABLED | ...
$ spacectl list server -p domain_id=domain-abc123abc
server_id | name | provider ...
server-abc123abc | foo | aws ...
&lt;/code>&lt;/pre>&lt;h4 id="apply-command">apply command&lt;/h4>
&lt;p>&lt;code>spacectl apply&lt;/code> commandëŠ” kubectlì˜ applyì™€ ìœ ì‚¬í•˜ê²Œ ì—†ìœ¼ë©´ ë§Œë“¤ê³ ,
ìˆìœ¼ë©´ ì—…ë°ì´íŠ¸í•˜ê³  í˜¹ì€ ë‹¨ìˆœíˆ ì–´ë–¤ APIë¥¼ Executeí•˜ëŠ” Taskë“¤ì˜ í”Œë¡œìš°ë¥¼ ê´€ë¦¬í•´ì£¼ëŠ”
ì»¤ë§¨ë“œ ì…ë‹ˆë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>ì•„ì‰½ê²Œë„ í‡´ì‚¬ ì „ì— ë§ˆë¬´ë¦¬ë¥¼ ì§“ì§€ëŠ” ëª»í–ˆìŠµë‹ˆë‹¤. ã…œ.ã…œ
í‡´ì‚¬ ì „ê¹Œì§€ ì§„í–‰í•œ ì‘ì—…ì€ ì¼ë¶€ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ CRU(create, read, update),
ëŒ€ë¶€ë¶„ì˜ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ Excute(executeí•  APIë¥¼ ì„¤ì •)ê¹Œì§€ì…ë‹ˆë‹¤.&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># main.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">import&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">mongo.yaml&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ê°œë³„ yaml fileì—ì„œëŠ” terraform/ansibleê³¼ ê°™ì´ ìˆ˜í–‰í•  Taskë“¤ì„ ì •ì˜&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">root_domain.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">repository.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">var&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">domain_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">root&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">domain_owner&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">admin&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">admin_username&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">admin&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">admin_password&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">admin&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">$ spacectl apply main.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ì„¤ê³„ë¥¼-í•˜ë©°-ëŠë‚€-ì ">ì„¤ê³„ë¥¼ í•˜ë©° ëŠë‚€ ì &lt;/h2>
&lt;p>ì´ í”„ë¡œì íŠ¸ì— ëŒ€í•œ ì‹¤ì œ ê°œë°œ ì—…ë¬´ ì´ì „ì—ëŠ” ê½¤ë‚˜ ì„¤ê³„ ì—…ë¬´ê°€ ë§ì•˜ìŠµë‹ˆë‹¤.
ì €ëŠ” ê·¸ ë™ì•ˆì€ í˜¼ì ì£¼ë¡œ ê°œë°œì„ í•´ì™”ê³ , ì‹¤í–‰ë ¥ ì¢‹ê²Œ ì‹œì‘ì€ í•˜ì§€ë§Œ ì„¤ê³„ëŠ” ì¶©ë¶„í•˜ì§€ ì•Šì€ ì±„
ì„±ê¸‰í•˜ê²Œ ì‹¤í–‰ì— ì˜®ê²¼ë˜ ê²½í—˜ì´ ë§ìŠµë‹ˆë‹¤. ë˜í•œ í•™ìƒì´ì—ˆê³ , ê°œë°œ ê²½ë ¥ì´ ê¸¸ì§€ ì•Šì•˜ê¸°ì—
ì‚¬ì‹¤ìƒ &amp;ldquo;ê°œë°œ = ê·¸ë•Œ ê·¸ë•Œ ìƒˆë¡œìš´ ë‚´ìš© ê³µë¶€&amp;quot;ì™€ ê°™ì€ ëŠë‚Œì´ì—ˆê¸°ì— ì• ì´ˆì— ì„¤ê³„ë¥¼ í•˜ë ¤í•´ë„ &lt;em>&amp;lsquo;ë­ê°€
í•„ìš”í•˜ê³  ë­ê°€ ê°€ëŠ¥í•  ê²ƒì´ê³  ë­ê°€ í˜ë“¤ ê²ƒì¸ê°€&amp;rsquo;&lt;/em> ë¥¼ íŒë‹¨í•˜ê¸° ì–´ë ¤ì› ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ íŒ€ì›ë“¤ê³¼ í•¨ê»˜ ê°œë°œí•˜ë©´ì„œ ë°¥ ë¨¹ì„ ë•Œ, íšŒì˜ í•  ë•Œ í‹ˆí‹ˆíˆ ì„¤ê³„ ë°©ì‹ê³¼ ìš”ë ¹ì— ëŒ€í•´
ìƒì˜í–ˆê³ , ì²˜ìŒìœ¼ë¡œ ì„¤ê³„ë¥¼ ì–´ëŠ ì •ë„ êµ³íŒ ë’¤ ê°œë°œì— ë“¤ì–´ë“¤ì–´ê°”ë˜ ê²½í—˜ì´ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì¸í„´ ê¸°ê°„ ë§‰ë°”ì§€ì— ì´ ì„¤ê³„ì— ì°¸ì—¬í•˜ê²Œ ëœ ê²ƒì€ ì •ë§ ê°’ì§„ ê²½í—˜ì´ì—ˆë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.
ì‚¬ì‹¤ ë‹¨ìˆœíˆ ë°ë¸Œì˜µìŠ¤ë¡œì„œ ì¼í•  ë•ŒëŠ” ë‚¨ë“¤ê³¼ ì˜ì‚¬ì†Œí†µí•  ì¼ì´ ê·¸ë¦¬ ë§ì§„ ì•Šì•˜ëŠ”ë°, ì´ ì„¤ê³„ë¥¼
ë§¡ê²Œ ë˜ë©´ì„œ ë§ì€ íšŒì˜ì™€ ëŒ€í™”ë¥¼ í•˜ê²Œë˜ì—ˆìŠµë‹ˆë‹¤.
ì„ ë°° ê°œë°œìë¶„ë“¤ê³¼ ì„¤ê³„ì— ëŒ€í•´ ì¦ì€ íšŒì˜ë¥¼ í•˜ë©´ì„œ ì œê°€ &lt;strong>ì–´ë–¤ ê°œë°œìê°€ ë˜ê³ ì‹¶ì€ì§€&lt;/strong> ì§ì ‘ ëŠë‚„ ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
ê·¸ ë°°ê²½ì—ëŠ” ë‘ ê°€ì§€ ì¶©ê²©ì´ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>&lt;em>&amp;lsquo;ë‚´ê°€ ë‚¨ì˜ ìƒê°ì„ ì˜ ì½ëŠ” í¸ì€ ì•„ë‹ˆì—ˆë‚˜ë³´êµ°&amp;hellip;?&amp;rsquo;&lt;/em>&lt;/li>
&lt;li>&lt;em>&amp;lsquo;ì„ ë°° ê°œë°œìë¶„ì€ ë‚´ê°€ ê°œíŒìœ¼ë¡œ ì„¤ëª…í•´ë„ ì–´ë–»ê²Œ ê·€ì‹ ê°™ì´ ë‚˜ë³´ë‹¤ ë‚´ ìƒê°ì„ ì˜ ì½ìœ¼ì‹œì§€?&amp;rsquo;&lt;/em>
=&amp;gt; ë§ˆì¹˜ ì¶•êµ¬í•  ë•Œ ë…¸ë ¨í•œ ì¶•êµ¬ì„ ìˆ˜ì™€ í•¨ê»˜ ë›°ë©´ì„œ ì € í–‰ë™ì„ ê·€ì‹ ê°™ì´ ì˜ˆì¸¡í•˜ê³ ì„œëŠ” ë„ˆë¬´ë‚˜ë„ ì˜ ë°€ì–´ì£¼ëŠ” ëŠë‚Œì„ ë°›ì•˜ìŠµë‹ˆë‹¤&amp;hellip;&lt;/li>
&lt;/ol>
&lt;p>ì œê°€ í‰ì†Œì— ë§ì„ ì˜í•˜ëŠ” í¸ì´ë¼ê³  ìƒê°í–ˆëŠ”ë°, ë‚¨ì˜ ìƒê°ì„ ì´í•´í•˜ê³  ì½ì–´ë‚´ëŠ” ëŠ¥ë ¥ì€ ê·¸ë¦¬ ë›°ì–´ë‚˜ì§€ë§ì€
ì•Šêµ¬ë‚˜ë¼ëŠ” ìƒê°ì„ í•˜ê²ŒëìŠµë‹ˆë‹¤. ì„¤ê³„ ë‚´ìš©ì´ ê½¤ë‚˜ ì¶”ìƒì ìœ¼ë¡œ êµ¬ë‘ë¡œ ì§„í–‰ë˜ì—ˆê¸°ì— ê·¸ë¬ì„ ìˆ˜ë„ ìˆê² ì§€ë§Œ,
í° ì¶©ê²©ì€ ì„ ë°° ê°œë°œìë¶„ì˜ &lt;strong>ë…¸ë ¨í•¨&lt;/strong>ì´ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>í›„ì— ëˆ„êµ°ê°€ ì–´ë–¤ ê°œë°œìê°€ ë˜ê³ ì‹¶ëƒ, í˜‘ì—…í•  ë•Œ ì–´ë–¤ ë…¸í•˜ìš°ê°€ ìˆëŠëƒ ì´ëŸ° ë‚´ìš©ì„ ë¬¼ì–´ë³´ë©´
ìì‹ ìˆê²Œ &lt;strong>ë‚¨ì˜ ìƒê°ì„ ì˜ ì´í•´í•˜ê³ , ì•Œì•„ì£¼ëŠ” ì‚¬ëŒ&lt;/strong>ê³¼ ê´€ë ¨í•´ ëŒ€ë‹µí•  ìˆ˜ ìˆëŠ” ì‚¬ëŒì´ ë  ìˆ˜ ìˆì—ˆìœ¼ë©´
ì¢‹ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë˜í•œ ì„¤ê³„ ê¹Šê²Œ ì§„í–‰í•˜ê¸° ì „ì— ì¹¨ì°©í•˜ê²Œ ìë£Œ ì¡°ì‚¬ë¥¼
ì˜ í•´ì•¼í•œë‹¤ëŠ” ê²ƒì„ ëŠê¼ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ë‚˜ ì¼í™”ë¡œ ì›ë˜ëŠ” ì„¤ì • íŒŒì¼ì—ì„œ &lt;code>${{ tasks.umi0410.output }}&lt;/code> ì´ëŸ° ì‹ì˜ ë³€ìˆ˜ë¥¼ ì´ìš©í•œ
ì„¤ì •ì„ ì¹˜í™˜í•œ ë’¤ APIë¥¼ ìˆ˜í–‰í•´ì•¼í•  ë•Œ, ì•„ë§ˆ template ì–¸ì–´ë“¤ì„ ì œê°€ ì›í•˜ëŠ” ëŒ€ë¡œ ì‚¬ìš©í•˜ê¸°
í˜ë“¤ ê²ƒì´ë¼ ìƒê°í•˜ê³ , í•˜ë‚˜í•˜ë‚˜ í•¨ìˆ˜ì™€ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ê°€ê³¤í–ˆëŠ”ë°, ê°œë°œì´ ê±°ì˜ ì™„ë£Œë˜ì–´ê°ˆì¯¤
&lt;code>Jinja2&lt;/code>ì˜ ì‚¬ìš©ë²•ì„ ë‹¤ì‹œ ì½ë‹¤ë³´ë‹ˆ &lt;code>spacectl&lt;/code>ì— &lt;code>Jinja2&lt;/code>ë¥¼ ì ì ˆíˆ ì‚¬ìš©í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì•˜ê³ ,
ì •ì‹ ì´ ë²ˆëœ© ë“¤ì–´ ëª‡ ì‹œê°„ë§Œì— ìˆ˜ì‘ì—…ìœ¼ë¡œ ì§  ì½”ë“œë“¤ì„ ëœì–´ë‚´ê³  Jinja2ë¥¼ ì´ìš©í•´ ì¢€ ë” ê¹”ë”í•˜ê²Œ
ë³€ìˆ˜ ì¹˜í™˜ ë° ì¶”ê°€ë¡œ &lt;code>Jinja2&lt;/code>ì˜ built-in filterë“¤ì„ ì´ìš©í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤!&lt;/p>
&lt;h2 id="ê°œë°œí•˜ë©´ì„œ-ëŠë‚€-ì ">ê°œë°œí•˜ë©´ì„œ ëŠë‚€ ì &lt;/h2>
&lt;p>ì—­ì‹œ ê°œë°œì€ ë‚¨ì´ ë§Œë“  íŒ¨í‚¤ì§€ë¥¼ ì˜ ì‚¬ìš©í•´ì•¼í•œë‹¤ëŠ” ê²ƒì„ ëŠê¼ˆê³ , ê·¸ëƒ¥ ë³µì‚¬ ë¶™ì—¬ë„£ê¸°ë§Œ ì˜í•˜ë©´ ëœë‹¤ëŠ” ì˜ë¯¸ê°€ ì•„ë‹ˆë¼,
ê·¸ëŸ° ê²ƒë“¤ì„ ë¹ ë¥´ê²Œ ê°€ì ¸ì™€ì„œ ì ìš©ì‹œí‚¤ê³  ë¶€ë¶„ ë¶€ë¶„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ê¸° ìœ„í•´ì„œëŠ”
ê¸°ë³¸ê¸°ê°€ íƒ„íƒ„í•´ì•¼í•œë‹¤ê³  ëŠê¼ˆìŠµë‹ˆë‹¤. ë¬¼ë¡  ìˆ˜ì‘ì—…ìœ¼ë¡œ ë§Œë“œëŠ” ê²ƒë„ ì¢‹ì„ ìˆ˜ ìˆê² ì§€ë§Œ, ë‹¤ì–‘í•œ ì—£ì§€ì¼€ì´ìŠ¤ê°€ ì¡´ì¬í•  ìˆ˜ ìˆê³ ,
ê·¸ ëª¨ë“  ì‘ì—…ë“¤ì„ ë¬¸ì„œë¡œ ìƒì„¸íˆ ì„¤ëª…í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ë©´, ì œì‘ìì¸ ì œê°€ ì•„ë‹Œ ëˆ„êµ°ê°€ê°€ ê·¸ ê¸°ëŠ¥ì„ ì´ìš©í•˜ê¸°ëŠ”
í˜ë“¤ ê²ƒì…ë‹ˆë‹¤. Jinja2ë¥¼ ì´ìš©í•œ í…œí”Œë¦¿ ê¸°ëŠ¥ ì œê³µì´ ì´ì™€ ê´€ë ¨ëœ ê²½í—˜ì´ ë  ìˆ˜ ìˆê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë˜í•œ ë‚¨ì˜ ì½”ë“œë¥¼ ìì„¸íˆ ì½ì–´ë³´ëŠ” ê²Œ ì²˜ìŒì´ì—ˆëŠ”ë°, ë•ë¶„ì— íŒŒì´ì¬ í”„ë¡œì íŠ¸ë¥¼ ìˆ˜í–‰í•  ë•Œ ì–´ë–¤ ì‹ìœ¼ë¡œ
ë””ë ‰í† ë¦¬ ìŠ¤íŠ¸ëŸ­ì³ë¥¼ ì§œë©´ ì¢‹ì„ ì§€ ìƒê°í•´ë³¼ ìˆ˜ ìˆì—ˆë˜ ê³„ê¸°ì˜€ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
ì œê°€ ì„¤ê³„í•˜ê³ , ê°œë°œí•œ ë‚´ìš©ì„ ì§§ê²Œë‚˜ë§ˆ ë°œí‘œí•œ ë’¤ ë¦¬ë·°ë¥¼ ë°›ê³  ìˆ˜ì •ì„ í•˜ë©´ í•œì¸µ ë” ì½”ë“œì˜
êµ¬ì¡°ì™€ ì‚¬ìš©ì´ ê°„ê²°í•˜ê³  ì§ê´€ì ìœ¼ë¡œ ë³´ì¸ë‹¤ëŠ” ëŠë‚Œì„ ë°›ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ ë‹¤ì–‘í•œ
ê°€ë¥´ì¹¨ì„ ì£¼ì‹  &lt;strong>ì €í¬ íŒ€ì˜ ì„ ë°° ê°œë°œìë¶„ë“¤ê»˜ í•­ìƒ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>Megazone CloudOne íŒ€ì˜ DevOps ì¸í„´ìœ¼ë¡œì„œ ê·¼ë¬´í–ˆë˜ ë‚´ìš©ì— ëŒ€í•œ í›„ê¸°ê°€ ê±°ì˜ ëë‚¬ìŠµë‹ˆë‹¤.
ëìœ¼ë¡œ ì¸í„´ í™œë™ì— ëŒ€í•œ ì¢…í•©ì ì¸ ëŠë‚€ì ì„ ì´ì–´ì„œ ë³´ì‹œê±°ë‚˜ ë‹¤ì‹œ ëª©ì°¨ë¥¼ ë³´ê³ ì‹¶ìœ¼ì‹  ë¶„ì€ &lt;a class="link" href="../index" >&lt;strong>ì—¬ê¸°&lt;/strong>&lt;/a>ë¥¼
í´ë¦­í•´ì£¼ì„¸ìš”.&lt;/p></description></item><item><title>EKS K8sì—ì„œ ELB(ALB, NLB) ì œëŒ€ë¡œ ì„¤ì •í•˜ë©° ì‚¬ìš©í•˜ê¸°</title><link>https://umi0410.github.io/blog/aws/aws_eks_elb/</link><pubDate>Sun, 06 Sep 2020 19:11:07 +0900</pubDate><guid>https://umi0410.github.io/blog/aws/aws_eks_elb/</guid><description>&lt;img src="https://umi0410.github.io/blog/aws/aws_eks_elb/preview.png" alt="Featured image of post EKS K8sì—ì„œ ELB(ALB, NLB) ì œëŒ€ë¡œ ì„¤ì •í•˜ë©° ì‚¬ìš©í•˜ê¸°" />&lt;h2 id="-ì‹œì‘í•˜ë©°">ğŸ¶ ì‹œì‘í•˜ë©°&lt;/h2>
&lt;blockquote>
&lt;p>ë³¸ ê²Œì‹œê¸€ì€ AWS ëŒ€í•™ìƒ ìœ ì €ê·¸ë£¹ì¸ &lt;a class="link" href="https://velog.io/@ausg" target="_blank" rel="noopener"
>AUSG&lt;/a>ì˜ í™œë™ ì¤‘
í•˜ë‚˜ë¡œì„œ ë³¸ì¸(ë°•ì§„ìˆ˜)ì´ ì‘ì„±í•œ ê²Œì‹œë¬¼ì„ í¬ì›Œë”©í•œ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;/blockquote>
&lt;p>&lt;figure style="flex-grow: 185; flex-basis: 444px">
&lt;a href="https://umi0410.github.io/blog/aws/aws_eks_elb/preview.png" data-size="2032x1097">&lt;img src="https://umi0410.github.io/blog/aws/aws_eks_elb/preview.png"
srcset="https://umi0410.github.io/blog/aws/aws_eks_elb/preview_huc38b74e19f60c2848e88837c4c6920fa_1709468_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/aws/aws_eks_elb/preview_huc38b74e19f60c2848e88837c4c6920fa_1709468_1024x0_resize_box_3.png 1024w"
width="2032"
height="1097"
loading="lazy"
alt="preview.png">
&lt;/a>
&lt;figcaption>preview.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;code>ë°ë¸Œì˜µìŠ¤&lt;/code> ì¸í„´ìœ¼ë¡œ ê·¼ë¬´í•œ ì§€ê°€ ë²Œì¨ ë‘ ë‹¬ì´ ë˜ì–´ê°‘ë‹ˆë‹¤. ì´ê²ƒ ì €ê²ƒ ë°°ìš´ ê²ƒì´ ë§ì•˜ë˜ ì‹œê°„ì´ì—ˆëŠ”ë°, ê·¸ ì¤‘ ê½¤ë‚˜ ì‚½ì§ˆì„ í–ˆë˜ &lt;code>Kubernetes&lt;/code> ì™€ &lt;code>ELB&lt;/code>ë¥¼ ì´ìš©í•˜ëŠ” ë¶€ë¶„ì— ëŒ€í•´ ì •ë¦¬ë¥¼ í•´ë³¼ê¹Œí•©ë‹ˆë‹¤. &lt;code>jenkins&lt;/code>, &lt;code>spinnaker&lt;/code>, &lt;code>argo&lt;/code>, &lt;code>terraform&lt;/code>, &lt;code>ansible&lt;/code>, &lt;code>github action&lt;/code>, &amp;hellip; ë“±ë“± ë‹¤ì–‘í•œ ë‚´ìš©ì„ ê²½í—˜í•  ìˆ˜ ìˆë˜ ì‹œê°„ì´ì—ˆì§€ë§Œ, ê·¸ ì¤‘ kubernetesì—ì„œ ë¬´ìŠ¨ ì‘ì—…ì„ í•˜ë˜ ë¹¼ë†“ì„ ìˆ˜ ì—†ìœ¼ë©´ì„œ ì–´ë”˜ê°€ ê¹”ë”íˆ ê·¸ íë¦„ì´ ì •ë¦¬ëœ ê³³ì„ ë³´ê¸° í˜ë“¤ì—ˆë˜ &lt;strong>serviceë¥¼ ELBì— ì—°ê²°&lt;/strong>í•˜ê¸°ì— ëŒ€í•œ ë‚´ìš©ì„ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;em>ë³¸ í¬ìŠ¤íŠ¸ëŠ” EKSë¥¼ í†µí•´ K8së¥¼ ì´ìš©í•  ë•Œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…í•©ë‹ˆë‹¤.&lt;/em>&lt;/p>
&lt;h2 id="-eks-ì—ì„œ-elbë¥¼-ì‚¬ìš©í•´-ì„œë¹„ìŠ¤ë¥¼-ë…¸ì¶œí‚¬-ë•Œ-ìœ ì˜ì‚¬í•­ë“¤">ğŸ’ğŸ»â€â™‚ï¸ EKS ì—ì„œ ELBë¥¼ ì‚¬ìš©í•´ ì„œë¹„ìŠ¤ë¥¼ ë…¸ì¶œí‚¬ ë•Œ ìœ ì˜ì‚¬í•­ë“¤&lt;/h2>
&lt;blockquote>
&lt;p>ğŸ§ : &amp;quot; &lt;code>ELB&lt;/code>, &lt;code>NLB&lt;/code>, &lt;code>ALB&lt;/code> ëŒ€ì²´ ë­ê°€ ë‹¤ë¥¸ ê±°ì•¼..?ã…œã…œ &lt;strong>ì¿ ë²„ë„¤í‹°ìŠ¤&lt;/strong>ë¥¼ ì“¸ ë•ŒëŠ” ì–´ë–»ê²Œ ì–˜ë„¤ë¥¼ ì§€ì •í•˜ëŠ” ê±°ì§€..? &lt;code>kubectl expose deploy {{deployment_name}} --type=LoadBalancer&lt;/code> í•˜ë©´ ê·¸ëƒ¥ ì‘ë™ì€ í•˜ë˜ë°&amp;hellip;&amp;quot;&lt;/p>
&lt;/blockquote>
&lt;p>&lt;code>EKS&lt;/code>ì—ì„œ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” &lt;code>ELB&lt;/code>ëŠ” L4ì˜ &lt;code>NLB&lt;/code>ì™€ L7ì˜ &lt;code>ALB&lt;/code> ì…ë‹ˆë‹¤. ALBê°€ L7ì— ëŒ€í•œ ì¢€ ë” ë‹¤ì–‘í•œ ì„¤ì •ì´ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ì¡°ê±´ì´ ë§ê¸°ë„ í•˜ê³ , AWSì˜ ALBë§Œì„ ìœ„í•œ &lt;code>alb-ingress-controller&lt;/code>ë¼ëŠ” ë…€ì„ì´ ì§ì ‘ &lt;code>Ingress&lt;/code>ì˜ ì„¤ì •ë“¤ì„ ê´€ë¦¬í•´ì£¼ê¸° ë•Œë¬¸ì— ì„¤ì •í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ë„ ë§ìŠµë‹ˆë‹¤. ì¢‹ê²Œ ë³´ë©´ ë§ì€ ì„¤ì •ì„ í•  ìˆ˜ ìˆê³ , ë‚˜ì˜ê²Œ ë³´ë©´ ì´ˆë³´ìì—ê² ê·€ì°®ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. &lt;code>NLB&lt;/code>ëŠ” ë¹„êµì  ì„¤ì •ì´ ì ê³  ë”°ë¼ì„œ ì„¤ì •í•´ì¤„ ìˆ˜ ìˆëŠ” í•­ëª©ë„ ì ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ë‹¤ì–‘í•œ ì‘ì—…ì„ í•˜ë©´ì„œ ë‹¤ì–‘í•œ controllerì„ ì ‘í•˜ê²Œ ë˜ê³ , ê·¸ë ‡ê²Œ ë  ìˆ˜ë¡ &lt;code>annotation&lt;/code>ìœ¼ë¡œ ë§ì€ ì„¤ì •ì„ í•˜ê²Œ ë©ë‹ˆë‹¤. k8së¥¼ ì²˜ìŒ ì ‘í•  ë•Œì—ëŠ” annotationì— ëŒ€í•œ ì •ì˜ë¡œì„œ ì•„ë˜ì™€ ê°™ì€ ë¬¸ì¥ì„ ì ‘í•  ìˆ˜ ìˆê³ , ë§ˆì¹˜ ê¸°ëŠ¥ê³¼ í¬ê²Œ ìƒê´€ì´ ì—†ì„ ê²ƒì²˜ëŸ¼ ëŠê»´ì§€ê¸°ë„ í•˜ì§€ë§Œ ì‚¬ì‹¤ EKSë¥¼ ë¹„ë¡¯í•œ ì—¬ëŸ¬ ì„œë¹„ìŠ¤ì—ì„œëŠ” annotationì„ ì´ìš©í•´ ì¤‘ìš”í•œ ì„¤ì • ë“±ì„ ê¸°ì…í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì˜ ì„¤ì •í•´ì£¼ì–´ì•¼í•©ë‹ˆë‹¤. ELBë˜í•œ ëª¨ë“  ì„¤ì •ì´ annotationìœ¼ë¡œ ë™ì‘í•œë‹¤.&lt;/p>
&lt;blockquote>
&lt;p>&amp;quot; &lt;code>Label&lt;/code>ì„ ì‚¬ìš©í•˜ì—¬ ì˜¤ë¸Œì íŠ¸ë¥¼ ì„ íƒí•˜ê³ , íŠ¹ì • ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ ì»¬ë ‰ì…˜ì„ ì°¾ì„ ìˆ˜ ìˆë‹¤. ë°˜ë©´ì—, &lt;code>annotation&lt;/code>ì€ ì˜¤ë¸Œì íŠ¸ë¥¼ ì‹ë³„í•˜ê³  ì„ íƒí•˜ëŠ”ë° ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤. ì–´ë…¸í…Œì´ì…˜ì˜ ë©”íƒ€ë°ì´í„°ëŠ” ì‘ê±°ë‚˜ í¬ê³ , êµ¬ì¡°ì ì´ê±°ë‚˜ êµ¬ì¡°ì ì´ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë©°, ë ˆì´ë¸”ì—ì„œ í—ˆìš©ë˜ì§€ ì•ŠëŠ” ë¬¸ìë¥¼ í¬í•¨í•  ìˆ˜ ìˆë‹¤.&amp;quot;&lt;/p>
&lt;/blockquote>
&lt;h3 id="-albë¥¼-ì‚¬ìš©í• -ë•Œ-ìœ ì˜í• -ì ">âš ï¸ ALBë¥¼ ì‚¬ìš©í•  ë•Œ ìœ ì˜í•  ì &lt;/h3>
&lt;blockquote>
&lt;p>ì–´ë–¤ ì˜µì…˜ë“¤ì´ ìˆê³ , ê¸°ë³¸ì ìœ¼ë¡œëŠ” ì–´ë–»ê²Œ ì„¤ì •ë˜ëŠ” ì§€ì— ëŒ€í•œ ì´í•´ê°€ ìˆì–´ì•¼ ì˜¤ë¥˜ ê³¼ì •ì„ ì¶”ì í•˜ê¸° ì‰¬ìš°ë¯€ë¡œ ê¸°ë³¸ì ìœ¼ë¡œ ALBë¥¼ AWS Consoleì—ì„œ ì‚¬ìš©í•´ë³¸ ë’¤ì— ì„¤ì •í•  ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>&lt;code>alb ingress controller&lt;/code>ê°€ ìƒì„±í•  ALBê°€ ì‚¬ìš©í•  ì„œë¸Œë„·ì„ discoverí•˜ê¸° ìœ„í•´ì„œëŠ” &lt;strong>ì˜¬ë°”ë¥¸ íƒœê·¸ê°€ ë‹¬ë¦° subnet&lt;/strong>ì´ ì¡´ì¬í•´ì•¼í•œë‹¤.&lt;/li>
&lt;li>node í˜¹ì€ &lt;code>alb ingress controller&lt;/code>ì— ì—°ê²°ëœ service accountê°€ albë¥¼ ì œì–´í•˜ê¸° ìœ„í•œ &lt;strong>iam permission&lt;/strong>ì´ ë¶€ì—¬ë˜ì–´ì•¼í•œë‹¤.&lt;/li>
&lt;li>internet facingí•œ albë¥¼ ë§Œë“¤ì§€ internalí•œ albë¥¼ ë§Œë“¤ì§€ ê³ ë¯¼í•´ë´ì•¼í•œë‹¤.&lt;/li>
&lt;li>&lt;code>alb ingress controller&lt;/code>ì˜ logë¥¼ í†µí•´ ì‘ì—…ì— ëŒ€í•œ logë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.&lt;/li>
&lt;/ul>
&lt;h3 id="-nlb-clbë¥¼-ì‚¬ìš©í• -ë•Œ-ìœ ì˜í• -ì ">âš ï¸ NLB, CLBë¥¼ ì‚¬ìš©í•  ë•Œ ìœ ì˜í•  ì &lt;/h3>
&lt;p>&lt;a class="link" href="https://kubernetes.io/ko/docs/concepts/services-networking/service/#aws-nlb-support" target="_blank" rel="noopener"
>https://kubernetes.io/ko/docs/concepts/services-networking/service/#aws-nlb-support&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://docs.aws.amazon.com/ko_kr/eks/latest/userguide/load-balancing.html" target="_blank" rel="noopener"
>https://docs.aws.amazon.com/ko_kr/eks/latest/userguide/load-balancing.html&lt;/a>&lt;/p>
&lt;ul>
&lt;li>&lt;code>NLB&lt;/code>, &lt;code>CLB&lt;/code>ê°€ ì‚¬ìš©í•  ì„œë¸Œë„·ì„ ì„¤ì •í•˜ê¸° ìœ„í•´ì„œëŠ” &lt;strong>ì˜¬ë°”ë¥¸ íƒœê·¸ê°€ ë‹¬ë¦° subnet&lt;/strong>ì´ ì¡´ì¬í•´ì•¼í•œë‹¤.&lt;/li>
&lt;li>ì–´ëŠ ë¶€ë¶„ì—ì„ ê°€ NLB, CLBë¥¼ ì œì–´í•˜ê¸° ìœ„í•œ &lt;strong>iam permission&lt;/strong>ì´ ë¶€ì—¬ë˜ì–´ì•¼í•œë‹¤. (ì–´ëŠ ë¶€ë¶„ì¸ì§€ í™•ì‹¤íˆëŠ” ëª¨ë¥´ê² ìŒ. ë”°ë¡œ ì„¤ì •ì•ˆí•´ë„ ë™ì‘í•˜ëŠ” ê²ƒì„ ë³´ì•„ worker nodeê°€ ê°–ëŠ” iam roleì— permissionì´ ë¶™ì–´ìˆì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒë¨)&lt;/li>
&lt;/ul>
&lt;h2 id="-albë¥¼-ì‚¬ìš©í•´-ì„œë¹„ìŠ¤ë¥¼-ë…¸ì¶œì‹œí‚¤ëŠ”-ë°©ë²•">ğŸŒ ALBë¥¼ ì‚¬ìš©í•´ ì„œë¹„ìŠ¤ë¥¼ ë…¸ì¶œì‹œí‚¤ëŠ” ë°©ë²•&lt;/h2>
&lt;blockquote>
&lt;p>ğŸ˜Š &lt;code>ALB&lt;/code>ëŠ” K8sì— ì¹œìˆ™í•˜ì§€ ì•Šìœ¼ì‹  ë¶„ë“¤ê»˜ëŠ” ë‹¤ì†Œ ì§„ì…ì¥ë²½ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëƒ¥ ì„œë¹„ìŠ¤ë¥¼ ë…¸ì¶œì‹œí‚¬ ë•ŒëŠ” êµ³ì´ ì‚¬ìš©í•  í•„ìš” ì—†ëŠ” &lt;code>Ingress&lt;/code> ë¼ëŠ” ì˜¤ë¸Œì íŠ¸ë„ ê´€ë¦¬í•´ì•¼í•˜ê³ , &lt;code>alb-ingress-contoller&lt;/code>ë¼ëŠ” ë…€ì„ë„ ë°°í¬í•´ì•¼í•˜ë©° ì„¤ì •ì´ ë‹¤ì–‘í•˜ê¸° ë•Œë¬¸ì´ì£ ! ğŸ’¦&lt;/p>
&lt;/blockquote>
&lt;p>K8sì—ì„œ EKSë¥¼ ì‚¬ìš©í•´ &lt;code>ALB&lt;/code>ë¥¼ ì´ìš©í•˜ê³ ì‹¶ì€ ê²½ìš° &lt;code>alb-ingress-controller&lt;/code>ì„ ë°°í¬í•œ ë’¤, &lt;code>Ingress&lt;/code>ë¥¼ í†µí•´ ì‚¬ìš©í•  albì— ëŒ€í•œ ruleì„ ì„¤ì •ì„ í•´ì£¼ì–´ì•¼í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;a class="link" href="https://kubernetes-sigs.github.io/aws-alb-ingress-controller/guide/controller/setup/" target="_blank" rel="noopener"
>https://kubernetes-sigs.github.io/aws-alb-ingress-controller/guide/controller/setup/&lt;/a> ì˜ ë‚´ìš©ì„ ë²„ë¦´ ë¶€ë¶„ì´ í•˜ë‚˜ë„ ì—†ìŠµë‹ˆë‹¤. ìœ„ ë§í¬ë¥¼ í†µí•´ alb-ingress-controllerì— ëŒ€í•œ ê°œë…ì„ ì¡ê³  ë°°í¬í•´ë´…ë‹ˆë‹¤. &lt;code>alb-ingress-controller.yaml&lt;/code>ì˜ ì¸ìë¥¼ ì ì ˆíˆ ìˆ˜ì •í•´ì£¼ì–´ì•¼í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ALBê°€ ì•„ë‹Œ k8s cluster ìƒì—ì„œ L7 LoadBalancerë¥¼ ì´ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” nginx ingress controllerë“±ì„ ì´ìš©í•˜ë©° nginx ì— ì ìš©í•  ruleì„ &lt;code>Ingress&lt;/code>ë¼ëŠ” K8s Objectë¥¼ í†µí•´ ì„¤ì •í•©ë‹ˆë‹¤. ingress controllerì˜ ì„¤ì •ì—ì„œ ìì‹ ì˜ class nameì„ ì ì–´ì£¼ê³ , &lt;code>Ingress&lt;/code>ì—ì„œëŠ” ì–´ë–¤ class nameì˜ ingress controllerì—ì„œ ìì‹ (Ingressì´ì Rule)ì„ ì ìš©í•˜ë„ë¡ í•  ì§€ë¥¼ annotationì„ í†µí•´ ì„¤ì •í•˜ê±°ë‚˜ ingressClassNameì´ë¼ëŠ” í•„ë“œë¥¼ í†µí•´ ì„¤ì •í•©ë‹ˆë‹¤.(ingress ì„¤ì •ì— ëŒ€í•œ ì°¸ê³  - &lt;a class="link" href="https://kubernetes.io/ko/docs/concepts/services-networking/ingress/#%EC%9D%B8%EA%B7%B8%EB%A0%88%EC%8A%A4-%ED%81%B4%EB%9E%98%EC%8A%A4" target="_blank" rel="noopener"
>https://kubernetes.io/ko/docs/concepts/services-networking/ingress/#ì¸ê·¸ë ˆìŠ¤-í´ë˜ìŠ¤&lt;/a>)&lt;/p>
&lt;p>ì´ì™€ ê°™ì€ ê²½ìš°ì—ëŠ” ingress controllerê°€ ì§ì ‘ ingressì— ëª…ì‹œëœ ruleì„ ì´ìš©í–ˆì§€ë§Œ, &lt;strong>alb-ingress-controller&lt;/strong>ì˜ ê²½ìš°ëŠ” alb-ingress-controllerê°€ nginx-ingress-controllerì²˜ëŸ¼ &lt;strong>ì§ì ‘ ì›¹ì„œë²„ì˜ ì—­í• ì„ í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ&lt;/strong>, ingressì— ëª…ì‹œëœ ruleì„ ì´ìš©í•˜ëŠ” &lt;strong>ALBë¥¼ ìƒì„±í•˜ê³  ê´€ë¦¬&lt;/strong>í•˜ëŠ” ì—­í• ì„ í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ ë¶€ë¶„ì´ ì²˜ìŒì—ëŠ” ë‹¤ì†Œ í—·ê°ˆë¦¬ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆê¸°ì— ê¸¸ê²Œ ì„œìˆ í•´ë³´ì•˜ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì‹¤ì œë¡œ ingressë¥¼ ìƒì„±í•œ ë’¤ ì•ì—ì„œ ë°°í¬í•œ alb-ingress-controllerì˜ logë¥¼ ë³´ë©´ albë¥¼ ê´€ë¦¬í•˜ê¸°ìœ„í•œ ì—¬ëŸ¬ ì‘ì—…ì„ ìˆ˜í–‰ì¤‘ì¸ ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ëŸ¼ ì´ì œ ì‹¤ì œë¡œ alb ingress controllerì„ í†µí•´ albë¥¼ ì´ìš©í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="albë¥¼-ì›í™œíˆ-ì œì–´í•˜ê¸°-ìœ„í•œ-permission-ë¶€ì—¬">ALBë¥¼ ì›í™œíˆ ì œì–´í•˜ê¸° ìœ„í•œ permission ë¶€ì—¬&lt;/h3>
&lt;ul>
&lt;li>ALB iam ì •ì±… ì°¸ê³ 
&lt;ul>
&lt;li>&lt;a class="link" href="https://docs.aws.amazon.com/ko_kr/eks/latest/userguide/alb-ingress.html" target="_blank" rel="noopener"
>https://docs.aws.amazon.com/ko_kr/eks/latest/userguide/alb-ingress.html&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://raw.githubusercontent.com/kubernetes-sigs/aws-alb-ingress-controller/v1.1.2/docs/examples/iam-policy.json" target="_blank" rel="noopener"
>https://raw.githubusercontent.com/kubernetes-sigs/aws-alb-ingress-controller/v1.1.2/docs/examples/iam-policy.json&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;code>ALB&lt;/code>ë¥¼ ì œì–´í•˜ê¸° ìœ„í•´ì„œëŠ” awsì˜ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì–´ë– í•œ permissionì´ í•„ìš”í•©ë‹ˆë‹¤. &lt;code>node&lt;/code>ì— ë¶€ì—¬í•  ìˆ˜ë„ ìˆê³ , IAM Userì— ë¶€ì—¬í•œ ë’¤ &lt;code>alb ingress controller&lt;/code>ì˜ ì„¤ì •ì—ì„œ í•´ë‹¹ IAM Userì˜ Keyë¥¼ ë¶€ì—¬í•  ìˆ˜ë„ ìˆê³ , Service accountì™€ IAM Roleì„ &lt;code>OIDC&lt;/code>(OpenID Connectë¥¼ ì´ìš©í•´ Service accountì™€ IAM Roleì„ ì—°ê²°ì‹œí‚¤ëŠ” ì‘ì—…)ë¥¼ ì´ìš©í•´ ì—®ì€ ë’¤, alb ingress controller podì— í•´ë‹¹ Service Accountë¥¼ ë¶€ì—¬í•  ìˆ˜ë„ ìˆì§€ë§Œ ë’¤ì˜ ë°©ë²•ë“¤ì€ ì¢€ íŠœí† ë¦¬ì–¼ì¹˜ê³  íˆ¬ë¨¸ì¹˜í•œ ê°ì´ ìˆê¸°ë•Œë¬¸ì—, ê°„ë‹¨íˆ nodeì— Permissionì„ ë¶€ì—¬í•˜ë„ë¡í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 149; flex-basis: 359px">
&lt;a href="https://umi0410.github.io/blog/aws/aws_eks_elb/iam.png" data-size="797x532">&lt;img src="https://umi0410.github.io/blog/aws/aws_eks_elb/iam.png"
srcset="https://umi0410.github.io/blog/aws/aws_eks_elb/iam_hu9ac6964ec6844f4165a3f6a7be3b3a23_55018_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/aws/aws_eks_elb/iam_hu9ac6964ec6844f4165a3f6a7be3b3a23_55018_1024x0_resize_box_3.png 1024w"
width="797"
height="532"
loading="lazy"
alt="iam.png">
&lt;/a>
&lt;figcaption>iam.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>worker nodeë“¤ì´ ì´ìš©í•˜ëŠ” IAM Roleì— Policyë¥¼ ì¶”ê°€í•œ ëª¨ìŠµ.&lt;/p>
&lt;h3 id="albê°€-ì‚¬ìš©í• -subnetì—-ì ì ˆí•œ-íƒœê·¸-ë‹¬ê¸°">albê°€ ì‚¬ìš©í•  subnetì— ì ì ˆí•œ íƒœê·¸ ë‹¬ê¸°&lt;/h3>
&lt;p>&lt;a class="link" href="https://docs.aws.amazon.com/ko_kr/eks/latest/userguide/alb-ingress.html" target="_blank" rel="noopener"
>https://docs.aws.amazon.com/ko_kr/eks/latest/userguide/alb-ingress.html&lt;/a> ì— ë‚˜ì™€ìˆë“¯ì´ ELBê°€ ì´ìš©í•˜ëŠ” ì„œë¸Œë„·ì„ ìë™ìœ¼ë¡œ ì„¤ì •ë˜ë„ë¡ í•˜ê¸° ìœ„í•´ì„œëŠ” ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” ì„œë¸Œë„·ì— ì•„ë˜ì™€ ê°™ì€ íƒœê·¸ë“¤ì„ ë‹¬ì•„ì£¼ì–´ì•¼í•œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">kubernetes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">cluster&lt;/span>&lt;span class="err">-&lt;/span>&lt;span class="na">name&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">shared&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">owned&lt;/span> &lt;span class="err">#&lt;/span> &lt;span class="nx">Required&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">kubernetes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">role&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">internal&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">elb&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span> &lt;span class="err">#&lt;/span> &lt;span class="nx">Optional&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="nx">internal&lt;/span> &lt;span class="nx">alb&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">kubernetes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">role&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">elb&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span> &lt;span class="err">#&lt;/span> &lt;span class="nx">Optional&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="nx">internet&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">facing&lt;/span> &lt;span class="nx">alb&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>a | b&lt;/code>ì™€ ê°™ì€ í‘œí˜„ì€ a ë‚˜ bì¤‘ í•œ ê°’ì„ ê°€ì ¸ì•¼í•œë‹¤ëŠ” ì˜ë¯¸ë¡œ í‘œí˜„í•œ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 164; flex-basis: 393px">
&lt;a href="https://umi0410.github.io/blog/aws/aws_eks_elb/tag.png" data-size="714x435">&lt;img src="https://umi0410.github.io/blog/aws/aws_eks_elb/tag.png"
srcset="https://umi0410.github.io/blog/aws/aws_eks_elb/tag_hu2bbb23500c440a1ae11b9e8cf9268536_37002_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/aws/aws_eks_elb/tag_hu2bbb23500c440a1ae11b9e8cf9268536_37002_1024x0_resize_box_3.png 1024w"
width="714"
height="435"
loading="lazy"
alt="tag.png">
&lt;/a>
&lt;figcaption>tag.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>internet facing ALBë§Œ ì´ìš©í•  ê²ƒì´ê¸° ë•Œë¬¸ì— &lt;a class="link" href="http://kubernetes.io/role/internal-elb" target="_blank" rel="noopener"
>&lt;code>kubernetes.io/role/internal-elb&lt;/code>&lt;/a> tagëŠ” ìƒëµí•˜ê³  íƒœê·¸ë¥¼ ë‹¬ì•„ì¤€ ëª¨ìŠµ.&lt;/p>
&lt;p>subnetì— ALBë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ íƒœê·¸ë¥¼ ì œëŒ€ë¡œ ë‹¬ì•„ì£¼ì§€ ì•Šì„ ê²½ìš° alb-ingress-controller ì—ì„œ ì•„ë˜ì™€ ê°™ì€ ë¡œê·¸ë¥¼ ë³´ê²Œ ë©ë‹ˆë‹¤. ALBê°€ ìƒì„±ë˜ì§€ë„ ì•ŠìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">controller&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">go&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">217&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="nx">kubebuilder&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">controller&lt;/span> &lt;span class="s2">&amp;#34;msg&amp;#34;&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Reconciler error&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;error&amp;#34;&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="nx">failed&lt;/span> &lt;span class="nx">to&lt;/span> &lt;span class="nx">build&lt;/span> &lt;span class="nx">LoadBalancer&lt;/span> &lt;span class="nx">configuration&lt;/span> &lt;span class="nx">due&lt;/span> &lt;span class="nx">to&lt;/span> &lt;span class="nx">failed&lt;/span> &lt;span class="nx">to&lt;/span> &lt;span class="nx">resolve&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="nx">qualified&lt;/span> &lt;span class="nx">subnet&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="nx">ALB&lt;/span>&lt;span class="p">.&lt;/span> &lt;span class="nx">Subnets&lt;/span> &lt;span class="nx">must&lt;/span> &lt;span class="nx">contains&lt;/span> &lt;span class="nx">these&lt;/span> &lt;span class="nx">tags&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;kubernetes.io/cluster/umi-dev&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;shared&amp;#39;&lt;/span> &lt;span class="nx">or&lt;/span> &lt;span class="s1">&amp;#39;owned&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="nx">and&lt;/span> &lt;span class="s1">&amp;#39;kubernetes.io/role/internal-elb&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span> &lt;span class="nx">or&lt;/span> &lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="alb-ingress-controller-ë°°í¬í•˜ê¸°">alb ingress controller ë°°í¬í•˜ê¸°.&lt;/h3>
&lt;blockquote>
&lt;p>ìŠ¬ìŠ¬ ì½ê¸° ê·€ì°®ì•„ì§ˆ íƒ€ì´ë°ì…ë‹ˆë‹¤. &amp;lsquo;&lt;em>ìš”ë†ˆì´ IAM policyë„ ë§Œë“¤ê³ , ì„œë¸Œë„·ì— ì—„í•œ íƒœê·¸ë¥¼ ë‹¬ë”ë‹ˆ ì´ì œëŠ” í•˜,,, ë­˜ ë˜ ë°°í¬í•˜ë¼ê³  í•˜ëŠ”êµ¬ë‚˜ ì•„ì´ê³  ë‚´ ëˆˆì•„,,,&lt;/em>&amp;rsquo; ì‹¶ê² ì§€ë§Œ, ì¢€ ë” í˜ì„ ë‚´ì–´ë´…ì‹œë‹¤ ğŸ»&lt;/p>
&lt;/blockquote>
&lt;p>&lt;a class="link" href="https://kubernetes-sigs.github.io/aws-alb-ingress-controller/guide/controller/setup/" target="_blank" rel="noopener"
>https://kubernetes-sigs.github.io/aws-alb-ingress-controller/guide/controller/setup/&lt;/a> ë¥¼ ì°¸ê³ í•˜ì—¬ &lt;code>Deployment&lt;/code> ë‚´ì˜ containerì˜ &lt;code>args&lt;/code>ë¥¼ ìì‹ ì˜ ìƒí™©ì— ë§ê²Œ ìˆ˜ì •í•œ ë’¤ ë°°í¬í•´ì¤ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">args&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="nx">ingress&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="kr">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">alb&lt;/span> &lt;span class="err">#&lt;/span> &lt;span class="nx">ingressì˜&lt;/span> &lt;span class="nx">annotationì—&lt;/span> &lt;span class="nx">ëª…ì‹œí• &lt;/span> &lt;span class="kr">class&lt;/span> &lt;span class="nx">name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="nx">cluster&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">umi&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">dev&lt;/span> &lt;span class="err">#&lt;/span> &lt;span class="nx">eks&lt;/span> &lt;span class="nx">cluster&lt;/span> &lt;span class="nx">name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="nx">aws&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">region&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">ap&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">northeast&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="nx">aws&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">api&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">debug&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ì €ëŠ” ìœ„ì™€ ê°™ì€ ì‹ìœ¼ë¡œ ì„¤ì •í•´ì£¼ì—ˆê³ , ì˜ ë°°í¬ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ë´…ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">$&lt;/span> &lt;span class="nx">kubectl&lt;/span> &lt;span class="nx">get&lt;/span> &lt;span class="nx">po&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="nx">A&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">grep&lt;/span> &lt;span class="nx">alb&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">kube&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">system&lt;/span> &lt;span class="nx">alb&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">ingress&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">controller&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">594&lt;/span>&lt;span class="nx">f84b465&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">q4qjb&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="nx">Running&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">106&lt;/span>&lt;span class="nx">m&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ë…¸ì¶œì‹œí‚¬-ì„œë¹„ìŠ¤-ë°°í¬í•˜ê¸°">ë…¸ì¶œì‹œí‚¬ ì„œë¹„ìŠ¤ ë°°í¬í•˜ê¸°&lt;/h3>
&lt;p>ê°„ë‹¨í•˜ê²Œ &lt;code>Nginx&lt;/code>ë¥¼ ë°°í¬í•´ë³´ë¡í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">apiVersion&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">v1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">kind&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Service&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">metadata&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">ingress&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">test&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spec&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">selector&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">nginx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ports&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="nx">protocol&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">TCP&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">port&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">80&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">targetPort&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">80&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nodePort&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">30010&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">NodePort&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">---&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">apiVersion&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">apps&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">v1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">kind&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Deployment&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">metadata&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">ingress&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">test&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">labels&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">nginx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spec&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">replicas&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">selector&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">matchLabels&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">nginx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">metadata&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">labels&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">nginx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">spec&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">containers&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">nginx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">image&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">nginx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ports&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="nx">containerPort&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">80&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ALBëŠ” ê¸°ë³¸ì ìœ¼ë¡œ &lt;strong>nodeì˜ Port&lt;/strong>ë¥¼ AWS ìƒì˜ &lt;code>target group&lt;/code>ìœ¼ë¡œì„œ ì´ìš©í•˜ê¸° ë•Œë¬¸ì—, ingressë¥¼ í†µí•´ ë…¸ì¶œì‹œì¼œì¤„ ì„œë¹„ìŠ¤ëŠ” ì ì–´ë„ &lt;code>NodePort&lt;/code> íƒ€ì…ìœ¼ë¡œ ë…¸ì¶œë˜ì–´ìˆì–´ì•¼ &lt;code>ALB ingress controller&lt;/code>ê°€ í•´ë‹¹ ì„œë¹„ìŠ¤ë¥¼ ë…¸ì¶œì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.(target typeì„ ê¸°ë³¸ê°’ì¸ &lt;code>instance&lt;/code>ê°€ ì•„ë‹ˆë¼ &lt;code>IP&lt;/code>ë¡œ ì„¤ì •í•˜ë©´, Podì˜ IPë¡œ íŠ¸ë˜í”½ì´ í˜ëŸ¬ê°€ê²Œ í•  ìˆ˜ëŠ” ìˆìŠµë‹ˆë‹¤.)&lt;/p>
&lt;p>ì‘ë™ë°©ì‹ì„ ì„¤ëª…í•´ë³´ìë©´ ingress ëŠ” service nameê³¼ service portë¥¼ ì„¤ì •ìœ¼ë¡œ ë°›ìŠµë‹ˆë‹¤. alb-ingress-controllerëŠ” ê·¸ëŸ¬ë©´ í•´ë‹¹ service name, service portì™€ ì—°ê²°ëœ NodePortë¥¼ ì°¾ì•„ì„œ ALBì˜ target groupìœ¼ë¡œ ë“±ë¡ì‹œí‚µë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ingress-ë°°í¬í•˜ê¸°">Ingress ë°°í¬í•˜ê¸°&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">apiVersion&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">extensions&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">v1beta1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">kind&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Ingress&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">metadata&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;ingress&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">annotations&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">kubernetes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">ingress&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">class&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">alb&lt;/span> &lt;span class="err">#&lt;/span> &lt;span class="nx">the&lt;/span> &lt;span class="nx">value&lt;/span> &lt;span class="nx">we&lt;/span> &lt;span class="nx">set&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="nx">alb&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">ingress&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">controller&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">alb&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ingress&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">kubernetes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">scheme&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">internet&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">facing&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spec&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">rules&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">paths&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="err">/*&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">backend&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">serviceName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;ingress-test&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">servicePort&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">80&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;a class="link" href="https://kubernetes-sigs.github.io/aws-alb-ingress-controller/guide/ingress/annotation/" target="_blank" rel="noopener"
>https://kubernetes-sigs.github.io/aws-alb-ingress-controller/guide/ingress/annotation/&lt;/a> ì„ ì°¸ê³ í•˜ì—¬ &lt;code>Ingress&lt;/code>ë¥¼ ì‘ì„±í•´ì¤ë‹ˆë‹¤. &lt;code>[kubernetes.io/ingress.class&lt;/code>ëŠ”](&lt;a class="link" href="http://kubernetes.io/ingress.class" target="_blank" rel="noopener"
>http://kubernetes.io/ingress.class&lt;/a>ëŠ”) alb-ingress-controllerì—ì„œ ì„¤ì •í•œ &lt;code>ingress.class&lt;/code>ë¥¼ ì ì–´ì£¼ê³ , &lt;a class="link" href="http://alb.ingress.kubernetes.io/scheme%eb%8a%94" target="_blank" rel="noopener"
>&lt;code>alb.ingress.kubernetes.io/scheme&lt;/code>ëŠ”&lt;/a> ìš©ë„ì— ë”°ë¼ &lt;code>internet-facing&lt;/code> í˜¹ì€ &lt;code>internal&lt;/code>ì„ ì ì–´ì¤ë‹ˆë‹¤. ingress ë¥¼ ìƒì„±í•˜ê¸° ì „ì— &lt;code>kubectl logs -f {alb-ingress-controller pod name}&lt;/code>ì„ í•œ ì°½ì— ë„ì›Œë†“ìœ¼ë©´ ALB ìƒì„± ê´€ë ¨ ë¡œê·¸ë¥¼ ì­ˆë£¨ë£© ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 403; flex-basis: 968px">
&lt;a href="https://umi0410.github.io/blog/aws/aws_eks_elb/elb.png" data-size="670x166">&lt;img src="https://umi0410.github.io/blog/aws/aws_eks_elb/elb.png"
srcset="https://umi0410.github.io/blog/aws/aws_eks_elb/elb_huae6e8bb776e806d0d619a890a5bf58a9_19454_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/aws/aws_eks_elb/elb_huae6e8bb776e806d0d619a890a5bf58a9_19454_1024x0_resize_box_3.png 1024w"
width="670"
height="166"
loading="lazy"
alt="elb.png">
&lt;/a>
&lt;figcaption>elb.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ì˜ ì„¤ì •ë˜ì—ˆë‹¤ë©´ ìœ„ì™€ ê°™ì´ ALBê°€ ìƒì„±ë  ê²ƒ ì…ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">$&lt;/span> &lt;span class="nx">kubectl&lt;/span> &lt;span class="nx">get&lt;/span> &lt;span class="nx">ingress&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">NAME&lt;/span> &lt;span class="nx">HOSTS&lt;/span> &lt;span class="nx">ADDRESS&lt;/span> &lt;span class="nx">PORTS&lt;/span> &lt;span class="nx">AGE&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">ingress&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">bf1e76be&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="k">default&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">ingress&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">e8c7&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1351183883.&lt;/span>&lt;span class="nx">ap&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">northeast&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">2.&lt;/span>&lt;span class="nx">elb&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">amazonaws&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">com&lt;/span> &lt;span class="mi">80&lt;/span> &lt;span class="mi">30&lt;/span>&lt;span class="nx">s&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ì¸ì¦ì„œ-ì„¤ì •ì„-í†µí•´-https-ê¹Œì§€">ì¸ì¦ì„œ ì„¤ì •ì„ í†µí•´ HTTPS ê¹Œì§€?!&lt;/h3>
&lt;blockquote>
&lt;p>â¤ï¸ AWS &lt;code>Certificate Manager&lt;/code>ì™€ &lt;code>Ingress&lt;/code>ì— ëŒ€í•œ &lt;code>annotation&lt;/code>ì„ ì´ìš©í•´ ê°„ë‹¨í•˜ê²Œ &lt;code>HTTPS&lt;/code>ë¥¼ ì´ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤! ì§ì ‘í•˜ë ¤ë©´ ë„ë©”ì¸ ì†Œìœ  ì¸ì¦ê³¼ ì¸ì¦ì„œ, ë¹„ë°€í‚¤ ë“±ì„ ëª¨ë‘ ê´€ë¦¬í•´ì•¼í–ˆëŠ”ë° ë§ì´ì§€ìš”! ğŸ¥&lt;/p>
&lt;/blockquote>
&lt;p>&lt;figure style="flex-grow: 341; flex-basis: 819px">
&lt;a href="https://umi0410.github.io/blog/aws/aws_eks_elb/cert.png" data-size="1082x317">&lt;img src="https://umi0410.github.io/blog/aws/aws_eks_elb/cert.png"
srcset="https://umi0410.github.io/blog/aws/aws_eks_elb/cert_hu285e592bed94d8c711caab941a928b85_40319_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/aws/aws_eks_elb/cert_hu285e592bed94d8c711caab941a928b85_40319_1024x0_resize_box_3.png 1024w"
width="1082"
height="317"
loading="lazy"
alt="cert.png">
&lt;/a>
&lt;figcaption>cert.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ì´ëŸ°ì‹ìœ¼ë¡œ AWSì˜ &lt;code>Certificate Manager&lt;/code>ì„ í†µí•´ ë°œê¸‰ë°›ì€ ì¸ì¦ì„œê°€ ìˆë‹¤ë©´ ì´ë¥¼ alb ì—ì„œ ingressì— annotationì„ ì„¤ì •í•¨ìœ¼ë¡œì¨ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;strong>Ingressì˜ annotationì— HTTPSë° ì¸ì¦ì„œ ê´€ë ¨ ì„¤ì • ì¶”ê°€í•´ì£¼ê¸°&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">apiVersion&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">extensions&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">v1beta1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">kind&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Ingress&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">metadata&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;ingress&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">annotations&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">kubernetes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">ingress&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">class&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">alb&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">alb&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ingress&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">kubernetes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">scheme&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">internet&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">facing&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">alb&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ingress&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">kubernetes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">listen&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">ports&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;[{&amp;#34;HTTP&amp;#34;: 80}, {&amp;#34;HTTPS&amp;#34;: 443}]&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">alb&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ingress&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">kubernetes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">actions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">redirect&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">https&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="s2">&amp;#34;Type&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s2">&amp;#34;redirect&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;RedirectConfig&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s2">&amp;#34;Port&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s2">&amp;#34;443&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;Protocol&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s2">&amp;#34;HTTPS&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;StatusCode&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s2">&amp;#34;HTTP_302&amp;#34;&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">alb&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ingress&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">kubernetes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">certificate&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">arn&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">Certificate&lt;/span> &lt;span class="nx">Mangerì˜&lt;/span> &lt;span class="nx">ì¸ì¦ì„œ&lt;/span> &lt;span class="nx">arn&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;em>http redirect ë° actionsì— ëŒ€í•œ ë‚´ìš©ì€ ì €ì˜ ì• êµì…ë‹ˆë‹¤.&lt;/em> ê¶ê¸ˆí•˜ì‹  ë¶„ë“¤ì€ í•œ ë²ˆ ì ìš©í•´ë³´ì‹œê±°ë‚˜ ì•Œì•„ë³´ì‹œë©´ ì–´ë µì§€ ì•Šê²Œ ì•Œì•„ë‚´ì‹¤ ìˆ˜ ìˆì„ ê²ë‹ˆë‹¤! ğŸ˜†&lt;/p>
&lt;p>&lt;strong>Route53ì— ALB ì¶”ê°€í•´ì£¼ê¸°&lt;/strong>&lt;/p>
&lt;p>EKSì—ì„œ ALBë¥¼ ì‚¬ìš©í•˜ëŠ” ë“±ì˜ ì‘ì—…ì„ í•˜ì‹œëŠ” ë¶„ì€ ì–´ëŠ ì •ë„ awsì— ëŒ€í•œ ì´í•´ê°€ ìˆìœ¼ë¦¬ë¼ ìƒê°í•˜ê³ , ALBë¥¼ Route53ì„ í†µí•´ ë ˆì½”ë“œë¡œ ì¶”ê°€í•˜ëŠ” ì‘ì—…ì— ëŒ€í•œ ì„¤ëª…ì€ ìƒëµí•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 283; flex-basis: 679px">
&lt;a href="https://umi0410.github.io/blog/aws/aws_eks_elb/cert2.png" data-size="1714x605">&lt;img src="https://umi0410.github.io/blog/aws/aws_eks_elb/cert2.png"
srcset="https://umi0410.github.io/blog/aws/aws_eks_elb/cert2_huff1102cf41f5fc11c3e61b957cd43eab_183400_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/aws/aws_eks_elb/cert2_huff1102cf41f5fc11c3e61b957cd43eab_183400_1024x0_resize_box_3.png 1024w"
width="1714"
height="605"
loading="lazy"
alt="cert2.png">
&lt;/a>
&lt;figcaption>cert2.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>alb-ingress-controllerë¡œ AWS Certificate Managerì˜ ì¸ì¦ì„œê¹Œì§€ ì‚¬ìš©í•œ ëª¨ìŠµ.&lt;/p>
&lt;h2 id="-nlbë¥¼-ì‚¬ìš©í•´-ì„œë¹„ìŠ¤ë¥¼-ë…¸ì¶œì‹œí‚¤ëŠ”-ë°©ë²•">ğŸŒ NLBë¥¼ ì‚¬ìš©í•´ ì„œë¹„ìŠ¤ë¥¼ ë…¸ì¶œì‹œí‚¤ëŠ” ë°©ë²•&lt;/h2>
&lt;p>CLBëŠ” Deprecate ëŒ€ìƒì´ë¼ê³  ë“¤ì—ˆê¸°ë„ í•˜ê³ , êµ³ì´ ì¨ë³¸ ì ì´ ì—†ì–´ NLBë¡œë§Œ ì„¤ëª…í•©ë‹ˆë‹¤. NLBëŠ” ALBì— ë¹„í•´ ì‚¬ìš©ì´ ê°„ë‹¨í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>Ingressì™€ alb-ingress-controllerë¥¼ ì‚¬ìš©í–ˆë˜ ALBì™€ ë‹¬ë¦¬ NLBëŠ” ì„œë¹„ìŠ¤ë¥¼ ì§ì ‘ ë…¸ì¶œì‹œí‚µë‹ˆë‹¤. ì£¼ë¡œ &lt;code>Nginx Ingress Controller&lt;/code>ì„ NLBì— ì—°ê²°í•´ì„œ ì‚¬ìš©í–ˆë˜ ê¸°ì–µì´ ë‚©ë‹ˆë‹¤. NLBëŠ” L4 LBë¡œ, Nginxë¥¼ ì£¼ë¡œ L7 LBë¡œ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì´ë ‡ê²Œ NLBë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ALBì™€ Nginx ëª¨ë‘ L7 LBë¡œì„œ ì—­í• ì„ í•˜ê¸°ë•Œë¬¸ì— êµ³ì´ ALBë¥¼ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ëŠ” ê²½ìš°ê°€ ë§ì•˜ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>NLBë¥¼ í†µí•´ ì„œë¹„ìŠ¤ë¥¼ ë…¸ì¶œì‹œí‚¤ê¸° ìœ„í•´ì„  annotaionì¤‘ì—ì„œë„ [&lt;code>service.beta.kubernetes.io](http://service.beta.kubernetes.io/)...&lt;/code>í˜•íƒœì˜ annotationì„ ì´ìš©í•©ë‹ˆë‹¤. ì‚¬ì‹¤ ì‹¤ì œë¡œ ì‹¤ë¬´í•´ì„œ ì‚¬ìš©í•´ë³¸ annotationì€ ê±°ì˜ [&lt;code>service.beta.kubernetes.io/aws-load-balancer-type:](http://service.beta.kubernetes.io/aws-load-balancer-type:) &amp;quot;nlb&amp;quot;&lt;/code> ë¿ì…ë‹ˆë‹¤. (ì´ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì„ ê²½ìš° ë””í´íŠ¸ê°€ CLBì´ê¸° ë•Œë¬¸ì—&amp;hellip;)&lt;/p>
&lt;h3 id="nlbê°€-ì‚¬ìš©í• -subnetì—-ì ì ˆí•œ-íƒœê·¸-ë‹¬ê¸°">NLBê°€ ì‚¬ìš©í•  subnetì— ì ì ˆí•œ íƒœê·¸ ë‹¬ê¸°&lt;/h3>
&lt;p>ALBë¥¼ ì‚¬ìš©í–ˆì„ ë•Œì™€ ë§ˆì°¬ê°€ì§€ë¡œ NLBê°€ ì‚¬ìš©í•  ì„œë¸Œë„·ì— í•„ìˆ˜ íƒœê·¸ë¥¼ ë‹¬ì•„ì¤ë‹ˆë‹¤. ê¸°ì–µì´ ì•ˆë‚œ ë‹¤ë©´ ê¸€ì˜ ìƒë‹¨ ALB íŒŒíŠ¸ë¥¼ ì°¸ê³ !&lt;/p>
&lt;h3 id="nlbë¡œ-ë…¸ì¶œí• -ì„œë¹„ìŠ¤-ìƒì„±í•˜ê¸°">NLBë¡œ ë…¸ì¶œí•  ì„œë¹„ìŠ¤ ìƒì„±í•˜ê¸°&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">apiVersion&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">v1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">kind&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Service&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">metadata&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">nginx&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">nlb&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">annotations&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">service&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">beta&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">kubernetes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">aws&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">load&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">balancer&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;nlb&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spec&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">selector&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">nginx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ports&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="nx">protocol&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">TCP&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">port&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">80&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">targetPort&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">80&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nodePort&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">30011&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">LoadBalancer&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;figure style="flex-grow: 440; flex-basis: 1057px">
&lt;a href="https://umi0410.github.io/blog/aws/aws_eks_elb/terminal.png" data-size="983x223">&lt;img src="https://umi0410.github.io/blog/aws/aws_eks_elb/terminal.png"
srcset="https://umi0410.github.io/blog/aws/aws_eks_elb/terminal_hua70a78035179ff73439578821520f3f3_51627_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/aws/aws_eks_elb/terminal_hua70a78035179ff73439578821520f3f3_51627_1024x0_resize_box_3.png 1024w"
width="983"
height="223"
loading="lazy"
alt="terminal.png">
&lt;/a>
&lt;figcaption>terminal.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure style="flex-grow: 105; flex-basis: 252px">
&lt;a href="https://umi0410.github.io/blog/aws/aws_eks_elb/zzal.png" data-size="420x400">&lt;img src="https://umi0410.github.io/blog/aws/aws_eks_elb/zzal.png"
srcset="https://umi0410.github.io/blog/aws/aws_eks_elb/zzal_hu70382f8ad38785a4d7f8dffcaf07bdc6_351117_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/aws/aws_eks_elb/zzal_hu70382f8ad38785a4d7f8dffcaf07bdc6_351117_1024x0_resize_box_3.png 1024w"
width="420"
height="400"
loading="lazy"
alt="zzal.png">
&lt;/a>
&lt;figcaption>zzal.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ê°„ë‹¨íˆ typeì„ LoadBalancerë¡œ ë°”ê¾¸ì–´ì£¼ê³ , annotationì— ì–´ë–¤ ELBë¥¼ ì‚¬ìš©í• ì§€( NLB/CLB )ë§Œ ì ì–´ì£¼ë©´ ì•„ë˜ ê·¸ë¦¼ì²˜ëŸ¼ ì†ì‰½ê²Œ NLBë¡œ ì„œë¹„ìŠ¤ë¥¼ ë…¸ì¶œ ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ì¸ì¦ì„œ-ì„¤ì •ì„-í†µí•´-httpsê¹Œì§€">ì¸ì¦ì„œ ì„¤ì •ì„ í†µí•´ HTTPSê¹Œì§€?!&lt;/h3>
&lt;blockquote>
&lt;p>ğŸŒ‹: &amp;ldquo;ê·¸ë§Œ&amp;hellip;. ì•„ë¬´ë„ ì•ˆ ê¶ê¸ˆí•´&amp;hellip;&amp;rdquo; - í•˜ì§€ë§Œ ë§ˆì§€ë§‰ê¹Œì§€ í˜ì„ ë‚´ì„œ EKSì—ì„œì˜ ELBë¥¼ ì •ë³µí•´ë´…ì‹œë‹¤!&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">apiVersion&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">v1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">kind&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Service&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">metadata&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">nginx&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">nlb&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">annotations&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">service&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">beta&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">kubernetes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">aws&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">load&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">balancer&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;nlb&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">service&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">beta&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">kubernetes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">aws&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">load&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">balancer&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">backend&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">protocol&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">tcp&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">service&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">beta&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">kubernetes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">aws&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">load&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">balancer&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">ssl&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">ports&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;443&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">service&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">beta&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">kubernetes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">aws&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">load&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">balancer&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">ssl&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">cert&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">arn&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">aws&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">acm&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">ap&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">northeast&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{{&lt;/span>&lt;span class="nx">root&lt;/span>&lt;span class="p">}}&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">certificate&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">{{&lt;/span>&lt;span class="nx">arn&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spec&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">selector&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">nginx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ports&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="nx">protocol&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">TCP&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">port&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">80&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">targetPort&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">80&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nodePort&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">30011&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="nx">protocol&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">TCP&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">port&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">443&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">targetPort&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">80&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nodePort&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">30012&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">LoadBalancer&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>backend-protocol&lt;/code>ì€ &lt;code>tcp&lt;/code>|tls í˜¹ì€ https|httpë¡œ ì„¤ì •ì´ ë ëŠ” ë“¯í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ &lt;code>backend-protocol&lt;/code> ë¡œ &lt;code>tcp&lt;/code>ë¥¼ ì„¤ì •í•œ ë’¤ &lt;code>ssl-port&lt;/code>ë¡œ 443ì„ ì„¤ì •, ì„œë¹„ìŠ¤ì˜ &lt;code>spec&lt;/code>ì—ì„œì˜ í¬íŠ¸ë¡œëŠ” &lt;code>80&lt;/code>ê³¼ &lt;code>443&lt;/code>ì„ ì„¤ì •í•˜ë©´, ìë™ì ìœ¼ë¡œ &lt;code>80&lt;/code>ì€ &lt;code>tcp&lt;/code>, &lt;code>443&lt;/code>ì€ tlsë¥¼ ì´ìš©í•˜ëŠ” NLB listenerë¡œ ì„¤ì •ë˜ê²Œ ë˜ëŠ”ë° http,httpsë„ ë§ˆì°¬ê°€ì§€ë¡œ tcp,tlsë¡œ ì ì ˆíˆ ì„¤ì •ì´ ë©ë‹ˆë‹¤. ë‹¤ë§Œ http,httpsë¥¼ ì„¤ì •í•  ê²½ìš° &lt;code>X-Forwarded-For&lt;/code> í—¤ë”ê°€ ì‚½ì…ëœë‹¤ê³  í•©ë‹ˆë‹¤. (ì •í™•í•˜ì§€ëŠ” ì•Šì•„ìš”&amp;hellip; ë”±íˆ NLBì˜ backend protocolì„ L7ìœ¼ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì´ NLBì˜ ì›ë˜ ìŠ¤í™ì´ ì•„ë‹ˆì—ˆë˜ ì ë„ ìˆê³ , L7ì„ ì´ìš©í•˜ê³  ì‹¶ìœ¼ë©´, ALBë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì´ ë” í¸í•˜ë‹¤ê³  ìƒê°ì´ ë“¤ì–´ì„œ ë”°ë¡œ ê²€ì¦í•´ë³¸ ì ì´ ì—†ê¸° ë•Œë¬¸ì—&amp;hellip; )&lt;/p>
&lt;p>âš ï¸&lt;strong>ë‹¨ì &lt;/strong>ì´ í•˜ë‚˜ ìˆë‹¤ë©´ ì•„ì§ &lt;strong>httpâ‡’https redirect&lt;/strong>ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì¸ë°, ì´ëŠ” ì• ì´ˆì— L4 LBë¥¼ ì´ìš©í•˜ëŠ” ê²ƒê³¼ L7 LBë¥¼ ì´ìš©í•˜ëŠ” ì“°ì„ì— ëŒ€í•œ ì°¨ì´ë¼ê³  ìƒê°ì„ í•˜ê¸° ë•Œë¬¸ì— ê°ìˆ˜ë¥¼ í•´ì•¼í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ L4 NLBì— L7 nginx-ingress-controllerì„ ì—°ê²°í•˜ì—¬ redirectëŠ” nginxê°€ ë‹´ë‹¹í•˜ë„ë¡í•˜ëŠ” ë°©ì‹ì„ ë§ì´ ì´ìš©í•˜ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤. NLBì—ì„œëŠ” L4 ì˜ ë­”ê°€ SSL/TLSí•œ ì‘ì—…ì„ í•˜ê¸° ìœ„í•¨ì´ê³ , L7ì˜ https ì‘ì—…ì´ ì£¼ê°€ ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë¯€ë¡œ&amp;hellip;? &lt;em>ì‚¬ì‹¤ ì´ ë¶€ë¶„ì€ ì˜ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤&amp;hellip;ğŸ’¦ğŸ’¦ ì˜ ì•„ì‹œëŠ” ë¶„ì´ ê³„ì‹œë‹¤ë©´ ì•Œë ¤ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤. ã…œã…œã…œ&lt;/em>( NLBì—ì„œ HTTP, HTTPS redirectê°€ ì•ˆë˜ëŠ” ì´ìœ  ì°¸ê³  - &lt;a class="link" href="https://aws.amazon.com/premiumsupport/knowledge-center/redirect-http-https-elb/" target="_blank" rel="noopener"
>https://aws.amazon.com/premiumsupport/knowledge-center/redirect-http-https-elb/&lt;/a> )&lt;/p>
&lt;h3 id="-nlbë¥¼-í†µí•œ-https-ì„œë²„-êµ¬ì¶•-ê²°ê³¼">â­•ï¸ NLBë¥¼ í†µí•œ HTTPS ì„œë²„ êµ¬ì¶• ê²°ê³¼&lt;/h3>
&lt;p>ì–´ì¨Œë“  ìœ„ì˜ annotationì„ í†µí•´ ì˜¬ë°”ë¥´ê²Œ svcë¥¼ ì„¤ì •í•œë‹¤ë©´&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">$&lt;/span> &lt;span class="nx">kubectl&lt;/span> &lt;span class="nx">get&lt;/span> &lt;span class="nx">svc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">nginx&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">nlb&lt;/span> &lt;span class="nx">LoadBalancer&lt;/span> &lt;span class="mf">10.100.180.174&lt;/span> &lt;span class="nx">ae27784521c4f4bcd96b22f2cca2358b&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="nx">bffb166fafa47f2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">elb&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ap&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">northeast&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">2.&lt;/span>&lt;span class="nx">amazonaws&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">com&lt;/span> &lt;span class="mi">443&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">30014&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">TCP&lt;/span> &lt;span class="mi">37&lt;/span>&lt;span class="nx">m&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Route53 ì„¤ì •ì€ ì¶”ê°€ë¡œ í•´ì£¼ì–´ì•¼í•¨. - ì˜ˆì‹œ
&lt;a class="link" href="http://nlb.umidev.net" target="_blank" rel="noopener"
>nlb.umidev.net&lt;/a> - ALIAS ae2778452xxxxxxxxxxxxxx.elb.ap-northeast-2.amazonaws.com&lt;/li>
&lt;/ul>
&lt;p>ì´ë ‡ê²Œ serviceê°€ ìƒì„±ë  ê²ƒì´ê³ , (serviceì˜ portë¡œì„œ ì‚¬ìš©í•  80,443 ë“±ì€ service.specì—ì„œ ëª…ì‹œ) ìƒì„± í›„ &lt;code>A Record Alias&lt;/code>ë¡œì„œ NLBì˜ &lt;code>DNS&lt;/code> nameì„ ë„£ì–´ì£¼ë©´ ì‚¬ì§„ê³¼ ê°™ì´ &lt;code>HTTPS&lt;/code> ì ‘ì†ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤!&lt;/p>
&lt;p>&lt;figure style="flex-grow: 274; flex-basis: 658px">
&lt;a href="https://umi0410.github.io/blog/aws/aws_eks_elb/cert3.png" data-size="1660x605">&lt;img src="https://umi0410.github.io/blog/aws/aws_eks_elb/cert3.png"
srcset="https://umi0410.github.io/blog/aws/aws_eks_elb/cert3_hu4f6093134f3fc61777b52e640067d7a7_152079_480x0_resize_box_3.png 480w, https://umi0410.github.io/blog/aws/aws_eks_elb/cert3_hu4f6093134f3fc61777b52e640067d7a7_152079_1024x0_resize_box_3.png 1024w"
width="1660"
height="605"
loading="lazy"
alt="cert3.png">
&lt;/a>
&lt;figcaption>cert3.png&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h2 id="-ë§ˆì¹˜ë©°">ğŸ³ ë§ˆì¹˜ë©°&lt;/h2>
&lt;p>ì–´ì°¨í”¼ í•œ ë²ˆì˜ ê²€ìƒ‰ì´ë©´ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆëŠ” ëª¨ë“  annotationì´ë‚˜ ê¸°íƒ€ ì„¤ì •ì— ëŒ€í•œ ë‚´ìš©ì„ ë‹¤ë£¨ê¸° ë³´ë‹¨ ë‚˜ë¦„ ì œê°€ &lt;strong>ì‹¤ì œë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ê´€ë¦¬í•˜ëŠ”&lt;/strong> &lt;strong>ë°ë¸Œì˜µìŠ¤ ì¸í„´ë¡œì„œ ì¼ì„ í•˜ë©´ì„œ í—·ê°ˆë ¸ë˜ ë‚´ìš©&lt;/strong>ê³¼ &lt;strong>EKSì—ì„œì˜ ELB ê´€ë¦¬ì— ëŒ€í•œ íë¦„&lt;/strong>ì„ ìœ„ì£¼ë¡œ ì„¤ëª…í•˜ë ¤ ë…¸ë ¥í–ˆê³ , ì €ì˜ &lt;code>ì‚½ì§ˆ&lt;/code>ì´ ê¹ƒë“  ë‚´ìš©ë“¤ì…ë‹ˆë‹¤ ã…ã…ã…&lt;/p>
&lt;p>ì•„ëŠ” ë²”ìœ„ + ì¢€ ë” ì¡°ì‚¬í•˜ì—¬ ì—´ì‹¬íˆ ì •ë¦¬í•´ë³´ì•˜ì§€ë§Œ, ë¶€ì¡±í•œ ë¶€ë¶„ì´ ìˆì„ ìˆ˜ë„ ìˆê³  í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ìˆ˜ë„ ìˆì„í…ë°, ë³´ì™„í•´ì£¼ì‹¤ ë‚´ìš©ì´ ìˆë‹¤ë©´ ë§ì”€í•´ì£¼ì‹œë©´ ì—´ì‹¬íˆ ê²€í† í•´ë³´ê² ìŠµë‹ˆë‹¤~! ê°ì‚¬í•©ë‹ˆë‹¤.&lt;/p>
&lt;h2 id="ê¸€ì“´ì´">ğŸ§™â€â™‚ï¸ê¸€ì“´ì´&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>ë°•ì§„ìˆ˜&lt;/strong> - ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§&lt;code>AUSG&lt;/code> (AWS University Student Group) 3ê¸°ë¡œ í™œë™ ì¤‘&lt;/li>
&lt;li>&lt;strong>ê´€ì‹¬ì‚¬&lt;/strong>
&lt;ul>
&lt;li>&lt;code>Docker&lt;/code>, &lt;code>Kubernetes&lt;/code> ë“±ì˜ &lt;strong>ì»¨í…Œì´ë„ˆ ê¸°ìˆ &lt;/strong>&lt;/li>
&lt;li>&lt;code>Argo&lt;/code>, &lt;code>Spinnaker&lt;/code>, &lt;code>Github action&lt;/code> ë“±ì˜ &lt;strong>CI/CD íˆ´&lt;/strong>&lt;/li>
&lt;li>&lt;code>Terraform&lt;/code>, &lt;code>AWS&lt;/code>ë¥¼ í†µí•œ &lt;strong>í´ë¼ìš°ë“œ ì¸í”„ë¼ êµ¬ì¶•&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Blog&lt;/strong> - &lt;a class="link" href="https://senticoding.tistory.com" target="_blank" rel="noopener"
>https://senticoding.tistory.com&lt;/a>&lt;/li>
&lt;li>&lt;strong>Email&lt;/strong> - &lt;a class="link" href="mailto:bo314@naver.com" >bo314@naver.com&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="-ì°¸ê³ -references">ğŸ“š ì°¸ê³  (References)&lt;/h2>
&lt;ul>
&lt;li>EKSì˜ Required subnet tags
&lt;ul>
&lt;li>&lt;a class="link" href="https://docs.aws.amazon.com/ko_kr/eks/latest/userguide/load-balancing.html" target="_blank" rel="noopener"
>https://docs.aws.amazon.com/ko_kr/eks/latest/userguide/load-balancing.html&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://docs.aws.amazon.com/ko_kr/eks/latest/userguide/alb-ingress.html" target="_blank" rel="noopener"
>https://docs.aws.amazon.com/ko_kr/eks/latest/userguide/alb-ingress.html&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Kubernetes Cloud provider aws - &lt;a class="link" href="https://kubernetes.io/docs/concepts/cluster-administration/cloud-providers/#aws" target="_blank" rel="noopener"
>https://kubernetes.io/docs/concepts/cluster-administration/cloud-providers/#aws&lt;/a>&lt;/li>
&lt;li>ALB ingress controller install - &lt;a class="link" href="https://kubernetes-sigs.github.io/aws-alb-ingress-controller/guide/controller/setup/" target="_blank" rel="noopener"
>https://kubernetes-sigs.github.io/aws-alb-ingress-controller/guide/controller/setup/&lt;/a>&lt;/li>
&lt;li>ALB ingress Annotation &lt;a class="link" href="https://kubernetes-sigs.github.io/aws-alb-ingress-controller/guide/ingress/annotation/" target="_blank" rel="noopener"
>https://kubernetes-sigs.github.io/aws-alb-ingress-controller/guide/ingress/annotation/&lt;/a>&lt;/li>
&lt;li>NLBì˜ HTTPS redirectê°€ ë¶ˆê°€ëŠ¥í•œ ì´ìœ  -&lt;a class="link" href="https://aws.amazon.com/premiumsupport/knowledge-center/redirect-http-https-elb/" target="_blank" rel="noopener"
>https://aws.amazon.com/premiumsupport/knowledge-center/redirect-http-https-elb/&lt;/a>&lt;/li>
&lt;li>NLB service Annotations - &lt;a class="link" href="https://kubernetes.io/ko/docs/concepts/services-networking/service/#aws-nlb-support" target="_blank" rel="noopener"
>https://kubernetes.io/ko/docs/concepts/services-networking/service/#aws-nlb-support&lt;/a>&lt;/li>
&lt;li>Ingressì˜ classì— ëŒ€í•´ - &lt;a class="link" href="https://kubernetes.io/ko/docs/concepts/services-networking/ingress/#%EC%9D%B8%EA%B7%B8%EB%A0%88%EC%8A%A4-%ED%81%B4%EB%9E%98%EC%8A%A4" target="_blank" rel="noopener"
>https://kubernetes.io/ko/docs/concepts/services-networking/ingress/#ì¸ê·¸ë ˆìŠ¤-í´ë˜ìŠ¤&lt;/a>&lt;/li>
&lt;/ul></description></item></channel></rss>